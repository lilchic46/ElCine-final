/*! For license information please see main.1bdc4bda3e9c2a5efb39.js.LICENSE.txt */
!function(e){function t(t){for(var i,r,c=t[0],s=t[1],l=t[2],d=0,p=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(i=!1)}i&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},a={0:0},o=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/main/";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;o.push([450,1]),n()}({10:function(e,t,n){e.exports=n.p+"assets/img/thumpgray-16x9.png"},112:function(e,t,n){e.exports=n.p+"assets/img/download-app.svg"},113:function(e,t,n){e.exports=n.p+"assets/img/icon-kid.svg"},114:function(e,t,n){e.exports=n.p+"assets/img/add-2.png"},115:function(e,t,n){(function(e,i){var a;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(function(){"use strict";var r={function:!0,object:!0},c=r["undefined"==typeof window?"undefined":o(window)]&&window||this,s=c,l=r[o(t)]&&t,u=r[o(e)]&&e&&!e.nodeType&&e,d=l&&u&&"object"==(void 0===i?"undefined":o(i))&&i;!d||d.global!==d&&d.window!==d&&d.self!==d||(c=d);var p=Math.pow(2,53)-1,h=/\bOpera/,f=this,m=Object.prototype,b=m.hasOwnProperty,g=m.toString;function y(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function v(e){return e=_(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:y(e)}function O(e,t){for(var n in e)b.call(e,n)&&t(e[n],n,e)}function w(e){return null==e?y(e):g.call(e).slice(8,-1)}function j(e,t){var n=null!=e?o(e[t]):"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!e[t])}function x(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function k(e,t){var n=null;return function(e,t){var n=-1,i=e?e.length:0;if("number"==typeof i&&i>-1&&i<=p)for(;++n<i;)t(e[n],n,e);else O(e,t)}(e,(function(i,a){n=t(n,i,a,e)})),n}function _(e){return String(e).replace(/^ +| +$/g,"")}function S(e){var t=c,n=e&&"object"==o(e)&&"String"!=w(e);n&&(t=e,e=null);var i=t.navigator||{},a=i.userAgent||"";e||(e=a);var r,l,u=n||f==s,d=n?!!i.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(g.toString()),p=n?"Object":"ScriptBridgingProxyObject",m=n?"Object":"Environment",b=n&&t.java?"JavaPackage":w(t.java),y=n?"Object":"RuntimeObject",I=/\bJava/.test(b)&&t.java,N=I&&w(t.environment)==m,T=I?"a":"α",C=I?"b":"β",P=t.document||{},A=t.operamini||t.opera,M=h.test(M=n&&A?A["[[Class]]"]:w(A))?M:A=null,E=e,D=[],L=null,R=e==a,z=R&&A&&"function"==typeof A.version&&A.version(),U=k([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(t,n){return t||RegExp("\\b"+(n.pattern||x(n))+"\\b","i").exec(e)&&(n.label||n)})),V=function(t){return k(t,(function(t,n){return t||RegExp("\\b"+(n.pattern||x(n))+"\\b","i").exec(e)&&(n.label||n)}))}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox Mobile",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),B=q([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation 3","PlayStation 4","PlayStation Vita","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),H=function(t){return k(t,(function(t,n,i){return t||(n[B]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(B)]||RegExp("\\b"+x(i)+"(?:\\b|\\w*\\d)","i").exec(e))&&i}))}({Apple:{iPad:1,iPhone:1,iPod:1},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{"PlayStation 4":1,"PlayStation 3":1,"PlayStation Vita":1}}),F=function(t){return k(t,(function(t,n){var i=n.pattern||x(n);return!t&&(t=RegExp("\\b"+i+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=function(e,t,n){var i={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"7 / Server 2008 R2","6.0":"Vista / Server 2008",5.2:"XP 64-bit / Server 2003",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(i=i[/[\d.]+$/.exec(e)])&&(e="Windows "+i),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=v(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(t,i,n.label||n)),t}))}(["Windows Phone ","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function q(t){return k(t,(function(t,n){var i=n.pattern||x(n);return!t&&(t=RegExp("\\b"+i+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+i+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(n.label&&!RegExp(i,"i").test(n.label)?n.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),n=n.label||n,t=v(t[0].replace(RegExp(i,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),t}))}if(U&&(U=[U]),H&&!B&&(B=q([H])),(r=/\bGoogle TV\b/.exec(B))&&(B=r[0]),/\bSimulator\b/i.test(e)&&(B=(B?B+" ":"")+"Simulator"),"Opera Mini"==V&&/\bOPiOS\b/.test(e)&&D.push("running in Turbo/Uncompressed mode"),/^iP/.test(B)?(V||(V="Safari"),F="iOS"+((r=/ OS ([\d_]+)/i.exec(e))?" "+r[1].replace(/_/g,"."):"")):"Konqueror"!=V||/buntu/i.test(F)?H&&"Google"!=H&&(/Chrome/.test(V)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(B))?(V="Android Browser",F=/\bAndroid\b/.test(F)?F:"Android"):"Silk"==V?(/\bMobi/i.test(e)||(F="Android",D.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&D.unshift("accelerated")):"PaleMoon"==V&&(r=/\bFirefox\/([\d.]+)\b/.exec(e))?D.push("identifying as Firefox "+r[1]):"Firefox"==V&&(r=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(F||(F="Firefox OS"),B||(B=r[1])):V&&!(r=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(V))||(V&&!B&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(r+"/")+8))&&(V=null),(r=B||H||F)&&(B||H||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(F))&&(V=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(F)?F:r)+" Browser")):F="Kubuntu",z||(z=k(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|Silk(?!/[\\d.]+$))","Version",x(V),"(?:Firefox|Minefield|NetFront)"],(function(t,n){return t||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null}))),(r=("iCab"==U&&parseFloat(z)>3?"WebKit":/\bOpera\b/.test(V)&&(/\bOPR\b/.test(e)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(U)&&"WebKit"||!U&&/\bMSIE\b/i.test(e)&&("Mac OS"==F?"Tasman":"Trident")||"WebKit"==U&&/\bPlayStation\b(?! Vita\b)/i.test(V)&&"NetFront")&&(U=[r]),"IE"==V&&(r=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(V+=" Mobile",F="Windows Phone "+(/\+$/.test(r)?r:r+".x"),D.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(V="IE Mobile",F="Windows Phone 8.x",D.unshift("desktop mode"),z||(z=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=V&&"Trident"==U&&(r=/\brv:([\d.]+)/.exec(e))&&(V&&D.push("identifying as "+V+(z?" "+z:"")),V="IE",z=r[1]),R){if(j(t,"global"))if(I&&(E=(r=I.lang.System).getProperty("os.arch"),F=F||r.getProperty("os.name")+" "+r.getProperty("os.version")),u&&j(t,"system")&&(r=[t.system])[0]){F||(F=r[0].os||null);try{r[1]=t.require("ringo/engine").version,z=r[1].join("."),V="RingoJS"}catch(e){r[0].global.system==t.system&&(V="Narwhal")}}else"object"==o(t.process)&&(r=t.process)?(V="Node.js",E=r.arch,F=r.platform,z=/[\d.]+/.exec(r.version)[0]):N&&(V="Rhino");else w(r=t.runtime)==p?(V="Adobe AIR",F=r.flash.system.Capabilities.os):w(r=t.phantom)==y?(V="PhantomJS",z=(r=r.version||null)&&r.major+"."+r.minor+"."+r.patch):"number"==typeof P.documentMode&&(r=/\bTrident\/(\d+)/i.exec(e))&&(z=[z,P.documentMode],(r=+r[1]+4)!=z[1]&&(D.push("IE "+z[1]+" mode"),U&&(U[1]=""),z[1]=r),z="IE"==V?String(z[1].toFixed(1)):z[0]);F=F&&v(F)}z&&(r=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(z)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(R&&i.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(L=/b/i.test(r)?"beta":"alpha",z=z.replace(RegExp(r+"\\+?$"),"")+("beta"==L?C:T)+(/\d+\+?/.exec(r)||"")),"Fennec"==V||"Firefox"==V&&/\b(?:Android|Firefox OS)\b/.test(F)?V="Firefox Mobile":"Maxthon"==V&&z?z=z.replace(/\.[\d.]+/,".x"):/\bXbox\b/i.test(B)?(F=null,"Xbox 360"==B&&/\bIEMobile\b/.test(e)&&D.unshift("mobile mode")):!/^(?:Chrome|IE|Opera)$/.test(V)&&(!V||B||/Browser|Mobi/.test(V))||"Windows CE"!=F&&!/Mobi/i.test(e)?"IE"==V&&R&&null===t.external?D.unshift("platform preview"):(/\bBlackBerry\b/.test(B)||/\bBB10\b/.test(e))&&(r=(RegExp(B.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||z)?(F=((r=[r,/BB10/.test(e)])[1]?(B=null,H="BlackBerry"):"Device Software")+" "+r[0],z=null):this!=O&&"Wii"!=B&&(R&&A||/Opera/.test(V)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==V&&/\bOS X (?:\d+\.){2,}/.test(F)||"IE"==V&&(F&&!/^Win/.test(F)&&z>5.5||/\bWindows XP\b/.test(F)&&z>8||8==z&&!/\bTrident\b/.test(e)))&&!h.test(r=S.call(O,e.replace(h,"")+";"))&&r.name&&(r="ing as "+r.name+((r=r.version)?" "+r:""),h.test(V)?(/\bIE\b/.test(r)&&"Mac OS"==F&&(F=null),r="identify"+r):(r="mask"+r,V=M?v(M.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(r)&&(F=null),R||(z=null)),U=["Presto"],D.push(r)):V+=" Mobile",(r=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(r=[parseFloat(r.replace(/\.(\d)$/,".0$1")),r],"Safari"==V&&"+"==r[1].slice(-1)?(V="WebKit Nightly",L="alpha",z=r[1].slice(0,-1)):z!=r[1]&&z!=(r[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(z=null),r[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==r[0]&&537.36==r[2]&&parseFloat(r[1])>=28&&"WebKit"==U&&(U=["Blink"]),R&&(d||r[1])?(U&&(U[1]="like Chrome"),r=r[1]||((r=r[0])<530?1:r<532?2:r<532.05?3:r<533?4:r<534.03?5:r<534.07?6:r<534.1?7:r<534.13?8:r<534.16?9:r<534.24?10:r<534.3?11:r<535.01?12:r<535.02?"13+":r<535.07?15:r<535.11?16:r<535.19?17:r<536.05?18:r<536.1?19:r<537.01?20:r<537.11?"21+":r<537.13?23:r<537.18?24:r<537.24?25:r<537.36?26:"Blink"!=U?"27":"28")):(U&&(U[1]="like Safari"),r=(r=r[0])<400?1:r<500?2:r<526?3:r<533?4:r<534?"4+":r<535?5:r<537?6:r<538?7:r<601?8:"8"),U&&(U[1]+=" "+(r+="number"==typeof r?".x":/[.+]/.test(r)?"":"+")),"Safari"==V&&(!z||parseInt(z)>45)&&(z=r)),"Opera"==V&&(r=/\bzbov|zvav$/.exec(F))?(V+=" ",D.unshift("desktop mode"),"zvav"==r?(V+="Mini",z=null):V+="Mobile",F=F.replace(RegExp(" *"+r+"$"),"")):"Safari"==V&&/\bChrome\b/.exec(U&&U[1])&&(D.unshift("desktop mode"),V="Chrome Mobile",z=null,/\bOS X\b/.test(F)?(H="Apple",F="iOS 4.3+"):F=null),z&&0==z.indexOf(r=/[\d.]+$/.exec(F))&&e.indexOf("/"+r+"-")>-1&&(F=_(F.replace(r,""))),U&&!/\b(?:Avant|Nook)\b/.test(V)&&(/Browser|Lunascape|Maxthon/.test(V)||"Safari"!=V&&/^iOS/.test(F)&&/\bSafari\b/.test(U[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(V)&&U[1])&&(r=U[U.length-1])&&D.push(r),D.length&&(D=["("+D.join("; ")+")"]),H&&B&&B.indexOf(H)<0&&D.push("on "+H),B&&D.push((/^on /.test(D[D.length-1])?"":"on ")+B),F&&(F={architecture:32,family:(r=/ ([\d.+]+)$/.exec(F)||(l=/^[a-z]+ ([\d.+]+) \//i.exec(F)))&&!l?F.replace(r[0],""):F,version:r?r[1]:null,toString:function(){var e=this.version;return this.family+(e&&!l?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(r=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(E))&&!/\bi686\b/i.test(E)&&(F&&(F.architecture=64,F.family=F.family.replace(RegExp(" *"+r),"")),V&&(/\bWOW64\b/i.test(e)||R&&/\w(?:86|32)$/.test(i.cpuClass||i.platform)&&!/\bWin64; x64\b/i.test(e))&&D.unshift("32-bit")),e||(e=null);var W={};return W.description=e,W.layout=U&&U[0],W.manufacturer=H,W.name=V,W.prerelease=L,W.product=B,W.ua=e,W.version=V&&z,W.os=F||{architecture:null,family:null,version:null,toString:function(){return"null"}},W.parse=S,W.toString=function(){return this.description||""},W.version&&D.unshift(z),W.name&&D.unshift(V),F&&V&&(F!=String(F).split(" ")[0]||F!=V.split(" ")[0]&&!B)&&D.push(B?"("+F+")":"on "+F),D.length&&(W.description=D.join(" ")),W}"object"==o(n(340))&&n(340)?void 0===(a=function(){return S()}.call(t,n,t,e))||(e.exports=a):l&&u?O(S(),(function(e,t){l[t]=e})):c.platform=S()}).call(this)}).call(this,n(120)(e),n(29))},133:function(e,t,n){e.exports=n.p+"assets/img/credit-card.png"},134:function(e,t,n){e.exports=n.p+"assets/img/icon-edit.svg"},135:function(e,t,n){e.exports=n.p+"assets/img/offer.svg"},136:function(e,t,n){e.exports=n.p+"assets/img/add.svg"},137:function(e,t,n){e.exports=n.p+"assets/img/right-arrow.svg"},170:function(e,t,n){e.exports=n.p+"assets/img/close.svg"},173:function(e,t,n){e.exports=n.p+"assets/img/vnpay-logo.png"},174:function(e,t,n){e.exports=n.p+"assets/img/moca.svg"},176:function(e,t,n){e.exports=n.p+"assets/img/iconsuccess.svg"},177:function(e,t,n){e.exports=n.p+"assets/img/iconfail.svg"},178:function(e,t,n){e.exports=n.p+"assets/img/icon-lock-1.svg"},179:function(e,t,n){e.exports=n.p+"assets/img/backgroundLobby.jpg"},258:function(e,t,n){e.exports=n.p+"assets/img/pencil-edit-button.svg"},260:function(e,t,n){e.exports=n.p+"assets/img/x.svg"},30:function(e,t,n){(function(e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var i="undefined"!=typeof window?window:e,a={};for(var o in function(e,t,i){var a;function o(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var c=function(i){i=["object"==("undefined"==typeof globalThis?"undefined":n(globalThis))&&globalThis,i,"object"==n(e)&&e,"object"==("undefined"==typeof self?"undefined":n(self))&&self,"object"==n(t)&&t];for(var a=0;a<i.length;++a){var o=i[a];if(o&&o.Math==Math)return o}throw Error("Cannot find global object")}(this);function s(e,t){if(t){for(var n=c,i=e.split("."),a=0;a<i.length-1;a++){var o=i[a];o in n||(n[o]={}),n=n[o]}(o=t(a=n[i=i[i.length-1]]))!=a&&null!=o&&r(n,i,{configurable:!0,writable:!0,value:o})}}function l(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function u(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:o(e)}}function d(e){if(!(e instanceof Array)){e=u(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}s("Symbol",(function(e){function t(e,t){this.a=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.a};var n=0;return function e(i){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t("jscomp_symbol_"+(i||"")+"_"+n++,i)}})),s("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var i=c[t[n]];"function"==typeof i&&"function"!=typeof i.prototype[e]&&r(i.prototype,e,{configurable:!0,writable:!0,value:function(){return l(o(this))}})}return e}));var p,h="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)p=Object.setPrototypeOf;else{var f;e:{var m={};try{m.__proto__={ee:!0},f=m.ee;break e}catch(e){}f=!1}p=f?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var b=p;function g(e,t){if(e.prototype=h(t.prototype),e.prototype.constructor=e,b)b(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}else e[n]=t[n]}function y(){this.j=!1,this.g=null,this.b=void 0,this.a=1,this.f=this.h=0,this.v=this.c=null}function v(e){if(e.j)throw new TypeError("Generator is already running");e.j=!0}function O(e,t){e.c={Ed:t,Jd:!0},e.a=e.h||e.f}function w(e,t,n){return e.a=n,{value:t}}function j(e){e.a=0}function x(e,t,n){e.h=t,null!=n&&(e.f=n)}function k(e){e.h=0,e.f=2}function _(e,t){e.a=t,e.h=0}function S(e){e.h=0;var t=e.c.Ed;return e.c=null,t}function I(e){e.v=[e.c],e.h=0,e.f=0}function N(e,t){var n=e.v.splice(0)[0];(n=e.c=e.c||n)?n.Jd?e.a=e.h||e.f:null!=n.u&&e.f<n.u?(e.a=n.u,e.c=null):e.a=e.f:e.a=t}function T(e){this.a=new y,this.b=e}function C(e,t,n,i){try{var a=t.call(e.a.g,n);if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");if(!a.done)return e.a.j=!1,a;var o=a.value}catch(t){return e.a.g=null,O(e.a,t),P(e)}return e.a.g=null,i.call(e.a,o),P(e)}function P(e){for(;e.a.a;)try{var t=e.b(e.a);if(t)return e.a.j=!1,{value:t.value,done:!1}}catch(t){e.a.b=void 0,O(e.a,t)}if(e.a.j=!1,e.a.c){if(t=e.a.c,e.a.c=null,t.Jd)throw t.Ed;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function A(e){this.next=function(t){return v(e.a),e.a.g?t=C(e,e.a.g.next,t,e.a.m):(e.a.m(t),t=P(e)),t},this.throw=function(t){return v(e.a),e.a.g?t=C(e,e.a.g.throw,t,e.a.m):(O(e.a,t),t=P(e)),t},this.return=function(t){return function(e,t){v(e.a);var n=e.a.g;return n?C(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.a.return):(e.a.return(t),P(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function M(e,t){var n=new A(new T(t));return b&&b(n,e.prototype),n}function E(e){return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise((function(i,a){!function e(o){o.done?i(o.value):Promise.resolve(o.value).then(t,n).then(e,a)}(e.next())}))}(new A(new T(e)))}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function L(e,t,n){e instanceof String&&(e=String(e));for(var i=e.length,a=0;a<i;a++){var o=e[a];if(t.call(n,o,a,e))return{$:a,be:o}}return{$:-1,be:void 0}}function R(e,t,n){if(null==e)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}y.prototype.m=function(e){this.b=e},y.prototype.return=function(e){this.c={return:e},this.a=this.f},y.prototype.u=function(e){this.a=e},s("Promise",(function(e){function t(e){this.b=0,this.g=void 0,this.a=[];var t=this.c();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function i(){this.a=null}function a(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;i.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var o=c.setTimeout;i.prototype.c=function(e){o(e,0)},i.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.f(e)}}}this.a=null},i.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.c=function(){function e(e){return function(i){n||(n=!0,e.call(t,i))}}var t=this,n=!1;return{resolve:e(this.w),reject:e(this.f)}},t.prototype.w=function(e){if(e===this)this.f(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.C(e);else{e:switch(n(e)){case"object":var i=null!=e;break e;case"function":i=!0;break e;default:i=!1}i?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(e){return void this.f(e)}"function"==typeof t?this.G(t,e):this.h(e)},t.prototype.f=function(e){this.j(2,e)},t.prototype.h=function(e){this.j(1,e)},t.prototype.j=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.g=t,this.m()},t.prototype.m=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)r.b(this.a[e]);this.a=null}};var r=new i;return t.prototype.C=function(e){var t=this.c();e.cc(t.resolve,t.reject)},t.prototype.G=function(e,t){var n=this.c();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function i(e,t){return"function"==typeof e?function(t){try{a(e(t))}catch(e){o(e)}}:t}var a,o,r=new t((function(e,t){a=e,o=t}));return this.cc(i(e,a),i(n,o)),r},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.cc=function(e,t){function n(){switch(i.b){case 1:e(i.g);break;case 2:t(i.g);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?r.b(n):this.a.push(n)},t.resolve=a,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=u(e),o=i.next();!o.done;o=i.next())a(o.value).cc(t,n)}))},t.all=function(e){var n=u(e),i=n.next();return i.done?a([]):new t((function(e,t){function o(t){return function(n){r[t]=n,0==--c&&e(r)}}var r=[],c=0;do{r.push(void 0),c++,a(i.value).cc(o(r.length-1),t),i=n.next()}while(!i.done)}))},t})),s("WeakMap",(function(e){function t(e){if(this.a=(l+=Math.random()+1).toString(),e){e=u(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}function i(){}function a(e){var t=n(e);return"object"===t&&null!==e||"function"===t}function o(e){if(!D(e,s)){var t=new i;r(e,s,{value:t})}}function c(e){var t=Object[e];t&&(Object[e]=function(e){return e instanceof i?e:(o(e),t(e))})}if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),i=new e([[t,2],[n,3]]);return 2==i.get(t)&&3==i.get(n)&&(i.delete(t),i.set(n,4),!i.has(t)&&4==i.get(n))}catch(e){return!1}}())return e;var s="$jscomp_hidden_"+Math.random();c("freeze"),c("preventExtensions"),c("seal");var l=0;return t.prototype.set=function(e,t){if(!a(e))throw Error("Invalid WeakMap key");if(o(e),!D(e,s))throw Error("WeakMap key fail: "+e);return e[s][this.a]=t,this},t.prototype.get=function(e){return a(e)&&D(e,s)?e[s][this.a]:void 0},t.prototype.has=function(e){return a(e)&&D(e,s)&&D(e[s],this.a)},t.prototype.delete=function(e){return!!(a(e)&&D(e,s)&&D(e[s],this.a))&&delete e[s][this.a]},t})),s("Map",(function(e){function t(){var e={};return e.Ia=e.next=e.head=e}function i(e,t){var n=e.a;return l((function(){if(n){for(;n.head!=e.a;)n=n.Ia;for(;n.next!=n.head;)return n=n.next,{done:!1,value:t(n)};n=null}return{done:!0,value:void 0}}))}function a(e,t){var i=t&&n(t);"object"==i||"function"==i?r.has(t)?i=r.get(t):(i=""+ ++c,r.set(t,i)):i="p_"+t;var a=e.b[i];if(a&&D(e.b,i))for(var o=0;o<a.length;o++){var s=a[o];if(t!=t&&s.key!=s.key||t===s.key)return{id:i,list:a,index:o,Z:s}}return{id:i,list:a,index:-1,Z:void 0}}function o(e){if(this.b={},this.a=t(),this.size=0,e){e=u(e);for(var n;!(n=e.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(u([[t,"s"]]));if("s"!=n.get(t)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var i=n.entries(),a=i.next();return!a.done&&a.value[0]==t&&"s"==a.value[1]&&!((a=i.next()).done||4!=a.value[0].x||"t"!=a.value[1]||!i.next().done)}catch(e){return!1}}())return e;var r=new WeakMap;o.prototype.set=function(e,t){var n=a(this,e=0===e?0:e);return n.list||(n.list=this.b[n.id]=[]),n.Z?n.Z.value=t:(n.Z={next:this.a,Ia:this.a.Ia,head:this.a,key:e,value:t},n.list.push(n.Z),this.a.Ia.next=n.Z,this.a.Ia=n.Z,this.size++),this},o.prototype.delete=function(e){return!(!(e=a(this,e)).Z||!e.list)&&(e.list.splice(e.index,1),e.list.length||delete this.b[e.id],e.Z.Ia.next=e.Z.next,e.Z.next.Ia=e.Z.Ia,e.Z.head=null,this.size--,!0)},o.prototype.clear=function(){this.b={},this.a=this.a.Ia=t(),this.size=0},o.prototype.has=function(e){return!!a(this,e).Z},o.prototype.get=function(e){return(e=a(this,e).Z)&&e.value},o.prototype.entries=function(){return i(this,(function(e){return[e.key,e.value]}))},o.prototype.keys=function(){return i(this,(function(e){return e.key}))},o.prototype.values=function(){return i(this,(function(e){return e.value}))},o.prototype.forEach=function(e,t){for(var n,i=this.entries();!(n=i.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},o.prototype[Symbol.iterator]=o.prototype.entries;var c=0;return o})),s("Set",(function(e){function t(e){if(this.a=new Map,e){e=u(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.a.size}return function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(u([t]));if(!n.has(t)||1!=n.size||n.add(t)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var i=n.entries(),a=i.next();return!a.done&&a.value[0]==t&&a.value[1]==t&&(!(a=i.next()).done&&a.value[0]!=t&&4==a.value[0].x&&a.value[1]==a.value[0]&&i.next().done)}catch(e){return!1}}()?e:(t.prototype.add=function(e){return e=0===e?0:e,this.a.set(e,e),this.size=this.a.size,this},t.prototype.delete=function(e){return e=this.a.delete(e),this.size=this.a.size,e},t.prototype.clear=function(){this.a.clear(),this.size=0},t.prototype.has=function(e){return this.a.has(e)},t.prototype.entries=function(){return this.a.entries()},t.prototype.values=function(){return this.a.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(e,t){var n=this;this.a.forEach((function(i){return e.call(t,i,i,n)}))},t)})),s("Array.prototype.findIndex",(function(e){return e||function(e,t){return L(this,e,t).$}})),s("Promise.prototype.finally",(function(e){return e||function(e){return this.then((function(t){return Promise.resolve(e()).then((function(){return t}))}),(function(t){return Promise.resolve(e()).then((function(){throw t}))}))}})),s("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}})),s("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var i=n.length,a=t||0;for(0>a&&(a=Math.max(a+i,0));a<i;a++){var o=n[a];if(o===e||Object.is(o,e))return!0}return!1}})),s("String.prototype.includes",(function(e){return e||function(e,t){return-1!==R(this,e,"includes").indexOf(e,t||0)}})),s("Array.from",(function(e){return e||function(e,t,n){t=null!=t?t:function(e){return e};var i=[],a="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if("function"==typeof a){e=a.call(e);for(var o=0;!(a=e.next()).done;)i.push(t.call(n,a.value,o++))}else for(a=e.length,o=0;o<a;o++)i.push(t.call(n,e[o],o));return i}})),s("Array.prototype.find",(function(e){return e||function(e,t){return L(this,e,t).be}})),s("String.prototype.repeat",(function(e){return e||function(e){var t=R(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var n="";e;)1&e&&(n+=t),(e>>>=1)&&(t+=t);return n}})),s("Math.log2",(function(e){return e||function(e){return Math.log(e)/Math.LN2}}));var z="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var a in i)D(i,a)&&(e[a]=i[a])}return e};s("Object.assign",(function(e){return e||z})),s("Object.values",(function(e){return e||function(e){var t,n=[];for(t in e)D(e,t)&&n.push(e[t]);return n}})),s("String.prototype.startsWith",(function(e){return e||function(e,t){for(var n=R(this,e,"startsWith"),i=n.length,a=e.length,o=Math.max(0,Math.min(0|t,n.length)),r=0;r<a&&o<i;)if(n[o++]!=e[r++])return!1;return r>=a}}));var U=this||self;function V(e,t){var n,i=e.split("."),a=U;i[0]in a||void 0===a.execScript||a.execScript("var "+i[0]);for(;i.length&&(n=i.shift());)i.length||void 0===t?a=a[n]&&a[n]!==Object.prototype[n]?a[n]:a[n]={}:a[n]=t}function B(e){this.c=Math.exp(Math.log(.5)/e),this.b=this.a=0}function H(e,t,n){var i=Math.pow(e.c,t);n=n*(1-i)+i*e.a,isNaN(n)||(e.a=n,e.b+=t)}function F(e){return e.a/(1-Math.pow(e.c,e.b))}function q(){this.b=new B(2),this.c=new B(5),this.a=0}function W(){}function K(){}function G(){}function $(e,t){for(var n=[],i=1;i<arguments.length;++i)n[i-1]=arguments[i];Y.has(e)||(Y.add(e),G.apply(W,d(n)))}function X(){}q.prototype.getBandwidthEstimate=function(e){return 128e3>this.a?e:Math.min(F(this.b),F(this.c))};var Y=new Set;if(e.console&&e.console.log.bind){var Z={},Q=(Z[1]=function(){},Z[2]=function(){},Z[3]=function(){},Z[4]=function(){},Z[5]=function(){},Z[6]=function(){},Z);G=Q[2],K=Q[1]}function J(e,t){for(var n=[],i=u(e),a=i.next();!a.done;a=i.next())n.push(t(a.value));return n}var ee=function e(t){var n;return M(e,(function(e){return 1==e.a&&(n=0),3!=e.a?n<t?w(e,n,3):e.u(0):(n++,e.u(2))}))},te=function e(t){var n,i,a,o,r,c;return M(e,(function(e){return 1==e.a&&(n=-1,a=i=void 0,o=u(t),r=o.next()),5!=e.a?r.done?-1==n?e.u(0):w(e,{$:n,Te:i,item:a,next:void 0},0):(c=r.value,0<=n?w(e,{$:n,item:a,Te:i,next:c},5):e.u(5)):(n++,i=a,a=c,r=o.next(),e.u(2))}))},ne=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function ie(e){var t;e instanceof ie?(ae(this,e.wa),this.cb=e.cb,this.va=e.va,oe(this,e.tb),this.ka=e.ka,re(this,e.a.clone()),this.Va=e.Va):e&&(t=String(e).match(ne))?(ae(this,t[1]||"",!0),this.cb=ce(t[2]||""),this.va=ce(t[3]||"",!0),oe(this,t[4]),this.ka=ce(t[5]||"",!0),re(this,t[6]||"",!0),this.Va=ce(t[7]||"")):this.a=new me(null)}function ae(e,t,n){e.wa=n?ce(t,!0):t,e.wa&&(e.wa=e.wa.replace(/:$/,""))}function oe(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.tb=t}else e.tb=null}function re(e,t,n){t instanceof me?e.a=t:(n||(t=se(t,he)),e.a=new me(t))}function ce(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function se(e,t,n){return null!=e?(e=encodeURI(e).replace(t,le),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function le(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}(a=ie.prototype).wa="",a.cb="",a.va="",a.tb=null,a.ka="",a.Va="",a.toString=function(){var e=[],t=this.wa;if(t&&e.push(se(t,ue,!0),":"),t=this.va){e.push("//");var n=this.cb;n&&e.push(se(n,ue,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.tb)&&e.push(":",String(t))}return(t=this.ka)&&(this.va&&"/"!=t.charAt(0)&&e.push("/"),e.push(se(t,"/"==t.charAt(0)?pe:de,!0))),(t=this.a.toString())&&e.push("?",t),(t=this.Va)&&e.push("#",se(t,fe)),e.join("")},a.resolve=function(e){var t=this.clone();"data"===t.wa&&(t=new ie);var n=!!e.wa;n?ae(t,e.wa):n=!!e.cb,n?t.cb=e.cb:n=!!e.va,n?t.va=e.va:n=null!=e.tb;var i=e.ka;if(n)oe(t,e.tb);else if(n=!!e.ka){if("/"!=i.charAt(0))if(this.va&&!this.ka)i="/"+i;else{var a=t.ka.lastIndexOf("/");-1!=a&&(i=t.ka.substr(0,a+1)+i)}if(".."==i||"."==i)i="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){a=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],r=0;r<i.length;){var c=i[r++];"."==c?a&&r==i.length&&o.push(""):".."==c?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),a&&r==i.length&&o.push("")):(o.push(c),a=!0)}i=o.join("/")}}return n?t.ka=i:n=""!==e.a.toString(),n?re(t,e.a.clone()):n=!!e.Va,n&&(t.Va=e.Va),t},a.clone=function(){return new ie(this)};var ue=/[#\/\?@]/g,de=/[#\?:]/g,pe=/[#\?]/g,he=/[#\?@]/g,fe=/#/g;function me(e){this.a=e||null}function be(e,t,n,i){for(var a=[],o=3;o<arguments.length;++o)a[o-3]=arguments[o];this.severity=e,this.category=t,this.code=n,this.data=a,this.handled=!1}function ge(e){this.b=e,this.a=null}function ye(e){this.b=e,this.a=null}function ve(e,t){var n={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0};this.j=null==e.maxAttempts?n.maxAttempts:e.maxAttempts,this.f=null==e.baseDelay?n.baseDelay:e.baseDelay,this.h=null==e.fuzzFactor?n.fuzzFactor:e.fuzzFactor,this.g=null==e.backoffFactor?n.backoffFactor:e.backoffFactor,this.a=0,this.b=this.f,(this.c=void 0!==t&&t)&&(this.a=1)}function Oe(e){var t,n;return E((function(i){if(1==i.a){if(e.a>=e.j){if(!e.c)throw new be(2,7,1010);e.a=1,e.b=e.f}return t=e.a,e.a++,0==t?i.return():(n=e.b*(1+(2*Math.random()-1)*e.h),w(i,new Promise((function(e){new ye(e).S(n/1e3)})),2))}e.b*=e.g,j(i)}))}function we(){var e,t,n=new Promise((function(n,i){e=n,t=i}));return n.resolve=e,n.reject=t,n}function je(e,t){this.promise=e,this.c=t,this.a=!1}function xe(e){return new je(Promise.reject(e),(function(){return Promise.resolve()}))}function ke(){var e=Promise.reject(new be(2,7,7001));return e.catch((function(){})),new je(e,(function(){return Promise.resolve()}))}function _e(e){return new je(Promise.resolve(e),(function(){return Promise.resolve()}))}function Se(e){return new je(e,(function(){return e.catch((function(){}))}))}function Ie(e){return new je(Promise.all(e.map((function(e){return e.promise}))),(function(){return Promise.all(e.map((function(e){return e.abort()})))}))}function Ne(){}function Te(e,t){if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if(Ce(e)==Ce(t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;for(var n=Ae(e),i=Ae(t),a=u(ee(e.byteLength)),o=a.next();!o.done;o=a.next())if(n[o=o.value]!=i[o])return!1;return!0}function Ce(e){return e instanceof ArrayBuffer?e:e.buffer}function Pe(e){return e instanceof ArrayBuffer?e:0==e.byteOffset&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer}function Ae(e,t,n){return Ee(e,void 0===t?0:t,n=void 0===n?1/0:n,Uint8Array)}function Me(e,t,n){return Ee(e,void 0===t?0:t,n=void 0===n?1/0:n,DataView)}function Ee(e,t,n,i){var a=(e.byteOffset||0)+e.byteLength;return t=Math.max(0,Math.min((e.byteOffset||0)+t,a)),new i(Ce(e),t,Math.min(t+Math.max(n,0),a)-t)}function De(t,n){for(var i in n=void 0===n?{}:n)Object.defineProperty(this,i,{value:n[i],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1}function Le(){this.a={}}function Re(){this.Jc=new Le,this.Yb=this}function ze(e){var t=new Set;return function e(i){switch(n(i)){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return i;default:if(!i||i.buffer&&i.buffer.constructor==ArrayBuffer)return i;if(t.has(i))return null;var a=i.constructor==Array;if(i.constructor!=Object&&!a)return null;t.add(i);var o,r=a?[]:{};for(o in i)r[o]=e(i[o]);return a&&(r.length=i.length),r}}(e)}function Ue(e){var t,n={};for(t in e)n[t]=e[t];return n}function Ve(e,t){return!("number"!=typeof e||"number"!=typeof t||!isNaN(e)||!isNaN(t))||e===t}function Be(e,t){var n=e.indexOf(t);-1<n&&e.splice(n,1)}function He(e,t,n){if(n||(n=Ve),e.length!=t.length)return!1;t=t.slice();for(var i={},a=(e=u(e)).next();!a.done;i={xc:i.xc},a=e.next()){if(i.xc=a.value,-1==(a=t.findIndex(function(e){return function(t){return n(e.xc,t)}}(i))))return!1;t[a]=t[t.length-1],t.pop()}return 0==t.length}function Fe(e,t,n){if(n||(n=Ve),e.length!=t.length)return!1;for(var i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1;return!0}function qe(){this.a=[]}function We(e,t){e.a.push(t.finally((function(){Be(e.a,t)})))}function Ke(e){Re.call(this),this.f=!1,this.g=new qe,this.a=new Set,this.b=new Set,this.c=e||null}function Ge(e,t,n){n=n||Qe;var i=Je[e];(!i||n>=i.priority)&&(Je[e]={priority:n,Se:t})}function $e(e,t){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null}}function Xe(){this.a=0}function Ye(e,t,n){je.call(this,e,t),this.b=n}(a=me.prototype).ia=null,a.ec=null,a.add=function(e,t){if(!this.ia&&(this.ia={},this.ec=0,this.a))for(var n=this.a.split("&"),i=0;i<n.length;i++){var a=n[i].indexOf("="),o=null;if(0<=a){var r=n[i].substring(0,a);o=n[i].substring(a+1)}else r=n[i];r=decodeURIComponent(r.replace(/\+/g," ")),o=o||"",this.add(r,decodeURIComponent(o.replace(/\+/g," ")))}return this.a=null,(n=this.ia.hasOwnProperty(e)&&this.ia[e])||(this.ia[e]=n=[]),n.push(t),this.ec++,this},a.toString=function(){if(this.a)return this.a;if(!this.ia)return"";var e,t=[];for(e in this.ia)for(var n=encodeURIComponent(e),i=this.ia[e],a=0;a<i.length;a++){var o=n;""!==i[a]&&(o+="="+encodeURIComponent(i[a])),t.push(o)}return this.a=t.join("&")},a.clone=function(){var e=new me;if(e.a=this.a,this.ia){var t,n={};for(t in this.ia)n[t]=this.ia[t].concat();e.ia=n,e.ec=this.ec}return e},be.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},V("shaka.util.Error",be),be.Severity={RECOVERABLE:1,CRITICAL:2},be.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},be.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,HLS_AES_128_ENCRYPTION_NOT_SUPPORTED:4034,HLS_INTERNAL_SKIP_STREAM:4035,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004},ge.prototype.S=function(t){var n=this;this.stop();var i=!0,a=null;return this.a=function(){e.clearTimeout(a),i=!1},a=e.setTimeout((function(){i&&n.b()}),1e3*t),this},ge.prototype.stop=function(){this.a&&(this.a(),this.a=null)},ye.prototype.Rb=function(){return this.stop(),this.b(),this},ye.prototype.S=function(e){var t=this;return this.stop(),this.a=new ge((function(){t.b()})).S(e),this},ye.prototype.qa=function(e){var t=this;return this.stop(),this.a=new ge((function(){t.a.S(e),t.b()})).S(e),this},ye.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)},V("shaka.util.Timer",ye),ye.prototype.stop=ye.prototype.stop,ye.prototype.tickEvery=ye.prototype.qa,ye.prototype.tickAfter=ye.prototype.S,ye.prototype.tickNow=ye.prototype.Rb,we.prototype.resolve=function(){},we.prototype.reject=function(){},je.prototype.abort=function(){return this.a=!0,this.c()},je.prototype.finally=function(e){return this.promise.then((function(){return e(!0)}),(function(){return e(!1)})),this},je.prototype.X=function(e,t){function n(n){return function(c){if(a.a&&n)o.reject(r);else{var s=n?e:t;s?i=function(e,t,n){try{var i=e(t);return i&&i.promise&&i.abort?(n.resolve(i.promise),function(){return i.abort()}):(n.resolve(i),function(){return Promise.resolve(i).then((function(){}),(function(){}))})}catch(e){return n.reject(e),function(){return Promise.resolve()}}}(s,c,o):(n?o.resolve:o.reject)(c)}}}function i(){return o.reject(r),a.abort()}var a=this,o=new we,r=new be(2,7,7001);return this.promise.then(n(!0),n(!1)),new je(o,(function(){return i()}))},V("shaka.util.AbortableOperation",je),je.prototype.chain=je.prototype.X,je.prototype.finally=je.prototype.finally,je.all=Ie,je.prototype.abort=je.prototype.abort,je.notAbortable=Se,je.completed=_e,je.aborted=ke,je.failed=xe,V("shaka.util.BufferUtils",Ne),Ne.toDataView=Me,Ne.toUint8=Ae,Ne.toArrayBuffer=Pe,Ne.equal=Te,De.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},De.prototype.stopImmediatePropagation=function(){this.a=!0},De.prototype.stopPropagation=function(){},Le.prototype.push=function(e,t){this.a.hasOwnProperty(e)?this.a[e].push(t):this.a[e]=[t]},Le.prototype.get=function(e){return(e=this.a[e])?e.slice():null},Le.prototype.remove=function(e,t){e in this.a&&(this.a[e]=this.a[e].filter((function(e){return e!=t})))},Re.prototype.addEventListener=function(e,t){this.Jc.push(e,t)},Re.prototype.removeEventListener=function(e,t){this.Jc.remove(e,t)},Re.prototype.dispatchEvent=function(e){for(var t=this.Jc.get(e.type)||[],n=(t=u(t)).next();!n.done;n=t.next()){n=n.value,e.target=this.Yb,e.currentTarget=this.Yb;try{n.handleEvent?n.handleEvent(e):n.call(this,e)}catch(e){}if(e.a)break}return e.defaultPrevented},qe.prototype.destroy=function(){for(var e=[],t=u(this.a),n=t.next();!n.done;n=t.next())(n=n.value).promise.catch((function(){})),e.push(n.abort());return this.a=[],Promise.all(e)},g(Ke,Re),(a=Ke.prototype).Ue=function(e){this.a.add(e)},a.mf=function(e){this.a.delete(e)},a.ke=function(){this.a.clear()},a.Ve=function(e){this.b.add(e)},a.nf=function(e){this.b.delete(e)},a.le=function(){this.b.clear()},a.destroy=function(){return this.f=!0,this.a.clear(),this.b.clear(),this.g.destroy()},a.request=function(e,t){var n=this,i=new Xe;if(this.f){var a=Promise.reject(new be(2,7,7001));return a.catch((function(){})),new Ye(a,(function(){return Promise.resolve()}),i)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?ze(t.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},t.uris=ze(t.uris);var o=(a=function(e,t,n){for(var i=_e(void 0),a={},o=(e=u(e.a)).next();!o.done;a={Bc:a.Bc},o=e.next())a.Bc=o.value,i=i.X(function(e){return function(){return n.body&&(n.body=Pe(n.body)),e.Bc(t,n)}}(a));return i.X(void 0,(function(e){if(e instanceof be&&7001==e.code)throw e;throw new be(2,1,1006,e)}))}(this,e,t)).X((function(){return function e(t,n,i,a,o,r,c){var s=new ie(i.uris[o]),l=s.wa,u=!1;l||(l=(l=location.protocol).slice(0,-1),ae(s,l),i.uris[o]=s.toString()),l=l.toLowerCase();var d,p=(l=Je[l])?l.Se:null;return p?Se(Oe(a)).X((function(){return t.f?ke():(d=Date.now(),p(i.uris[o],i,n,(function(e,i,a){t.c&&n==Ze&&(t.c(e,i),u=!0,c.a=a)})))})).X((function(e){return null==e.timeMs&&(e.timeMs=Date.now()-d),{response:e,Ke:u}}),(function(s){if(t.f)return ke();if(s instanceof be){if(7001==s.code)throw s;if(1010==s.code)throw r;if(1==s.severity){var l=new De("retry",{error:s});return t.dispatchEvent(l),o=(o+1)%i.uris.length,e(t,n,i,a,o,s,c)}}throw s})):xe(new be(2,1,1e3,s))}(n,e,t,new ve(t.retryParameters,!1),0,null,i)})),r=o.X((function(t){return function(e,t,n){for(var i=_e(void 0),a={},o=(e=u(e.b)).next();!o.done;a={Cc:a.Cc},o=e.next())a.Cc=o.value,i=i.X(function(e){return function(){var i=n.response;return i.data&&(i.data=Pe(i.data)),e.Cc(t,i)}}(a));return i.X((function(){return n}),(function(e){var t=2;if(e instanceof be){if(7001==e.code)throw e;t=e.severity}throw new be(t,1,1007,e)}))}(n,e,t)})),c=Date.now(),s=0;a.promise.then((function(){s=Date.now()-c}),(function(){}));var l=0;o.promise.then((function(){l=Date.now()}),(function(){}));var d=r.X((function(t){var i=Date.now()-l,a=t.response;return a.timeMs+=s,a.timeMs+=i,t.Ke||!n.c||a.fromCache||e!=Ze||n.c(a.timeMs,a.data.byteLength),a}),(function(e){throw e&&(e.severity=2),e}));return a=new Ye(d.promise,(function(){return d.abort()}),i),We(this.g,a),a},V("shaka.net.NetworkingEngine",Ke),Ke.prototype.request=Ke.prototype.request,Ke.prototype.destroy=Ke.prototype.destroy,Ke.makeRequest=$e,Ke.defaultRetryParameters=function(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0}},Ke.prototype.clearAllResponseFilters=Ke.prototype.le,Ke.prototype.unregisterResponseFilter=Ke.prototype.nf,Ke.prototype.registerResponseFilter=Ke.prototype.Ve,Ke.prototype.clearAllRequestFilters=Ke.prototype.ke,Ke.prototype.unregisterRequestFilter=Ke.prototype.mf,Ke.prototype.registerRequestFilter=Ke.prototype.Ue,Ke.unregisterScheme=function(e){delete Je[e]},Ke.registerScheme=Ge,Ke.NumBytesRemainingClass=Xe,g(Ye,je),Ke.PendingRequest=Ye;var Ze=1;Ke.RequestType={MANIFEST:0,SEGMENT:Ze,LICENSE:2,APP:3,TIMING:4};var Qe=3;Ke.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:Qe};var Je={};function et(e){this.a=!1,this.b=new we,this.c=e}function tt(e,t){if(e.a){if(t instanceof be&&7003==t.code)throw t;throw new be(2,7,7003,t)}}function nt(){this.a=new Le}function it(e,t,n,i){this.target=e,this.type=t,this.listener=n,this.a=function(e,t){if(null==t)return!1;if("boolean"==typeof t)return t;var n=new Set(["passive","capture"]);return Object.keys(t).filter((function(e){return!n.has(e)})),function(e){var t=at;if(null==t){t=!1;try{var n={},i={get:function(){return t=!0,!1}};Object.defineProperty(n,"passive",i),Object.defineProperty(n,"capture",i),i=function(){},e.addEventListener("test",i,n),e.removeEventListener("test",i,n)}catch(e){t=!1}at=t}return t||!1}(e)?t:t.capture||!1}(e,i),this.target.addEventListener(t,n,this.a)}et.prototype.destroy=function(){var e=this;return this.a?this.b:(this.a=!0,this.c().then((function(){e.b.resolve()}),(function(){e.b.resolve()})))},(a=nt.prototype).release=function(){this.ab(),this.a=null},a.l=function(e,t,n,i){this.a&&(e=new it(e,t,n,i),this.a.push(t,e))},a.ja=function(e,t,n,i){var a=this;this.l(e,t,(function i(o){a.ra(e,t,i),n(o)}),i)},a.ra=function(e,t,n){if(this.a)for(var i=this.a.get(t)||[],a=(i=u(i)).next();!a.done;a=i.next())(a=a.value).target!=e||n!=a.listener&&n||(a.ra(),this.a.remove(t,a))},a.ab=function(){if(this.a){var e,t=this.a,n=[];for(e in t.a)n.push.apply(n,d(t.a[e]));for(n=(t=u(n)).next();!n.done;n=t.next())n.value.ra();this.a.a={}}},V("shaka.util.EventManager",nt),nt.prototype.removeAll=nt.prototype.ab,nt.prototype.unlisten=nt.prototype.ra,nt.prototype.listenOnce=nt.prototype.ja,nt.prototype.listen=nt.prototype.l,nt.prototype.release=nt.prototype.release,it.prototype.ra=function(){this.target.removeEventListener(this.type,this.listener,this.a),this.listener=this.target=null,this.a=!1};var at=void 0;function ot(e){this.b=e,this.a=void 0}function rt(){}function ct(e){return e?(239==(e=Ae(e))[0]&&187==e[1]&&191==e[2]&&(e=e.subarray(3)),(e=(new TextDecoder).decode(e)).includes("�")&&K('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),e):""}function st(e,t,n){if(!e)return"";if(!n&&0!=e.byteLength%2)throw new be(2,2,2004);var i=Math.floor(e.byteLength/2);n=new Uint16Array(i),e=Me(e);for(var a=(i=u(ee(i))).next();!a.done;a=i.next())n[a=a.value]=e.getUint16(2*a,t);return pt.value()(n)}function lt(e){function t(e){return n.byteLength<=e||32<=n[e]&&126>=n[e]}if(!e)return"";var n=Ae(e);if(239==n[0]&&187==n[1]&&191==n[2])return ct(n);if(254==n[0]&&255==n[1])return st(n.subarray(2),!1);if(255==n[0]&&254==n[1])return st(n.subarray(2),!0);if(0==n[0]&&0==n[2])return st(e,!1);if(0==n[1]&&0==n[3])return st(e,!0);if(t(0)&&t(1)&&t(2)&&t(3))return ct(e);throw new be(2,2,2003)}function ut(e){return Pe((new TextEncoder).encode(e))}function dt(e,t){for(var n=new ArrayBuffer(2*e.length),i=new DataView(n),a=u(te(e)),o=a.next();!o.done;o=a.next())o=o.value,i.setUint16(2*o.$,o.item.charCodeAt(0),t);return n}ot.prototype.value=function(){return null==this.a&&(this.a=this.b()),this.a},V("shaka.util.StringUtils",rt),rt.resetFromCharCode=function(){pt.a=void 0},rt.toUTF16=dt,rt.toUTF8=ut,rt.fromBytesAutoDetect=lt,rt.fromUTF16=st,rt.fromUTF8=ct;var pt=new ot((function(){function e(e){try{var t=new Uint8Array(e);return 0<String.fromCharCode.apply(null,t).length}catch(e){return!1}}for(var t={Ka:65536};0<t.Ka;(t={Ka:t.Ka}).Ka/=2)if(e(t.Ka))return function(e){return function(t){for(var n="",i=0;i<t.length;i+=e.Ka)n+=String.fromCharCode.apply(null,t.subarray(i,i+e.Ka));return n}}(t);return null}));function ht(){}function ft(e){return new ie(e=lt(e)).va}function mt(e,t,n){function i(e){Me(o).setUint32(r,e.byteLength,!0),r+=4,o.set(Ae(e),r),r+=e.byteLength}if(!n||!n.byteLength)throw new be(2,6,6015);var a;a="string"==typeof t?dt(t,!0):t,e=dt(e=lt(e),!0);var o=new Uint8Array(12+e.byteLength+a.byteLength+n.byteLength),r=0;return i(e),i(a),i(n),o}function bt(e,t){this.a=e,this.b=t}function gt(e,t){var n=new bt(4,0),i=Ot,a=i.a,o=n.b-a.b;(0<(n.a-a.a||o)?i.c:i.b)(i.a,n,e,t)}function yt(e,t,n,i){G([n,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",i].join(" "))}function vt(e,t,n,i){K([n,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",i].join(""))}V("shaka.util.FairPlayUtils",ht),ht.initDataTransform=mt,ht.defaultGetContentId=ft,bt.prototype.toString=function(){return"v"+this.a+"."+this.b};var Ot=null;function wt(e,t){return e.concat(t)}function jt(){}function xt(e){return null!=e}function kt(e){var t=Object.create(e.prototype||Object.prototype);return(e=e.call(t))||(gt("Factories requiring new","Factories should be plain functions"),e=t),e}function _t(e,t){if(0==t.length)return e;var n=t.map((function(e){return new ie(e)}));return e.map((function(e){return new ie(e)})).map((function(e){return n.map((function(t){return e.resolve(t)}))})).reduce(wt,[]).map((function(e){return e.toString()}))}function St(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:t||[],keyIds:new Set}}var It={Da:"video",hb:"audio",ba:"text",zf:"image",rf:"application"};function Nt(e){for(var t=new Map,n=u(Object.keys(e)),i=n.next();!i.done;i=n.next())i=i.value,t.set(i,e[i]);return t}function Tt(e){var t={};return e.forEach((function(e,n){t[n]=e})),t}function Ct(e,t){if(!e&&!t)return!0;if(e&&!t||t&&!e)return!1;if(e.size!=t.size)return!1;for(var n=u(e),i=n.next();!i.done;i=n.next()){var a=u(i.value);if(i=a.next().value,a=a.next().value,!t.has(i))return!1;if((i=t.get(i))!=a||null==i)return!1}return!0}function Pt(e,t){var n=e;return t&&(n+='; codecs="'+t+'"'),n}function At(e){var t=(e=e.split("."))[0];return e.pop(),[t,e.join(".")]}var Mt=(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");function Et(){return!(!e.MediaSource||!MediaSource.isTypeSupported)}function Dt(e){return""!=Ut().canPlayType(e)}function Lt(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!zt("Tizen")}function Rt(){if(!Lt())return null;var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null}function zt(e){return(navigator.userAgent||"").includes(e)}function Ut(){return Bt||(Vt||(Vt=new ye((function(){Bt=null}))),(Bt=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(Bt=document.createElement("video")),Vt.S(1),Bt)}var Vt=null,Bt=null;function Ht(){}function Ft(e){return e=Ae(e),e=pt.value()(e),btoa(e)}function qt(e,t){t=null==t||t;var n=Ft(e).replace(/\+/g,"-").replace(/\//g,"_");return t?n:n.replace(/[=]*$/,"")}function Wt(t){var n=e.atob(t.replace(/-/g,"+").replace(/_/g,"/"));t=new Uint8Array(n.length);for(var i=(n=u(te(n))).next();!i.done;i=n.next())t[(i=i.value).$]=i.item.charCodeAt(0);return t}function Kt(t){for(var n=t.length/2,i=new Uint8Array(n),a=(n=u(ee(n))).next();!a.done;a=n.next())i[a=a.value]=e.parseInt(t.substr(2*a,2),16);return i}function Gt(e){var t=Ae(e);e="";for(var n=(t=u(t)).next();!n.done;n=t.next())1==(n=(n=n.value).toString(16)).length&&(n="0"+n),e+=n;return e}function $t(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];var i=0,a=u(t);for(n=a.next();!n.done;n=a.next())i+=n.value.byteLength;for(i=new Uint8Array(i),a=0,n=(t=u(t)).next();!n.done;n=t.next())n=n.value,i.set(Ae(n),a),a+=n.byteLength;return i}function Xt(e,t){var n=this;t=void 0===t?1:t,this.s=e,this.v=new Set,this.a=this.h=null,this.M=!1,this.G=0,this.c=null,this.b=new nt,this.f=new Map,this.m=[],this.j=new we,this.i=null,this.g=function(t){n.j.reject(t),e.onError(t)},this.ea=new Map,this.T=new Map,this.K=new ye((function(){return function(e){var t=e.ea,n=e.T;n.clear(),t.forEach((function(e,t){return n.set(t,e)})),(t=Array.from(n.values())).length&&t.every((function(e){return"expired"==e}))&&e.g(new be(2,6,6014)),e.s.lc(Tt(n))}(n)})),this.w=!1,this.C=[],this.J=!1,this.Y=new ye((function(){!function(e){e.f.forEach((function(t,n){var i=t.dd,a=n.expiration;isNaN(a)&&(a=1/0),a!=i&&(e.s.onExpirationUpdated(n.sessionId,a),t.dd=a)}))}(n)})).qa(t),this.j.catch((function(){})),this.D=new et((function(){return function(e){return E((function(t){switch(t.a){case 1:return e.b.release(),e.b=null,e.j.reject(),e.Y.stop(),e.Y=null,e.K.stop(),e.K=null,w(t,un(e),2);case 2:if(!e.a){t.u(3);break}return x(t,4),w(t,e.a.setMediaKeys(null),6);case 6:_(t,5);break;case 4:S(t);case 5:e.a=null;case 3:e.c=null,e.v.clear(),e.h=null,e.m=[],e.i=null,e.g=function(){},e.s=null,j(t)}}))}(n)}))}function Yt(e,t,n){return e.m=n,e.w=0<n.length,Zt(e,t)}function Zt(t,n){var i=function(t){if(0==(t=Nt(t.i.clearKeys)).size)return null;var n=[],i=[];t.forEach((function(e,t){var a=Kt(t),o=Kt(e);a={kty:"oct",kid:qt(a,!1),k:qt(o,!1)},n.push(a),i.push(a.kid)})),t=JSON.stringify({keys:n});var a=JSON.stringify({kids:i});return a=[{initData:Ae(ut(a)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+e.btoa(t),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:a,keyIds:new Set(i)}}(t);if(i)for(var a=u(n),o=a.next();!o.done;o=a.next())(o=o.value).video&&o.video.encrypted&&(o.video.drmInfos=[i]),o.audio&&o.audio.encrypted&&(o.audio.drmInfos=[i]);for((i=n.some((function(e){return!!(e.video&&e.video.drmInfos.length||e.audio&&e.audio.drmInfos.length)})))||function(e,t){var n=[];t.forEach((function(e,t){n.push({keySystem:t,licenseServerUri:e,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:new Set})}));for(var i=u(e),a=i.next();!a.done;a=i.next())(a=a.value).video&&a.video.encrypted&&(a.video.drmInfos=n),a.audio&&a.audio.encrypted&&(a.audio.drmInfos=n)}(n,a=Nt(t.i.servers)),o=(a=u(n)).next();!o.done;o=a.next())for(var r=(o=u(((o=o.value).video?o.video.drmInfos:[]).concat(o.audio?o.audio.drmInfos:[]))).next();!r.done;r=o.next())fn(r.value,Nt(t.i.servers),Nt(t.i.advanced||{}));return(a=function(e,t){for(var n=new Set,i=u(t),a=i.next();!a.done;a=i.next()){var o=u(((a=a.value).video?a.video.drmInfos:[]).concat(a.audio?a.audio.drmInfos:[]));for(a=o.next();!a.done;a=o.next())n.add(a.value)}for(i=u(n),a=i.next();!a.done;a=i.next())fn(a.value,Nt(e.i.servers),Nt(e.i.advanced||{}));o=e.w?"required":"optional";var r=e.w?["persistent-license"]:["temporary"];for(i=new Map,n=u(n),a=n.next();!a.done;a=n.next())a=a.value,i.set(a.keySystem,{audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:o,sessionTypes:r,label:a.keySystem,drmInfos:[]});for(n=u(t),a=n.next();!a.done;a=n.next())for(a=a.value,o=u([a.audio,a.video]),a=o.next();!a.done;a=o.next())if(r=a.value){var c=Pt(r.mimeType,r.codecs),s=u(r.drmInfos);for(a=s.next();!a.done;a=s.next()){var l=a.value;(a=i.get(l.keySystem)).drmInfos.push(l),l.distinctiveIdentifierRequired&&(a.distinctiveIdentifier="required"),l.persistentStateRequired&&(a.persistentState="required"),l={robustness:("audio"==r.type?l.audioRobustness:l.videoRobustness)||"",contentType:c},"audio"==r.type?a.audioCapabilities.push(l):a.videoCapabilities.push(l)}}return i}(t,n)).size?(a=on(t,a),i?a:a.catch((function(){}))):(t.M=!0,Promise.resolve())}function Qt(e){return E((function(t){if(1==t.a)return e.h&&e.c&&e.c.serverCertificate&&e.c.serverCertificate.length?(x(t,3),w(t,e.h.setServerCertificate(e.c.serverCertificate),5)):t.u(0);if(3!=t.a)return _(t,0);throw new be(2,6,6004,S(t).message)}))}function Jt(e){for(var t=(e.c?e.c.initData:[])||[],n=u(t),i=n.next();!i.done;i=n.next())en(e,(i=i.value).initDataType,i.initData);for(i=(n=u(e.m)).next();!i.done;i=n.next())rn(e,i.value);return t.length||e.m.length||e.j.resolve(),e.j}function en(e,t,n){for(var i=e.f.values(),a=(i=u(i)).next();!a.done;a=i.next())if(Te(n,a.value.initData)&&!zt("Tizen 2"))return;!function(e,t,n){try{var i=e.w?e.h.createSession("persistent-license"):e.h.createSession()}catch(t){return void e.g(new be(2,6,6005,t.message))}e.b.l(i,"message",(function(t){e.a&&e.i.delayLicenseRequestUntilPlayed&&e.a.paused&&!e.J?e.C.push(t):sn(e,t)})),e.b.l(i,"keystatuseschange",(function(t){return ln(e,t)})),e.f.set(i,{initData:n,loaded:!1,dd:1/0,Ba:null});try{n=e.i.initDataTransform(n,t,e.c)}catch(n){return t=n,n instanceof be||(t=new be(2,6,6016,n)),void e.g(t)}e.i.logLicenseExchange&&qt(n),i.generateRequest(t,n).catch((function(t){if(!e.D.a){e.f.delete(i);var n=t.errorCode;if(n&&n.systemCode){var a=n.systemCode;0>a&&(a+=Math.pow(2,32)),a="0x"+a.toString(16)}e.g(new be(2,6,6006,t.message,t,a))}}))}(e,t,n)}function tn(e){return e?e.keySystem:""}function nn(e,t){return!!zt("Edge/")||e.v.has(t.toLowerCase())}function an(e){return e=J(e=e.f.keys(),(function(e){return e.sessionId})),Array.from(e)}function on(e,t){var n,i,a,o,r,c,s,l,d,p,h,f,m,b,g,y,v,O,j,k,I;return E((function(N){switch(N.a){case 1:if(1==t.size&&t.has(""))throw new be(2,6,6e3);for(n=u(t.values()),i=n.next();!i.done;i=n.next())0==(a=i.value).audioCapabilities.length&&delete a.audioCapabilities,0==a.videoCapabilities.length&&delete a.videoCapabilities;r=u([!0,!1]),c=r.next();case 2:if(c.done){N.u(4);break}s=c.value,l=u(t.keys()),d=l.next();case 5:if(d.done){N.u(7);break}if(p=d.value,h=t.get(p),h.drmInfos.some((function(e){return!!e.licenseServerUri}))!=s){N.u(6);break}return x(N,8),w(N,navigator.requestMediaKeySystemAccess(p,[h]),10);case 10:o=N.b,N.u(7);break;case 8:S(N);case 9:tt(e.D);case 6:d=l.next(),N.u(5);break;case 7:if(o){N.u(4);break}c=r.next(),N.u(2);break;case 4:if(!o)throw new be(2,6,6001);for(tt(e.D),x(N,11),e.v.clear(),f=o.getConfiguration(),m=f.audioCapabilities||[],b=f.videoCapabilities||[],g=u(m),y=g.next();!y.done;y=g.next())v=y.value,e.v.add(v.contentType.toLowerCase());for(O=u(b),y=O.next();!y.done;y=O.next())j=y.value,e.v.add(j.contentType.toLowerCase());if(e.c=function(e,t){var n=[],i=[],a=[],o=new Set;return function(e,t,n,i,a){for(var o={},r=(e=u(e)).next();!r.done;o={ma:o.ma},r=e.next()){if(o.ma=r.value,t.includes(o.ma.licenseServerUri)||t.push(o.ma.licenseServerUri),o.ma.serverCertificate&&(n.some(function(e){return function(t){return Te(t,e.ma.serverCertificate)}}(o))||n.push(o.ma.serverCertificate)),o.ma.initData){r={};for(var c=u(o.ma.initData),s=c.next();!s.done;r={Ub:r.Ub},s=c.next())r.Ub=s.value,i.some(function(e){return function(t){var n=e.Ub;return!(!t.keyId||t.keyId!=n.keyId)||t.initDataType==n.initDataType&&Te(t.initData,n.initData)}}(r))||i.push(r.Ub)}if(o.ma.keyIds)for(r=u(o.ma.keyIds),c=r.next();!c.done;c=r.next())a.add(c.value)}}(t.drmInfos,n,i,a,o),{keySystem:e,licenseServerUri:n[0],distinctiveIdentifierRequired:"required"==t.distinctiveIdentifier,persistentStateRequired:"required"==t.persistentState,audioRobustness:(t.audioCapabilities?t.audioCapabilities[0].robustness:"")||"",videoRobustness:(t.videoCapabilities?t.videoCapabilities[0].robustness:"")||"",serverCertificate:i[0],initData:a,keyIds:o}}(o.keySystem,t.get(o.keySystem)),!e.c.licenseServerUri)throw new be(2,6,6012,e.c.keySystem);return w(N,o.createMediaKeys(),13);case 13:k=N.b,tt(e.D),e.h=k,e.M=!0,_(N,0);break;case 11:if(I=S(N),tt(e.D,I),e.c=null,e.v.clear(),I instanceof be)throw I;throw new be(2,6,6002,I.message)}}))}function rn(e,t){var n,i,a,o,r;return E((function(c){switch(c.a){case 1:try{n=e.h.createSession("persistent-license")}catch(t){return i=new be(2,6,6005,t.message),e.g(i),c.return(Promise.reject(i))}return e.b.l(n,"message",(function(t){e.a&&e.i.delayLicenseRequestUntilPlayed&&e.a.paused&&!e.J?e.C.push(t):sn(e,t)})),e.b.l(n,"keystatuseschange",(function(t){return ln(e,t)})),a={initData:null,loaded:!1,dd:1/0,Ba:null},e.f.set(n,a),x(c,2),w(c,n.load(t),4);case 4:return o=c.b,tt(e.D),o?(a.loaded=!0,hn(e)&&e.j.resolve(),c.return(n)):(e.f.delete(n),e.g(new be(2,6,6013)),c.return(Promise.resolve()));case 2:r=S(c),tt(e.D,r),e.f.delete(n),e.g(new be(2,6,6005,r.message));case 3:return c.return(Promise.resolve())}}))}function cn(e,t,n){return"skd"==t&&(t=n.serverCertificate,e=mt(e,n=ft(e),t)),e}function sn(e,t){var n,i,a,o,r,c,s,l,d,p,h,f;E((function(m){switch(m.a){case 1:return n=t.target,e.i.logLicenseExchange&&qt(t.message),i=e.f.get(n),a=e.c.licenseServerUri,o=e.i.advanced[e.c.keySystem],"individualization-request"==t.messageType&&o&&o.individualizationServer&&(a=o.individualizationServer),(r=$e([a],e.i.retryParameters)).body=t.message,r.method="POST",r.licenseRequestType=t.messageType,r.sessionId=n.sessionId,"com.microsoft.playready"!=e.c.keySystem&&"com.chromecast.playready"!=e.c.keySystem||function(e){var t=st(e.body,!0,!0);if(t.includes("PlayReadyKeyMessage")){for(var n=u((t=(new DOMParser).parseFromString(t,"application/xml")).getElementsByTagName("HttpHeader")),i=n.next();!i.done;i=n.next())i=i.value,e.headers[i.getElementsByTagName("name")[0].textContent]=i.getElementsByTagName("value")[0].textContent;e.body=Wt(t.getElementsByTagName("Challenge")[0].textContent)}else e.headers["Content-Type"]="text/xml; charset=utf-8"}(r),c=Date.now(),x(m,2),w(m,e.s.qb.request(2,r).promise,4);case 4:s=m.b,_(m,3);break;case 2:return l=S(m),d=new be(2,6,6007,l),e.g(d),i&&i.Ba&&i.Ba.reject(d),m.return();case 3:return e.D.a?m.return():(e.G+=(Date.now()-c)/1e3,e.i.logLicenseExchange&&qt(s.data),x(m,5),w(m,n.update(s.data),7));case 7:_(m,6);break;case 5:return p=S(m),h=new be(2,6,6008,p.message),e.g(h),i&&i.Ba&&i.Ba.reject(h),m.return();case 6:f=new De("drmsessionupdate"),e.s.onEvent(f),i&&(i.Ba&&i.Ba.resolve(),new ye((function(){i.loaded=!0,hn(e)&&e.j.resolve()})).S(bn)),j(m)}}))}function ln(e,t){var n=t.target,i=e.f.get(n),a=!1;n.keyStatuses.forEach((function(t,n){if("string"==typeof n){var o=n;n=t,t=o}if("com.microsoft.playready"==e.c.keySystem&&16==n.byteLength&&(zt("Trident/")||zt("Edge/"))){var r=(o=Me(n)).getUint32(0,!0),c=o.getUint16(4,!0),s=o.getUint16(6,!0);o.setUint32(0,r,!1),o.setUint16(4,c,!1),o.setUint16(6,s,!1)}"com.microsoft.playready"==e.c.keySystem&&"status-pending"==t&&(t="usable"),"status-pending"!=t&&(i.loaded=!0),"expired"==t&&(a=!0),o=Gt(n),e.ea.set(o,t)}));var o=n.expiration-Date.now();(0>o||a&&1e3>o)&&i&&!i.Ba&&(e.f.delete(n),n.close().catch((function(){}))),hn(e)&&(e.j.resolve(),e.K.S(gn))}function un(e){var t;return E((function(n){return t=Array.from(e.f.keys()),e.f.clear(),w(n,Promise.all(t.map((function(e){return E((function(t){return 1==t.a?(x(t,2),w(t,function(e){var t;return E((function(n){return 1==n.a?(t=new Promise((function(e,t){new ye(t).S(mn)})),x(n,2),w(n,Promise.race([Promise.all([e.close(),e.closed]),t]),4)):2!=n.a?_(n,0):(S(n),void j(n))}))}(e),4)):2!=t.a?_(t,0):(S(t),void j(t))}))}))),0)}))}function dn(e,t){var n=t.audio,i=t.video;if(n&&n.encrypted&&!nn(e,Pt(n.mimeType,n.codecs))||i&&i.encrypted&&!nn(e,Pt(i.mimeType,i.codecs)))return!1;var a=tn(e.c);return 0==(n=(i?i.drmInfos:[]).concat(n?n.drmInfos:[])).length||n.some((function(e){return e.keySystem==a}))}function pn(e,t){if(!e.length)return t;if(!t.length)return e;for(var n=[],i=u(e),a=i.next();!a.done;a=i.next()){a=a.value;for(var o=u(t),r=o.next();!r.done;r=o.next())if(r=r.value,a.keySystem==r.keySystem){o=(o=(o=[]).concat(a.initData||[])).concat(r.initData||[]);var c=a.keyIds&&r.keyIds?new Set(d(a.keyIds).concat(d(r.keyIds))):a.keyIds||r.keyIds;n.push({keySystem:a.keySystem,licenseServerUri:a.licenseServerUri||r.licenseServerUri,distinctiveIdentifierRequired:a.distinctiveIdentifierRequired||r.distinctiveIdentifierRequired,persistentStateRequired:a.persistentStateRequired||r.persistentStateRequired,videoRobustness:a.videoRobustness||r.videoRobustness,audioRobustness:a.audioRobustness||r.audioRobustness,serverCertificate:a.serverCertificate||r.serverCertificate,initData:o,keyIds:c});break}}return n}function hn(e){return function(e,t){for(var n=u(e),i=n.next();!i.done;i=n.next())if(!t(i.value))return!1;return!0}(e=e.f.values(),(function(e){return e.loaded}))}function fn(t,n,i){!t.keySystem||"org.w3.clearkey"==t.keySystem&&t.licenseServerUri||(n.size&&(n=n.get(t.keySystem)||"",t.licenseServerUri=n),t.keyIds||(t.keyIds=new Set),(i=i.get(t.keySystem))&&(t.distinctiveIdentifierRequired||(t.distinctiveIdentifierRequired=i.distinctiveIdentifierRequired),t.persistentStateRequired||(t.persistentStateRequired=i.persistentStateRequired),t.videoRobustness||(t.videoRobustness=i.videoRobustness),t.audioRobustness||(t.audioRobustness=i.audioRobustness),t.serverCertificate||(t.serverCertificate=i.serverCertificate)),e.cast&&e.cast.__platform__&&"com.microsoft.playready"==t.keySystem&&(t.keySystem="com.chromecast.playready"))}V("shaka.util.Uint8ArrayUtils",Ht),Ht.concat=$t,Ht.toHex=Gt,Ht.fromHex=Kt,Ht.fromBase64=Wt,Ht.toBase64=qt,Ht.toStandardBase64=Ft,Ht.equal=function(e,t){return gt("shaka.util.Uint8ArrayUtils.equal","Please use shaka.util.BufferUtils.equal instead."),Te(e,t)},Xt.prototype.destroy=function(){return this.D.destroy()},Xt.prototype.configure=function(e){this.i=e},Xt.prototype.Cb=function(e){var t,n,i,a=this;return E((function(o){if(1==o.a)return a.h?(a.a=e,a.b.ja(a.a,"play",(function(){for(var e=u(a.C),t=e.next();!t.done;t=e.next())sn(a,t.value);a.J=!0,a.C=[]})),"webkitCurrentPlaybackTargetIsWireless"in a.a&&a.b.l(a.a,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return un(a)})),t=(t=a.a.setMediaKeys(a.h)).catch((function(e){return Promise.reject(new be(2,6,6003,e.message))})),n=Qt(a),w(o,Promise.all([t,n]),2)):(a.b.ja(e,"encrypted",(function(){a.g(new be(2,6,6010))})),o.return());tt(a.D),Jt(a),a.c.initData.length||a.m.length||(i=function(e){return en(a,e.initDataType,Ae(e.initData))},a.b.l(a.a,"encrypted",i)),j(o)}))},Xt.prototype.Gb=function(){for(var e=1/0,t=this.f.keys(),n=(t=u(t)).next();!n.done;n=t.next())n=n.value,isNaN(n.expiration)||(e=Math.min(e,n.expiration));return e};var mn=1,bn=5,gn=.5,yn=new ot((function(){return Pe(new Uint8Array([0]))}));function vn(){this.b=new Ps,this.a=new ws}function On(e,t){for(var n=e.b.parse(t),i=(n=u(n)).next();!i.done;i=n.next()){var a=i.value,o=Ae(a.Re);if(i=e.a,a=a.pts,181===(o=new Da(o,0)).W()&&49===o.ub()&&1195456820===o.I()&&3===o.W()){var r=o.W();if(0!=(64&r)){r&=31,o.skip(1);for(var c=0;c<r;c++){var s=o.W(),l=(4&s)>>2,d=o.W(),p=o.W();l&&i.a.push({pts:a,type:3&s,oa:d,Fa:p,order:i.a.length})}}}}return function(e){var t=[];e.a.sort((function(e,t){var n=e.pts-t.pts;return 0===n?e.order-t.order:n}));for(var n=u(e.a),i=n.next();!i.done;i=n.next())(0===(i=i.value).type||1===i.type)&&(i=xs(e,i))&&t.push(i);return e.a=[],t}(e.a)}function wn(e){return!e||1==e.length&&1e-6>e.end(0)-e.start(0)?null:e.length?e.end(e.length-1):null}function jn(e,t,n){return n=void 0===n?0:n,!(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0)||t>e.end(e.length-1))&&t+n>=e.start(0)}function xn(e,t){if(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0))return 0;for(var n=0,i=u(kn(e)),a=i.next();!a.done;a=i.next()){var o=a.value;a=o.start,(o=o.end)>t&&(n+=o-Math.max(a,t))}return n}function kn(e){if(!e)return[];for(var t=[],n=u(ee(e.length)),i=n.next();!i.done;i=n.next())i=i.value,t.push({start:e.start(i),end:e.end(i)});return t}function _n(){}vn.prototype.init=function(e){this.b.init(e)},V("shaka.dependencies",_n),_n.has=function(e){return Sn.has(e)},_n.add=function(e,t){if(!In[e])throw Error(e+" is not supported");Sn.set(e,t)};var Sn=new Map,In={muxjs:"muxjs"};function Nn(){var e=this;this.j=Sn.get("muxjs"),this.a=new this.j.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.b=null,this.h=[],this.c=[],this.g=[],this.f=!1,this.a.on("data",(function(t){e.c=t.captions,e.g=t.metadata,e.h.push($t(t.initSegment,t.data))})),this.a.on("done",(function(){var t={data:$t.apply(Ht,d(e.h)),captions:e.c,metadata:e.g};e.b.resolve(t),e.f=!1}))}function Tn(e,t){if(!Sn.get("muxjs")||"mp2t"!=e.toLowerCase().split(";")[0].split("/")[1])return!1;if(t)return MediaSource.isTypeSupported(Cn(t,e));var n=Cn("audio",e),i=Cn("video",e);return MediaSource.isTypeSupported(n)||MediaSource.isTypeSupported(i)}function Cn(e,t){var n=t.replace(/mp2t/i,"mp4");"audio"==e&&(n=n.replace("video","audio"));var i=/avc1\.(66|77|100)\.(\d+)/.exec(n);if(i){var a="avc1.",o=i[1],r=Number(i[2]);a=("66"==o?a+"4200":"77"==o?a+"4d00":a+"6400")+(r>>4).toString(16),a+=(15&r).toString(16),n=n.replace(i[0],a)}return n}function Pn(e,t,n){this.startTime=e,this.direction=zn,this.endTime=t,this.payload=n,this.region=new Kn,this.position=null,this.positionAlign=Mn,this.size=0,this.textAlign=En,this.writingMode=Un,this.lineInterpretation=Vn,this.line=null,this.lineHeight="",this.lineAlign=Bn,this.displayAlign=Ln,this.fontSize=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=Fn,this.fontStyle=qn,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textDecoration=[],this.wrapLine=!0,this.id="",this.nestedCues=[],this.spacer=!1,this.cellResolution={columns:32,rows:15}}function An(e,t){for(var n in e)if("nestedCues"==n){if(!Fe(e.nestedCues,t.nestedCues,this.a))return!1}else if("region"==n||"cellResolution"==n){for(var i in e[n])if(e[n][i]!=t[n][i])return!1}else if(Array.isArray(e[n])){if(!Fe(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1;return!0}_n.Allowed=In,Sn.set("muxjs",e.muxjs),Nn.prototype.destroy=function(){return this.a.dispose(),this.a=null,Promise.resolve()},Pn.prototype.clone=function(){var e,t=new Pn(0,0,"");for(e in this)t[e]=this[e],t[e]&&t[e].constructor==Array&&(t[e]=t[e].slice());return t},V("shaka.text.Cue",Pn);var Mn="auto";Pn.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:Mn};var En="center",Dn={LEFT:"left",RIGHT:"right",CENTER:En,START:"start",END:"end"};Pn.textAlign=Dn;var Ln="after",Rn={BEFORE:"before",CENTER:"center",AFTER:Ln};Pn.displayAlign=Rn;var zn="ltr";Pn.direction={HORIZONTAL_LEFT_TO_RIGHT:zn,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var Un="horizontal-tb";Pn.writingMode={HORIZONTAL_TOP_TO_BOTTOM:Un,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var Vn=0;Pn.lineInterpretation={LINE_NUMBER:Vn,PERCENTAGE:1};var Bn="start",Hn={CENTER:"center",START:Bn,END:"end"};Pn.lineAlign=Hn;var Fn=400;Pn.fontWeight={NORMAL:Fn,BOLD:700};var qn="normal",Wn={NORMAL:qn,ITALIC:"italic",OBLIQUE:"oblique"};function Kn(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=Gn,this.scroll=$n}Pn.fontStyle=Wn,Pn.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},V("shaka.text.CueRegion",Kn);var Gn=1;Kn.units={PX:0,PERCENTAGE:Gn,LINES:2};var $n="";function Xn(e){this.m=null,this.c=e,this.f=this.v=0,this.g=1/0,this.b=this.a=null,this.j="",this.h=new Map}function Yn(e){return!(!Qn[e]&&"application/cea-608"!=e)}function Zn(e,t,n,i,a){for(var o=n+" "+i,r=new Map,c=(t=u(t)).next();!c.done;c=t.next()){var s=c.value;c=s.stream,s=s.cue,r.has(c)||r.set(c,new Map),r.get(c).has(o)||r.get(c).set(o,[]),s.startTime+=a,s.endTime+=a,s.startTime>=e.f&&s.startTime<e.g&&(r.get(c).get(o).push(s),c==e.j&&e.c.append([s]))}for(o=(a=u(r.keys())).next();!o.done;o=a.next())for(o=o.value,e.h.has(o)||e.h.set(o,new Map),c=(t=u(r.get(o).keys())).next();!c.done;c=t.next())c=c.value,s=r.get(o).get(c),e.h.get(o).set(c,s);e.a=null==e.a?Math.max(n,e.f):Math.min(e.a,Math.max(n,e.f)),e.b=Math.max(e.b,Math.min(i,e.g))}Kn.scrollMode={NONE:$n,UP:"up"},Xn.prototype.destroy=function(){return this.c=this.m=null,this.h.clear(),Promise.resolve()},Xn.prototype.remove=function(e,t){var n=this;return E((function(i){if(1==i.a)return w(i,Promise.resolve(),2);!n.c||!n.c.remove(e,t)||null==n.a||t<=n.a||e>=n.b||(e<=n.a&&t>=n.b?n.a=n.b=null:e<=n.a&&t<n.b?n.a=t:e>n.a&&t>=n.b&&(n.b=e)),j(i)}))},V("shaka.text.TextEngine",Xn),Xn.prototype.destroy=Xn.prototype.destroy,Xn.unregisterParser=function(e){delete Qn[e]},Xn.registerParser=function(e,t){Qn[e]=t};var Qn={};function Jn(e,t,n,i){var a=this;this.a=e,this.h=n,this.f={},this.c=null,this.C=i||function(){},this.g={},this.b=new nt,this.m={},this.v=t,this.w=new we,this.j=function(e,t){var n=new MediaSource;return e.b.ja(n,"sourceopen",t.resolve),e.a.src=fi(n),n}(this,this.w),this.D=new et((function(){return function(e){var t,n,i,a,o,r,c;return E((function(s){if(1==s.a){for(n in t=[],e.g)for(i=e.g[n],a=i[0],e.g[n]=i.slice(0,1),a&&t.push(a.p.catch(jt)),o=u(i.slice(1)),r=o.next();!r.done;r=o.next())r.value.p.reject(new be(2,7,7003,void 0));for(c in e.c&&t.push(e.c.destroy()),e.h&&t.push(e.h.destroy()),e.m)t.push(e.m[c].destroy());return w(s,Promise.all(t),2)}e.b&&(e.b.release(),e.b=null),e.a&&(e.a.removeAttribute("src"),e.a.load(),e.a=null),e.j=null,e.c=null,e.h=null,e.f={},e.m={},e.v=null,e.g={},j(s)}))}(a)}))}function ei(e){var t=Pt(e.mimeType,e.codecs),n=function(e){var t=[e.mimeType];return Mt.forEach((function(n,i){var a=e[i];a&&t.push(n+'="'+a+'"')})),t.join(";")}(e);return Yn(t)||MediaSource.isTypeSupported(n)||Tn(t,e.type)}function ti(e,t){e.c||(e.c=new Xn(e.h)),"application/cea-608"!=t&&(e.c.m=kt(Qn[t]))}function ni(e){return!e.j||"ended"==e.j.readyState}function ii(e,t){if("text"==t)var n=e.c.a;else n=!(n=oi(e,t))||1==n.length&&1e-6>n.end(0)-n.start(0)?null:1==n.length&&0>n.start(0)?0:n.length?n.start(0):null;return n}function ai(e,t){return"text"==t?e.c.b:wn(oi(e,t))}function oi(e,t){try{return e.f[t].buffered}catch(e){return null}}function ri(e,t,n,i,a,o){var r,c,s,l,d,p,h;return E((function(f){return 1==f.a?t==(r=It).ba?w(f,function(e,t,n,i){var a,o,r;return E((function(c){return 1==c.a?w(c,Promise.resolve(),2):e.m&&e.c?null==n||null==i?(e.m.parseInit(Ae(t)),c.return()):(a={periodStart:e.v,segmentStart:n,segmentEnd:i},o=e.m.parseMedia(Ae(t),a),r=o.filter((function(t){return t.startTime>=e.f&&t.startTime<e.g})),e.c.append(r),null==e.a&&(e.a=Math.max(n,e.f)),e.b=Math.min(i,e.g),void j(c)):c.return()}))}(e.c,n,i,a),0):e.m[t]?w(f,function(e,t){e.f=!0,e.b=new we,e.h=[],e.c=[],e.g=[];var n=Ae(t);return e.a.push(n),e.a.flush(),e.f&&e.b.reject(new be(2,3,3018)),e.b}(e.m[t],n),10):(o&&(e.c||ti(e,"text/vtt"),null==i&&null==a?e.v.init(n):(c=On(e.v,n)).length&&(s=e.f[r.Da].timestampOffset,Zn(e.c,c,i,a,s))),w(f,ui(e,t,(function(){e.f[t].appendBuffer(n)})),0)):(l=f.b,e.c||ti(e,"text/vtt"),l.metadata&&(d=e.f[t].timestampOffset,e.C(l.metadata,d,a)),l.captions&&l.captions.length&&(p=e.f[r.Da].timestampOffset,h=function(e){for(var t=[],n=(e=u(e)).next();!n.done;n=e.next())n=n.value,t.push({stream:n.stream,cue:new Pn(n.startTime,n.endTime,n.text)});return t}(l.captions),Zn(e.c,h,i,a,p)),w(f,ui(e,t,(function(){e.f[t].appendBuffer(l.data)})),0))}))}function ci(e,t){var n=ai(e,"video")||0;!function(e,t,n){if(e.j=t,t=e.h.get(t))for(var i=u(t.keys()),a=i.next();!a.done;a=i.next())(a=t.get(a.value).filter((function(e){return e.endTime<=n})))&&e.c.append(a)}(e.c,t,n)}function si(e,t){return E((function(n){return t==It.ba?e.c?w(n,e.c.remove(0,1/0),0):n.return():w(n,ui(e,t,(function(){var n=e.j.duration;0>=n?li(e,t):e.f[t].remove(0,n)})),0)}))}function li(e,t){var n=e.g[t][0];n&&(n.p.resolve(),pi(e,t))}function ui(e,t,n){return tt(e.D),n={start:n,p:new we},e.g[t].push(n),1==e.g[t].length&&hi(e,t),n.p}function di(e,t){var n,i,a,o,r;return E((function(c){switch(c.a){case 1:for(a in tt(e.D),n=[],i={},e.f)i.Ab=new we,o={start:function(e){return function(){return e.Ab.resolve()}}(i),p:i.Ab},e.g[a].push(o),n.push(i.Ab),1==e.g[a].length&&o.start(),i={Ab:i.Ab};return x(c,2),w(c,Promise.all(n),4);case 4:_(c,3);break;case 2:throw S(c);case 3:try{t()}catch(e){throw new be(2,3,3015,e)}finally{for(r in e.f)pi(e,r)}j(c)}}))}function pi(e,t){e.g[t].shift(),hi(e,t)}function hi(e,t){var n=e.g[t][0];if(n)try{n.start()}catch(i){"QuotaExceededError"==i.name?n.p.reject(new be(2,3,3017,t)):n.p.reject(new be(2,3,3015,i)),pi(e,t)}}(a=Jn.prototype).destroy=function(){return this.D.destroy()},a.init=function(e,t){var n,i,a,o,r,c,s,l=this;return E((function(d){if(1==d.a)return n=It,w(d,l.w,2);for(i={},a=u(e.keys()),o=a.next();!o.done;i={la:i.la},o=a.next())i.la=o.value,r=e.get(i.la),c=Pt(r.mimeType,r.codecs),i.la==n.ba?ti(l,c):(!t&&MediaSource.isTypeSupported(c)||!Tn(c,i.la)||(l.m[i.la]=new Nn,c=Cn(i.la,c)),s=l.j.addSourceBuffer(c),l.b.l(s,"error",function(e){return function(){l.g[e.la][0].p.reject(new be(2,3,3014,l.a.error?l.a.error.code:0))}}(i)),l.b.l(s,"updateend",function(e){return function(){return li(l,e.la)}}(i)),l.f[i.la]=s,l.g[i.la]=[]);j(d)}))},a.fc=function(){var e={total:kn(this.a.buffered),audio:kn(oi(this,"audio")),video:kn(oi(this,"video")),text:[]};if(this.c){var t=this.c.a,n=this.c.b;null!=t&&null!=n&&e.text.push({start:t,end:n})}return e},a.remove=function(e,t,n){var i=this;return E((function(a){return w(a,e==It.ba?i.c.remove(t,n):ui(i,e,(function(){n<=t?li(i,e):i.f[e].remove(t,n)})),0)}))},a.flush=function(e){var t=this;return E((function(n){return e==It.ba?n.return():w(n,ui(t,e,(function(){t.a.currentTime-=.001,li(t,e)})),0)}))},a.endOfStream=function(e){var t=this;return E((function(n){return w(n,di(t,(function(){ni(t)||(e?t.j.endOfStream(e):t.j.endOfStream())})),0)}))},a.Aa=function(e){var t=this;return E((function(n){return w(n,di(t,(function(){t.j.duration=e})),0)}))},a.getDuration=function(){return this.j.duration};var fi=e.URL.createObjectURL;function mi(e,t){return e=yi(e),t=yi(t),e.split("-")[0]==t.split("-")[0]}function bi(e,t){e=yi(e),t=yi(t);var n=e.split("-"),i=t.split("-");return n[0]==i[0]&&1==n.length&&2==i.length}function gi(e,t){e=yi(e),t=yi(t);var n=e.split("-"),i=t.split("-");return 2==n.length&&2==i.length&&n[0]==i[0]}function yi(e){var t=e.split("-");return e=t[0]||"",t=t[1]||"",e=e.toLowerCase(),e=ji.get(e)||e,(t=t.toUpperCase())?e+"-"+t:e}function vi(e,t){return e=yi(e),(t=yi(t))==e?4:bi(t,e)?3:gi(t,e)?2:bi(e,t)?1:0}function Oi(e){return e.language?yi(e.language):e.audio&&e.audio.language?yi(e.audio.language):e.video&&e.video.language?yi(e.video.language):"und"}function wi(e,t){for(var n=yi(e),i=new Set,a=u(t),o=a.next();!o.done;o=a.next())i.add(yi(o.value));for(o=(a=u(i)).next();!o.done;o=a.next())if((o=o.value)==n)return o;for(o=(a=u(i)).next();!o.done;o=a.next())if(bi(o=o.value,n))return o;for(o=(a=u(i)).next();!o.done;o=a.next())if(gi(o=o.value,n))return o;for(o=(i=u(i)).next();!o.done;o=i.next())if(bi(n,o=o.value))return o;return null}var ji=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function xi(e,t){function n(e){var t="";e.video&&(t=At(e.video.codecs)[0]);var n="";return e.audio&&(n=At(e.audio.codecs)[0]),t+"-"+n}for(var i=Ai(e.variants,t),a=new Le,o=(i=u(i)).next();!o.done;o=i.next()){var r=n(o=o.value);a.push(r,o)}var c=null,s=1/0;!function(e,t){for(var n in e.a)t(n,e.a[n])}(a,(function(e,t){for(var n=0,i=0,a=u(t),o=a.next();!o.done;o=a.next())n+=o.value.bandwidth||0,++i;(n/=i)<s&&(c=e,s=n)})),e.variants=e.variants.filter((function(e){return n(e)==c}))}function ki(e,t,n){function i(e,t,n){return e>=t&&e<=n}var a=e.video;return!(a&&a.width&&a.height&&(!i(a.width,t.minWidth,Math.min(t.maxWidth,n.width))||!i(a.height,t.minHeight,Math.min(t.maxHeight,n.height))||!i(a.width*a.height,t.minPixels,t.maxPixels))||e&&e.video&&e.video.frameRate&&!i(e.video.frameRate,t.minFrameRate,t.maxFrameRate)||!i(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function _i(e,t){return e.mimeType==t.mimeType&&e.codecs.split(".")[0]==t.codecs.split(".")[0]}function Si(e){var t=e.audio,n=e.video,i=t?t.codecs:null,a=n?n.codecs:null,o=[];a&&o.push(a),i&&o.push(i);var r=[];n&&r.push(n.mimeType),t&&r.push(t.mimeType),r=r[0]||null;var c=[];t&&c.push(t.kind),n&&c.push(n.kind),c=c[0]||null;var s=new Set;if(t)for(var l=u(t.roles),d=l.next();!d.done;d=l.next())s.add(d.value);if(n)for(d=(l=u(n.roles)).next();!d.done;d=l.next())s.add(d.value);return e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:c,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:r,codecs:o.join(", "),audioCodec:i,videoCodec:a,primary:e.primary,roles:Array.from(s),audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.pixelAspectRatio=n.pixelAspectRatio||null,e.videoBandwidth=n.bandwidth||null),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.label=t.label,e.audioRoles=t.roles),e}function Ii(e){return{id:e.id,active:!1,type:"text",bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:e.mimeType,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId}}function Ni(e){return e.__shaka_id||(e.__shaka_id=Di++),e.__shaka_id}function Ti(e){var t=Ci(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,"main"==e.kind&&(t.primary=!0),e.kind&&(t.roles=[e.kind],t.audioRoles=[e.kind]),t}function Ci(e){return{id:Ni(e),active:!1,type:"",bandwidth:0,language:yi(e.language),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null}}function Pi(e){return e.allowedByApplication&&e.allowedByKeySystem}function Ai(e,t){for(var n=e.filter((function(e){return e.audio&&e.audio.channelsCount})),i=new Map,a=(n=u(n)).next();!a.done;a=n.next()){var o=(a=a.value).audio.channelsCount;i.has(o)||i.set(o,[]),i.get(o).push(a)}return 0==(n=Array.from(i.keys())).length?e:(a=n.filter((function(e){return e<=t}))).length?i.get(Math.max.apply(Math,d(a))):i.get(Math.min.apply(Math,d(n)))}function Mi(e,t,n){var i=e,a=e.filter((function(e){return e.primary}));a.length&&(i=a);var o=i.length?i[0].language:"";if(i=i.filter((function(e){return e.language==o})),t){var r=wi(yi(t),e.map((function(e){return e.language})));r&&(i=e.filter((function(e){return yi(e.language)==r})))}if(n){if((e=Ei(i,n)).length)return e}else if((e=i.filter((function(e){return 0==e.roles.length}))).length)return e;return(e=i.map((function(e){return e.roles})).reduce(wt,[])).length?Ei(i,e[0]):i}function Ei(e,t){return e.filter((function(e){return e.roles.includes(t)}))}var Di=0;function Li(){var e=this;this.h=null,this.c=!1,this.a=new q,navigator.connection&&navigator.connection.addEventListener("change",(function(){if(e.i.useNetworkInformation){e.a=new q;var t=e.chooseVariant();t&&e.h(t)}})),this.b=[],this.g=1,this.j=!1,this.i=this.f=null}function Ri(e){var t=e.i.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&e.i.useNetworkInformation&&(t=1e6*navigator.connection.downlink),t}function zi(e,t){return e&&(t=t.filter((function(t){return ki(t,e,{width:1/0,height:1/0})}))),t.sort((function(e,t){return e.bandwidth-t.bandwidth}))}function Ui(e,t){this.a=e,this.b=new Set([e]);for(var n=u(t=t||[]),i=n.next();!i.done;i=n.next())this.add(i.value)}function Vi(e,t){var n;if(!(n=!!e.audio!=!!t.audio||!!e.video!=!!t.video||e.language!=t.language)&&(n=e.audio&&t.audio)){n=e.audio;var i=t.audio;n=!(n.channelsCount==i.channelsCount&&Bi(n,i)&&Hi(n.roles,i.roles))}return!n&&(n=e.video&&t.video)&&(n=!(Bi(n=e.video,i=t.video)&&Hi(n.roles,i.roles))),!n}function Bi(e,t){if(e.mimeType!=t.mimeType)return!1;var n=e.codecs.split(",").map((function(e){return At(e)[0]})),i=t.codecs.split(",").map((function(e){return At(e)[0]}));if(n.length!=i.length)return!1;n.sort(),i.sort();for(var a=u(ee(n.length)),o=a.next();!o.done;o=a.next())if(n[o=o.value]!=i[o])return!1;return!0}function Hi(e,t){var n=new Set(e),i=new Set(t);if(n.delete("main"),i.delete("main"),n.size!=i.size)return!1;for(var a=(n=u(n)).next();!a.done;a=n.next())if(!i.has(a.value))return!1;return!0}function Fi(e){this.a=e,this.b=new qi(e.language,"",e.audio&&e.audio.channelsCount?e.audio.channelsCount:0,"")}function qi(e,t,n,i,a){this.f=e,this.c=t,this.a=n,this.b=void 0===i?"":i,this.g=void 0===a?"":a}function Wi(){this.a=$i,this.b=(new Map).set($i,2).set(Gi,1)}function Ki(e,t,n){e.b.set($i,n).set(Gi,t)}(a=Li.prototype).stop=function(){this.h=null,this.c=!1,this.b=[],this.g=1,this.f=null},a.init=function(e){this.h=e},a.chooseVariant=function(){var e=zi(this.i.restrictions,this.b),t=this.a.getBandwidthEstimate(Ri(this));this.b.length&&!e.length&&(e=[(e=zi(null,this.b))[0]]);for(var n=e[0]||null,i=(e=u(te(e))).next();!i.done;i=e.next()){var a=i.value;i=a.item;var o=isNaN(this.g)?1:Math.abs(this.g);a=o*(a.next||{bandwidth:1/0}).bandwidth/this.i.bandwidthUpgradeTarget,t>=o*i.bandwidth/this.i.bandwidthDowngradeTarget&&t<=a&&(n=i)}return this.f=Date.now(),n},a.enable=function(){this.c=!0},a.disable=function(){this.c=!1},a.segmentDownloaded=function(e,t){var n=this.a;if(!(16e3>t)){var i=8e3*t/e,a=e/1e3;n.a+=t,H(n.b,a,i),H(n.c,a,i)}if(null!=this.f&&this.c)e:{if(this.j){if(Date.now()-this.f<1e3*this.i.switchInterval)break e}else{if(!(128e3<=this.a.a))break e;this.j=!0}n=this.chooseVariant(),this.a.getBandwidthEstimate(Ri(this)),n&&this.h(n)}},a.getBandwidthEstimate=function(){return this.a.getBandwidthEstimate(this.i.defaultBandwidthEstimate)},a.setVariants=function(e){this.b=e},a.playbackRateChanged=function(e){this.g=e},a.configure=function(e){this.i=e},V("shaka.abr.SimpleAbrManager",Li),Li.prototype.configure=Li.prototype.configure,Li.prototype.playbackRateChanged=Li.prototype.playbackRateChanged,Li.prototype.setVariants=Li.prototype.setVariants,Li.prototype.getBandwidthEstimate=Li.prototype.getBandwidthEstimate,Li.prototype.segmentDownloaded=Li.prototype.segmentDownloaded,Li.prototype.disable=Li.prototype.disable,Li.prototype.enable=Li.prototype.enable,Li.prototype.chooseVariant=Li.prototype.chooseVariant,Li.prototype.init=Li.prototype.init,Li.prototype.stop=Li.prototype.stop,Ui.prototype.add=function(e){return!!Vi(this.a,e)&&(this.b.add(e),!0)},Ui.prototype.values=function(){return this.b.values()},Fi.prototype.create=function(e){var t=this,n=e.filter((function(e){return Vi(t.a,e)}));return n.length?new Ui(n[0],n):this.b.create(e)},qi.prototype.create=function(e){var t=[];t=function(e,t){var n=wi(yi(t),e.map((function(e){return Oi(e)})));return n?e.filter((function(e){return n==Oi(e)})):[]}(e,this.f);var n=e.filter((function(e){return e.primary}));for(t=t.length?t:n.length?n:e,this.c&&((e=function(e,t,n){return e.filter((function(e){if(n){var i=e[n];return i&&i.roles.includes(t)}return i=e.audio,e=e.video,i&&i.roles.includes(t)||e&&e.roles.includes(t)}))}(t,this.c,this.g)).length&&(t=e)),this.a&&((e=Ai(t,this.a)).length&&(t=e)),this.b&&((e=function(e,t){return e.filter((function(e){return!!e.audio&&e.audio.label.toLowerCase()==t.toLowerCase()}))}(t,this.b)).length&&(t=e)),e=new Ui(t[0]),n=(t=u(t)).next();!n.done;n=t.next())n=n.value,Vi(e.a,n)&&e.add(n);return e};var Gi=0,$i=1;function Xi(){}function Yi(e,t,n,i){var a,o,r,c;return E((function(s){if(1==s.a)return i&&(a=Qi[i.toLowerCase()])?s.return(a):(o=Zi(e))&&(r=Ji[o])?s.return(r):i?s.u(2):w(s,function(e,t,n){var i,a,o;return E((function(r){return 1==r.a?((i=$e([e],n)).method="HEAD",w(r,t.request(0,i).promise,2)):(a=r.b,o=a.headers["content-type"],r.return(o?o.toLowerCase().split(";").shift():""))}))}(e,t,n),3);if(2!=s.a&&(i=s.b)&&(c=Qi[i]))return s.return(c);throw new be(2,4,4e3,e)}))}function Zi(e){return 1==(e=new ie(e).ka.split("/").pop().split(".")).length?"":e.pop().toLowerCase()}V("shaka.media.ManifestParser",Xi),Xi.unregisterParserByMime=function(e){delete Qi[e]},Xi.registerParserByMime=function(e,t){Qi[e]=t},Xi.registerParserByExtension=function(e,t){Ji[e]=t};var Qi={},Ji={};function ea(e){var t=this;this.a=e,this.f=!1,this.b=this.a.ic(),this.c=new ye((function(){t.a.Md(.25*t.b)}))}function ta(e){e.c.stop();var t=e.f?0:e.b;if(0<=t)try{return void(e.a.ic()!=t&&e.a.rd(t))}catch(e){}e.c.qa(.25),0!=e.a.ic()&&e.a.rd(0)}function na(e,t,n){this.c=e,this.b=t,this.a=n}function ia(e,t,n,i,a,o,r,c,s,l){l=void 0===l?[]:l,this.startTime=e,this.endTime=t,this.c=n,this.b=i,this.a=a,this.g=o,this.timestampOffset=r,this.appendWindowStart=c,this.appendWindowEnd=s,this.f=l}function aa(e,t,n){this.f=e,this.oc=t,this.h=this.g=1/0,this.a=1,this.b=this.c=null,this.j=0,this.m=!0,this.v=0,this.w=void 0===n||n,this.C=0}function oa(e,t){this.g=e,this.h=ca(e),this.a=e.a.currentTime,this.f=Date.now()/1e3,this.b=!1,this.j=t,this.c=function(){}}function ra(e){this.a=e}function ca(e){if(e.a.paused||0==e.a.playbackRate||0==e.a.buffered.length)var t=!1;else e:{t=e.a.currentTime;for(var n=(e=u(kn(e.a.buffered))).next();!n.done;n=e.next())if(!(t<(n=n.value).start-.1||t>n.end-.5)){t=!0;break e}t=!1}return t}function sa(e,t,n,i,a){var o=this;this.a=e,this.w=t,this.i=n,this.v=a,this.b=new nt,this.j=!1,this.m=e.readyState,this.f=!1,this.c=i,this.h=!1,this.b.l(e,"waiting",(function(){return la(o)})),this.g=new ye((function(){la(o)})).qa(.25)}function la(e){if(0!=e.a.readyState){if(e.a.seeking){if(!e.j)return}else e.j=!1;if(!e.a.paused){var t;if(e.a.readyState!=e.m&&(e.f=!1,e.m=e.a.readyState),!(t=!e.c)){var n=(t=e.c).g,i=ca(n),a=n.a.currentTime,o=Date.now()/1e3;t.a==a&&t.h==i||(t.f=o,t.a=a,t.h=i,t.b=!1),(i=(a=o-t.f)>=t.j&&i&&!t.b)&&(t.c(t.a,a),t.b=!0,t.a=n.a.currentTime),t=!i}if(t){var r=e.i.smallGapLimit;if(a=e.a.currentTime,!(null==(n=function(e,t){if(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0))return null;var n=zt("Edge/")||zt("Trident/")||zt("Tizen")||zt("CrKey")?.5:.1,i=kn(e).findIndex((function(e,i,a){return e.start>t&&(0==i||a[i-1].end-t<=n)}));return 0<=i?i:null}(t=e.a.buffered,a))||0==n&&!e.h||(i=t.start(n),i>=e.w.Ga()))){r=(o=i-a)<=r;var c=!1;.001>o||(r||e.f||(e.f=!0,(a=new De("largegap",{currentTime:a,gapSize:o})).cancelable=!0,e.v(a),e.i.jumpLargeGaps&&!a.defaultPrevented&&(c=!0)),!r&&!c)||(0!=n&&t.end(n-1),e.a.currentTime=i)}}}}}function ua(e,t,n,i){t==HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?i():(t=da.get(t),n.ja(e,t,i))}ea.prototype.release=function(){this.c&&(this.c.stop(),this.c=null),this.a=null},ea.prototype.set=function(e){this.b=e,ta(this)},na.prototype.Qc=function(){return this.b},na.prototype.Pc=function(){return this.a},V("shaka.media.InitSegmentReference",na),na.prototype.getEndByte=na.prototype.Pc,na.prototype.getStartByte=na.prototype.Qc,ia.prototype.Fe=function(){return this.startTime},ia.prototype.se=function(){return this.endTime},ia.prototype.Qc=function(){return this.b},ia.prototype.Pc=function(){return this.a},V("shaka.media.SegmentReference",ia),ia.prototype.getEndByte=ia.prototype.Pc,ia.prototype.getStartByte=ia.prototype.Qc,ia.prototype.getEndTime=ia.prototype.se,ia.prototype.getStartTime=ia.prototype.Fe,(a=aa.prototype).getDuration=function(){return this.g},a.xe=function(){return this.a},a.Aa=function(e){this.g=e},a.Ee=function(){return this.f},a.Xd=function(e){this.j=e},a.Qb=function(e){this.m=e},a.sd=function(e){this.h=e},a.gf=function(e){this.oc=e},a.re=function(){return this.oc},a.rb=function(e){if(0!=e.length){var t=e[e.length-1].endTime;this.bd(e[0].startTime),this.a=e.reduce((function(e,t){return Math.max(e,t.endTime-t.startTime)}),this.a),this.b=Math.max(this.b,t),null!=this.f&&this.w&&(this.f=(Date.now()+this.j)/1e3-this.b-this.a)}},a.bd=function(e){this.c=null==this.c?e:Math.min(this.c,e)},a.$c=function(e){this.a=Math.max(this.a,e)},a.offset=function(e){null!=this.c&&(this.c+=e),null!=this.b&&(this.b+=e)},a.U=function(){return 1/0==this.g&&!this.m},a.Za=function(){return 1/0!=this.g&&!this.m},a.nb=function(){return Math.max(this.v,this.Wa()-this.h)},a.Yd=function(e){this.v=e},a.Wa=function(){return this.U()||this.Za()?Math.min(Math.max(0,(Date.now()+this.j)/1e3-this.a-this.f)+this.C,this.g):this.g},a.Ib=function(e){var t=Math.max(this.c,this.v);return 1/0==this.h?t:Math.max(t,Math.min(this.Wa()-this.h+e,this.Ga()))},a.mb=function(){return this.Ib(0)},a.Ga=function(){return Math.max(0,this.Wa()-(this.U()||this.Za()?this.oc:0))},a.ae=function(){return!(null==this.f||null!=this.b&&this.w)},a.Wd=function(e){this.C=e},V("shaka.media.PresentationTimeline",aa),aa.prototype.setAvailabilityTimeOffset=aa.prototype.Wd,aa.prototype.usingPresentationStartTime=aa.prototype.ae,aa.prototype.getSeekRangeEnd=aa.prototype.Ga,aa.prototype.getSeekRangeStart=aa.prototype.mb,aa.prototype.getSafeSeekRangeStart=aa.prototype.Ib,aa.prototype.getSegmentAvailabilityEnd=aa.prototype.Wa,aa.prototype.setUserSeekStart=aa.prototype.Yd,aa.prototype.getSegmentAvailabilityStart=aa.prototype.nb,aa.prototype.isInProgress=aa.prototype.Za,aa.prototype.isLive=aa.prototype.U,aa.prototype.offset=aa.prototype.offset,aa.prototype.notifyMaxSegmentDuration=aa.prototype.$c,aa.prototype.notifyMinSegmentStartTime=aa.prototype.bd,aa.prototype.notifySegments=aa.prototype.rb,aa.prototype.getDelay=aa.prototype.re,aa.prototype.setDelay=aa.prototype.gf,aa.prototype.setSegmentAvailabilityDuration=aa.prototype.sd,aa.prototype.setStatic=aa.prototype.Qb,aa.prototype.setClockOffset=aa.prototype.Xd,aa.prototype.getPresentationStartTime=aa.prototype.Ee,aa.prototype.setDuration=aa.prototype.Aa,aa.prototype.getMaxSegmentDuration=aa.prototype.xe,aa.prototype.getDuration=aa.prototype.getDuration,oa.prototype.release=function(){this.g=null,this.c=function(){}},sa.prototype.release=function(){this.b&&(this.b.release(),this.b=null),null!=this.g&&(this.g.stop(),this.g=null),this.c&&(this.c.release(),this.c=null),this.a=this.w=this.v=null},sa.prototype.ed=function(){this.h=!0,la(this)};var da=new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]]);function pa(e,t,n){var i=this;this.a=e,this.g=t,this.f=n,this.h=!1,this.b=new nt,this.c=new ga(e),ua(this.a,HTMLMediaElement.HAVE_METADATA,this.b,(function(){ma(i,i.f)}))}function ha(e){return e.h?e.a.currentTime:e.f}function fa(e,t){0<e.a.readyState?ya(e.c,t):ua(e.a,HTMLMediaElement.HAVE_METADATA,e.b,(function(){ma(e,e.f)}))}function ma(e,t){.001>Math.abs(e.a.currentTime-t)?ba(e):(e.b.ja(e.a,"seeking",(function(){ba(e)})),ya(e.c,0==e.a.currentTime?t:e.a.currentTime))}function ba(e){e.h=!0,e.b.l(e.a,"seeking",(function(){return e.g()}))}function ga(e){var t=this;this.b=e,this.h=10,this.g=this.f=this.c=0,this.a=new ye((function(){0>=t.c||t.b.currentTime!=t.f?t.a.stop():(t.b.currentTime=t.g,t.c--)}))}function ya(e,t){e.f=e.b.currentTime,e.g=t,e.c=e.h,e.b.currentTime=t,e.a.qa(.1)}function va(e){var t=this;this.a=e,this.f=!1,this.c=null,this.b=new nt,ua(this.a,HTMLMediaElement.HAVE_CURRENT_DATA,this.b,(function(){null==t.c?t.f=!0:(t.b.ja(t.a,"seeking",(function(){t.f=!0})),t.a.currentTime=Math.max(0,t.a.currentTime+t.c))}))}function Oa(e,t,n,i,a,o){var r=this;this.b=e,this.a=t.presentationTimeline,this.C=t.minBufferTime||0,this.i=n,this.w=a,this.j=null,this.f=new sa(e,t.presentationTimeline,n,function(e,t){if(!t.stallEnabled)return null;var n=t.stallSkip,i=new oa(new ra(e),t.stallThreshold);return function(e,t){e.c=t}(i,(function(){n?e.currentTime+=n:(e.pause(),e.play())})),i}(e,n),o),this.c=new pa(e,(function(){var e=r.f;e.j=!0,e.h=!1,e.f=!1;var t=ha(r.c);return e=ja(r,t),.001<Math.abs(e-t)&&(t=(new Date).getTime()/1e3,!r.j||r.j<t-1)?(r.j=t,fa(r.c,e),e=void 0):(r.w(),e=void 0),e}),function(e,t){return null==t?t=1/0>e.a.getDuration()?e.a.mb():e.a.Ga():0>t&&(t=e.a.Ga()+t),wa(e,xa(e,t))}(this,i)),this.h=new ye((function(){if(0!=r.b.readyState&&!r.b.paused){var e=r.b.currentTime,t=r.a.mb(),n=r.a.Ga();3>n-t&&(t=n-3),e<t&&(e=ja(r,e),r.b.currentTime=e)}})).qa(.25)}function wa(e,t){var n=e.a.getDuration();return t>=n?n-e.i.durationBackoff:t}function ja(e,t){var n=Math.max(e.C,e.i.rebufferingGoal),i=e.i.safeSeekOffset,a=e.a.mb(),o=e.a.Ga(),r=e.a.getDuration();3>o-a&&(a=o-3);var c=e.a.Ib(n),s=e.a.Ib(i);return n=e.a.Ib(n+i),t>=r?wa(e,t):t>o?o:t<a?jn(e.b.buffered,s)?s:n:t>=c||jn(e.b.buffered,t)?t:n}function xa(e,t){var n=e.a.mb();return t<n||t>(n=e.a.Ga())?n:t}function ka(e){var t=this;this.c=e,this.a=new Set,this.b=new ye((function(){_a(t,!1)})).qa(.25)}function _a(e,t){for(var n=u(e.a),i=n.next();!i.done;i=n.next()){i=i.value;for(var a=e.c.currentTime,o=t,r=u(i.g.a),c=r.next();!c.done;c=r.next()){c=c.value;var s=i.f.get(c),l=a<c.startTime?Na:a>c.endTime?Ca:Ta;i.f.set(c,l);for(var d=u(i.h),p=d.next();!p.done;p=d.next())(p=p.value).fb==s&&p.eb==l&&p.Ya(c,o)}}}function Sa(e){var t=this;this.b=function(){},this.a=new Set,this.f=e,this.c=new ye((function(){for(var e=t.f(),n=u(t.a),i=n.next();!i.done;i=n.next())(i=i.value).endTime<e.start&&t.a.delete(i)})).qa(2)}function Ia(e){var t=this;this.g=e,this.f=new Map,this.a=function(){},this.b=function(){},this.c=function(){},this.h=[{fb:null,eb:Ta,Ya:function(e,n){return t.a(e,n)}},{fb:Na,eb:Ta,Ya:function(e,n){return t.a(e,n)}},{fb:Ca,eb:Ta,Ya:function(e,n){return t.a(e,n)}},{fb:Ta,eb:Na,Ya:function(e,n){return t.b(e,n)}},{fb:Ta,eb:Ca,Ya:function(e,n){return t.b(e,n)}},{fb:Na,eb:Ca,Ya:function(e,n){return t.c(e,n)}},{fb:Ca,eb:Na,Ya:function(e,n){return t.c(e,n)}}]}pa.prototype.release=function(){this.b&&(this.b.release(),this.b=null),null!=this.c&&(this.c.release(),this.c=null),this.g=function(){},this.a=null},ga.prototype.release=function(){this.a&&(this.a.stop(),this.a=null),this.b=null},va.prototype.release=function(){this.b&&(this.b.release(),this.b=null),this.a=null},va.prototype.m=function(e){this.c=this.f?this.c:e},va.prototype.g=function(){return(this.f?this.a.currentTime:this.c)||0},va.prototype.v=function(){},Oa.prototype.release=function(){this.c&&(this.c.release(),this.c=null),this.f&&(this.f.release(),this.f=null),this.h&&(this.h.stop(),this.h=null),this.b=this.c=this.a=this.i=null,this.w=function(){}},Oa.prototype.m=function(e){fa(this.c,e)},Oa.prototype.g=function(){var e=ha(this.c);return 0<this.b.readyState&&!this.b.paused?xa(this,e):e},Oa.prototype.v=function(){this.f.ed()},ka.prototype.release=function(){this.b.stop();for(var e=u(this.a),t=e.next();!t.done;t=e.next())t.value.release();this.a.clear()},Sa.prototype.release=function(){this.b=function(){},this.a.clear(),this.c.stop()},Ia.prototype.release=function(){this.g=null,this.f.clear(),this.a=function(){},this.b=function(){},this.c=function(){}};var Na=1,Ta=2,Ca=3;function Pa(e){this.a=e,this.b=null,this.c=0}function Aa(e,t,n){return new Pa([new ia(e,e+t,(function(){return n}),0,null,null,e,e,e+t)])}function Ma(e){this.c=e,this.a=(e=this.c.find(0))?e-1:-1,this.b=-1}function Ea(){Pa.call(this,[]),this.f=[]}function Da(e,t){this.P=Me(e),this.a=t==Ra,this.B=0}function La(){return new be(2,3,3e3)}(a=Pa.prototype).destroy=function(){return gt("shaka.media.SegmentIndex","Please use release() instead of destroy()."),this.release(),Promise.resolve()},a.release=function(){this.a=[],this.b&&this.b.stop(),this.b=null},a.find=function(e){for(var t=this.a.length-1;0<=t;--t){var n=this.a[t];if(e>=n.startTime&&e<n.endTime)return t+this.c}return this.a.length&&e<this.a[0].startTime?this.c:null},a.get=function(e){return 0==this.a.length||0>(e-=this.c)||e>=this.a.length?null:this.a[e]},a.offset=function(e){for(var t=u(this.a),n=t.next();!n.done;n=t.next())(n=n.value).startTime+=e,n.endTime+=e,n.timestampOffset+=e},a.pb=function(e){e.length&&(this.a=this.a.filter((function(t){return t.startTime<e[0].startTime})),this.a.push.apply(this.a,d(e)))},a.Ua=function(e){var t=this.a.length;this.a=this.a.filter((function(t){return t.endTime>e})),this.c+=t-this.a.length},a.Na=function(e,t){for(;this.a.length&&this.a[this.a.length-1].startTime>=t;)this.a.pop();for(;this.a.length&&this.a[0].endTime<=e;)this.a.shift(),this.c++;if(0!=this.a.length){var n=this.a[this.a.length-1];this.a[this.a.length-1]=new ia(n.startTime,t,n.c,n.b,n.a,n.g,n.timestampOffset,n.appendWindowStart,n.appendWindowEnd)}},a.rc=function(e,t){var n=this;this.b&&this.b.stop(),this.b=new ye((function(){var e=t();n.a.push.apply(n.a,d(e)),0==n.a.length&&(n.b.stop(),n.b=null)})),this.b.qa(e)},Pa.prototype[Symbol.iterator]=function(){return new Ma(this)},V("shaka.media.SegmentIndex",Pa),Pa.forSingleSegment=Aa,Pa.prototype.updateEvery=Pa.prototype.rc,Pa.prototype.fit=Pa.prototype.Na,Pa.prototype.evict=Pa.prototype.Ua,Pa.prototype.merge=Pa.prototype.pb,Pa.prototype.offset=Pa.prototype.offset,Pa.prototype.get=Pa.prototype.get,Pa.prototype.find=Pa.prototype.find,Pa.prototype.release=Pa.prototype.release,Pa.prototype.destroy=Pa.prototype.destroy,Ma.prototype.seek=function(e){var t=this.c.find(e);if(null==t)return this.a=Math.pow(2,31),null;if(this.a=t,(t=this.c.get(this.a))&&0<t.f.length)for(var n=t.f,i=n.length-1;0<=i;--i){var a=n[i];if(e>=a.startTime&&e<a.endTime){this.b=i,t=a;break}}return t},Ma.prototype.current=function(){var e=this.c.get(this.a);return e&&0<e.f.length&&e.c().length&&this.b>=e.f.length&&(this.a++,this.b=0,e=this.c.get(this.a)),e&&0<e.f.length?e.f[this.b]:e},Ma.prototype.next=function(){var e=this.c.get(this.a);return e&&0<e.f.length?(this.b++,e.c().length&&this.b==e.f.length&&(this.a++,this.b=0)):(this.a++,this.b=0),{value:e=this.current(),done:!e}},V("shaka.media.SegmentIterator",Ma),Ma.prototype.next=Ma.prototype.next,Ma.prototype.current=Ma.prototype.current,Ma.prototype.seek=Ma.prototype.seek,g(Ea,Pa),(a=Ea.prototype).clone=function(){var e=new Ea;return e.f=this.f.slice(),e},a.release=function(){for(var e=u(this.f),t=e.next();!t.done;t=e.next())t.value.release();this.f=[]},a.find=function(e){for(var t=0,n=u(this.f),i=n.next();!i.done;i=n.next()){var a=(i=i.value).find(e);if(null!=a)return a+t;t+=i.c+i.a.length}return null},a.get=function(e){for(var t=0,n=u(this.f),i=n.next();!i.done;i=n.next()){var a=(i=i.value).get(e-t);if(a)return a;t+=i.c+i.a.length}return null},a.offset=function(){},a.pb=function(){},a.Ua=function(){},a.Na=function(){},a.rc=function(){},V("shaka.media.MetaSegmentIndex",Ea),Ea.prototype.updateEvery=Ea.prototype.rc,Ea.prototype.fit=Ea.prototype.Na,Ea.prototype.evict=Ea.prototype.Ua,Ea.prototype.merge=Ea.prototype.pb,Ea.prototype.offset=Ea.prototype.offset,Ea.prototype.get=Ea.prototype.get,Ea.prototype.find=Ea.prototype.find,Ea.prototype.release=Ea.prototype.release,(a=Da.prototype).pa=function(){return this.B<this.P.byteLength},a.De=function(){return this.B},a.te=function(){return this.P.byteLength},a.W=function(){try{var e=this.P.getUint8(this.B);return this.B+=1,e}catch(e){throw La()}},a.ub=function(){try{var e=this.P.getUint16(this.B,this.a);return this.B+=2,e}catch(e){throw La()}},a.I=function(){try{var e=this.P.getUint32(this.B,this.a);return this.B+=4,e}catch(e){throw La()}},a.Qd=function(){try{var e=this.P.getInt32(this.B,this.a);return this.B+=4,e}catch(e){throw La()}},a.vb=function(){try{if(this.a)var e=this.P.getUint32(this.B,!0),t=this.P.getUint32(this.B+4,!0);else t=this.P.getUint32(this.B,!1),e=this.P.getUint32(this.B+4,!1)}catch(e){throw La()}if(2097151<t)throw new be(2,3,3001);return this.B+=8,t*Math.pow(2,32)+e},a.Qa=function(e){if(this.B+e>this.P.byteLength)throw La();var t=Ae(this.P,this.B,e);return this.B+=e,t},a.skip=function(e){if(this.B+e>this.P.byteLength)throw La();this.B+=e},a.Sd=function(e){if(this.B<e)throw La();this.B-=e},a.seek=function(e){if(0>e||e>this.P.byteLength)throw La();this.B=e},a.gd=function(){for(var e=this.B;this.pa()&&0!=this.P.getUint8(this.B);)this.B+=1;return e=Ae(this.P,e,this.B-e),this.B+=1,ct(e)},V("shaka.util.DataViewReader",Da),Da.prototype.readTerminatedString=Da.prototype.gd,Da.prototype.seek=Da.prototype.seek,Da.prototype.rewind=Da.prototype.Sd,Da.prototype.skip=Da.prototype.skip,Da.prototype.readBytes=Da.prototype.Qa,Da.prototype.readUint64=Da.prototype.vb,Da.prototype.readInt32=Da.prototype.Qd,Da.prototype.readUint32=Da.prototype.I,Da.prototype.readUint16=Da.prototype.ub,Da.prototype.readUint8=Da.prototype.W,Da.prototype.getLength=Da.prototype.te,Da.prototype.getPosition=Da.prototype.De,Da.prototype.hasMoreData=Da.prototype.pa;var Ra=1;function za(){this.c=[],this.b=[],this.a=!1}function Ua(e){for(var t=null!=e.flags?12:8;e.reader.pa()&&!e.parser.a;)e.parser.nc(e.start+t,e.reader,e.partialOkay)}function Va(e){for(var t=null!=e.flags?12:8,n=e.reader.I(),i=(n=u(ee(n))).next();!i.done&&(e.parser.nc(e.start+t,e.reader,e.partialOkay),!e.parser.a);i=n.next());}function Ba(e){return function(t){e(t.reader.Qa(t.reader.P.byteLength-t.reader.B))}}function Ha(e){for(var t=0,n=(e=u(e)).next();!n.done;n=e.next())t=t<<8|n.value.charCodeAt(0);return t}function Fa(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}Da.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:Ra},(a=za.prototype).H=function(e,t){var n=Ha(e);return this.c[n]=qa,this.b[n]=t,this},a.V=function(e,t){var n=Ha(e);return this.c[n]=Wa,this.b[n]=t,this},a.stop=function(){this.a=!0},a.parse=function(e,t){var n=new Da(e,0);for(this.a=!1;n.pa()&&!this.a;)this.nc(0,n,t)},a.nc=function(e,t,n){var i=t.B,a=t.I(),o=t.I();switch(a){case 0:a=t.P.byteLength-i;break;case 1:a=t.vb()}var r=this.b[o];if(r){var c=null,s=null;this.c[o]==Wa&&(c=(s=t.I())>>>24,s&=16777215),o=i+a,n&&o>t.P.byteLength&&(o=t.P.byteLength),r({parser:this,partialOkay:n||!1,version:c,flags:s,reader:t=new Da(t=0<(o-=t.B)?t.Qa(o):new Uint8Array(0),0),size:a,start:i+e})}else t.skip(Math.min(i+a-t.B,t.P.byteLength-t.B))},V("shaka.util.Mp4Parser",za),za.typeToString=Fa,za.allData=Ba,za.sampleDescription=Va,za.children=Ua,za.prototype.parseNext=za.prototype.nc,za.prototype.parse=za.prototype.parse,za.prototype.stop=za.prototype.stop,za.prototype.fullBox=za.prototype.V,za.prototype.box=za.prototype.H;var qa=0,Wa=1;function Ka(e,t,n,i){return e=$e(e,i),0==t&&null==n||(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),e}function Ga(e,t){var n=this;this.s=t,this.o=e,this.i=null,this.f=1,this.c=this.b=null,this.a=new Map,this.h=!1,this.j=null,this.g=!1,this.D=new et((function(){return function(e){var t,n,i,a;return E((function(o){if(1==o.a){for(t=[],n=u(e.a.values()),i=n.next();!i.done;i=n.next())oo(a=i.value),t.push(ro(a));return w(o,Promise.all(t),2)}e.a.clear(),e.s=null,e.o=null,e.i=null,j(o)}))}(n)}))}function $a(e,t){var n=e.a.get("video");if(n){var i=n.stream;if(i)if(t){var a=i.trickModeVideo;a&&!n.bb&&(Za(e,a,!1,0,!1),n.bb=i)}else(i=n.bb)&&(n.bb=null,Za(e,i,!0,0,!1))}}function Xa(e,t,n,i){n=void 0!==n&&n,i=void 0===i?0:i,e.b=t,e.h&&(t.video&&Za(e,t.video,n,i,!1),t.audio&&Za(e,t.audio,n,i,!1))}function Ya(e,t){e.c=t,e.h&&Za(e,t,!0,0,!1)}function Za(e,t,n,i,a){var o=e.a.get(t.type);o||"text"!=t.type?o&&(o.bb&&(t.trickModeVideo?(o.bb=t,t=t.trickModeVideo):o.bb=null),o.stream!=t||a)&&("text"==t.type&&ti(e.s.L,Pt(t.mimeType,t.codecs)),o.stream=t,o.stream.segmentIndex?o.za=o.stream.segmentIndex[Symbol.iterator]():o.za=null,n&&(o.Db?o.uc=!0:o.Pa?(o.xb=!0,o.dc=i,o.uc=!0):(oo(o),io(e,o,!0,i).catch((function(t){e.s&&e.s.onError(t)})))),function(e,t){var n,i;return E((function(a){if(1==a.a)return t.Ha?(n=t.stream,i=t.Ha,n.segmentIndex?a.u(2):w(a,n.createSegmentIndex(),2)):a.return();if(t.Ha!=i||t.stream!=n)return a.return();t.za=t.stream.segmentIndex[Symbol.iterator]();var o=e.s.hc(),r=ai(e.s.L,t.type),c=eo(e,t,o,r),s=c&&c.a?c.a-c.b:null;c&&!s&&(s=(c.endTime-c.startTime)*(t.stream.bandwidth||0)/8),s?((c=c.g)&&(s+=(c.a?c.a-c.b:null)||0),o=8*s/(c=e.s.getBandwidthEstimate())<(r||0)-o-Math.max(e.o.minBufferTime||0,e.i.rebufferingGoal)||t.Ha.b.a>s):o=!1,o&&t.Ha.abort(),j(a)}))}(e,o).catch((function(t){e.s&&e.s.onError(t)}))):function(e,t){var n,i,a,o,r;E((function(c){switch(c.a){case 1:return n=It,x(c,2),w(c,si(e.s.L,n.ba),4);case 4:_(c,3);break;case 2:i=S(c),e.s&&e.s.onError(i);case 3:a=Pt(t.mimeType,t.codecs),ti(e.s.L,a),o=e.s.L.h,(o.isTextVisible()||e.i.alwaysStreamText)&&(r=Ja(t),e.a.set(n.ba,r),ao(e,r,0)),j(c)}}))}(e,t)}function Qa(e,t){t.Db||t.xb||(t.Pa?(t.xb=!0,t.dc=0):null==ii(e.s.L,t.type)?null==t.Ca&&ao(e,t,0):(oo(t),io(e,t,!1,0).catch((function(t){e.s&&e.s.onError(t)}))))}function Ja(e){var t=e.segmentIndex?e.segmentIndex[Symbol.iterator]():null;return{stream:e,type:e.type,Lb:null,za:t,Oa:null,Wc:null,Xc:null,Vc:null,Uc:null,bb:null,endOfStream:!1,Pa:!1,Ca:null,xb:!1,dc:0,uc:!1,Db:!1,jd:!1,Jb:!1,Ha:null}}function eo(e,t,n,i){if(t.stream==t.Lb)return t.za.current();if(t.Oa)return t.za.seek(t.Oa.endTime);if(i)return t.za.seek(i);e=e.i.inaccurateManifestTolerance,i=Math.max(n-e,0);var a=null;return e&&(a=t.za.seek(i)),a||(a=t.za.seek(n)),a}function to(e){return e&&"text"==e.type&&"application/cea-608"==e.stream.mimeType}function no(e,t,n){var i,a,o,r;return E((function(c){return 1==c.a?(i=Ze,a=Ka(n.c(),n.b,n.a,e.i.retryParameters),o=e.s.qb.request(i,a),t.Ha=o,w(c,o.promise,2)):(r=c.b,t.Ha=null,c.return(r.data))}))}function io(e,t,n,i){var a,o;return E((function(r){return 1==r.a?(t.xb=!1,t.uc=!1,t.dc=0,t.Db=!0,i?(a=e.s.hc(),o=e.s.L.getDuration(),w(r,e.s.L.remove(t.type,a+i,o),3)):w(r,si(e.s.L,t.type),4)):3!=r.a?(tt(e.D),n?w(r,e.s.L.flush(t.type),3):r.u(3)):(tt(e.D),t.Lb=null,t.Oa=null,t.Db=!1,t.endOfStream=!1,ao(e,t,0),void j(r))}))}function ao(e,t,n){t.Ca=new ge((function(){var n;return E((function(i){return 1==i.a?(x(i,2),w(i,e.Mb(t),4)):2!=i.a?_(i,0):(n=S(i),e.s&&e.s.onError(n),void j(i))}))})).S(n)}function oo(e){null!=e.Ca&&(e.Ca.stop(),e.Ca=null)}function ro(e){return E((function(t){return e.Ha?w(t,e.Ha.abort(),0):t.u(0)}))}function co(e,t){E((function(n){if(1==n.a)return w(n,Oe(e.j),2);tt(e.D),e.s.onError(t),t.handled||e.i.failureCallback(t),j(n)}))}function so(e,t){var n=dr(),i=this;this.h=t,this.c=e,this.f=n,this.j=null,this.g=[],this.b=this.a=null,this.m=Promise.resolve().then((function(){return function(e){return E((function(t){if(e.D.a)t=t.u(0);else{if(0==e.g.length||e.a&&!e.a.Xa)var n=!1;else{e.a&&(e.a.xa.$a(),e.a=null);var i=(n=e.g.shift()).create(e.f);i?(n.xa.sb(),e.a={node:i.node,payload:i.payload,Xa:i.Xa,xa:n.xa}):n.xa.mc(),n=!0}n?n=Promise.resolve():e.a?n=function(e){var t,n;return E((function(i){switch(i.a){case 1:return e.c=e.h.ze(e.c,e.f,e.a.node,e.a.payload),x(i,2),e.b=e.h.oe(e.c,e.f,e.a.payload),w(i,e.b.promise,4);case 4:e.b=null,e.c==e.a.node&&(e.a.xa.kc(),e.a=null),_(i,0);break;case 2:return 7001==(t=S(i)).code?e.a.xa.$a():e.a.xa.onError(t),e.a=null,e.b=null,n=e,w(i,e.h.handleError(e.f,t),5);case 5:n.c=i.b,j(i)}}))}(e):(e.h.Pe(e.c),e.j=new we,n=e.j),t=w(t,n,1)}return t}))}(i)})),this.D=new et((function(){return function(e){var t,n;return E((function(i){if(1==i.a)return e.b&&e.b.abort(),uo(e),w(i,e.m,2);for(e.a&&e.a.xa.$a(),t=u(e.g),n=t.next();!n.done;n=t.next())n.value.xa.$a();e.a=null,e.g=[],e.h=null,j(i)}))}(i)}))}function lo(e,t){var n={sb:function(){},kc:function(){},$a:function(){},onError:function(){},mc:function(){},Vf:function(){}};return e.g.push({create:t,xa:n}),e.b&&e.b.abort(),uo(e),n}function uo(e){e.j&&(e.j.resolve(),e.j=null)}function po(e){this.a=null;for(var t=u(Array.from(e.textTracks)),n=t.next();!n.done;n=t.next())(n=n.value).mode="disabled","Shaka Player TextTrack"==n.label&&(this.a=n);this.a||(this.a=e.addTextTrack("subtitles","Shaka Player TextTrack")),this.a.mode="hidden"}function ho(e){if(e.startTime>=e.endTime)return null;var t=new VTTCue(e.startTime,e.endTime,e.payload);t.lineAlign=e.lineAlign,t.positionAlign=e.positionAlign,e.size&&(t.size=e.size);try{t.align=e.textAlign}catch(e){}return"center"==e.textAlign&&"center"!=t.align&&(t.align="middle"),"vertical-lr"==e.writingMode?t.vertical="lr":"vertical-rl"==e.writingMode&&(t.vertical="rl"),1==e.lineInterpretation&&(t.snapToLines=!1),null!=e.line&&(t.line=e.line),null!=e.position&&(t.position=e.position),t}function fo(e,t){var n=e.mode;e.mode="showing"==n?"showing":"hidden";for(var i=u(Array.from(e.cues)),a=i.next();!a.done;a=i.next())(a=a.value)&&t(a)&&e.removeCue(a);e.mode=n}function mo(){}function bo(e,t){var n=this;this.h=!1,this.c=[],this.a=e,this.g=t,this.b=document.createElement("div"),this.b.classList.add("shaka-text-container"),this.g.appendChild(this.b),this.j=new ye((function(){go(n)})).qa(.25),this.f=new Map}function go(e){function t(t){return e.c.includes(t)&&e.h&&t.startTime<=n&&t.endTime>=n}for(var n=e.a.currentTime,i=u(e.f.keys()),a=i.next();!a.done;a=i.next())if(!t(a=a.value)){var o=e.f.get(a);e.b.removeChild(o),e.f.delete(a)}for(i=new Set(e.f.values()),o=(a=u(Array.from(e.b.childNodes))).next();!o.done;o=a.next())o=o.value,i.has(o)||e.b.removeChild(o);for(a=(i=u(i=e.c.filter((function(n){return t(n)&&!e.f.has(n)})).sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime-t.endTime})))).next();!a.done;a=i.next())a=a.value,o=yo(e,e.b,a,!1),e.f.set(a,o)}function yo(e,t,n,i){var a=document.createElement(i?"span":"div");for(function(e,t,n,i){var a=t.style,o=0==n.nestedCues.length;n.spacer?(a.flexBasis="100%",a.height="0"):(a.whiteSpace="pre-wrap",t.textContent=n.payload.replace(/\s+$/g,(function(e){return" ".repeat(e.length)})),a.backgroundColor=n.backgroundColor,a.border=n.border,a.color=n.color,a.direction=n.direction,a.opacity=n.opacity,a.paddingLeft=vo(n.linePadding,n,e.g),a.paddingRight=vo(n.linePadding,n,e.g),n.backgroundImage&&(a.backgroundImage="url('"+n.backgroundImage+"')",a.backgroundRepeat="no-repeat",a.backgroundSize="contain",a.backgroundPosition="center",""==n.backgroundColor&&(a.backgroundColor="transparent"),n.region&&(t=n.region.widthUnits==Gn?"%":"px",a.height=n.region.height+(n.region.heightUnits==Gn?"%":"px"),a.width=n.region.width+t)),a.justifyContent="before"==n.displayAlign?"flex-start":"center"==n.displayAlign?"center":"flex-end",o?a.display="inline-block":(a.display="flex",a.flexDirection="row",a.flexWrap="wrap",a.margin="0",a.alignItems=a.justifyContent,a.justifyContent="center"),i&&(a.maxWidth="100%"),a.fontFamily=n.fontFamily,a.fontWeight=n.fontWeight.toString(),a.fontStyle=n.fontStyle,a.letterSpacing=n.letterSpacing,a.fontSize=vo(n.fontSize,n,e.g),n.line?1==n.lineInterpretation&&(a.position="absolute",n.writingMode==Un?n.lineAlign==Bn?a.top=n.line+"%":"end"==n.lineAlign&&(a.bottom=n.line+"%"):"vertical-lr"==n.writingMode?n.lineAlign==Bn?a.left=n.line+"%":"end"==n.lineAlign&&(a.right=n.line+"%"):n.lineAlign==Bn?a.right=n.line+"%":"end"==n.lineAlign&&(a.left=n.line+"%")):n.region&&n.region.id&&!i&&!o&&(e=n.region.widthUnits==Gn?"%":"px",i=n.region.viewportAnchorUnits==Gn?"%":"px",a.height=n.region.height+(n.region.heightUnits==Gn?"%":"px"),a.width=n.region.width+e,a.position="absolute",a.top=n.region.viewportAnchorY+i,a.left=n.region.viewportAnchorX+i),a.lineHeight=n.lineHeight,n.position&&(n.writingMode==Un?a.paddingLeft=n.position:a.paddingTop=n.position),"line-left"==n.positionAlign?a.cssFloat="left":"line-right"==n.positionAlign&&(a.cssFloat="right"),a.textAlign=n.textAlign,a.textDecoration=n.textDecoration.join(" "),a.writingMode=n.writingMode,n.size&&(n.writingMode==Un?a.width=n.size+"%":a.height=n.size+"%"))}(e,a,n,i),i=(n=u(n.nestedCues)).next();!i.done;i=n.next())yo(e,a,i.value,!0);return t.appendChild(a),a}function vo(e,t,n){var i=(i=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e))?{value:Number(i[1]),lf:i[2]}:null;if(!i)return e;var a=i.value;switch(i.lf){case"%":return a/100*n.clientHeight/t.cellResolution.rows+"px";case"c":return n.clientHeight*a/t.cellResolution.rows+"px";default:return e}}function Oo(){}function wo(e,t,i,a,o){var r,c=o in a,s=!0;for(r in t){var l=o+"."+r,u=c?a[o]:i[r];c||r in i?void 0===t[r]?void 0===u||c?delete e[r]:e[r]=ze(u):u.constructor==Object&&t[r]&&t[r].constructor==Object?(e[r]||(e[r]=ze(u)),l=wo(e[r],t[r],u,a,l),s=s&&l):n(t[r])!=n(u)||null==t[r]||"function"!=typeof t[r]&&t[r].constructor!=u.constructor?(K("Invalid config, wrong type for "+l),s=!1):("function"==typeof i[r]&&i[r].length!=t[r].length&&G("Unexpected number of arguments for "+l),e[r]=t[r]):(K("Invalid config, unrecognized key "+l),s=!1)}return s}function jo(e,t){for(var n={},i=n,a=0,o=0;!(0>(a=e.indexOf(".",a)));)0!=a&&"\\"==e[a-1]||(i[o=e.substring(o,a).replace(/\\\./g,".")]={},i=i[o],o=a+1),a+=1;return i[e.substring(o).replace(/\\\./g,".")]=t,n}function xo(){}function ko(){var e=1/0;navigator.connection&&navigator.connection.saveData&&(e=360);var t={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,initDataTransform:cn,logLicenseExchange:!1,updateExpirationTime:1},n={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,defaultPresentationDelay:0,dash:{clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1},hls:{ignoreTextStreamFailures:!1,useFullSegmentsForStartTime:!1}},i={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},failureCallback:function(e){return[e]},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1,forceTransmuxTS:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1};(zt("Web0S")||zt("Tizen")||zt("CrKey"))&&(i.stallSkip=0);var a={trackSelectionCallback:function(e){return E((function(t){return t.return(e)}))},progressCallback:function(e,t){return[e,t]},usePersistentLicense:!0},o={drm:t,manifest:n,streaming:i,offline:a,abrFactory:function(){return new Li},abr:{enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0}},preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null}};return a.trackSelectionCallback=function(e){return E((function(t){return t.return(function(e,t){var n=e.filter((function(e){return"variant"==e.type})),i=[],a=wi(t,n.map((function(e){return e.language})));a&&(i=n.filter((function(e){return yi(e.language)==a}))),0==i.length&&(i=n.filter((function(e){return e.primary}))),0==i.length&&(n.map((function(e){return e.language})),i=n);var o=i.filter((function(e){return e.height&&480>=e.height}));if(o.length&&(o.sort((function(e,t){return t.height-e.height})),i=o.filter((function(e){return e.height==o[0].height}))),n=[],i.length){var r=Math.floor(i.length/2);i.sort((function(e,t){return e.bandwidth-t.bandwidth})),n.push(i[r])}for(i=u(e),r=i.next();!r.done;r=i.next())"text"==(r=r.value).type&&n.push(r);return n}(e,o.preferredAudioLanguage))}))},o}function _o(e,t,n){var i={".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",serverCertificate:new Uint8Array(0),individualizationServer:""}};return wo(e,t,n||ko(),i,"")}function So(){this.a=null,this.b=[]}function Io(e,t){if(null==e.a)e.a={timestamp:Date.now()/1e3,state:t,duration:0};else{var n=Date.now()/1e3;e.a.duration=n-e.a.timestamp,e.a.state!=t&&(e.b.push(e.a),e.a={timestamp:n,state:t,duration:0})}}function No(e,t){var n=0;e.a&&e.a.state==t&&(n+=e.a.duration);for(var i=u(e.b),a=i.next();!a.done;a=i.next())n+=(a=a.value).state==t?a.duration:0;return n}function To(){this.b=this.c=null,this.a=[]}function Co(e,t,n){e.c!=t&&(e.c=t,e.a.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:n,bandwidth:t.bandwidth}))}function Po(e,t,n){e.b!=t&&(e.b=t,e.a.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:n,bandwidth:null}))}function Ao(){this.h=this.j=this.C=this.v=this.G=this.f=this.w=this.g=this.c=this.J=this.K=this.M=this.m=this.T=NaN,this.b=new So,this.a=new To}function Mo(t,n){Re.call(this);var i=this;this.g=zr,this.ac=this.a=null,this.T=!1,this.b=new nt,this.Fc=this.j=this.La=this.o=this.Zb=this.m=this.c=this.$b=this.C=this.Sa=this.w=this.ta=this.v=this.G=this.h=this.N=null,this.xd=1e9,this.i=Ho(this),this.Lc={width:1/0,height:1/0},this.f=null,this.Ma=new qi(this.i.preferredAudioLanguage,this.i.preferredVariantRole,this.i.preferredAudioChannelCount),this.ea=this.i.preferredTextLanguage,this.Xb=this.i.preferredTextRole,this.Gc=[],n&&n(this),this.N=function(e){return new Ke((function(t,n){e.j&&e.j.segmentDownloaded(t,n)}))}(this),this.J=null,qr&&(this.J=kt(qr)),this.b.l(e,"online",(function(){i.kd()})),this.ga={name:"detach"},this.Ea={name:"attach"},this.M={name:"unload"},this.vc={name:"manifest-parser"},this.Kc={name:"manifest"},this.sa={name:"media-source"},this.Hc={name:"drm-engine"},this.K={name:"load"},this.Mc={name:"src-equals-drm-engine"},this.ua={name:"src-equals"};var a=new Map;a.set(this.Ea,(function(e,t){return Se(function(e,t,n){return null==t.A&&(t.A=n.A,e.b.l(t.A,"error",(function(){var t=nr(e);t&&er(e,t)}))),e.a=t.A,Promise.resolve()}(i,e,t))})),a.set(this.ga,(function(e){return e.A&&(i.b.ra(e.A,"error"),e.A=null),i.a=null,Se(e=Promise.resolve())})),a.set(this.M,(function(e){return Se(Do(i,e))})),a.set(this.sa,(function(e){return Se(e=function(e,t){var n,i,a,o;return E((function(r){if(1==r.a)return n=new vn,i=e.i.textDisplayFactory,a=kt(i),e.Ic=i,w(r,(o=function(e,t,n,i){return new Jn(e,t,n,i)}(t.A,n,a,(function(t,n,i){for(var a=(t=u(t)).next();!a.done;a=t.next())if((a=a.value).data&&a.cueTime&&a.frames){for(var o=a.cueTime+n,r=i,c=u(a.frames),s=c.next();!s.done;s=c.next())Lo(e,o,r,"ID3",s.value);e.J&&e.J.onHlsTimedMetadata(a,o)}}))).w,2);e.G=o,j(r)}))}(i,e))})),a.set(this.vc,(function(e,t){return Se(function(e,t,n){var i,a,o,r;return E((function(c){if(1==c.a)return t.mimeType=n.mimeType,t.uri=n.uri,i=t.uri,a=e.N,e.La=i,o=e,w(c,Yi(i,a,e.i.manifest.retryParameters,t.mimeType),2);o.Zb=c.b,e.m=kt(e.Zb),r=ze(e.i.manifest),n.A&&"AUDIO"===n.A.nodeName&&(r.disableVideo=!0),e.m.configure(r),j(c)}))}(i,e,t))})),a.set(this.Kc,(function(e){return function(e,t){var n=t.uri,i=e.N;e.$b=new Sa((function(){return e.md()})),function(e,t){e.b=t}(e.$b,(function(t){tr(e,Cr,t),e.J&&e.J.onDashTimedMetadata(t)}));var a={networkingEngine:i,filter:function(t){return E((function(n){return n.return(e.jb(t))}))},makeTextStreamsForClosedCaptions:function(t){return function(e,t){for(var n=new Set,i=u(t.textStreams),a=i.next();!a.done;a=i.next())"application/cea-608"==(a=a.value).mimeType&&n.add(a.originalId);for(i=u(t.variants),a=i.next();!a.done;a=i.next())if((a=a.value.video)&&a.closedCaptions)for(var o=u(a.closedCaptions.keys()),r=o.next();!r.done;r=o.next())if(r=r.value,!n.has(r)){var c=new Ea;c={id:e.xd++,originalId:r,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:c,mimeType:"application/cea-608",codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:a.closedCaptions.get(r),label:null,type:"text",primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:a.roles,channelsCount:null,audioSamplingRate:null,closedCaptions:null},t.textStreams.push(c),n.add(r)}}(e,t)},onTimelineRegionAdded:function(t){var n=e.$b;e:{for(var i=u(n.a),a=i.next();!a.done;a=i.next())if((a=a.value).schemeIdUri==t.schemeIdUri&&a.id==t.id&&a.startTime==t.startTime&&a.endTime==t.endTime){i=a;break e}i=null}null==i&&(n.a.add(t),n.b(t))},onEvent:function(t){return e.dispatchEvent(t)},onError:function(t){return er(e,t)},isLowLatencyMode:function(){return e.i.streaming.lowLatencyMode}},o=Date.now()/1e3;return new je(function(){var t,i,r,c;return E((function(s){if(1==s.a)return t=e,w(s,e.m.start(n,a),2);if(t.o=s.b,i=Eo(jr),e.dispatchEvent(i),0==e.o.variants.length)throw new be(2,4,4036);!function(e){function t(e){return e.video&&e.audio||e.video&&e.video.codecs.includes(",")}e.variants.some(t)&&(e.variants=e.variants.filter(t))}(e.o),r=Date.now()/1e3,c=r-o,e.f.w=c,j(s)}))}(),(function(){return e.m.stop()}))}(i,e)})),a.set(this.Hc,(function(){return Se(function(e){var t,n;return E((function(i){if(1==i.a)return t=Date.now()/1e3,n=!0,e.h=Ro(e,{qb:e.N,onError:function(t){er(e,t)},lc:function(t){ir(e,t)},onExpirationUpdated:function(t,n){ar(e,t,n)},onEvent:function(i){e.dispatchEvent(i),i.type==br&&n&&(n=!1,e.f.f=Date.now()/1e3-t)}}),e.h.configure(e.i.drm),w(i,Yt(e.h,e.o.variants,e.o.offlineSessionIds),2);e.jb(e.o),j(i)}))}(i))})),a.set(this.K,(function(e,t){return Se(function(e,t,n){var i,a,o,r,c,s,l,d,p,h;return E((function(f){switch(f.a){case 1:return t.startTime=n.startTime,i=t.A,a=t.uri,e.La=a,e.w=new ea({ic:function(){return t.A.playbackRate},rd:function(e){t.A.playbackRate=e},Md:function(e){t.A.currentTime+=e}}),o=function(){return Wo(e)},r=function(){return qo(e)},e.b.l(i,"playing",o),e.b.l(i,"pause",o),e.b.l(i,"ended",o),e.b.l(i,"ratechange",r),c=e.i.abrFactory,e.j&&e.Fc==c||(e.Fc=c,e.j=kt(c),"function"!=typeof e.j.playbackRateChanged&&(gt("AbrManager","Please use an AbrManager with playbackRateChanged function."),e.j.playbackRateChanged=function(){}),e.j.configure(e.i.abr)),e.Ma=new qi(e.i.preferredAudioLanguage,e.i.preferredVariantRole,e.i.preferredAudioChannelCount),e.ea=e.i.preferredTextLanguage,function(e,t,n){0<t&&(e.U()||e.Yd(t)),t=e.getDuration(),n<t&&(e.U()||e.Aa(n))}(e.o.presentationTimeline,e.i.playRangeStart,e.i.playRangeEnd),w(f,e.h.Cb(i),2);case 2:if(e.j.init((function(t,n,i){n=void 0!==n&&n,i=void 0===i?0:i,e.c&&t!=e.c.b&&(Co(e.f.a,t,!0),Xa(e.c,t,n,i),$o(e))})),e.v=function(e,t){return new Oa(e.a,e.o,e.i.streaming,t,(function(){if(e.ta&&_a(e.ta,!0),e.c)for(var t=e.c,n=t.s.hc(),i=t.i.smallGapLimit,a=u(t.a.keys()),o=a.next();!o.done;o=a.next()){var r;o=o.value,(r=null!=ai(t.s.L,o))&&(r=t.s.L,"text"==o?r=null!=(r=r.c).a&&null!=r.b&&(n>=r.a&&n<r.b):r=jn(r=oi(r,o),n,i),r=!r),r&&(Qa(t,t.a.get(o)),"text"===o&&((o=t.s.L.v.a).b=0,o.a=[],js(o)))}e.C&&Uo(e)}),(function(t){return e.dispatchEvent(t)}))}(e,t.startTime),e.ta=function(e){var t=new Ia(e.$b);!function(e,t,n,i){e.a=t,e.b=n,e.c=i}(t,(function(t){tr(e,Pr,t)}),(function(t){tr(e,Ar,t)}),(function(t,n){n||(tr(e,Pr,t),tr(e,Ar,t))}));var n=new ka(e.a);return n.a.add(t),n}(e),s=Math.max(e.o.minBufferTime,e.i.streaming.rebufferingGoal),zo(e,s),xi(e.o,e.i.preferredAudioChannelCount),e.c=function(e){return new Ga(e.o,{hc:function(){return e.v.g()},getBandwidthEstimate:function(){return e.j.getBandwidthEstimate()},L:e.G,qb:e.N,onError:function(t){return er(e,t)},onEvent:function(t){return e.dispatchEvent(t)},Qe:function(){e.m&&e.m.update&&e.m.update()},ed:function(){e.v&&e.v.v(),Uo(e)}})}(e),e.c.configure(e.i.streaming),e.g=Ur,e.dispatchEvent(Eo(Ir)),l=Ko(e)?e.j.chooseVariant():null,Co(e.f.a,l,!0),Xa(e.c,l,!1,0),(d=Mi(e.o.textStreams,e.ea,e.Xb)[0]||null)&&Po(e.f.a,d,!0),d?(l.audio&&function(e,t,n){return e=yi(e.i.preferredTextLanguage),t=yi(t.language),mi(n=yi(n.language),e)&&!mi(t,n)}(e,l.audio,d)&&(e.T=!0),e.T&&e.G.h.setTextVisibility(!0),Qo(e)):e.T=!1,d&&(e.i.streaming.alwaysStreamText||e.Tc())&&Ya(e.c,d),!e.i.streaming.startAtSegmentBoundary){f.u(3);break}return p=e.v.g(),w(f,function(e,t){var n,i,a,o,r;return E((function(c){return 1==c.a?(n=e.audio,i=e.video,a=function(e,t){var n,i;return E((function(a){return 1==a.a?e?w(a,e.createSegmentIndex(),2):a.return(null):(n=e.segmentIndex[Symbol.iterator]().seek(t))?(i=n.startTime,a.return(i)):a.return(null)}))},w(c,a(n,t),2)):3!=c.a?(o=c.b,w(c,a(i,t),3)):null!=(r=c.b)&&null!=o?c.return(Math.max(r,o)):null!=r?c.return(r):null!=o?c.return(o):c.return(t)}))}(l,p),4);case 4:h=f.b,e.v.m(h);case 3:return w(f,e.c.start(),5);case 5:e.i.abr.enabled&&(e.j.enable(),Jo(e)),e.jb(e.o),Xo(e),$o(e),Ko(e),e.o.variants.some((function(e){return e.primary})),e.b.ja(i,"loadedmetadata",(function(){e.f.g=Date.now()/1e3-n.td})),j(f)}}))}(i,e,t))})),a.set(this.Mc,(function(e){return Se(e=function(e,t){var n,i,a,o;return E((function(r){return 1==r.a?(n=It,i=Date.now()/1e3,a=!0,e.h=Ro(e,{qb:e.N,onError:function(t){er(e,t)},lc:function(t){ir(e,t)},onExpirationUpdated:function(t,n){ar(e,t,n)},onEvent:function(t){e.dispatchEvent(t),t.type==br&&a&&(a=!1,e.f.f=Date.now()/1e3-i)}}),e.h.configure(e.i.drm),o={id:0,language:"und",primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:"video/mp4",codecs:"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",label:null,type:n.Da,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null},bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0},w(r,Yt(e.h,[o],[]),2)):w(r,e.h.Cb(t.A),0)}))}(i,e))})),a.set(this.ua,(function(e,t){return function(e,t,n){function i(){return Wo(e)}t.uri=n.uri,t.startTime=n.startTime,e.La=t.uri,e.v=new va(t.A),null!=t.startTime&&e.v.m(t.startTime),e.w=new ea({ic:function(){return t.A.playbackRate},rd:function(e){t.A.playbackRate=e},Md:function(e){t.A.currentTime+=e}}),zo(e,e.i.streaming.rebufferingGoal),e.b.l(t.A,"playing",i),e.b.l(t.A,"pause",i),e.b.l(t.A,"ended",i),e.b.l(t.A,"ratechange",(function(){return qo(e)})),"none"!=e.a.preload&&e.b.ja(e.a,"loadedmetadata",(function(){e.f.g=Date.now()/1e3-n.td})),e.a.audioTracks&&(e.b.l(e.a.audioTracks,"addtrack",(function(){return Xo(e)})),e.b.l(e.a.audioTracks,"removetrack",(function(){return Xo(e)})),e.b.l(e.a.audioTracks,"change",(function(){return Xo(e)}))),e.a.textTracks&&(e.b.l(e.a.textTracks,"addtrack",(function(t){Xo(e),function(e,t){var n=t.track;"metadata"==n.kind&&(n.mode="hidden",e.b.l(n,"cuechange",(function(){if(n.activeCues)for(var t=u(n.activeCues),i=t.next();!i.done;i=t.next())i=i.value,Lo(e,i.startTime,i.endTime,i.type,i.value),e.J&&e.J.onCueMetadataChange(i.value)})),new ye((function(){for(var t=Bo(e),n=(t=u(t)).next();!n.done;n=t.next())n.value.mode="hidden"})).Rb().S(.5))}(e,t)})),e.b.l(e.a.textTracks,"removetrack",(function(){return Xo(e)})),e.b.l(e.a.textTracks,"change",(function(){return Xo(e)}))),t.A.src=t.uri,(zt("Tizen")||zt("Web0S"))&&t.A.load(),e.g=Vr,e.dispatchEvent(Eo(Ir));var a=new we;ua(e.a,HTMLMediaElement.HAVE_METADATA,e.b,(function(){a.resolve()}));var o=!1;return e.Gc.push((function(){o=!0})),ua(e.a,HTMLMediaElement.HAVE_CURRENT_DATA,e.b,(function(){return E((function(t){return 1==t.a?o?t.return():(function(e){var t=e.i.preferredAudioLanguage;if(""!=t){e.nd(t);var n=e.i.preferredVariantRole;""!=n&&e.nd(t,n)}}(e),Bo(e).find((function(e){return"disabled"!=e.mode}))?t.u(2):w(t,new Promise((function(t){e.b.ja(e.a.textTracks,"change",t),new ye(t).S(1)})),2)):o?t.return():(function(e){var t=e.i.preferredTextLanguage;if(""!=t){e.od(t);var n=e.i.preferredTextRole;""!=n&&e.od(t,n)}}(e),void j(t))}))})),e.a.error?a.reject(nr(e)):"none"==e.a.preload&&(G('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),a.resolve()),e.b.ja(e.a,"error",(function(){a.reject(nr(e))})),new je(a,(function(){return a.reject(new be(2,7,7001)),Promise.resolve()}))}(i,e,t)})),this.Y=new so(this.ga,{ze:function(e,t,n,a){var o=null;return e==i.ga&&(o=n==i.ga?i.ga:i.Ea),e==i.Ea&&(o=n==i.ga||t.A!=a.A?i.ga:n==i.Ea?i.Ea:n==i.sa||n==i.K?i.sa:n==i.ua?i.Mc:null),e==i.sa&&(o=n==i.K&&t.A==a.A?i.vc:i.M),e==i.vc&&(o=ur(i.K,i.Kc,i.M,n,t,a)),e==i.Kc&&(o=ur(i.K,i.Hc,i.M,n,t,a)),e==i.Hc&&(o=ur(i.K,i.K,i.M,n,t,a)),e==i.Mc&&(o=n==i.ua&&t.A==a.A?i.ua:i.M),e!=i.K&&e!=i.ua||(o=i.M),e==i.M&&(o=a.A&&t.A==a.A?i.Ea:i.ga),o},oe:function(e,t,n){return i.dispatchEvent(Eo(kr,{state:e.name})),a.get(e)(t,n)},handleError:function(e){return E((function(t){return 1==t.a?w(t,Do(i,e),2):t.return(e.A?i.Ea:i.ga)}))},Pe:function(e){i.dispatchEvent(Eo(_r,{state:e.name}))}}),t&&this.Cb(t,!0)}function Eo(e,t){return new De(e,t)}function Do(e,t){var n,i,a,o,r,c,s,l,d;return E((function(p){switch(p.a){case 1:return e.g!=Rr&&(e.g=zr),n=e.Gc.map((function(e){return e()})),e.Gc=[],w(p,Promise.all(n),2);case 2:if(e.dispatchEvent(Eo(Er)),t.mimeType=null,t.startTime=null,t.uri=null,t.A&&(e.b.ra(t.A,"loadedmetadata"),e.b.ra(t.A,"playing"),e.b.ra(t.A,"pause"),e.b.ra(t.A,"ended"),e.b.ra(t.A,"ratechange")),e.ta&&(e.ta.release(),e.ta=null),e.Sa&&(e.Sa.stop(),e.Sa=null),!e.m){p.u(3);break}return w(p,e.m.stop(),4);case 4:e.m=null,e.Zb=null;case 3:if(!e.j){p.u(5);break}return w(p,e.j.stop(),5);case 5:if(!e.c){p.u(7);break}return w(p,e.c.destroy(),8);case 8:e.c=null;case 7:if(e.w&&(e.w.release(),e.w=null),e.v&&(e.v.release(),e.v=null),!e.G){p.u(9);break}return w(p,e.G.destroy(),10);case 10:e.G=null;case 9:if(e.J&&e.J.onAssetUnload(),!t.A||!t.A.src){p.u(11);break}return w(p,new Promise((function(e){return new ye(e).S(.1)})),12);case 12:t.A.removeAttribute("src"),t.A.load();case 11:if(!e.h){p.u(13);break}return w(p,e.h.destroy(),14);case 14:e.h=null;case 13:if(e.La=null,e.C=null,e.o){for(i=u(e.o.variants),a=i.next();!a.done;a=i.next())for(o=a.value,r=u([o.audio,o.video]),c=r.next();!c.done;c=r.next())(s=c.value)&&s.segmentIndex&&s.segmentIndex.release();for(l=u(e.o.textStreams),c=l.next();!c.done;c=l.next())(d=c.value).segmentIndex&&d.segmentIndex.release()}e.o=null,e.f=new Ao,e.Ic=null,Fo(e),j(p)}}))}function Lo(e,t,n,i,a){e.dispatchEvent(Eo(xr,{startTime:t,endTime:n,Tf:i,payload:a}))}function Ro(e,t){return new Xt(t,e.i.drm.updateExpirationTime)}function zo(e,t){e.C=new Wi,e.C.a=Gi,Ki(e.C,t,Math.min(.5,t/2)),Fo(e),e.Sa=new ye((function(){Uo(e)})).qa(.25)}function Uo(e){switch(e.g){case Vr:if(e.a.ended)var t=!0;else{var n=wn(e.a.buffered);t=null!=n&&n>=e.a.duration-1}break;case Ur:e:if(e.a.ended||ni(e.G))t=!0;else{if(e.o.presentationTimeline.U()){n=e.o.presentationTimeline.Wa();var i=wn(e.a.buffered);if(null!=i&&i>=n){t=!0;break e}}t=!1}break;default:t=!1}i=xn(e.a.buffered,e.a.currentTime);var a=t,o=(n=e.C).b.get(n.a);t=n.a,i=a||i>=o?$i:Gi,n.a=i,t!=i&&Fo(e)}function Vo(e){if(e.m){var t=ze(e.i.manifest);e.a&&"AUDIO"===e.a.nodeName&&(t.disableVideo=!0),e.m.configure(t)}if(e.h&&e.h.configure(e.i.drm),e.c){e.c.configure(e.i.streaming);try{e.jb(e.o)}catch(t){er(e,t)}e.j&&Ko(e),!(t=e.c.b)||t.allowedByApplication&&t.allowedByKeySystem||Go(e)}if(e.G&&(t=e.i.textDisplayFactory,e.Ic!=t)){var n=kt(t),i=e.G,a=i.h;i.h=n,a&&(n.setTextVisibility(a.isTextVisible()),a.destroy()),i.c&&(i.c.c=n),e.Ic=t,e.c&&((n=(t=e.c).a.get("text"))&&Za(t,n.stream,!0,0,!0))}e.j&&(e.j.configure(e.i.abr),e.i.abr.enabled?e.j.enable():e.j.disable(),Jo(e)),e.C&&(t=e.i.streaming.rebufferingGoal,e.o&&(t=Math.max(t,e.o.minBufferTime)),Ki(e.C,t,Math.min(.5,t/2)))}function Bo(e){return Array.from(e.a.textTracks).filter((function(e){return"metadata"!=e.kind&&"Shaka Player TextTrack"!=e.label}))}function Ho(e){var t=ko();return t.streaming.failureCallback=function(t){e.U()&&[1001,1002,1003].includes(t.code)&&(t.severity=1,e.kd())},t.textDisplayFactory=function(){return e.ac?new bo(e.a,e.ac):new po(e.a)},t}function Fo(e){var t=e.Sc();if(e.f&&e.C&&e.v){var n=e.w;n.f=t,ta(n),Wo(e)}e.dispatchEvent(Eo(mr,{buffering:t}))}function qo(e){var t=e.a.playbackRate;0!=t&&(e.w&&e.w.set(t),t=Eo(Sr),e.dispatchEvent(t))}function Wo(e){if(e.f&&e.C){var t=e.f.b;e.C.a==Gi?Io(t,"buffering"):e.a.paused?Io(t,"paused"):e.a.ended?Io(t,"ended"):Io(t,"playing")}}function Ko(e){try{or(e,e.o)}catch(t){return er(e,t),!1}var t=e.o.variants.filter((function(e){return Pi(e)}));return t=e.Ma.create(t),e.j.setVariants(Array.from(t.values())),!0}function Go(e){var t;if(t=Ko(e)?e.j.chooseVariant():null){if(t==e.c.b)return;Co(e.f.a,t,!0),Xa(e.c,t,!0,0),Yo(e)}$o(e)}function $o(e){rr(e,Eo(fr))}function Xo(e){rr(e,Eo(Mr))}function Yo(e){rr(e,Eo(Dr))}function Zo(e){rr(e,Eo(Nr))}function Qo(e){rr(e,Eo(Tr))}function Jo(e){rr(e,Eo(hr,{Uf:e.i.abr.enabled}))}function er(e,t){if(e.g!=Rr){var n=Eo(yr,{detail:t});e.dispatchEvent(n),n.defaultPrevented&&(t.handled=!0)}}function tr(e,t,n){e.dispatchEvent(Eo(t,{detail:{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement}}))}function nr(e){if(!e.a.error)return null;var t=e.a.error.code;if(1==t)return null;var n=e.a.error.msExtendedCode;return n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),new be(2,3,3016,t,n,e.a.error.message)}function ir(e,t){if(e.c){var n=Object.keys(t),i=1==n.length&&"00"==n[0],a=!1;if(n.length)for(var o=(n=u(e.o.variants)).next();!o.done;o=n.next()){var r=[];(o=o.value).audio&&r.push(o.audio),o.video&&r.push(o.video);for(var c=(r=u(r)).next();!c.done;c=r.next()){var s=c.value;if(c=o.allowedByKeySystem,s.keyIds.size){o.allowedByKeySystem=!0;for(var l=(s=u(s.keyIds)).next();!l.done;l=s.next())l=l.value,l=t[i?"00":l],o.allowedByKeySystem=o.allowedByKeySystem&&!!l&&!Hr.includes(l)}c!=o.allowedByKeySystem&&(a=!0)}}a&&Ko(e),(i=e.c.b)&&!i.allowedByKeySystem&&Go(e),a&&Xo(e)}}function ar(e,t,n){e.m&&e.m.onExpirationUpdated&&e.m.onExpirationUpdated(t,n),t=Eo(vr),e.dispatchEvent(t)}function or(e,t){var n=e.h?Tt(e.h.T):{},i=Object.keys(n);i=i.length&&"00"==i[0];for(var a=!1,o=!1,r=new Set,c=new Set,s=u(t.variants),l=s.next();!l.done;l=s.next()){var d=[];(l=l.value).audio&&d.push(l.audio),l.video&&d.push(l.video);for(var p=(d=u(d)).next();!p.done;p=d.next())if((p=p.value).keyIds.size)for(var h=(p=u(p.keyIds)).next();!h.done;h=p.next()){h=h.value;var f=n[i?"00":h];f?Hr.includes(f)&&c.add(f):r.add(h)}l.allowedByApplication?l.allowedByKeySystem&&(a=!0):o=!0}if(!a)throw new be(2,4,4012,n={hasAppRestrictions:o,missingKeys:Array.from(r),restrictedKeyStatuses:Array.from(c)})}function rr(e,t){E((function(n){if(1==n.a)return w(n,Promise.resolve(),2);e.g!=Rr&&e.dispatchEvent(t),j(n)}))}function cr(e){for(var t=new Set,n=(e=u(e)).next();!n.done;n=e.next())(n=n.value).language?t.add(yi(n.language)):t.add("und");return t}function sr(e){for(var t=new Map,n=(e=u(e)).next();!n.done;n=e.next()){var i=n.value;n="und";var a=[];for(i.language&&(n=yi(i.language)),(a="variant"==i.type?i.audioRoles:i.roles)&&a.length||(a=[""]),t.has(n)||t.set(n,new Set),a=(i=u(a)).next();!a.done;a=i.next())a=a.value,t.get(n).add(a)}var o=[];return t.forEach((function(e,t){for(var n=u(e),i=n.next();!i.done;i=n.next())o.push({language:t,role:i.value})})),o}function lr(){return new be(2,7,7e3)}function ur(e,t,n,i,a,o){return i==e&&a.A==o.A&&a.uri==o.uri&&a.mimeType==o.mimeType?t:n}function dr(){return{A:null,mimeType:null,startTime:null,td:NaN,uri:null}}function pr(e){return new Promise((function(t,n){e.$a=function(){return n(lr())},e.kc=function(){return t()},e.onError=function(e){return n(e)},e.mc=function(){return n(lr())}}))}Ga.prototype.destroy=function(){return this.D.destroy()},Ga.prototype.configure=function(e){this.i=e,this.j=new ve({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0},!0)},Ga.prototype.start=function(){var e=this;return E((function(t){if(1==t.a)return w(t,function(e){var t,n,i,a,o,r,c,s,l,d;return E((function(p){if(1==p.a){if(t=It,!e.b)throw new be(2,5,5006);return n=new Map,i=new Set,e.b.audio&&(n.set(t.hb,e.b.audio),i.add(e.b.audio)),e.b.video&&(n.set(t.Da,e.b.video),i.add(e.b.video)),e.c&&(n.set(t.ba,e.c),i.add(e.c)),a=e.s.L,o=e.i.forceTransmuxTS,w(p,a.init(n,o),2)}tt(e.D);var h=e.o.presentationTimeline.getDuration();for(1/0>h?e.s.L.Aa(h):e.s.L.Aa(Math.pow(2,32)),r=u(n.keys()),c=r.next();!c.done;c=r.next())s=c.value,l=n.get(s),e.a.has(s)||(d=Ja(l),e.a.set(s,d),ao(e,d,0));j(p)}))}(e),2);tt(e.D),e.h=!0,j(t)}))},Ga.prototype.Mb=function(e){var t,n,i,a,o=this;return E((function(r){switch(r.a){case 1:if(tt(o.D),e.Pa||null==e.Ca||e.Db)return r.return();if(e.Ca=null,!e.xb){r.u(2);break}return w(r,io(o,e,e.uc,e.dc),3);case 3:return r.return();case 2:if(e.stream.segmentIndex){r.u(4);break}return t=e.stream,w(r,e.stream.createSegmentIndex(),5);case 5:if(t!=e.stream)return null==e.Ca&&ao(o,e,0),r.return();to(e)||(e.za=e.stream.segmentIndex[Symbol.iterator]());case 4:try{null!=(n=function(e,t){if(to(t))return ci(e.s.L,t.stream.originalId||""),null;var n=e.s.hc(),i=t.Lb&&t.Oa?t.Oa.endTime:n,a=function(e,t,n){return"text"==t?null==(e=e.c).b||e.b<n?0:e.b-Math.max(n,e.a):xn(e=oi(e,t),n)}(e.s.L,t.type,n),o=Math.max(e.o.minBufferTime||0,e.i.rebufferingGoal,e.i.bufferingGoal)*e.f;if(i>=e.o.presentationTimeline.getDuration())return t.endOfStream=!0,"video"==t.type&&(n=e.a.get("text"))&&to(n)&&(n.endOfStream=!0),null;if(t.endOfStream=!1,a>=o)return.5;if(a=ai(e.s.L,t.type),!(a=eo(e,t,n,a)))return 1;o=1/0;for(var r=Array.from(e.a.values()),c=(r=u(r)).next();!c.done;c=r.next())to(c=c.value)||(o=Math.min(o,c.Lb&&c.Oa?c.Oa.endTime:n));return i>=o+e.o.presentationTimeline.a?1:(function(e,t,n,i){var a,o,r,c,s,l,u,d;return E((function(p){switch(p.a){case 1:return a=It,o=t.stream,t.Pa=!0,r=function(e,t,n){var i,a,o,r,c,s,l;return E((function(u){return i=[],a=Math.max(0,n.appendWindowStart-.1),o=n.appendWindowEnd+.01,(r=n.timestampOffset)==t.Xc&&a==t.Vc&&o==t.Uc||(c=function(){var n;return E((function(i){if(1==i.a)return x(i,2),t.Vc=a,t.Uc=o,t.Xc=r,w(i,function(e,t,n,i,a){return E((function(o){return t==It.ba?(e.c.v=n,function(e,t,n){e.f=t,e.g=n}(e.c,i,a),o.return()):w(o,Promise.all([ui(e,t,(function(){var n=e.f[t].appendWindowStart,i=e.f[t].appendWindowEnd;e.f[t].abort(),e.f[t].appendWindowStart=n,e.f[t].appendWindowEnd=i,li(e,t)})),ui(e,t,(function(){var i=n;0>i&&(i+=.001),e.f[t].timestampOffset=i,li(e,t)})),ui(e,t,(function(){e.f[t].appendWindowStart=0,e.f[t].appendWindowEnd=a,e.f[t].appendWindowStart=i,li(e,t)}))]),0)}))}(e.s.L,t.type,r,a,o),4);if(2!=i.a)return _(i,0);throw n=S(i),t.Vc=null,t.Uc=null,t.Xc=null,n}))},i.push(c())),n.g!=t.Wc&&(t.Wc=n.g)&&(s=no(e,t,n.g),l=function(){var n,i,a;return E((function(o){switch(o.a){case 1:return x(o,2),w(o,s,4);case 4:return n=o.b,tt(e.D),i=t.stream.closedCaptions&&0<t.stream.closedCaptions.size,w(o,ri(e.s.L,t.type,n,null,null,i),5);case 5:_(o,0);break;case 2:throw a=S(o),t.Wc=null,a}}))},i.push(l())),w(u,Promise.all(i),0)}))}(e,t,i),c=no(e,t,i),x(p,2),w(p,Promise.all([r,c]),4);case 4:return s=p.b,tt(e.D),e.g?p.return():w(p,function(e,t,n,i,a,o){var r;return E((function(c){return 1==c.a?(r=i.closedCaptions&&0<i.closedCaptions.size,null!=i.emsgSchemeIdUris&&0<i.emsgSchemeIdUris.length&&(new za).V("emsg",(function(t){var n=i.emsgSchemeIdUris,o=t.reader.gd(),r=t.reader.gd(),c=t.reader.I(),s=t.reader.I(),l=t.reader.I(),u=t.reader.I();t=t.reader.Qa(t.reader.P.byteLength-t.reader.B);var d=a.startTime+s/c;n.includes(o)&&("urn:mpeg:dash:event:2012"==o?e.s.Qe():(n=new De(gr,{detail:{startTime:d,endTime:d+l/c,schemeIdUri:o,value:r,timescale:c,presentationTimeDelta:s,eventDuration:l,id:u,messageData:t}}),e.s.onEvent(n)))})).parse(o),w(c,function(e,t,n){var i,a,o;return E((function(r){if(1==r.a)return i=Math.max(e.i.bufferBehind,e.o.presentationTimeline.a),null==(a=ii(e.s.L,t.type))||0>=(o=n-a-i)?r.return():w(r,e.s.L.remove(t.type,a,a+o),2);tt(e.D),j(r)}))}(e,t,n),2)):3!=c.a?(tt(e.D),w(c,ri(e.s.L,t.type,o,a.startTime,a.endTime,r),3)):(tt(e.D),t.Lb=i,t.Oa=a,t.stream==i&&t.za.next(),void j(c))}))}(e,t,n,o,i,s[1]),5);case 5:if(tt(e.D),e.g)return p.return();t.Pa=!1,t.jd=!1,l=e.s.L.fc(),u=l[t.type],JSON.stringify(u),t.xb||e.s.ed(),ao(e,t,0),_(p,0);break;case 2:if(d=S(p),tt(e.D,d),e.g)return p.return();t.Pa=!1,t.type==a.ba&&e.i.ignoreTextStreamFailures?e.a.delete(a.ba):7001==d.code?(t.Pa=!1,t.Ca=null,ao(e,t,0)):3017==d.code?function(e,t,n){if(!Array.from(e.a.values()).some((function(e){return e!=t&&e.jd}))){var i=Math.round(100*e.f);if(20<i)e.f-=.2;else{if(!(4<i))return t.Jb=!0,e.g=!0,void e.s.onError(n);e.f-=.04}t.jd=!0}ao(e,t,4)}(e,t,d):1001==d.code&&d.data&&404==d.data[1]?(t.Pa=!1,t.Ca=null,ao(e,t,1)):(t.Jb=!0,d.severity=2,co(e,d)),j(p)}}))}(e,t,n,a).catch((function(){})),null)}(o,e))&&(ao(o,e,n),e.Jb=!1)}catch(e){return co(o,e),r.return()}if(i=Array.from(o.a.values()),!o.h||!i.every((function(e){return e.endOfStream}))){r.u(0);break}return w(r,o.s.L.endOfStream(),7);case 7:tt(o.D),0!=(a=o.s.L.getDuration())&&a<o.o.presentationTimeline.getDuration()&&o.o.presentationTimeline.Aa(a),j(r)}}))},so.prototype.destroy=function(){return this.D.destroy()},(a=po.prototype).remove=function(e,t){return!!this.a&&(fo(this.a,(function(n){return n.startTime<t&&n.endTime>e})),!0)},a.append=function(e){function t(e){var n=[],i=700<=e.fontWeight,a="italic"==e.fontStyle,o=e.textDecoration.includes("underline");return i&&n.push("b"),a&&n.push("i"),o&&n.push("u"),i=n.reduce((function(e,t){return e+"<"+t+">"}),""),n=n.reduceRight((function(e,t){return e+"</"+t+">"}),""),e.spacer?"\n":e.nestedCues.length?e.nestedCues.map(t).join(""):i+e.payload+n}var n=e.map((function(e){if(e.nestedCues.length){var n=e.clone();return n.nestedCues=[],n.payload=t(e),n}return e})),i=[];e=this.a.cues?Array.from(this.a.cues):[];for(var a={},o=(n=u(n)).next();!o.done;a={gb:a.gb},o=n.next())a.gb=o.value,e.some(function(e){return function(t){return t.startTime==e.gb.startTime&&t.endTime==e.gb.endTime&&t.text==e.gb.payload}}(a))||(o=ho(a.gb))&&i.push(o);for(a=(e=u(e=i.slice().sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime!=t.endTime?e.endTime-t.startTime:"line"in VTTCue.prototype?i.indexOf(t)-i.indexOf(e):i.indexOf(e)-i.indexOf(t)})))).next();!a.done;a=e.next())this.a.addCue(a.value)},a.destroy=function(){return this.a&&(fo(this.a,(function(){return!0})),this.a.mode="disabled"),this.a=null,Promise.resolve()},a.isTextVisible=function(){return"showing"==this.a.mode},a.setTextVisibility=function(e){this.a.mode=e?"showing":"hidden"},V("shaka.text.SimpleTextDisplayer",po),po.prototype.setTextVisibility=po.prototype.setTextVisibility,po.prototype.isTextVisible=po.prototype.isTextVisible,po.prototype.destroy=po.prototype.destroy,po.prototype.append=po.prototype.append,po.prototype.remove=po.prototype.remove,V("shaka.util.Dom",mo),mo.removeAllChildren=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},(a=bo.prototype).append=function(e){for(var t={},n=(e=u(e)).next();!n.done;t={Sb:t.Sb},n=e.next())t.Sb=n.value,this.c.some(function(e){return function(t){return An(t,e.Sb)}}(t))||this.c.push(t.Sb);go(this)},a.destroy=function(){this.g.removeChild(this.b),this.b=null,this.h=!1,this.c=[],this.j&&this.j.stop(),this.f.clear()},a.remove=function(e,t){return!!this.b&&(this.c=this.c.filter((function(n){return n.startTime<e||n.endTime>=t})),go(this),!0)},a.isTextVisible=function(){return this.h},a.setTextVisibility=function(e){this.h=e},V("shaka.text.UITextDisplayer",bo),bo.prototype.setTextVisibility=bo.prototype.setTextVisibility,bo.prototype.isTextVisible=bo.prototype.isTextVisible,bo.prototype.remove=bo.prototype.remove,bo.prototype.destroy=bo.prototype.destroy,bo.prototype.append=bo.prototype.append,V("shaka.util.ConfigUtils",Oo),Oo.convertToConfigObject=jo,Oo.mergeConfigObjects=wo,V("shaka.util.PlayerConfiguration",xo),xo.mergeConfigObjects=_o,g(Mo,Re),(a=Mo.prototype).destroy=function(){var e,t=this;return E((function(n){switch(n.a){case 1:return t.g==Rr?n.return():(t.g=Rr,e=lo(t.Y,(function(){return{node:t.ga,payload:dr(),Xa:!1}})),w(n,new Promise((function(t){e.sb=function(){},e.kc=function(){t()},e.$a=function(){t()},e.onError=function(){t()},e.mc=function(){t()}})),2));case 2:return w(n,t.Y.destroy(),3);case 3:if(t.b&&(t.b.release(),t.b=null),t.Fc=null,t.j=null,t.i=null,t.f=null,t.ac=null,!t.N){n.u(0);break}return w(n,t.N.destroy(),5);case 5:t.N=null,j(n)}}))},a.Cb=function(e,t){if(t=void 0===t||t,this.g==Rr)return Promise.reject(lr());var n=dr();n.A=e,Et()||(t=!1);var i=t?this.sa:this.Ea,a=lo(this.Y,(function(){return{node:i,payload:n,Xa:!1}}));return a.sb=function(){},pr(a)},a.detach=function(){var e=this;if(this.g==Rr)return Promise.reject(lr());var t=lo(this.Y,(function(){return{node:e.ga,payload:dr(),Xa:!1}}));return t.sb=function(){},pr(t)},a.vd=function(e){var t=this;if(e=void 0===e||e,this.g==Rr)return Promise.reject(lr());Et()||(e=!1);var n=dr(),i=lo(this.Y,(function(i){var a=i.A&&e?t.sa:i.A?t.Ea:t.ga;return n.A=i.A,{node:a,payload:n,Xa:!1}}));return i.sb=function(){},pr(i)},a.load=function(e,t,n){var i=this;if(this.g==Rr)return Promise.reject(lr());this.dispatchEvent(Eo(wr));var a=dr();a.uri=e,a.td=Date.now()/1e3,n&&(a.mimeType=n),void 0!==t&&(a.startTime=t);var o=function(e,t){if(!Et())return!0;var n=t.mimeType,i=t.uri||"";return n||(n={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav"}[Zi(i)]),!!n&&(""!=(t.A||Ut()).canPlayType(n)&&(!Et()||!(n in Qi)&&!(Zi(i)in Ji)||Lt()&&e.i.streaming.useNativeHlsOnSafari))}(this,a)?this.ua:this.K,r=lo(this.Y,(function(e){return null==e.A?null:(a.A=e.A,{node:o,payload:a,Xa:!0})}));return this.f=new Ao,r.sb=function(){},new Promise((function(e,t){r.mc=function(){return t(new be(2,7,7002))},r.kc=function(){e(),i.dispatchEvent(Eo(Or))},r.$a=function(){return t(lr())},r.onError=function(e){return t(e)}}))},a.configure=function(e,t){2==arguments.length&&"string"==typeof e&&(e=jo(e,t)),e.manifest&&e.manifest.dash&&"defaultPresentationDelay"in e.manifest.dash&&(gt("manifest.dash.defaultPresentationDelay configuration","Please Use manifest.defaultPresentationDelay instead."),e.manifest.defaultPresentationDelay=e.manifest.dash.defaultPresentationDelay,delete e.manifest.dash.defaultPresentationDelay);var n=_o(this.i,e,Ho(this));return Vo(this),n},a.getConfiguration=function(){var e=Ho(this);return _o(e,this.i,Ho(this)),e},a.$e=function(){for(var e in this.i)delete this.i[e];_o(this.i,Ho(this),Ho(this)),Vo(this)},a.ue=function(){return this.g},a.ye=function(){return this.a},a.Hb=function(){return this.N},a.Oc=function(){return this.La},a.Gd=function(){return $("getAdManager","Shaka Player's ad features are currently in BETA and are NOT yet covered by semantic versioning compatibility guarantees.  The API may change at any time!"),this.J},a.U=function(){return this.o?this.o.presentationTimeline.U():!(!this.a||!this.a.src)&&1/0==this.a.duration},a.Za=function(){return!!this.o&&this.o.presentationTimeline.Za()},a.Le=function(){if(this.o){var e=this.o.variants;return!!e.length&&!e[0].video}return!(!this.a||!this.a.src)&&(this.a.videoTracks?0==this.a.videoTracks.length:0==this.a.videoHeight)},a.md=function(){if(this.o){var e=this.o.presentationTimeline;return{start:e.mb(),end:e.Ga()}}return this.a&&this.a.src&&(e=this.a.seekable).length?{start:e.start(0),end:e.end(e.length-1)}:{start:0,end:0}},a.keySystem=function(){return tn(this.drmInfo())},a.drmInfo=function(){return this.h?this.h.c:null},a.Gb=function(){return this.h?this.h.Gb():1/0},a.Sc=function(){return!!this.C&&this.C.a==Gi},a.Ae=function(){return this.a?this.w?this.w.b:1:0},a.kf=function(e){0==e?G("A trick play rate of 0 is unsupported!"):(this.a.paused&&this.a.play(),this.w.set(e),this.g==Ur&&(this.j.playbackRateChanged(e),$a(this.c,1<Math.abs(e))))},a.ie=function(){this.g==Vr&&this.w.set(1),this.g==Ur&&(this.w.set(1),this.j.playbackRateChanged(1),$a(this.c,!1))},a.Rc=function(){if(this.o){for(var e=this.c?this.c.b:null,t=[],n=u(this.o.variants),i=n.next();!i.done;i=n.next())if(Pi(i=i.value)){var a=Si(i);a.active=i==e,t.push(a)}return t}return this.a&&this.a.audioTracks?Array.from(this.a.audioTracks).map((function(e){return Ti(e)})):[]},a.jc=function(){if(this.o){for(var e=this.c?this.c.c:null,t=[],n=u(this.o.textStreams),i=n.next();!i.done;i=n.next()){var a=Ii(i=i.value);a.active=i==e,t.push(a)}return t}return this.a&&this.a.src&&this.a.textTracks?Bo(this).map((function(e){var t=Ci(e);return t.active="disabled"!=e.mode,t.type="text",t.originalTextId=e.id,"captions"==e.kind&&(t.mimeType="application/cea-608"),e.kind&&(t.roles=[e.kind]),t})):[]},a.Vd=function(e){if(this.o&&this.c){var t=this.o.textStreams.find((function(t){return t.id==e.id}));t&&t!=this.c.c&&(Po(this.f.a,t,!1),Ya(this.c,t),Zo(this),this.ea=t.language)}else if(this.a&&this.a.src&&this.a.textTracks){for(var n=(t=u(t=Bo(this))).next();!n.done;n=t.next())Ni(n=n.value)==e.id?n.mode=this.T?"showing":"hidden":n.mode="disabled";Zo(this)}},a.af=function(e,t,n){if(t=void 0!==t&&t,n=void 0===n?0:n,this.o&&this.c){this.i.abr.enabled&&G("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var i=this.o.variants.find((function(t){return t.id==e.id}));i&&Pi(i)&&i!=this.c.b&&(Co(this.f.a,i,!1),Xa(this.c,i,t,n),Yo(this),this.Ma=new Fi(i),Ko(this))}else if(this.a&&this.a.audioTracks){for(n=(t=u(t=Array.from(this.a.audioTracks))).next();!n.done;n=t.next())Ni(n=n.value)==e.id&&(n.enabled=!0);Yo(this)}},a.qe=function(){return sr(this.Rc())},a.Ie=function(){return sr(this.jc())},a.pe=function(){return Array.from(cr(this.Rc()))},a.He=function(){return Array.from(cr(this.jc()))},a.nd=function(e,t){if(this.o&&this.v)this.Ma=new qi(e,t||"",0,"","audio"),Go(this);else if(this.a&&this.a.audioTracks){for(var n=Array.from(this.a.audioTracks),i=yi(e),a=(n=u(n)).next();!a.done;a=n.next()){var o=Ti(a=a.value);yi(o.language)!=i||t&&!o.roles.includes(t)||(a.enabled=!0)}Yo(this)}},a.od=function(e,t){if(this.o&&this.v){this.ea=e,this.Xb=t||"";var n=Mi(this.o.textStreams,this.ea,this.Xb)[0]||null;n&&n!=this.c.c&&(Po(this.f.a,n,!1),this.i.streaming.alwaysStreamText||this.Tc())&&(Ya(this.c,n),Zo(this))}else{var i=yi(e);(n=this.jc().find((function(e){return yi(e.language)==i&&(!t||e.roles.includes(t))})))&&this.Vd(n)}},a.bf=function(e){if(this.o&&this.v){for(var t=null,n=u(this.o.variants),i=n.next();!i.done;i=n.next())if((i=i.value).audio.label==e){t=i;break}null!=t&&(this.Ma=new qi(t.language,"",0,e),Go(this))}},a.Tc=function(){var e=this.T;return this.G?this.G.h.isTextVisible():this.a&&this.a.src&&this.a.textTracks?Bo(this).some((function(e){return"showing"==e.mode})):e},a.hf=function(e){if(e=!!e,this.T!=e){if(this.T=e,this.g==Ur)this.G.h.setTextVisibility(e),this.i.streaming.alwaysStreamText||(e?this.c.c||0<(e=Mi(this.o.textStreams,this.ea,this.Xb)).length&&(Ya(this.c,e[0]),Zo(this)):function(e){var t=e.a.get("text");t&&(oo(t),ro(t).catch((function(){})),e.a.delete("text")),e.c=null}(this.c));else if(this.a&&this.a.src&&this.a.textTracks)for(var t=Bo(this),n=(t=u(t)).next();!n.done;n=t.next())"disabled"!=(n=n.value).mode&&(n.mode=e?"showing":"hidden");Qo(this)}},a.Ce=function(){if(!this.U())return null;var e=this.Y.f,t=0;if(this.v)t=this.v.g();else if(e){if(null==e.startTime)return new Date;t=e.startTime}return this.o?new Date(1e3*(this.o.presentationTimeline.f+t)):this.a&&this.a.getStartDate?(e=this.a.getStartDate(),isNaN(e.getTime())?null:new Date(e.getTime()+1e3*t)):null},a.Hd=function(){if(!this.U())return null;if(this.o)return new Date(1e3*this.o.presentationTimeline.f);if(this.a&&this.a.getStartDate){var e=this.a.getStartDate();return isNaN(e.getTime())?null:e}return null},a.fc=function(){if(this.g==Ur)return this.G.fc();var e={total:[],audio:[],video:[],text:[]};return this.g==Vr&&(e.total=kn(this.a.buffered)),e},a.getStats=function(){if(this.g!=Ur&&this.g!=Vr)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,switchHistory:[],stateHistory:[]};Wo(this);var e=this.a,t=e.currentTime/e.duration;if(!isNaN(t)){var n=this.f;t=Math.round(100*t),n.c=isNaN(n.c)?t:Math.max(n.c,t)}e.getVideoPlaybackQuality&&(e=e.getVideoPlaybackQuality(),n=this.f,t=Number(e.totalVideoFrames),n.M=Number(e.droppedVideoFrames),n.K=t,this.f.J=Number(e.corruptedVideoFrames)),this.h?e=(e=this.h).G?e.G:NaN:e=NaN,this.f.G=e,this.g==Ur&&((e=this.c.b)&&(this.f.j=(this.w?this.w.b:1)*e.bandwidth),e&&e.video&&(n=this.f,t=e.video.height||NaN,n.T=e.video.width||NaN,n.m=t),this.U()&&(e=this.Hd().valueOf()+1e3*this.md().end,this.f.v=(Date.now()-e)/1e3),this.o&&this.o.presentationTimeline&&(this.f.C=this.o.presentationTimeline.a),e=this.j.getBandwidthEstimate(),this.f.h=e);var i=this.f;e=i.T,n=i.m,t=i.j;for(var a=i.K,o=i.M,r=i.J,c=i.h,s=i.c,l=i.g,d=i.w,p=i.f,h=No(i.b,"playing"),f=No(i.b,"paused"),m=No(i.b,"buffering"),b=i.G,g=i.v,y=i.C,v=function(e){function t(e){return{timestamp:e.timestamp,state:e.state,duration:e.duration}}for(var n=[],i=u(e.b),a=i.next();!a.done;a=i.next())n.push(t(a.value));return e.a&&n.push(t(e.a)),n}(i.b),O=[],w=(i=u(i.a.a)).next();!w.done;w=i.next())w=w.value,O.push({timestamp:w.timestamp,id:w.id,type:w.type,fromAdaptation:w.fromAdaptation,bandwidth:w.bandwidth});return{width:e,height:n,streamBandwidth:t,decodedFrames:a,droppedFrames:o,corruptedFrames:r,estimatedBandwidth:c,completionPercent:s,loadLatency:l,manifestTimeSeconds:d,drmTimeSeconds:p,playTime:h,pauseTime:f,bufferingTime:m,licenseTime:b,liveLatency:g,maxSegmentDuration:y,stateHistory:v,switchHistory:O}},a.addTextTrack=function(e,t,n,i,a,o){if(this.g==Vr)throw Error("State error!");if(this.g!=Ur)throw Error("State error!");var r=this.o.presentationTimeline.getDuration();if(1/0==r)throw new be(1,4,4033);return e={id:this.xd++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Aa(0,r,[e]),mimeType:i,codecs:a||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,label:o||null,type:"text",primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null},this.o.textStreams.push(e),Xo(this),Ii(e)},a.qd=function(e,t){this.Lc.width=e,this.Lc.height=t},a.kd=function(){if(this.g==Ur){var e=this.c;if(e.D.a)e=!1;else if(e.g)e=!1;else{for(var t=u(e.a.values()),n=t.next();!n.done;n=t.next())(n=n.value).Jb&&(n.Jb=!1,ao(e,n,.1));e=!0}}else e=!1;return e},a.ve=function(){return G("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.o},a.we=function(){return this.Zb},a.Zd=function(e){this.ac=e},a.jb=function(e){if(function(e,t,n){n.variants=n.variants.filter((function(n){if(e&&e.M&&!dn(e,n))return!1;var i=n.audio;return n=n.video,!(i&&!ei(i)||n&&!ei(n)||i&&t&&t.audio&&!_i(i,t.audio)||n&&t&&t.video&&!_i(n,t.video))})),n.textStreams=n.textStreams.filter((function(e){return Yn(Pt(e.mimeType,e.codecs))}))}(this.h,this.c?this.c.b:null,e),!e.variants.some(Pi))throw new be(2,4,4032);for(var t=this.i.restrictions,n=this.Lc,i=!1,a=u(e.variants),o=a.next();!o.done;o=a.next()){var r=(o=o.value).allowedByApplication;o.allowedByApplication=ki(o,t,n),r!=o.allowedByApplication&&(i=!0)}if(i&&this.c&&Xo(this),t=this.h?this.h.c:null)for(i=(n=u(e.variants)).next();!i.done;i=n.next())for(a=(i=u(((i=i.value).video?i.video.drmInfos:[]).concat(i.audio?i.audio.drmInfos:[]))).next();!a.done;a=i.next())if((a=a.value).keySystem==t.keySystem)for(o=(a=u(a.initData||[])).next();!o.done;o=a.next())o=o.value,en(this.h,o.initDataType,o.initData);or(this,e)},V("shaka.Player",Mo),Mo.prototype.setVideoContainer=Mo.prototype.Zd,Mo.prototype.getManifestParserFactory=Mo.prototype.we,Mo.prototype.getManifest=Mo.prototype.ve,Mo.prototype.retryStreaming=Mo.prototype.kd,Mo.prototype.setMaxHardwareResolution=Mo.prototype.qd,Mo.prototype.addTextTrack=Mo.prototype.addTextTrack,Mo.prototype.getStats=Mo.prototype.getStats,Mo.prototype.getBufferedInfo=Mo.prototype.fc,Mo.prototype.getPresentationStartTimeAsDate=Mo.prototype.Hd,Mo.prototype.getPlayheadTimeAsDate=Mo.prototype.Ce,Mo.prototype.setTextTrackVisibility=Mo.prototype.hf,Mo.prototype.isTextTrackVisible=Mo.prototype.Tc,Mo.prototype.selectVariantsByLabel=Mo.prototype.bf,Mo.prototype.selectTextLanguage=Mo.prototype.od,Mo.prototype.selectAudioLanguage=Mo.prototype.nd,Mo.prototype.getTextLanguages=Mo.prototype.He,Mo.prototype.getAudioLanguages=Mo.prototype.pe,Mo.prototype.getTextLanguagesAndRoles=Mo.prototype.Ie,Mo.prototype.getAudioLanguagesAndRoles=Mo.prototype.qe,Mo.prototype.selectVariantTrack=Mo.prototype.af,Mo.prototype.selectTextTrack=Mo.prototype.Vd,Mo.prototype.getTextTracks=Mo.prototype.jc,Mo.prototype.getVariantTracks=Mo.prototype.Rc,Mo.prototype.cancelTrickPlay=Mo.prototype.ie,Mo.prototype.trickPlay=Mo.prototype.kf,Mo.prototype.getPlaybackRate=Mo.prototype.Ae,Mo.prototype.isBuffering=Mo.prototype.Sc,Mo.prototype.getExpiration=Mo.prototype.Gb,Mo.prototype.drmInfo=Mo.prototype.drmInfo,Mo.prototype.keySystem=Mo.prototype.keySystem,Mo.prototype.seekRange=Mo.prototype.md,Mo.prototype.isAudioOnly=Mo.prototype.Le,Mo.prototype.isInProgress=Mo.prototype.Za,Mo.prototype.isLive=Mo.prototype.U,Mo.prototype.getAdManager=Mo.prototype.Gd,Mo.prototype.getAssetUri=Mo.prototype.Oc,Mo.prototype.getNetworkingEngine=Mo.prototype.Hb,Mo.prototype.getMediaElement=Mo.prototype.ye,Mo.prototype.getLoadMode=Mo.prototype.ue,Mo.prototype.resetConfiguration=Mo.prototype.$e,Mo.prototype.getConfiguration=Mo.prototype.getConfiguration,Mo.prototype.configure=Mo.prototype.configure,Mo.prototype.load=Mo.prototype.load,Mo.prototype.unload=Mo.prototype.vd,Mo.prototype.detach=Mo.prototype.detach,Mo.prototype.attach=Mo.prototype.Cb,Mo.probeSupport=function(){var e,t,n,i,a;return E((function(o){if(1==o.a)return w(o,function(){var e,t,n,i,a,o;return E((function(r){return 1==r.a?(e="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.3_0 com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" "),n=[{videoCapabilities:t=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],persistentState:"required",sessionTypes:["persistent-license"]},{videoCapabilities:t}],i=new Map,a=function(e){var t,a,o;return E((function(r){switch(r.a){case 1:return x(r,2),w(r,navigator.requestMediaKeySystemAccess(e,n),4);case 4:return t=r.b,o=!!(a=t.getConfiguration().sessionTypes)&&a.includes("persistent-license"),zt("Tizen 3")&&(o=!1),i.set(e,{persistentState:o}),w(r,t.createMediaKeys(),5);case 5:_(r,0);break;case 2:S(r),i.set(e,null),j(r)}}))},o=e.map((function(e){return a(e)})),w(r,Promise.all(o),2)):r.return(Tt(i))}))}(),2);e=o.b;var r={};if(Et()){for(var c in Qi)r[c]=!0;for(var s in Ji)r[s]=!0}c={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"};for(var l=(s=u(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!l.done;l=s.next())r[l=l.value]=Et()?!!Qi[l]:Dt(l);for(var d in c)r[d]=Et()?!!Ji[d]:Dt(c[d]);for(t=r,r={},c=(d=u('video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(","))).next();!c.done;c=d.next())r[c=c.value]=Et()?!!Yn(c)||(MediaSource.isTypeSupported(c)||Tn(c)):Dt(c),r[s=c.split(";")[0]]=r[s]||r[c];for(a in n={manifest:t,media:r,drm:e},i=Fr)n[a]=i[a]();return o.return(n)}))},Mo.isBrowserSupported=function(){if(!(e.Promise&&e.Uint8Array&&Array.prototype.forEach))return!1;var t=Rt();return!(t&&12>t||!(e.MediaKeys&&e.navigator&&e.navigator.requestMediaKeySystemAccess&&e.MediaKeySystemAccess&&e.MediaKeySystemAccess.prototype.getConfiguration))&&(!!Et()||Dt("application/x-mpegurl"))},Mo.setAdManagerFactory=function(e){qr=e},Mo.registerSupportPlugin=function(e,t){Fr[e]=t},Mo.prototype.destroy=Mo.prototype.destroy;var hr="abrstatuschanged",fr="adaptation",mr="buffering",br="drmsessionupdate",gr="emsg",yr="error",vr="expirationupdated",Or="loaded",wr="loading",jr="manifestparsed",xr="metadata",kr="onstatechange",_r="onstateidle",Sr="ratechange",Ir="streaming",Nr="textchanged",Tr="texttrackvisibility",Cr="timelineregionadded",Pr="timelineregionenter",Ar="timelineregionexit",Mr="trackschanged",Er="unloading",Dr="variantchanged",Lr={sf:hr,tf:fr,uf:mr,vf:br,xf:gr,Error:yr,yf:vr,Af:"largegap",Bf:Or,Cf:wr,Df:jr,Metadata:xr,Ef:kr,Ff:_r,Gf:Sr,Hf:"sessiondata",If:Ir,Jf:Nr,Kf:Tr,Lf:Cr,Mf:Pr,Nf:Ar,Of:Mr,Pf:Er,Qf:Dr},Rr=0,zr=1,Ur=2,Vr=3;Mo.LoadMode={DESTROYED:Rr,NOT_LOADED:zr,MEDIA_SOURCE:Ur,SRC_EQUALS:Vr},Mo.version="v3.0.4-master-8-g5f675406";var Br=["3","0"];Ot=new function(e){this.a=e,this.c=yt,this.b=vt}(new bt(Number(Br[0]),Number(Br[1])));var Hr=["output-restricted","internal-error"],Fr={},qr=null;function Wr(){this.a=[],this.f=this.b=this.c=0}function Kr(e,t){var n=this;this.c=e,this.a=t,this.f=!1,this.g=this.a.getVolume(),this.b=new nt,this.b.l(this.a,google.ima.AdEvent.Type.PAUSED,(function(){n.f=!0})),this.b.l(this.a,google.ima.AdEvent.Type.RESUMED,(function(){n.f=!1}))}function Gr(e,t,n,i){var a=this;this.j=e,this.a=t,this.m=NaN,this.f=i,this.h=null,this.b=new nt,google.ima.settings.setLocale(n),(e=new google.ima.AdDisplayContainer(this.j,this.a)).initialize(),this.g=new google.ima.AdsLoader(e),this.g.getSettings().setPlayerType("shaka-player"),this.g.getSettings().setPlayerVersion("v3.0.4-master-8-g5f675406"),this.c=null,this.b.ja(this.g,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(e){!function(e,t){e.f(new De("ads-loaded",{loadTime:Date.now()/1e3-e.m})),e.c=t.getAdsManager(e.a),e.f(new De("ima-ad-manager-loaded",{imaAdsManager:e.c}));var n=e.c.getCuePoints();if(n.length){for(var i=[],a=(n=u(n)).next();!a.done;a=n.next())i.push(new ec(a.value));e.f(new De("ad-cue-points-changed",{cuepoints:i}))}!function(e){e.b.l(e.c,google.ima.AdErrorEvent.Type.AD_ERROR,(function(t){$r(e,t)})),e.b.l(e.c,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,(function(t){Xr(e,t)})),e.b.l(e.c,google.ima.AdEvent.Type.STARTED,(function(t){Xr(e,t)})),e.b.l(e.c,google.ima.AdEvent.Type.FIRST_QUARTILE,(function(t){e.f(new De("ad-first-quartile",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.MIDPOINT,(function(t){e.f(new De("ad-midpoint",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.THIRD_QUARTILE,(function(t){e.f(new De("ad-third-quartile",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.COMPLETE,(function(t){e.f(new De("ad-complete",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,(function(t){Yr(e,t)})),e.b.l(e.c,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(t){Yr(e,t)})),e.b.l(e.c,google.ima.AdEvent.Type.SKIPPED,(function(t){e.f(new De("ad-skipped",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.VOLUME_CHANGED,(function(t){e.f(new De("ad-volume-changed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.VOLUME_MUTED,(function(t){e.f(new De("ad-muted",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.PAUSED,(function(t){e.h.f=!0,e.f(new De("ad-paused",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.RESUMED,(function(t){e.h.f=!1,e.f(new De("ad-resumed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,(function(t){e.f(new De("ad-skip-state-changed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.CLICK,(function(){e.f(new De("ad-clicked"))})),e.b.l(e.c,google.ima.AdEvent.Type.AD_PROGRESS,(function(t){e.f(new De("ad-progress",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.AD_BUFFERING,(function(t){e.f(new De("ad-buffering",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.IMPRESSION,(function(t){e.f(new De("ad-impression",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.DURATION_CHANGE,(function(t){e.f(new De("ad-duration-changed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.USER_CLOSE,(function(t){e.f(new De("ad-closed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.LOADED,(function(t){e.f(new De("ad-loaded",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(t){e.f(new De("all-ads-completed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.LINEAR_CHANGED,(function(t){e.f(new De("ad-linear-changed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.AD_METADATA,(function(t){e.f(new De("ad-metadata",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.LOG,(function(t){e.f(new De("ad-recoverable-error",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.AD_BREAK_READY,(function(t){e.f(new De("ad-break-ready",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.INTERACTION,(function(t){e.f(new De("ad-interaction",{originalEvent:t}))}))}(e);try{e.c.init(e.a.offsetWidth,e.a.offsetHeight,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),e.b.l(e.a,"loadeddata",(function(){e.c.resize(e.a.offsetWidth,e.a.offsetHeight,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)})),e.c.start()}catch(t){Yr(e,null)}}(a,e)})),this.b.l(this.g,google.ima.AdEvent.Type.AD_ERROR,(function(e){$r(a,e)})),this.a.onended=function(){a.g.contentComplete()}}function $r(e,t){t.getError(),Yr(e,null),e.f(new De("ad-cue-points-changed",{cuepoints:[]}))}function Xr(e,t){var n=t.getAd();e.h=new Kr(n,e.c),e.f(new De("ad-started",{ad:e.h,sdkAdObject:n,originalEvent:t})),e.j.setAttribute("ad-active","true"),e.a.pause()}function Yr(e,t){e.f(new De("ad-stopped",{originalEvent:t})),e.j.removeAttribute("ad-active"),e.a.play()}function Zr(e,t){this.c=e,this.b=null,this.a=t}function Qr(e,t,n,i){var a=this;this.v=e,this.a=t,this.g=null,this.G=NaN,this.f=i,this.C=!1,this.w=this.h=this.j=null,this.m="",this.b=new nt,(e=new google.ima.dai.api.UiSettings).setLocale(n),this.c=new google.ima.dai.api.StreamManager(this.a,this.v,e),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.LOADED,(function(e){!function(e,t){e.f(new De("ads-loaded",{loadTime:Date.now()/1e3-e.G}));var n=t.getStreamData().url;e.g.resolve(n),e.g=null,e.C||e.b.l(e.a,"seeked",(function(){var t=e.a.currentTime;if(0!=t){e.c.streamTimeForContentTime(t);var n=e.c.previousCuePointForStreamTime(t);n&&!n.played&&(e.j=t,e.a.currentTime=n.start)}}))}(a,e)})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.ERROR,(function(){a.m.length?a.g.resolve(a.m):a.g.reject("IMA Stream request returned an error and there was no backup asset uri provided."),a.g=null})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,(function(){})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.STARTED,(function(e){e=e.getAd(),a.h=new Zr(e,a.a),a.w&&(a.h.b=a.w),a.f(new De("ad-started",{ad:a.h})),a.v.setAttribute("ad-active","true")})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,(function(){a.v.removeAttribute("ad-active");var e=a.a.currentTime;a.j&&a.j>e&&(a.a.currentTime=a.j,a.j=null)})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,(function(e){a.w=e.getStreamData().adProgressData,a.h&&(a.h.b=a.w)})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,(function(){a.f(new De("ad-first-quartile"))})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.MIDPOINT,(function(){a.f(new De("ad-midpoint"))})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,(function(){a.f(new De("ad-third-quartile"))})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.COMPLETE,(function(){a.f(new De("ad-complete")),a.f(new De("ad-stopped")),a.v.removeAttribute("ad-active"),a.h=null})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.SKIPPED,(function(){a.f(new De("ad-skipped")),a.f(new De("ad-stopped"))})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,(function(e){var t=e.getStreamData();e=[];for(var n=(t=u(t.cuepoints)).next();!n.done;n=t.next())n=n.value,e.push(new ec(n.start,n.end));a.f(new De("ad-cue-points-changed",{cuepoints:e}))}))}function Jr(){Re.call(this),this.a=this.b=null,this.f=new Wr,this.c=navigator.language}function ec(e,t){this.start=e,this.end=void 0===t?null:t}function tc(e){return JSON.stringify(e,(function(e,t){if("function"!=typeof t){if(t instanceof Event||t instanceof De){var i={};for(o in t){var a=t[o];a&&"object"==n(a)?"detail"==o&&(i[o]=a):o in Event||(i[o]=a)}return i}if(t instanceof Error){var o=new Set(["name","message","stack"]);for(i in t)o.add(i);for(i=(a=u(Object.getOwnPropertyNames(t))).next();!i.done;i=a.next())o.add(i.value);for(a={},i=(o=u(o)).next();!i.done;i=o.next())a[i=i.value]=t[i];o={__type__:"Error",contents:a}}else if(t instanceof TimeRanges)for(o={__type__:"TimeRanges",length:t.length,start:[],end:[]},a=(i=u(kn(t))).next();!a.done;a=i.next()){var r=(a=a.value).end;o.start.push(a.start),o.end.push(r)}else o=t instanceof Uint8Array?{__type__:"Uint8Array",entries:Array.from(t)}:"number"==typeof t?isNaN(t)?"NaN":isFinite(t)?t:0>t?"-Infinity":"Infinity":t;return o}}))}function nc(e){return JSON.parse(e,(function(e,t){if("NaN"==t)var i=NaN;else if("-Infinity"==t)i=-1/0;else if("Infinity"==t)i=1/0;else if(t&&"object"==n(t)&&"TimeRanges"==t.__type__)i=function(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}(t);else if(t&&"object"==n(t)&&"Uint8Array"==t.__type__)i=new Uint8Array(t.entries);else if(t&&"object"==n(t)&&"Error"==t.__type__){i=t.contents;var a,o=Error(i.message);for(a in i)o[a]=i[a];i=o}else i=t;return i}))}(a=Kr.prototype).getDuration=function(){return this.c.getDuration()},a.getRemainingTime=function(){return this.a.getRemainingTime()},a.isPaused=function(){return this.f},a.isSkippable=function(){return 0<=this.c.getSkipTimeOffset()},a.getTimeUntilSkippable=function(){var e=this.c.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},a.canSkipNow=function(){return this.a.getAdSkippableState()},a.skip=function(){return this.a.skip()},a.pause=function(){return this.a.pause()},a.play=function(){return this.a.resume()},a.getVolume=function(){return this.a.getVolume()},a.setVolume=function(e){return this.a.setVolume(e)},a.isMuted=function(){return 0==this.a.getVolume()},a.resize=function(e,t){this.a.resize(e,t,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},a.setMuted=function(e){e?(this.g=this.getVolume(),this.setVolume(0)):this.setVolume(this.g)},a.getSequenceLength=function(){var e=this.c.getAdPodInfo();return null==e?1:e.getTotalAds()},a.getPositionInSequence=function(){var e=this.c.getAdPodInfo();return null==e?1:e.getAdPosition()},a.release=function(){this.a=this.c=null},V("shaka.ads.ClientSideAd",Kr),Kr.prototype.release=Kr.prototype.release,Kr.prototype.getPositionInSequence=Kr.prototype.getPositionInSequence,Kr.prototype.getSequenceLength=Kr.prototype.getSequenceLength,Kr.prototype.setMuted=Kr.prototype.setMuted,Kr.prototype.resize=Kr.prototype.resize,Kr.prototype.isMuted=Kr.prototype.isMuted,Kr.prototype.setVolume=Kr.prototype.setVolume,Kr.prototype.getVolume=Kr.prototype.getVolume,Kr.prototype.play=Kr.prototype.play,Kr.prototype.pause=Kr.prototype.pause,Kr.prototype.skip=Kr.prototype.skip,Kr.prototype.canSkipNow=Kr.prototype.canSkipNow,Kr.prototype.getTimeUntilSkippable=Kr.prototype.getTimeUntilSkippable,Kr.prototype.isSkippable=Kr.prototype.isSkippable,Kr.prototype.isPaused=Kr.prototype.isPaused,Kr.prototype.getRemainingTime=Kr.prototype.getRemainingTime,Kr.prototype.getDuration=Kr.prototype.getDuration,Gr.prototype.stop=function(){this.c.stop()},(a=Zr.prototype).getDuration=function(){return this.b?this.b.duration:-1},a.getRemainingTime=function(){return this.b?this.b.duration-this.b.currentTime:-1},a.isPaused=function(){return this.a.paused},a.isSkippable=function(){return this.c.isSkippable()},a.getTimeUntilSkippable=function(){var e=this.c.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},a.canSkipNow=function(){return 0==this.getTimeUntilSkippable()},a.skip=function(){this.a.currentTime+=this.getRemainingTime()},a.pause=function(){return this.a.pause()},a.play=function(){return this.a.play()},a.getVolume=function(){return this.a.volume},a.setVolume=function(e){this.a.volume=e},a.isMuted=function(){return this.a.muted},a.resize=function(){},a.setMuted=function(e){this.a.muted=e},a.getSequenceLength=function(){var e=this.c.getAdPodInfo();return null==e?1:e.getTotalAds()},a.getPositionInSequence=function(){var e=this.c.getAdPodInfo();return null==e?1:e.getAdPosition()},a.release=function(){this.a=this.b=this.c=null},V("shaka.ads.ServerSideAd",Zr),Zr.prototype.release=Zr.prototype.release,Zr.prototype.getPositionInSequence=Zr.prototype.getPositionInSequence,Zr.prototype.getSequenceLength=Zr.prototype.getSequenceLength,Zr.prototype.setMuted=Zr.prototype.setMuted,Zr.prototype.resize=Zr.prototype.resize,Zr.prototype.isMuted=Zr.prototype.isMuted,Zr.prototype.setVolume=Zr.prototype.setVolume,Zr.prototype.getVolume=Zr.prototype.getVolume,Zr.prototype.play=Zr.prototype.play,Zr.prototype.pause=Zr.prototype.pause,Zr.prototype.skip=Zr.prototype.skip,Zr.prototype.canSkipNow=Zr.prototype.canSkipNow,Zr.prototype.getTimeUntilSkippable=Zr.prototype.getTimeUntilSkippable,Zr.prototype.isSkippable=Zr.prototype.isSkippable,Zr.prototype.isPaused=Zr.prototype.isPaused,Zr.prototype.getRemainingTime=Zr.prototype.getRemainingTime,Zr.prototype.getDuration=Zr.prototype.getDuration,Qr.prototype.stop=function(){this.c.reset(),this.m="",this.j=null},Qr.prototype.onCueMetadataChange=function(e){if(e.key&&e.data){var t={};t[e.key]=e.data,this.c.onTimedMetadata(t)}},g(Jr,Re),(a=Jr.prototype).setLocale=function(e){this.c=e},a.initClientSide=function(t,n){var i=this;if(!e.google||!google.ima||!google.ima.AdsLoader)throw new be(2,10,1e4);this.b=new Gr(t,n,this.c,(function(e){if(e&&e.type)switch(e.type){case"ads-loaded":i.f.a.push(e.loadTime);break;case"ad-started":i.f.c++;break;case"ad-complete":i.f.b++;break;case"ad-skipped":i.f.f++}i.dispatchEvent(e)}))},a.onAssetUnload=function(){this.b&&this.b.stop(),this.dispatchEvent(new De("ad-stopped")),this.f=new Wr},a.requestClientSideAds=function(e){if(!this.b)throw new be(1,10,10001);var t=this.b;t.m=Date.now()/1e3,t.g.requestAds(e)},a.initServerSide=function(t,n){var i=this;if(!e.google||!google.ima||!google.ima.dai)throw new be(2,10,10002);this.a=new Qr(t,n,this.c,(function(e){if(e&&e.type)switch(e.type){case"ads-loaded":i.f.a.push(e.loadTime);break;case"ad-started":i.f.c++;break;case"ad-complete":i.f.b++;break;case"ad-skipped":i.f.f++}i.dispatchEvent(e)}))},a.requestServerSideStream=function(e,t){if(t=void 0===t?"":t,!this.a)throw new be(1,10,10003);e.adTagParameters||(e.adTagParameters={});var n=e.adTagParameters;(n.mpt||n.mpv)&&G('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.adTagParameters.mpt="Shaka Player",e.adTagParameters.mpv="v3.0.4-master-8-g5f675406";var i=t;return(n=this.a).g?n=Promise.reject(new be(1,10,10004)):(e instanceof google.ima.dai.api.LiveStreamRequest&&(n.C=!0),n.g=new we,n.c.requestStream(e),n.m=i||"",n.G=Date.now()/1e3,n=n.g),n},a.replaceServerSideAdTagParameters=function(e){if(!this.a)throw new be(1,10,10003);(e.mpt||e.mpv)&&G('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.mpt="Shaka Player",e.mpv="v3.0.4-master-8-g5f675406",this.a.c.replaceAdTagParameters(e)},a.getStats=function(){var e=this.f;return{loadTimes:e.a,started:e.c,playedCompletely:e.b,skipped:e.f}},a.onDashTimedMetadata=function(e){if(this.a&&"urn:google:dai:2018"==e.schemeIdUri){var t=e.schemeIdUri,n=e.eventElement?e.eventElement.getAttribute("messageData"):null;this.a.c.processMetadata(t,n,e.startTime)}},a.onHlsTimedMetadata=function(e,t){this.a&&this.a.c.processMetadata("ID3",e.data,t)},a.onCueMetadataChange=function(e){this.a&&this.a.onCueMetadataChange(e)},V("shaka.ads.AdManager",Jr),Jr.prototype.onCueMetadataChange=Jr.prototype.onCueMetadataChange,Jr.prototype.onHlsTimedMetadata=Jr.prototype.onHlsTimedMetadata,Jr.prototype.onDashTimedMetadata=Jr.prototype.onDashTimedMetadata,Jr.prototype.getStats=Jr.prototype.getStats,Jr.prototype.replaceServerSideAdTagParameters=Jr.prototype.replaceServerSideAdTagParameters,Jr.prototype.requestServerSideStream=Jr.prototype.requestServerSideStream,Jr.prototype.initServerSide=Jr.prototype.initServerSide,Jr.prototype.requestClientSideAds=Jr.prototype.requestClientSideAds,Jr.prototype.onAssetUnload=Jr.prototype.onAssetUnload,Jr.prototype.initClientSide=Jr.prototype.initClientSide,Jr.prototype.setLocale=Jr.prototype.setLocale,Jr.ADS_LOADED="ads-loaded",Jr.AD_STARTED="ad-started",Jr.AD_FIRST_QUARTILE="ad-first-quartile",Jr.AD_MIDPOINT="ad-midpoint",Jr.AD_THIRD_QUARTILE="ad-third-quartile",Jr.AD_COMPLETE="ad-complete",Jr.AD_STOPPED="ad-stopped",Jr.AD_SKIPPED="ad-skipped",Jr.AD_VOLUME_CHANGED="ad-volume-changed",Jr.AD_MUTED="ad-muted",Jr.AD_PAUSED="ad-paused",Jr.AD_RESUMED="ad-resumed",Jr.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",Jr.CUEPOINTS_CHANGED="ad-cue-points-changed",Jr.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",Jr.AD_CLICKED="ad-clicked",Jr.AD_PROGRESS="ad-progress",Jr.AD_BUFFERING="ad-buffering",Jr.AD_IMPRESSION="ad-impression",Jr.AD_DURATION_CHANGED="ad-duration-changed",Jr.AD_CLOSED="ad-closed",Jr.AD_LOADED="ad-loaded",Jr.ALL_ADS_COMPLETED="all-ads-completed",Jr.AD_LINEAR_CHANGED="ad-linear-changed",Jr.AD_METADATA="ad-metadata",Jr.AD_RECOVERABLE_ERROR="ad-recoverable-error",Jr.AD_BREAK_READY="ad-break-ready",Jr.AD_INTERACTION="ad-interaction",qr=function(){return new Jr};var ic="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),ac="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),oc=["loop","playbackRate"],rc=["pause","play"],cc={getAssetUri:2,getAudioLanguages:2,getAudioLanguagesAndRoles:2,getBufferedInfo:2,getConfiguration:2,getExpiration:2,getPlaybackRate:2,getTextLanguages:2,getTextLanguagesAndRoles:2,getTextTracks:2,getStats:5,getVariantTracks:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,getLoadMode:10},sc={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},lc=[["getConfiguration","configure"]],uc=[["isTextTrackVisible","setTextTrackVisibility"]],dc="addTextTrack cancelTrickPlay configure resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay".split(" "),pc=["attach","detach","load","unload"];function hc(e,t,n,i,a,o){var r=this;this.T=e,this.f=new ye(t),this.Y=n,this.m=!1,this.C=i,this.M=a,this.J=o,this.b=this.h=!1,this.K="",this.j=null,this.v=function(){return yc(r)},this.w=function(e,t){var n=nc(t);switch(n.type){case"event":var i=n.targetName;n=new De((n=n.event).type,n),r.C(i,n);break;case"update":for(var a in i=n.update)for(var o in n=r.a[a]||{},i[a])n[o]=i[a][o];r.m&&(r.Y(),r.m=!1);break;case"asyncComplete":if(a=n.id,n=n.error,o=r.c[a],delete r.c[a],o)if(n){for(i in a=new be(n.severity,n.category,n.code),n)a[i]=n[i];o.reject(a)}else o.resolve()}},this.a={video:{},player:{}},this.G=0,this.c={},this.g=null,kc.add(this)}function fc(e,t,n){xc=n,n.addUpdateListener(e.v),n.addMessageListener("urn:x-cast:com.google.shaka.v2",e.w),yc(e),Oc(e,{type:"init",initState:t,appData:e.j}),e.g.resolve()}function mc(e,t){var n=8003;switch(t.code){case"cancel":n=8004;break;case"timeout":n=8005;break;case"receiver_unavailable":n=8006}e.g.reject(new be(2,8,n,t))}function bc(e,t){var n=e.J();e.g=new we,e.m=!0,fc(e,n,t)}function gc(e){var t=xc;t.removeUpdateListener(e.v),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.w)}function yc(e){var t=!!xc&&"connected"==xc.status;if(e.b&&!t){for(var n in e.M(),e.a)e.a[n]={};vc(e)}e.b=t,e.K=t?xc.receiver.friendlyName:"",e.f.Rb()}function vc(e){for(var t in e.c){var n=e.c[t];delete e.c[t],n.reject(new be(1,7,7e3))}}function Oc(e,t){var n=tc(t),i=xc;try{i.sendMessage("urn:x-cast:com.google.shaka.v2",n,(function(){}),X)}catch(t){throw i=new De("error",{detail:n=new be(2,8,8005,t)}),e.C("player",i),e.kb(),n}}(a=hc.prototype).destroy=function(){return kc.delete(this),vc(this),xc&&gc(this),this.f&&(this.f.stop(),this.f=null),this.M=this.C=null,this.b=this.h=!1,this.w=this.v=this.g=this.c=this.a=this.j=null,Promise.resolve()},a.ha=function(){return this.b},a.hd=function(){return this.K},a.init=function(){if(e.chrome&&chrome.cast&&chrome.cast.isAvailable&&this.T.length){this.h=!0,this.f.Rb();var t=new chrome.cast.SessionRequest(this.T);t=new chrome.cast.ApiConfig(t,(function(e){for(var t=u(kc),n=t.next();!n.done;n=t.next())bc(n.value,e)}),(function(e){for(var t=u(kc),n=t.next();!n.done;n=t.next())n=n.value,jc="available"==e,n.f.Rb()}),"origin_scoped"),chrome.cast.initialize(t,(function(){}),(function(){})),jc&&this.f.S(wc),(t=xc)&&t.status!=chrome.cast.SessionStatus.STOPPED?bc(this,t):xc=null}},a.pd=function(e){this.j=e,this.b&&Oc(this,{type:"appData",appData:this.j})},a.cast=function(e){var t=this;return E((function(n){if(!t.h)throw new be(1,8,8e3);if(!jc)throw new be(1,8,8001);if(t.b)throw new be(1,8,8002);return t.g=new we,chrome.cast.requestSession((function(n){return fc(t,e,n)}),(function(e){return mc(t,e)})),w(n,t.g,0)}))},a.kb=function(){if(this.b){if(vc(this),xc){gc(this);try{xc.stop((function(){}),(function(){}))}catch(e){}xc=null}yc(this)}},a.get=function(e,t){var n=this;if("video"==e){if(rc.includes(t))return function(i){for(var a=[],o=0;o<arguments.length;++o)a[o]=arguments[o];return n.Rd.apply(n,[e,t].concat(d(a)))}}else if("player"==e){if(sc[t]&&!this.get("player","isLive")())return function(){};if(dc.includes(t))return function(i){for(var a=[],o=0;o<arguments.length;++o)a[o]=arguments[o];return n.Rd.apply(n,[e,t].concat(d(a)))};if(pc.includes(t))return function(i){for(var a=[],o=0;o<arguments.length;++o)a[o]=arguments[o];return n.Xe.apply(n,[e,t].concat(d(a)))};if(cc[t])return function(){return n.a[e][t]}}return this.a[e][t]},a.set=function(e,t,n){this.a[e][t]=n,Oc(this,{type:"set",targetName:e,property:t,value:n})},a.Rd=function(e,t,n){for(var i=[],a=2;a<arguments.length;++a)i[a-2]=arguments[a];Oc(this,{type:"call",targetName:e,methodName:t,args:i})},a.Xe=function(e,t,n){for(var i=[],a=2;a<arguments.length;++a)i[a-2]=arguments[a];a=new we;var o=this.G.toString();this.G++,this.c[o]=a;try{Oc(this,{type:"asyncCall",targetName:e,methodName:t,args:i,id:o})}catch(e){a.reject(e)}return a};var wc=.02,jc=!1,xc=null,kc=new Set;function _c(e,t,n){Re.call(this);var i=this;this.f=e,this.c=t,this.b=this.j=this.g=this.m=this.h=null,this.w=n,this.v=new Map,this.a=new hc(n,(function(){return Nc(i)}),(function(){return Tc(i)}),(function(e,t){return Ac(i,e,t)}),(function(){return Cc(i)}),(function(){return Ic(i)})),function(e){e.a.init(),e.b=new nt;for(var t=u(ic),n=t.next();!n.done;n=t.next())e.b.l(e.f,n.value,(function(t){e.a.ha()||(t=new De(t.type,t),e.g.dispatchEvent(t))}));for(var i in Lr)e.b.l(e.c,Lr[i],(function(t){e.a.ha()||e.j.dispatchEvent(t)}));for(var a in e.h={},t={},e.f)t.yb=a,Object.defineProperty(e.h,t.yb,{configurable:!1,enumerable:!0,get:function(t){return function(){return Pc(e,t.yb)}}(t),set:function(t){return function(n){var i=t.yb;e.a.ha()?e.a.set("video",i,n):e.f[i]=n}}(t)}),t={yb:t.yb};e.m={},Sc(e,(function(t){Object.defineProperty(e.m,t,{configurable:!1,enumerable:!0,get:function(){return function(e,t){if(e.v.has(t)&&(t=e.v.get(t)),"addEventListener"==t)return function(t,n,i){return e.j.addEventListener(t,n,i)};if("removeEventListener"==t)return function(t,n,i){return e.j.removeEventListener(t,n,i)};if("getMediaElement"==t)return function(){return e.h};if("getSharedConfiguration"==t)return e.a.get("player","getConfiguration");if("getNetworkingEngine"==t)return function(){return e.c.Hb()};if("getAdManager"==t)return function(){return e.c.Gd()};if("setVideoContainer"==t)return function(t){return e.c.Zd(t)};if(e.a.ha()){if("getManifest"==t||"drmInfo"==t)return function(){return G(t+"() does not work while casting!"),null};if("attach"==t||"detach"==t)return function(){return G(t+"() does not work while casting!"),Promise.resolve()}}return e.a.ha()&&0==Object.keys(e.a.a.video).length&&cc[t]||!e.a.ha()?e.c[t].bind(e.c):e.a.get("player",t)}(e,t)}})})),function(e){var t=new Map;Sc(e,(function(n,i){if(t.has(i)){var a=t.get(i);n.length<a.length?e.v.set(n,a):e.v.set(a,n)}else t.set(i,n)}))}(e),e.g=new Re,e.g.Yb=e.h,e.j=new Re,e.j.Yb=e.m}(this)}function Sc(e,t){function n(e){return"constructor"!=e&&"function"==typeof i[e]&&!a.has(e)}var i=e.c,a=new Set;for(o in i)n(o)&&(a.add(o),t(o,i[o]));for(var o=Object.getPrototypeOf(i),r=Object.getPrototypeOf({});o&&o!=r;){for(var c=u(Object.getOwnPropertyNames(o)),s=c.next();!s.done;s=c.next())n(s=s.value)&&(a.add(s),t(s,i[s]));o=Object.getPrototypeOf(o)}}function Ic(e){var t={video:{},player:{},playerAfterLoad:{},manifest:e.c.Oc(),startTime:null};e.f.pause();for(var n=u(oc),i=n.next();!i.done;i=n.next())i=i.value,t.video[i]=e.f[i];for(e.f.ended||(t.startTime=e.f.currentTime),i=(n=u(lc)).next();!i.done;i=n.next()){var a=i.value;i=a[1],a=e.c[a[0]](),t.player[i]=a}for(i=(n=u(uc)).next();!i.done;i=n.next())i=(a=i.value)[1],a=e.c[a[0]](),t.playerAfterLoad[i]=a;return t}function Nc(e){var t=new De("caststatuschanged");e.dispatchEvent(t)}function Tc(e){var t=new De(e.h.paused?"pause":"play");e.g.dispatchEvent(t)}function Cc(e){for(var t=u(lc),n=t.next();!n.done;n=t.next()){var i=n.value;n=i[1],i=e.a.get("player",i[0])(),e.c[n](i)}var a=e.a.get("player","getAssetUri")();n=e.a.get("video","ended"),t=Promise.resolve();var o=e.f.autoplay;i=null,n||(i=e.a.get("video","currentTime")),a&&(e.f.autoplay=!1,t=e.c.load(a,i));var r={};for(i=(n=u(oc)).next();!i.done;i=n.next())i=i.value,r[i]=e.a.get("video",i);t.then((function(){if(e.f){for(var t=u(oc),n=t.next();!n.done;n=t.next())n=n.value,e.f[n]=r[n];for(n=(t=u(uc)).next();!n.done;n=t.next()){var i=n.value;n=i[1],i=e.a.get("player",i[0])(),e.c[n](i)}e.f.autoplay=o,a&&e.f.play()}}),(function(t){t=new De(yr,{detail:t}),e.c.dispatchEvent(t)}))}function Pc(e,t){if("addEventListener"==t)return function(t,n,i){return e.g.addEventListener(t,n,i)};if("removeEventListener"==t)return function(t,n,i){return e.g.removeEventListener(t,n,i)};if(e.a.ha()&&0==Object.keys(e.a.a.video).length){var n=e.f[t];if("function"!=typeof n)return n}return e.a.ha()?e.a.get("video",t):("function"==typeof(n=e.f[t])&&(n=n.bind(e.f)),n)}function Ac(e,t,n){e.a.ha()&&("video"==t?e.g.dispatchEvent(n):"player"==t&&e.j.dispatchEvent(n))}function Mc(e,t,n,i){Re.call(this);var a=this;this.a=e,this.c=t,this.b=new nt,this.K={video:e,player:t},this.C=n||function(){},this.M=i||function(e){return e},this.f=null,this.G=!1,this.j=!0,this.h=0,this.w=!1,this.v=!0,this.m=this.g=null,this.J=new ye((function(){Rc(a)})),function(e){var t=cast.receiver.CastReceiverManager.getInstance();t.onSenderConnected=function(){return Ec(e)},t.onSenderDisconnected=function(){return Ec(e)},t.onSystemVolumeChanged=function(){var t=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();t&&Bc(e,{type:"update",update:{video:{volume:t.level,muted:t.muted}}},e.g),Bc(e,{type:"event",targetName:"video",event:{type:"volumechange"}},e.g)},e.m=t.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.m.onMessage=function(t){return function(e,t){var n=nc(t.data);switch(n.type){case"PLAY":e.a.play(),Hc(e);break;case"PAUSE":e.a.pause(),Hc(e);break;case"SEEK":var i=n.currentTime,a=n.resumeState;null!=i&&(e.a.currentTime=Number(i)),a&&"PLAYBACK_START"==a?(e.a.play(),Hc(e)):a&&"PLAYBACK_PAUSE"==a&&(e.a.pause(),Hc(e));break;case"STOP":e.c.vd().then((function(){e.c&&Hc(e)}));break;case"GET_STATUS":Uc(e,Number(n.requestId));break;case"VOLUME":a=n.volume,i=a.level,a=a.muted;var o=e.a.volume,r=e.a.muted;null!=i&&(e.a.volume=Number(i)),null!=a&&(e.a.muted=a),o==e.a.volume&&r==e.a.muted||Hc(e);break;case"LOAD":e.h=0,e.w=!1,e.v=!1,i=n.media,a=n.currentTime,o=e.M(i.contentId),r=n.autoplay||!0,e.C(i.customData),r&&(e.a.autoplay=!0),e.c.load(o,a).then((function(){e.c&&Uc(e)})).catch((function(t){var i="LOAD_FAILED";7==t.category&&7e3==t.code&&(i="LOAD_CANCELLED"),Bc(e,{requestId:Number(n.requestId),type:i},e.m)}));break;default:Bc(e,{requestId:Number(n.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},e.m)}}(e,t)},e.g=t.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.g.onMessage=function(t){return function(e,t){var n=nc(t.data);switch(n.type){case"init":e.h=0,e.w=!1,e.v=!0,function(e,t,n){var i,a,o,r,c,s,l,u,d;E((function(p){switch(p.a){case 1:for(i in t.player)a=t.player[i],e.c[i](a);return e.C(n),o=e.a.autoplay,t.manifest?(e.a.autoplay=!1,x(p,5),w(p,e.c.load(t.manifest,t.startTime),7)):w(p,Promise.resolve(),3);case 7:_(p,3);break;case 5:return r=S(p),c=new De(yr,{detail:r}),e.c.dispatchEvent(c),p.return();case 3:if(!e.c)return p.return();for(s in t.video)l=t.video[s],e.a[s]=l;for(u in t.playerAfterLoad)d=t.playerAfterLoad[u],e.c[u](d);e.a.autoplay=o,t.manifest&&(e.a.play(),Hc(e)),j(p)}}))}(e,n.initState,n.appData),Rc(e);break;case"appData":e.C(n.appData);break;case"set":var i=n.targetName,a=n.property;if(n=n.value,"video"==i){var o=cast.receiver.CastReceiverManager.getInstance();if("volume"==a){o.setSystemVolumeLevel(n);break}if("muted"==a){o.setSystemVolumeMuted(n);break}}e.K[i][a]=n;break;case"call":(i=e.K[n.targetName])[n.methodName].apply(i,n.args);break;case"asyncCall":i=n.targetName,a=n.methodName,"player"==i&&"load"==a&&(e.h=0,e.w=!1);var r=n.id,c=t.senderId;o=e.K[i],n=o[a].apply(o,n.args),"player"==i&&"load"==a&&(n=n.then((function(){e.v=!0}))),n.then((function(){return Vc(e,c,r,null)}),(function(t){return Vc(e,c,r,t)}))}}(e,t)},t.start();for(var n=(t=u(ic)).next();!n.done;n=t.next())e.b.l(e.a,n.value,(function(t){return Lc(e,"video",t)}));for(var i in Lr)e.b.l(e.c,Lr[i],(function(t){return Lc(e,"player",t)}));cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?e.c.qd(3840,2160):e.c.qd(1920,1080),e.b.l(e.a,"loadeddata",(function(){e.w=!0})),e.b.l(e.c,"loading",(function(){e.j=!1,Dc(e)})),e.b.l(e.a,"playing",(function(){e.j=!1,Dc(e)})),e.b.l(e.a,"pause",(function(){Dc(e)})),e.b.l(e.c,"unloading",(function(){e.j=!0,Dc(e)})),e.b.l(e.a,"ended",(function(){new ye((function(){e.a&&e.a.ended&&(e.j=!0,Dc(e))})).S(qc)}))}(this)}function Ec(e){e.h=0,e.v=!0,e.G=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,Dc(e)}function Dc(e){var t;E((function(n){return 1==n.a?w(n,Promise.resolve(),2):e.c?(t=new De("caststatuschanged"),e.dispatchEvent(t),zc(e)||Hc(e),void j(n)):n.return()}))}function Lc(e,t,n){e.c&&(Rc(e),Bc(e,{type:"event",targetName:t,event:n},e.g))}function Rc(e){e.J.S(Fc);for(var t={video:{},player:{}},n=u(ac),i=n.next();!i.done;i=n.next())i=i.value,t.video[i]=e.a[i];if(e.c.U())for(var a in sc)0==e.h%sc[a]&&(t.player[a]=e.c[a]());for(var o in cc)0==e.h%cc[o]&&(t.player[o]=e.c[o]());(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=n.level,t.video.muted=n.muted),e.w&&(e.h+=1),Bc(e,{type:"update",update:t},e.g),zc(e)}function zc(e){return!(!e.v||!e.a.duration&&!e.c.U())&&(Uc(e),e.v=!1,!0)}function Uc(e,t){var n={contentId:e.c.Oc(),streamType:e.c.U()?"LIVE":"BUFFERED",contentType:""};e.c.U()||(n.duration=e.a.duration),e.f&&(n.metadata=e.f),Hc(e,void 0===t?0:t,n)}function Vc(e,t,n,i){e.c&&Bc(e,{type:"asyncComplete",id:n,error:i},e.g,t)}function Bc(e,t,n,i){e.G&&(e=tc(t),i?n.getCastChannel(i).send(e):n.broadcast(e))}function Hc(e,t,n){n=void 0===n?null:n;var i={mediaSessionId:0,playbackRate:e.a.playbackRate,playerState:e.j?Wc:e.c.Sc()?Gc:e.a.paused?$c:Kc,currentTime:e.a.currentTime,supportedMediaCommands:63,volume:{level:e.a.volume,muted:e.a.muted}};n&&(i.media=n),Bc(e,{requestId:void 0===t?0:t,type:"MEDIA_STATUS",status:[i]},e.m)}e.__onGCastApiAvailable=function(e){if(e)for(var t=(e=u(kc)).next();!t.done;t=e.next())t.value.init()},g(_c,Re),(a=_c.prototype).destroy=function(e){return e&&this.a.kb(),this.b&&(this.b.release(),this.b=null),e=[],this.c&&(e.push(this.c.destroy()),this.c=null),this.a&&(e.push(this.a.destroy()),this.a=null),this.m=this.h=this.f=null,Promise.all(e)},a.Je=function(){return this.h},a.Be=function(){return this.m},a.he=function(){return this.a.h&&jc},a.ha=function(){return this.a.ha()},a.hd=function(){return this.a.hd()},a.cast=function(){var e,t=this;return E((function(n){return 1==n.a?(e=Ic(t),w(n,t.a.cast(e),2)):t.c?w(n,t.c.vd(),0):n.return()}))},a.pd=function(e){this.a.pd(e)},a.jf=function(){!function(e){if(e.b){var t=e.J();chrome.cast.requestSession((function(n){return fc(e,t,n)}),(function(t){return mc(e,t)}))}}(this.a)},a.kb=function(){this.a.kb()},a.je=function(e){var t=this;return E((function(n){if(1==n.a)return e==t.w?n.return():(t.w=e,t.a.kb(),w(n,t.a.destroy(),2));t.a=null,t.a=new hc(e,(function(){return Nc(t)}),(function(){return Tc(t)}),(function(e,n){return Ac(t,e,n)}),(function(){return Cc(t)}),(function(){return Ic(t)})),t.a.init(),j(n)}))},V("shaka.cast.CastProxy",_c),_c.prototype.changeReceiverId=_c.prototype.je,_c.prototype.forceDisconnect=_c.prototype.kb,_c.prototype.suggestDisconnect=_c.prototype.jf,_c.prototype.setAppData=_c.prototype.pd,_c.prototype.cast=_c.prototype.cast,_c.prototype.receiverName=_c.prototype.hd,_c.prototype.isCasting=_c.prototype.ha,_c.prototype.canCast=_c.prototype.he,_c.prototype.getPlayer=_c.prototype.Be,_c.prototype.getVideo=_c.prototype.Je,_c.prototype.destroy=_c.prototype.destroy,g(Mc,Re),(a=Mc.prototype).isConnected=function(){return this.G},a.Me=function(){return this.j},a.ef=function(e){this.f=e},a.me=function(){this.f=null},a.ff=function(e){this.f||(this.f={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.f.title=e},a.df=function(e){this.f||(this.f={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.f.images=[{url:e}]},a.cf=function(e){this.f||(this.f={}),this.f.artist=e,this.f.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},a.destroy=function(){var e,t=this;return E((function(n){if(1==n.a)return t.b&&(t.b.release(),t.b=null),e=[],t.c&&(e.push(t.c.destroy()),t.c=null),t.J&&(t.J.stop(),t.J=null),t.a=null,t.K=null,t.C=null,t.G=!1,t.j=!0,t.g=null,t.m=null,w(n,Promise.all(e),2);cast.receiver.CastReceiverManager.getInstance().stop(),j(n)}))},V("shaka.cast.CastReceiver",Mc),Mc.prototype.destroy=Mc.prototype.destroy,Mc.prototype.setContentArtist=Mc.prototype.cf,Mc.prototype.setContentImage=Mc.prototype.df,Mc.prototype.setContentTitle=Mc.prototype.ff,Mc.prototype.clearContentMetadata=Mc.prototype.me,Mc.prototype.setContentMetadata=Mc.prototype.ef,Mc.prototype.isIdle=Mc.prototype.Me,Mc.prototype.isConnected=Mc.prototype.isConnected;var Fc=.5,qc=5,Wc="IDLE",Kc="PLAYING",Gc="BUFFERING",$c="PAUSED";function Xc(e,t){this.b=[],this.a=1,this.c=0,this.v=e,this.m=t,this.f=this.h=!1,this.g="white",this.j="black",Qc(this)}function Yc(e,t,n){for(var i="CC"+(e.v<<1|e.m+1),a=-1,o=-1,r=0;r<e.b.length;r++)if(e.b[r].length){a=r;break}for(r=e.b.length-1;0<=r;r--)if(e.b[r].length){o=r;break}if(-1===a||-1===o)return null;for(var c=r=!1,s="white",l="black",d=Zc(t,n,r,c,s,l),p=new Pn(t,n,"");a<=o;a++){for(var h=u(e.b[a]),f=h.next();!f.done;f=h.next()){var m=(f=f.value).g,b=f.c,g=f.f,y=f.b;m==r&&b==c&&g==s&&y==l||(d.payload&&p.nestedCues.push(d),d=Zc(t,n,m,b,g,y),r=m,c=b,s=g,l=y),d.payload+=f.a}d.payload&&p.nestedCues.push(d),a!==o&&((d=new Pn(t,n,"")).spacer=!0,p.nestedCues.push(d)),d=Zc(t,n,r,c,s,l)}return p.nestedCues.length?{cue:p,stream:i}:null}function Zc(e,t,n,i,a,o){return e=new Pn(e,t,""),n&&e.textDecoration.push("underline"),i&&(e.fontStyle="italic"),e.color=a,e.backgroundColor=o,e}function Qc(e){ts(e,0,15),e.a=1}function Jc(e,t,n){if(!(32>n||127<n)){var i="";switch(t){case is:i=cs.has(n)?cs.get(n):String.fromCharCode(n);break;case as:i=ss.get(n);break;case os:e.b[e.a].pop(),i=ls.get(n);break;case rs:e.b[e.a].pop(),i=us.get(n)}i&&e.b[e.a].push(new ns(i,e.h,e.f,e.j,e.g))}}function es(e,t,n,i){if(t>=n)for(--i;0<=i;i--)e.b[t+i]=e.b[n+i].map((function(e){return e}));else for(var a=0;a<i;a++)e.b[t+a]=e.b[n+a].map((function(e){return e}))}function ts(e,t,n){for(var i=0;i<=n;i++)e.b[t+i]=[]}function ns(e,t,n,i,a){this.a=e,this.g=t,this.c=n,this.b=i,this.f=a}var is=0,as=1,os=2,rs=3,cs=new Map([[39,"’"],[42,"á"],[92,"é"],[92,"é"],[94,"í"],[95,"ó"],[96,"ú"],[123,"ç"],[124,"÷"],[125,"Ñ"],[126,"ñ"],[127,"█"]]),ss=new Map([[48,"®"],[49,"°"],[50,"½"],[51,"¿"],[52,"™"],[53,"¢"],[54,"£"],[55,"♪"],[56,"à"],[57,"⠀"],[58,"è"],[59,"â"],[60,"ê"],[61,"î"],[62,"ô"],[63,"û"]]),ls=new Map([[32,"Á"],[33,"É"],[34,"Ó"],[35,"Ú"],[36,"Ü"],[37,"ü"],[38,"‘"],[39,"¡"],[40,"*"],[41,"'"],[42,"─"],[43,"©"],[44,"℠"],[45,"·"],[46,"“"],[47,"”"],[48,"À"],[49,"Â"],[50,"Ç"],[51,"È"],[52,"Ê"],[53,"Ë"],[54,"ë"],[55,"Î"],[56,"Ï"],[57,"ï"],[58,"Ô"],[59,"Ù"],[60,"ù"],[61,"Û"],[62,"«"],[63,"»"]]),us=new Map([[32,"Ã"],[33,"ã"],[34,"Í"],[35,"Ì"],[36,"ì"],[37,"Ò"],[38,"ò"],[39,"Õ"],[40,"õ"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"Ä"],[49,"ä"],[50,"Ö"],[51,"ö"],[52,"ß"],[53,"¥"],[54,"¤"],[55,"│"],[56,"Å"],[57,"å"],[58,"Ø"],[59,"ø"],[60,"┌"],[61,"┐"],[62,"└"],[63,"┘"]]);function ds(e,t){this.b=ms,this.j=new Xc(e,t),this.c=new Xc(e,t),this.g=new Xc(e,t),this.a=this.c,this.f=0,this.h=null}function ps(e,t,n){e.a=e.c;var i=e.a,a=null;return e.b!==gs&&e.b!==ys&&(a=Yc(i,e.f,n),(n=e.c).a=0<n.c?n.c:0,ts(n,0,15),(n=e.g).a=0<n.c?n.c:0,ts(n,0,15),i.a=15),e.b=gs,i.c=t,a}function hs(e){e.b=bs,e.a=e.g,e.a.c=0}function fs(e){$("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),e.a=e.j,e.b=ys}var ms=0,bs=1,gs=3,ys=4,vs="black green blue cyan red yellow magenta black".split(" "),Os="white green blue cyan red yellow magenta white_italics".split(" ");function ws(){this.a=[],this.b=0,this.g=new Map([["CC1",new ds(0,0)],["CC2",new ds(0,1)],["CC3",new ds(1,0)],["CC4",new ds(1,1)]]),this.f=this.c=0,js(this)}function js(e){e.c=0,e.f=0;for(var t=(e=u(e.g.values())).next();!t.done;t=e.next())(t=t.value).b=2,t.a=t.c,t.h=null,Qc(t.c),Qc(t.g),Qc(t.j)}function xs(e,t){var n=t.type;if(16==(112&t.oa)){var i=t.oa>>3&1;0===n?e.c=i:e.f=i}if(n=e.g.get("CC"+(n<<1|(n?e.f:e.c)+1)),255===t.oa&&255===t.Fa||!t.oa&&!t.Fa||!ks(t.oa)||!ks(t.Fa))return 45<=++e.b&&js(e),null;if(e.b=0,t.oa&=127,t.Fa&=127,!t.oa&&!t.Fa)return null;if(i=null,16==(112&t.oa))e:{var a=t.oa;if(i=t.Fa,n.h===(a<<8|i))n.h=null;else if(n.h=a<<8|i,16==(240&a)&&64==(192&i)){a=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&a)<<1|i>>5&1];var o=(30&i)>>1,r="white",c=!1;if(7>o?r=Os[o]:7===o&&(c=!0),i=1==(1&i),n.b!==ys){if(o=n.a,n.b===gs&&a!==o.a){var s=1+a-o.c;es(o,s,1+o.a-o.c,o.c),ts(o,0,s-1),ts(o,a+1,15-a)}o.a=a,n.a.h=i,n.a.f=c,n.a.g=r,n.a.j="black"}}else if(17==(247&a)&&32==(240&i))n.a.h=!1,n.a.f=!1,n.a.g="white",Jc(n.a,is,32),r=!1,"white_italics"===(a=Os[(14&i)>>1])&&(a="white",r=!0),n.a.h=1==(1&i),n.a.f=r,n.a.g=a;else if(16==(247&a)&&32==(240&i)||23==(247&a)&&45==(255&i))r="black",0==(7&a)&&(r=vs[(14&i)>>1]),n.a.j=r;else if(17==(247&a)&&48==(240&i))Jc(n.a,as,i);else if(18==(246&a)&&32==(224&i))Jc(n.a,1&a?rs:os,i);else if(20==(246&a)&&32==(240&i)){switch(i=t.pts,a=null,t.Fa){case 32:hs(n);break;case 33:(n=n.a).b[n.a].pop();break;case 37:a=ps(n,2,i);break;case 38:a=ps(n,3,i);break;case 39:a=ps(n,4,i);break;case 40:Jc(n.a,is,32);break;case 41:n.b=2,n.a=n.c,n.a.c=0,n.f=i;break;case 42:Qc(n.j),fs(n);break;case 43:fs(n);break;case 44:a=n.c,r=null,n.b!==ys&&(r=Yc(a,n.f,i)),ts(a,0,15),a=r;break;case 45:a=n.a,n.b!==gs?a=null:(r=Yc(a,n.f,i),es(a,(c=a.a-a.c+1)-1,c,a.c),ts(a,0,c-1),ts(a,a.a,15-a.a),n.f=i,a=r);break;case 46:ts(n.g,0,15);break;case 47:a=null,n.b!==ys&&(a=Yc(n.c,n.f,i)),r=n.g,n.g=n.c,n.c=r,hs(n),n.f=i}i=a;break e}i=null}else a=t.Fa,Jc(n.a,is,t.oa),Jc(n.a,is,a);return i}function ks(e){for(var t=0;e;)t^=1&e,e>>=1;return 1===t}function _s(){}var Ss=function e(t,n){var i,a,o,r;return M(e,(function(e){if(1==e.a){for(var t=0,c=0,s=0;c<n.length;)2==t&&3==n[c]?t=0:(0==n[c]?t++:t=0,n[s]=n[c],s++),c++;i=c-s,a=0}if(4!=e.a){if(!(a+i<n.length))return e.u(0);for(o=0;255==n[a];)o+=255,a++;for(o+=n[a++],r=0;255==n[a];)r+=255,a++;return r+=n[a++],4!=o?e.u(4):w(e,n.subarray(a,a+r),4)}return a+=r,e.u(2)}))};function Is(e,t){var n=null,i=null,a=e.I();return 1&t&&e.skip(8),2&t&&e.skip(4),8&t&&(n=e.I()),16&t&&(i=e.I()),{trackId:a,Cd:n,ne:i}}function Ns(e,t){return{Nc:1==t?e.vb():e.I()}}function Ts(e,t){return 1==t?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4)),{timescale:e.I()}}function Cs(e,t,n){var i=e.I(),a=[];1&n&&e.skip(4),4&n&&e.skip(4);for(var o=u(ee(i)),r=o.next();!r.done;r=o.next())r={ld:null,sampleSize:null,pc:null},256&n&&(r.ld=e.I()),512&n&&(r.sampleSize=e.I()),1024&n&&e.skip(4),2048&n&&(r.pc=0==t?e.I():e.Qd()),a.push(r);return{Wf:i,Td:a}}function Ps(){this.f=new _s,this.c=new Map,this.b=this.a=0}function As(e){var t=this;this.a=[],this.b=[],this.data=[],(new za).H("moov",Ua).V("pssh",(function(e){if(!(1<e.version)){var n=Ae(e.reader.P,-12,e.size);if(t.data.push(n),t.a.push(Gt(e.reader.Qa(16))),0<e.version){n=e.reader.I();for(var i=(n=u(ee(n))).next();!i.done;i=n.next())i=Gt(e.reader.Qa(16)),t.b.push(i)}}})).parse(e)}function Ms(e){var t=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),n=e.length,i=t.length+16+n,a=new Uint8Array(i),o=Me(a),r=0;return o.setUint32(r,i),r+=4,o.setUint32(r,1886614376),r+=4,o.setUint32(r,0),r+=4,a.set(t,r),r+=t.length,o.setUint32(r,n),a.set(e,r+4),a}function Es(e,t){var n=Ls(e,t);return 1!=n.length?null:n[0]}function Ds(e,t,n){return 1!=(e=Rs(e,t,n)).length?null:e[0]}function Ls(e,t){return Array.from(e.childNodes).filter((function(e){return e instanceof Element&&e.tagName==t}))}function Rs(e,t,n){return Array.from(e.childNodes).filter((function(e){return e instanceof Element&&e.localName==n&&e.namespaceURI==t}))}function zs(e,t,n){return e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null}function Us(e){return Array.from(e.childNodes).every(Vs)?e.textContent.trim():null}function Vs(e){return e.nodeType==Node.TEXT_NODE||e.nodeType==Node.CDATA_SECTION_NODE}function Bs(e,t,n,i){i=void 0===i?null:i;var a=null;return null!=(e=e.getAttribute(t))&&(a=n(e)),null==a?i:a}function Hs(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:Math.floor(e/1e3)):null}function Fs(e){return e&&(e=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(e))?(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null):null}function qs(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t?(e=Number(t[1]),isFinite(e)?(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null):null):null}function Ws(e){return 0==(e=Number(e))%1?e:null}function Ks(e){return 0==(e=Number(e))%1&&0<e?e:null}function Gs(e){return 0==(e=Number(e))%1&&0<=e?e:null}function $s(e){return e=Number(e),isNaN(e)?null:e}function Xs(e){var t;return e=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e),isNaN(e)?null:e}function Ys(e,t){var n=new DOMParser,i=null,a=null;try{a=n.parseFromString(e,"text/xml")}catch(e){}return a&&a.documentElement.tagName==t&&(i=a.documentElement),i&&0<i.getElementsByTagName("parsererror").length?null:i}function Zs(e,t){try{return Ys(ct(e),t)}catch(e){return null}}function Qs(e,t){var n=function(e){for(var t=[],n=(e=u(e)).next();!n.done;n=e.next())(n=Js(n.value))&&t.push(n);return t}(e),i=null,a=[],o=[],r=new Set(n.map((function(e){return e.keyId})));if(r.delete(null),1<r.size)throw new be(2,4,4010);if(t||(o=n.filter((function(e){return"urn:mpeg:dash:mp4protection:2011"!=e.Ud||(i=e.init||i,!1)}))).length&&(0==(a=function(e,t){for(var n=[],i=u(t),a=i.next();!a.done;a=i.next()){a=a.value;var o,r=el.get(a.Ud);if(r)(o=Ds(a.node,"urn:microsoft:playready","pro"))?o=[{initData:Ms(o=Wt(o.textContent)),initDataType:"cenc",keyId:a.keyId}]:o=null,o=St(r,a.init||e||o),(r=tl.get(r))&&(o.licenseServerUri=r(a)),n.push(o)}return n}(i,o)).length&&(a=[St("",i)])),n.length&&(t||!o.length))for(a=[],o=(n=u(el.values())).next();!o.done;o=n.next())"org.w3.clearkey"!=(o=o.value)&&a.push(St(o,i));if(r=Array.from(r)[0]||null)for(o=(n=u(a)).next();!o.done;o=n.next())for(var c=(o=u(o.value.initData)).next();!c.done;c=o.next())c.value.keyId=r;return{Bd:r,Rf:i,drmInfos:a,Fd:!0}}function Js(e){var t=e.getAttribute("schemeIdUri"),n=zs(e,"urn:mpeg:cenc:2013","default_KID"),i=Rs(e,"urn:mpeg:cenc:2013","pssh").map(Us);if(!t)return null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase()).includes(" "))throw new be(2,4,4009);var a=[];try{a=i.map((function(e){return{initDataType:"cenc",initData:Wt(e),keyId:null}}))}catch(e){throw new be(2,4,4007)}return{node:e,Ud:t,keyId:n,init:0<a.length?a:null}}Ps.prototype.init=function(e){var t=this,n=[],i=[];if((new za).H("moov",Ua).H("mvex",Ua).V("trex",(function(e){var n=e.reader;n.skip(4),n.skip(4),e=n.I(),n=n.I(),t.a=e,t.b=n})).H("trak",Ua).V("tkhd",(function(e){var t=e.reader;1==e.version?(t.skip(8),t.skip(8),e=t.vb()):(t.skip(4),t.skip(4),e=t.I()),n.push(e)})).H("mdia",Ua).V("mdhd",(function(e){e=Ts(e.reader,e.version),i.push(e.timescale)})).parse(e,!0),!n.length||!i.length||n.length!=i.length)throw new be(2,2,2010);n.forEach((function(e,n){t.c.set(e,i[n])}))},Ps.prototype.parse=function(e){var t=this,n=[],i=this.a,a=this.b,o=[],r=null,c=9e4;return(new za).H("moof",Ua).H("traf",Ua).V("trun",(function(e){o=Cs(e.reader,e.version,e.flags).Td})).V("tfhd",(function(e){e=Is(e.reader,e.flags),i=e.Cd||t.a,a=e.ne||t.b,e=e.trackId,t.c.has(e)&&(c=t.c.get(e))})).V("tfdt",(function(e){r=Ns(e.reader,e.version).Nc})).H("mdat",(function(e){if(null===r)throw new be(2,2,2010);e=e.reader;var s=r,l=c,d=i,p=a,h=o,f=0,m=p;for(h.length&&(m=h[0].sampleSize||p);e.pa();){var b=e.I();if(6==(31&e.W())){var g=0;h.length>f&&(g=h[f].pc||0),g=(s+g)/l;for(var y=u(Ss(t.f,e.Qa(b-1))),v=y.next();!v.done;v=y.next())n.push({Re:v.value,pts:g})}else e.skip(b-1);0==(m-=b+4)&&(s=h.length>f?s+(h[f].ld||d):s+d,f++,m=h.length>f&&h[f].sampleSize||p)}})).parse(e,!1),n};var el=(new Map).set("urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b","org.w3.clearkey").set("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine.alpha").set("urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95","com.microsoft.playready").set("urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95","com.microsoft.playready").set("urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb","com.adobe.primetime"),tl=(new Map).set("com.widevine.alpha",(function(e){return(e=Ds(e.node,"urn:microsoft","laurl"))&&e.getAttribute("licenseUrl")||""})).set("com.microsoft.playready",(function(e){return(e=Ds(e.node,"urn:microsoft:playready","pro"))&&(e=function(e){var t=0,n=Me(e),i=n.getUint32(t,!0);if(i!=e.byteLength)return[];e:{for(e=t+6,t=[];e<n.byteLength-1;){i=n.getUint16(e,!0),e+=2;var a=n.getUint16(e,!0);if(e+=2,0!=(1&a)||a+e>n.byteLength){n=[];break e}var o=Ae(n,e,a);t.push({type:i,value:o}),e+=a}n=t}return n}(e=Wt(e.textContent)).filter((function(e){return 1===e.type}))[0])&&(e=Ys(e=st(e.value,!0),"WRMHEADER"))?function(e){for(var t=(e=u(e.getElementsByTagName("DATA"))).next();!t.done;t=e.next())for(var n=(t=u(t.value.childNodes)).next();!n.done;n=t.next())if((n=n.value)instanceof Element&&"LA_URL"==n.tagName)return n.textContent;return""}(e):""}));function nl(t,n,i,a,o){var r={RepresentationID:n,Number:i,Bandwidth:a,Time:o};return t.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(t,n,i,a){if("$$"==t)return"$";var o=r[n];if(null==o)return t;switch("RepresentationID"==n&&i&&(i=void 0),"Time"==n&&(o=Math.round(o)),a){case void 0:case"d":case"i":case"u":t=o.toString();break;case"o":t=o.toString(8);break;case"x":t=o.toString(16);break;case"X":t=o.toString(16).toUpperCase();break;default:t=o.toString()}return i=e.parseInt(i,10)||1,Array(Math.max(0,i-t.length)+1).join("0")+t}))}function il(e,t){var n=al(e,t,"timescale"),i=1;n&&(i=Ks(n)||1),(n=Ks((n=al(e,t,"duration"))||""))&&(n/=i);var a=al(e,t,"startNumber"),o=Number(al(e,t,"presentationTimeOffset"))||0,r=Gs(a||"");null!=a&&null!=r||(r=1);var c=ol(e,t,"SegmentTimeline");if(a=null,c){a=i;var s=e.O.duration||1/0,l=Ls(c,"S");c=[];for(var d=-o,p=(l=u(te(l))).next();!p.done;p=l.next()){var h=(p=p.value).item,f=p.next,m=Bs(h,"t",Gs);p=Bs(h,"d",Gs);var b=Bs(h,"r",Ws);if(null!=m&&(m-=o),!p)break;if(h=null!=m?m:d,0>(m=b||0))if(f){if(null==(f=Bs(f,"t",Gs)))break;if(h>=f)break;m=Math.ceil((f-h)/p)-1}else{if(1/0==s)break;if(h/a>=s)break;m=Math.ceil((s*a-h)/p)-1}for(0<c.length&&h!=d&&(c[c.length-1].end=h/a),m=(f=u(ee(m+1))).next();!m.done;m=f.next())d=h+p,c.push({start:h/a,end:d/a,pf:h}),h=d}a=c}return{timescale:i,aa:n,wb:r,Ja:o/i||0,wd:o,timeline:a}}function al(e,t,n){return[t(e.F),t(e.ca),t(e.fa)].filter(xt).map((function(e){return e.getAttribute(n)})).reduce((function(e,t){return e||t}))}function ol(e,t,n){return[t(e.F),t(e.ca),t(e.fa)].filter(xt).map((function(e){return Es(e,n)})).reduce((function(e,t){return e||t}))}function rl(e,t,n,i,a,o){if(o=void 0===o?0:o,zs(e,"http://www.w3.org/1999/xlink","href")){var r=function(e,t,n,i,a,o){for(var r=zs(e,"http://www.w3.org/1999/xlink","href"),c=zs(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",s=u(Array.from(e.attributes)),l=s.next();!l.done;l=s.next())"http://www.w3.org/1999/xlink"==(l=l.value).namespaceURI&&e.removeAttributeNS(l.namespaceURI,l.localName);if(5<=o)return xe(new be(2,4,4028));if("onLoad"!=c)return xe(new be(2,4,4027));var d=_t([i],[r]);return a.request(0,$e(d,t)).X((function(i){if(!(i=Zs(i.data,e.tagName)))return xe(new be(2,4,4001,r));for(;e.childNodes.length;)e.removeChild(e.childNodes[0]);for(;i.childNodes.length;){var c=i.childNodes[0];i.removeChild(c),e.appendChild(c)}for(c=(i=u(Array.from(i.attributes))).next();!c.done;c=i.next())e.setAttributeNode(c.value.cloneNode(!1));return rl(e,t,n,d[0],a,o+1)}))}(e,t,n,i,a,o);return n&&(r=r.X(void 0,(function(){return rl(e,t,n,i,a,o)}))),r}r=[];for(var c=u(Array.from(e.childNodes)),s=c.next();!s.done;s=c.next())(s=s.value)instanceof Element&&("urn:mpeg:dash:resolve-to-zero:2013"==zs(s,"http://www.w3.org/1999/xlink","href")?e.removeChild(s):"SegmentTimeline"!=s.tagName&&r.push(rl(s,t,n,i,a,o)));return Ie(r).X((function(){return e}))}function cl(e,t,n,i,a,o,r){var c,s=(new za).V("sidx",(function(e){c=function(e,t,n,i,a,o,r){var c=[];r.reader.skip(4);var s=r.reader.I();if(0==s)throw new be(2,3,3005);if(0==r.version)var l=r.reader.I(),d=r.reader.I();else l=r.reader.vb(),d=r.reader.vb();r.reader.skip(2);var p=r.reader.ub();for(e=e+r.size+d,p=u(ee(p)),d=p.next();!d.done;d=p.next()){var h=r.reader.I();d=(2147483648&h)>>>31,h&=2147483647;var f=r.reader.I();if(r.reader.skip(4),1==d)throw new be(2,3,3006);c.push(new ia(l/s+n,(l+f)/s+n,(function(){return o}),e,e+h-1,t,n,i,a)),l+=f,e+=h}return r.parser.stop(),c}(t,i,a,o,r,n,e)}));if(e&&s.parse(e),c)return c;throw new be(2,3,3004)}function sl(e){this.b=Me(e),this.a=new Da(this.b,0)}function ll(e){var t=ul(e);if(7<t.length)throw new be(2,3,3002);for(var n=0,i=(t=u(t)).next();!i.done;i=t.next())n=256*n+i.value;t=ul(e);e:{for(var a=(i=u(dl)).next();!a.done;a=i.next())if(Te(t,new Uint8Array(a.value))){i=!0;break e}i=!1}if(i)t=e.b.byteLength-e.a.B;else{if(8==t.length&&224&t[1])throw new be(2,3,3001);i=0;for(var o=(a=u(te(t))).next();!o.done;o=a.next()){var r=(o=o.value).item;i=0==o.$?r&(1<<8-t.length)-1:256*i+r}t=i}return t=e.a.B+t<=e.b.byteLength?t:e.b.byteLength-e.a.B,i=Me(e.b,e.a.B,t),e.a.skip(t),new pl(n,i)}function ul(e){var t=e.a.B,n=e.a.W();if(0==n)throw new be(2,3,3002);return n=8-Math.floor(Math.log2(n)),e.a.skip(n-1),Ae(e.b,t,n)}sl.prototype.pa=function(){return this.a.pa()};var dl=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function pl(e,t){this.id=e,this.a=t}function hl(e){if(8<e.a.byteLength)throw new be(2,3,3002);if(8==e.a.byteLength&&224&e.a.getUint8(0))throw new be(2,3,3001);for(var t=0,n=u(ee(e.a.byteLength)),i=n.next();!i.done;i=n.next())t=256*t+(i=e.a.getUint8(i.value));return t}function fl(e){var t=new sl(e.a);if(179!=(e=ll(t)).id)throw new be(2,3,3013);if(e=hl(e),183!=(t=ll(t)).id)throw new be(2,3,3012);t=new sl(t.a);for(var n=0;t.pa();){var i=ll(t);if(241==i.id){n=hl(i);break}}return{qf:e,We:n}}function ml(e,t){var n=ol(e,t,"Initialization");if(!n)return null;var i=e.F.na,a=n.getAttribute("sourceURL");a&&(i=_t(e.F.na,[a])),a=0;var o=null;return(n=Bs(n,"range",qs))&&(a=n.start,o=n.end),new na((function(){return i}),a,o)}function bl(e,t){var n=Number(al(e,yl,"presentationTimeOffset"))||0,i=al(e,yl,"timescale"),a=1;i&&(a=Ks(i)||1);var o=n/a||0,r=ml(e,yl);!function(e,t){if(Ol(e,t),!vl(e))throw new be(2,4,4002)}(e,r);var c=Ue(e);return{lb:function(){var e=ol(c,yl,"RepresentationIndex"),n=c.F.na;return e&&(e=e.getAttribute("sourceURL"))&&(n=_t(c.F.na,[e])),e=vl(c),gl(c,t,r,n,e.start,e.end,o)}}}function gl(e,t,n,i,a,o,r){var c,s,l,u,d,p,h,f,m,b,g,y,v,O,j;return E((function(x){if(1==x.a)return c=e.presentationTimeline,s=!e.Ta||!e.O.Kd,l=e.O.start,u=e.O.duration,d=e.F.mimeType.split("/")[1],h=null,f=[(p=t)(i,a,o),"webm"==d?p(n.c(),n.b,n.a):null],p=null,w(x,Promise.all(f),2);if(m=x.b,b=m[0],g=m[1]||null,null,v=l-r,O=l,j=u?l+u:1/0,"mp4"==d)var k=cl(b,a,i,n,v,O,j);else{if(440786851!=ll(k=new sl(g)).id)throw new be(2,3,3008);var _=ll(k);if(408125543!=_.id)throw new be(2,3,3009);k=_.a.byteOffset,_=new sl(_.a);for(var S=null;_.pa();){var I=ll(_);if(357149030==I.id){S=I;break}}if(!S)throw new be(2,3,3010);for(S=new sl(S.a),I=1e6,_=null;S.pa();){var N=ll(S);if(2807729==N.id)I=hl(N);else if(17545==N.id)if(4==N.a.byteLength)_=N.a.getFloat32(0);else{if(8!=N.a.byteLength)throw new be(2,3,3003);_=N.a.getFloat64(0)}}if(null==_)throw new be(2,3,3011);if(_*=S=I/1e9,475249515!=(I=ll(new sl(b))).id)throw new be(2,3,3007);k=function(e,t,n,i,a,o,r,c,s){function l(){return a}var u=[];e=new sl(e.a);for(var d=null,p=null;e.pa();){var h=ll(e);if(187==h.id){var f=fl(h);f&&(h=n*f.qf,f=t+f.We,null!=d&&u.push(new ia(d+r,h+r,l,p,f-1,o,r,c,s)),d=h,p=f)}}return null!=d&&u.push(new ia(d+r,i+r,l,p,null,o,r,c,s)),u}(I,k,S,_,i,n,v,O,j)}return y=k,c.rb(y),h=new Pa(y),s&&h.Na(O,j),x.return(h)}))}function yl(e){return e.Ob}function vl(e){var t=ol(e,yl,"RepresentationIndex");return e=qs((e=al(e,yl,"indexRange"))||""),t&&(e=Bs(t,"range",qs,e)),e}function Ol(e,t){var n=e.F.mimeType.split("/")[1];if("text"!=e.F.contentType&&"mp4"!=n&&"webm"!=n)throw new be(2,4,4006);if("webm"==n&&!t)throw new be(2,4,4005)}function wl(e,t){var n=ml(e,jl),i=function(e){var t=function(e){return[e.F.Ra,e.ca.Ra,e.fa.Ra].filter(xt).map((function(e){return Ls(e,"SegmentURL")})).reduce((function(e,t){return 0<e.length?e:t})).map((function(t){return t.getAttribute("indexRange")&&!e.Id&&(e.Id=!0),{Oe:t.getAttribute("media"),start:(t=Bs(t,"mediaRange",qs,{start:0,end:null})).start,end:t.end}}))}(e),n=(e=il(e,jl)).wb;0==n&&(n=1);var i=0;return e.aa?i=e.aa*(n-1):e.timeline&&0<e.timeline.length&&(i=e.timeline[0].start),{aa:e.aa,startTime:i,wb:n,Ja:e.Ja,timeline:e.timeline,ob:t}}(e);if(!i.aa&&!i.timeline&&1<i.ob.length)throw new be(2,4,4002);if(!i.aa&&!e.O.duration&&!i.timeline&&1==i.ob.length)throw new be(2,4,4002);if(i.timeline&&0==i.timeline.length)throw new be(2,4,4002);var a=null,o=null;return e.fa.id&&e.F.id&&(o=e.fa.id+","+e.F.id,a=t[o]),n=function(e,t,n,i,a){var o=i.ob.length;i.timeline&&i.timeline.length!=i.ob.length&&(o=Math.min(i.timeline.length,i.ob.length));for(var r=e-i.Ja,c=t?e+t:1/0,s=[],l=i.startTime,d={},p=(o=u(ee(o))).next();!p.done;d={yc:d.yc},p=o.next()){p=p.value;var h=i.ob[p];d.yc=_t(n,[h.Oe]);var f;f=null!=i.aa?l+i.aa:i.timeline?i.timeline[p].end:l+t,s.push(new ia(e+l,e+f,function(e){return function(){return e.yc}}(d),h.start,h.end,a,r,e,c)),l=f}return s}(e.O.start,e.O.duration,e.F.na,i,n),a?(a.pb(n),a.Ua(e.presentationTimeline.nb())):(e.presentationTimeline.rb(n),a=new Pa(n),o&&e.Ta&&(t[o]=a)),e.Ta&&e.O.Kd||a.Na(e.O.start,e.O.duration?e.O.start+e.O.duration:1/0),{lb:function(){return Promise.resolve(a)}}}function jl(e){return e.Ra}function xl(e,t,n,i,a){var o=function(e){var t=al(e,kl,"initialization");if(!t)return null;var n=e.F.id,i=e.bandwidth||null,a=e.F.na;return new na((function(){var e=nl(t,n,null,i,null);return _t(a,[e])}),0,null)}(e),r=function(e){var t=il(e,kl),n=al(e,kl,"media");return e=al(e,kl,"index"),{aa:t.aa,timescale:t.timescale,wb:t.wb,Ja:t.Ja,wd:t.wd,timeline:t.timeline,Zc:n,Kb:e}}(e);!function(e){var t=e.Kb?1:0;if(t+=e.timeline?1:0,0==(t+=e.aa?1:0))throw new be(2,4,4002);if(1!=t&&(e.Kb&&(e.timeline=null),e.aa=null),!e.Kb&&!e.Zc)throw new be(2,4,4002)}(r);var c=Ue(e);if(r.Kb)return Ol(e,o),{lb:function(){var e=nl(r.Kb,c.F.id,null,c.bandwidth||null,null);return e=_t(c.F.na,[e]),gl(c,t,o,e,0,null,r.Ja)}};if(r.aa)return i||(e.presentationTimeline.$c(r.aa),e.presentationTimeline.bd(e.O.start)),{lb:function(){return function(e,t,n,i){function a(e){var n=(e-p)*d,a=n+t.Ja;return new ia(n+=c,Math.min(n+d,l),(function(){var t=nl(f,b,e,m,a*h);return _t(g,[t])}),0,null,i,y,c,l)}function o(){var e=[Math.max(r.nb(),c),Math.min(r.Wa(),l)].map((function(e){return e-c}));return[Math.ceil(e[0]/d),Math.ceil(e[1]/d)-1].map((function(e){return e+p}))}var r=e.presentationTimeline,c=e.O.start,s=e.O.duration,l=s?c+s:1/0,d=t.aa,p=t.wb,h=t.timescale,f=t.Zc,m=e.bandwidth||null,b=e.F.id,g=e.F.na,y=c-t.Ja,v=o();s=v[1];var O=[];for(e=e.Ta?Math.max(v[0],v[1]-n+1):v[0];e<=s;++e)n=a(e),O.push(n);var w=new Pa(O);if(r.Wa()<l){var j=s+1;w.rc(d,(function(){w.Ua(r.nb());var e=u(o());e.next(),e=e.next().value;for(var t=[];j<=e;){var n=a(j);t.push(n),j++}return t}))}return Promise.resolve(w)}(c,r,a,o)}};var s=null;i=null,e.fa.id&&e.F.id&&(i=e.fa.id+","+e.F.id,s=n[i]);var l=function(e,t,n){var i=e.O.start,a=e.O.duration,o=i-t.Ja;a=a?i+a:1/0;for(var r=[],c={},s=u(te(t.timeline)),l=s.next();!l.done;c={Ac:c.Ac,Dc:c.Dc,wc:c.wc,Ec:c.Ec},l=s.next()){var d=(l=l.value).item,p=d.start,h=d.pf;d=d.end,c.Dc=l.$+t.wb,c.Ec=h+t.wd,c.Ac=e.F.id,c.wc=e.bandwidth||null,r.push(new ia(i+p,i+d,function(n){return function(){var i=nl(t.Zc,n.Ac,n.Dc,n.wc||null,n.Ec);return _t(e.F.na,[i]).map((function(e){return e.toString()}))}}(c),0,null,n,o,i,a))}return r}(c,r,o),d=e.O.start,p=e.O.duration?e.O.start+e.O.duration:1/0,h=1/0!=p;return s?(h&&new Pa(l).Na(d,p),s.pb(l),s.Ua(e.presentationTimeline.nb())):(e.presentationTimeline.rb(l),s=new Pa(l),i&&e.Ta&&(n[i]=s)),h&&s.Na(d,p),{lb:function(){return Promise.resolve(s)}}}function kl(e){return e.Pb}function _l(){this.f=[],this.a=[],this.b=[],this.c=[],this.g=new Set}function Sl(e,t,n){var i,a,o,r,c,s,l,d,p,h,f,m,b,g,y,v,O,x,k,_,S,I,N,T,C,P,A,M;return E((function(E){switch(E.a){case 1:if(i=It,function(e){for(var t=(e=u(e)).next();!t.done;t=e.next()){t=t.value;for(var n=[],i=u(t.bc),a=i.next();!a.done;a=i.next()){a=a.value;for(var o=!1,r=u(n),c=r.next();!c.done;c=r.next())c=c.value,a.id!=c.id&&a.channelsCount==c.channelsCount&&a.language==c.language&&a.bandwidth==c.bandwidth&&He(a.roles,c.roles)&&a.audioSamplingRate==c.audioSamplingRate&&a.primary==c.primary&&(o=!0);o||n.push(a)}t.bc=n}}(t),function(e){for(var t=(e=u(e)).next();!t.done;t=e.next()){t=t.value;for(var n=[],i=u(t.tc),a=i.next();!a.done;a=i.next()){a=a.value;for(var o=!1,r=u(n),c=r.next();!c.done;c=r.next())c=c.value,a.id!=c.id&&a.width==c.width&&a.frameRate==c.frameRate&&He(a.roles,c.roles)&&Ct(a.closedCaptions,c.closedCaptions)&&a.bandwidth==c.bandwidth&&(o=!0);o||n.push(a)}t.tc=n}}(t),!n&&1==t.length){a=t[0],e.a=a.bc,e.b=a.tc,e.c=a.textStreams,E.u(2);break}for(o=-1,r=u(te(t)),c=r.next();!c.done;c=r.next())s=c.value,l=s.$,d=s.item,e.g.has(d.id)||(e.g.add(d.id),-1==o&&(o=l));if(-1==o)return E.return();for(p=t.map((function(e){return e.bc})),h=t.map((function(e){return e.tc})),f=t.map((function(e){return e.textStreams})),m=u(f),b=m.next();!b.done;b=m.next())b.value.push({id:0,originalId:"",createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Pa([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",label:null,type:"text",primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null});return w(E,Nl(e.a,p,o,Cl,Al),3);case 3:return w(E,Nl(e.b,h,o,Cl,Al),4);case 4:return w(E,Nl(e.c,f,o,Cl,Al),2);case 2:if(g=0,y=[],e.b.length&&e.a.length)for(S=u(e.a),I=S.next();!I.done;I=S.next())for(N=I.value,T=u(e.b),C=T.next();!C.done;C=T.next())P=C.value,A=pn(N.drmInfos,P.drmInfos),N.drmInfos.length&&P.drmInfos.length&&!A.length||(M=g++,y.push({id:M,language:N.language,primary:N.primary,audio:N,video:P,bandwidth:(N.bandwidth||0)+(P.bandwidth||0),drmInfos:A,allowedByApplication:!0,allowedByKeySystem:!0}));else for(v=e.b.concat(e.a),O=u(v),x=O.next();!x.done;x=O.next())k=x.value,_=g++,y.push({id:_,language:k.language,primary:k.primary,audio:k.type==i.hb?k:null,video:k.type==i.Da?k:null,bandwidth:k.bandwidth||0,drmInfos:k.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0});e.f=y,j(E)}}))}function Il(e){var t,n,i,a,o,r,c,s,l,d,p,h,f,m,b,g,y,v,O,j;return E((function(x){switch(x.a){case 1:if(t=It,1==e.length)return x.return(e[0]);for(n=e.map((function(e){return e.filter((function(e){return e.type==t.hb}))})),i=e.map((function(e){return e.filter((function(e){return e.type==t.Da}))})),a=e.map((function(e){return e.filter((function(e){return e.type==t.ba}))})),o=u(a),r=o.next();!r.done;r=o.next())r.value.push({id:0,originalId:"",primary:!1,type:"text",mimeType:"",codecs:"",language:"",label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null});return w(x,Nl([],n,0,Pl,Ml),2);case 2:return c=x.b,w(x,Nl([],i,0,Pl,Ml),3);case 3:return s=x.b,w(x,Nl([],a,0,Pl,Ml),4);case 4:if(l=x.b,d=0,s.length&&c.length)for(m=u(c),b=m.next();!b.done;b=m.next())for(g=b.value,y=u(s),v=y.next();!v.done;v=y.next())O=v.value,j=d++,O.variantIds.push(j),g.variantIds.push(j);else for(p=s.concat(c),h=u(p),f=h.next();!f.done;f=h.next())f.value.variantIds=[d++];return x.return(s.concat(c,l))}}))}function Nl(e,t,n,i,a){var o,r,c,s,l,d,p,h,f,m,b,g,y,v,O,j,x,k,_;return E((function(S){switch(S.a){case 1:for(o=It,r=[],c=u(te(t)),s=c.next();!s.done;s=c.next())l=s.value,d=l.$,p=l.item,d>=n?r.push(new Set(p)):r.push(new Set);h=u(e),f=h.next();case 2:if(f.done){S.u(4);break}return w(S,function(e,t,n,i,a){var o;return E((function(r){return 1==r.a?(o=El(t,e))?w(r,Promise.all(o.map((function(e){return e.createSegmentIndex()}))),2):r.return(!1):(Tl(e,o,n,i,a),r.return(!0))}))}(f.value,t,n,a,r),5);case 5:if(!S.b)throw new be(2,4,4037);f=h.next(),S.u(2);break;case 4:m=u(r),b=m.next();case 6:if(b.done){S.u(8);break}g=b.value,y=u(g),v=y.next();case 9:if(v.done){b=m.next(),S.u(6);break}return w(S,function(e,t,n,i,a){var o,r;return E((function(c){return 1==c.a?(o=n(e),(r=El(t,o))?o.createSegmentIndex?w(c,Promise.all(r.map((function(e){return e.createSegmentIndex()}))),2):c.u(2):c.return(null)):(Tl(o,r,0,i,a),c.return(o))}))}(v.value,t,i,a,r),12);case 12:(O=S.b)&&e.push(O),v=y.next(),S.u(9);break;case 8:for(j=u(r),b=j.next();!b.done;b=j.next())for(x=b.value,k=u(x),v=k.next();!v.done;v=k.next())if((_=v.value).type!=o.ba||_.language)throw new be(2,4,4037);return S.return(e)}}))}function Tl(e,t,n,i,a){for(var o=(t=u(te(t))).next();!o.done;o=t.next()){var r=o.value;if(o=r.$,r=r.item,o>=n){i(e,r);var c=!0;"audio"==e.type&&0==vi(e.language,r.language)&&(c=!1),c&&a[o].delete(r)}}}function Cl(e){return(e=Object.assign({},e)).originalId=null,e.createSegmentIndex=function(){return Promise.resolve()},e.segmentIndex=new Ea,e.emsgSchemeIdUris=[],e.keyIds=new Set,e.closedCaptions=null,e.trickModeVideo=null,e}function Pl(e){return(e=Object.assign({},e)).keyIds=new Set,e.segments=[],e.variantIds=[],e.closedCaptions=null,e}function Al(e,t){e.roles=Array.from(new Set(e.roles.concat(t.roles))),t.emsgSchemeIdUris&&(e.emsgSchemeIdUris=Array.from(new Set(e.emsgSchemeIdUris.concat(t.emsgSchemeIdUris))));var n=t.keyIds;if(n=new Set(d(e.keyIds).concat(d(n))),e.keyIds=n,null==e.originalId?e.originalId=t.originalId:e.originalId+=","+(t.originalId||""),n=pn(e.drmInfos,t.drmInfos),t.drmInfos.length&&e.drmInfos.length&&!n.length)throw new be(2,4,4038);if(e.drmInfos=n,e.encrypted=e.encrypted||t.encrypted,t.closedCaptions){e.closedCaptions||(e.closedCaptions=new Map);for(var i=(n=u(t.closedCaptions)).next();!i.done;i=n.next()){var a=u(i.value);i=a.next().value,a=a.next().value,e.closedCaptions.set(i,a)}}e.segmentIndex.f.push(t.segmentIndex),t.trickModeVideo?(e.trickModeVideo||(e.trickModeVideo=Cl(t.trickModeVideo),e.trickModeVideo.segmentIndex=e.segmentIndex.clone()),Al(e.trickModeVideo,t.trickModeVideo)):e.trickModeVideo&&Al(e.trickModeVideo,t)}function Ml(e,t){e.roles=Array.from(new Set(e.roles.concat(t.roles)));var n=t.keyIds;if(n=new Set(d(e.keyIds).concat(d(n))),e.keyIds=n,e.encrypted=e.encrypted&&t.encrypted,e.segments.push.apply(e.segments,d(t.segments)),t.closedCaptions){e.closedCaptions||(e.closedCaptions=new Map);for(var i=(n=u(t.closedCaptions)).next();!i.done;i=n.next()){var a=u(i.value);i=a.next().value,a=a.next().value,e.closedCaptions.set(i,a)}}}function El(e,t){for(var n=[],i=u(e),a=i.next();!a.done;a=i.next()){for(var o=t,r={audio:Dl,video:Dl,text:Ll}[o.type],c={audio:Rl,video:zl,text:Ul}[o.type],s=null,l=(a=u(a.value)).next();!l.done;l=a.next())!r(o,l=l.value)||s&&!c(o,s,l)||(s=l);if(!(o=s))return null;n.push(o)}return n}function Dl(e,t){var n;if(!(n=t.mimeType!=e.mimeType||At(t.codecs)[0]!=At(e.codecs)[0])&&(n=e.drmInfos)){n=e.drmInfos;var i=t.drmInfos;n=!(!n.length||!i.length||0<pn(n,i).length)}return!n}function Ll(e,t){return!!e.language&&(!t.language||0!=vi(e.language,t.language)&&t.kind==e.kind)}function Rl(e,t,n){if(e.id==n.id)return!0;var i=vi(e.language,t.language),a=vi(e.language,n.language);return a>i||!(a<i)&&(!(t.primary||!n.primary)||!(t.primary&&!n.primary)&&(e.roles.length?(i=t.roles.filter((function(t){return e.roles.includes(t)})),(a=n.roles.filter((function(t){return e.roles.includes(t)}))).length>i.length||!(a.length<i.length)&&n.roles.length<t.roles.length):(i=Vl(e.channelsCount,t.channelsCount,n.channelsCount))==Hl||i!=ql&&((i=Vl(e.audioSamplingRate,t.audioSamplingRate,n.audioSamplingRate))==Hl||i!=ql&&!(!e.bandwidth||Bl(e.bandwidth,t.bandwidth,n.bandwidth)!=Hl))))}function zl(e,t,n){if(e.id==n.id)return!0;var i=Vl(e.width*e.height,t.width*t.height,n.width*n.height);if(i==Hl)return!0;if(i==ql)return!1;if(e.frameRate){if((i=Vl(e.frameRate,t.frameRate,n.frameRate))==Hl)return!0;if(i==ql)return!1}return!(!e.bandwidth||Bl(e.bandwidth,t.bandwidth,n.bandwidth)!=Hl)}function Ul(e,t,n){if(e.id==n.id)return!0;var i=vi(e.language,t.language),a=vi(e.language,n.language);if(a>i)return!0;if(a<i)return!1;if(!t.primary&&n.primary)return!0;if(t.primary&&!n.primary)return!1;if(e.roles.length){if(i=t.roles.filter((function(t){return e.roles.includes(t)})),(a=n.roles.filter((function(t){return e.roles.includes(t)}))).length>i.length)return!0;if(a.length<i.length)return!1}return n.mimeType==e.mimeType&&n.codecs==e.codecs&&(t.mimeType!=e.mimeType||t.codecs!=e.codecs)}function Vl(e,t,n){if(t==e&&e!=n)return ql;if(n==e&&e!=t)return Hl;if(t>e){if(n<=e||n-e<t-e)return Hl;if(n-e>t-e)return ql}else{if(n>e)return ql;if(e-n<e-t)return Hl;if(e-n>e-t)return ql}return Fl}function Bl(e,t,n){return t=Math.abs(e-t),(e=Math.abs(e-n))<t?Hl:t<e?ql:Fl}_l.prototype.release=function(){for(var e=u(this.a.concat(this.b,this.c)),t=e.next();!t.done;t=e.next())(t=t.value).segmentIndex&&t.segmentIndex.release();this.a=[],this.b=[],this.c=[],this.f=[]};var Hl=1,Fl=0,ql=-1;function Wl(){var e=this;this.s=this.i=null,this.b=[],this.o=null,this.v=1,this.f={},this.a=new _l,this.j=0,this.m=new B(5),this.g=new ye((function(){e.Mb()})),this.c=new qe,this.h=1/0,this.w=!1}function Kl(e){var t,n,i,a,o,r,c;return E((function(s){return 1==s.a?(t=$e(e.b,e.i.retryParameters),n=e.s.networkingEngine,i=Date.now(),a=n.request(0,t),We(e.c,a),w(s,a.promise,2)):3!=s.a?(o=s.b,e.s?(o.uri&&!e.b.includes(o.uri)&&e.b.unshift(o.uri),w(s,function(e,t,n){var i,a,o,r;return E((function(c){if(1==c.a){if(!(i=Zs(t,"MPD")))throw new be(2,4,4001,n);return a=e.i.dash.xlinkFailGracefully,o=rl(i,e.i.retryParameters,a,n,e.s.networkingEngine),We(e.c,o),w(c,o.promise,2)}return r=c.b,c.return(function(e,t,n){var i,a,o,r,c,s,l,d,p,h,f,m,b,g,y,v,O,j,k,I,N,T,C;return E((function(P){switch(P.a){case 1:i=[n],0<(a=Ls(t,"Location").map(Us).filter(xt)).length&&(o=_t(i,a),i=e.b=o),r=Ls(t,"BaseURL"),c=r.map(Us),s=_t(i,c),l=0,r&&r.length&&(l=Bs(r[0],"availabilityTimeOffset",$s)||0),d=e.i.dash.ignoreMinBufferTime,p=0,d||(p=Bs(t,"minBufferTime",Fs)||0),e.j=Bs(t,"minimumUpdatePeriod",Fs,-1),h=Bs(t,"availabilityStartTime",Hs),f=Bs(t,"timeShiftBufferDepth",Fs),m=e.i.dash.ignoreSuggestedPresentationDelay,b=null,m||(b=Bs(t,"suggestedPresentationDelay",Fs)),g=Bs(t,"maxSegmentDuration",Fs),y=t.getAttribute("type")||"static",e.o?v=e.o.presentationTimeline:(O=e.i.defaultPresentationDelay||1.5*p,v=new aa(h,null!=b?b:O,e.i.dash.autoCorrectDrift)),j={Ta:"static"!=y,presentationTimeline:v,fa:null,O:null,ca:null,F:null,bandwidth:0,Id:!1,ib:l};for(var A=Bs(t,"mediaPresentationDuration",Fs),M=[],D=0,L=Ls(t,"Period"),R=(L=u(te(L))).next();!R.done;R=L.next()){var z=R.value;R=z.item,z=z.next,D=Bs(R,"start",Fs,D);var U=Bs(R,"duration",Fs),V=null;if(z){var B=Bs(z,"start",Fs);null!=B&&(V=B-D)}else null!=A&&(V=A-D);if(null==V&&(V=U),R=Gl(e,j,s,{start:D,duration:V,node:R,Kd:null==V||!z}),M.push(R),null==V){D=null;break}D+=V}return I=(k=null!=A?{periods:M,duration:A,Dd:!1}:{periods:M,duration:D,Dd:!0}).duration,N=k.periods,v.Qb("static"==y),"static"!=y&&k.Dd||v.Aa(I||1/0),e.w&&v.Wd(e.h),v.U()&&!isNaN(e.i.availabilityWindowOverride)&&(f=e.i.availabilityWindowOverride),null==f&&(f=1/0),v.sd(f),v.$c(g||1),w(P,Sl(e.a,N,j.Ta),2);case 2:if(e.o){e.o.variants=e.a.f,e.o.textStreams=e.a.c,P.u(3);break}if(e.o={presentationTimeline:v,variants:e.a.f,textStreams:e.a.c,offlineSessionIds:[],minBufferTime:p||0},!v.ae()){P.u(3);break}return T=Ls(t,"UTCTiming"),w(P,function(e,t,n){var i,a,o,r,c,s,l,d;return E((function(p){switch(p.a){case 1:i=n.map((function(e){return{scheme:e.getAttribute("schemeIdUri"),value:e.getAttribute("value")}})),a=e.i.dash.clockSyncUri,!i.length&&a&&i.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:a}),o=u(i),r=o.next();case 2:if(r.done){p.u(4);break}switch(c=r.value,x(p,5),s=c.scheme,l=c.value,s){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return p.u(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return p.u(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return d=Date.parse(l),p.return(isNaN(d)?0:d-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":G("NTP UTCTiming scheme is not supported");break;default:G("Unrecognized scheme in UTCTiming element",s)}p.u(9);break;case 7:return w(p,Zl(e,t,l,"HEAD"),10);case 10:return p.return(p.b);case 8:return w(p,Zl(e,t,l,"GET"),11);case 11:return p.return(p.b);case 9:_(p,3);break;case 5:S(p);case 3:r=o.next(),p.u(2);break;case 4:return G("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),p.return(0)}}))}(e,s,T),5);case 5:if(C=P.b,!e.s)return P.return();v.Xd(C);case 3:return e.s.makeTextStreamsForClosedCaptions(e.o),w(P,e.s.filter(e.o),0)}}))}(e,r,n))}))}(e,o.data,o.uri),3)):s.return(0)):(r=Date.now(),c=(r-i)/1e3,H(e.m,1,c),s.return(c))}))}function Gl(e,t,n,i){t.fa=Yl(i.node,null,n),t.O=i,t.fa.ib=t.ib,t.fa.id||(t.fa.id="__shaka_period_"+i.start);for(var a=(n=u(n=Ls(i.node,"EventStream"))).next();!a.done;a=n.next())Ql(e,i.start,i.duration,a.value);if(n=Ls(i.node,"AdaptationSet").map((function(n){return function(e,t,n){if(t.ca=Yl(n,t.fa,null),"image"==t.ca.contentType)return null;var i=!1,a=Ls(n,"Role"),o=a.map((function(e){return e.getAttribute("value")})).filter(xt),r=void 0,c="text"==t.ca.contentType;c&&(r="subtitle");for(var s=(a=u(a)).next();!s.done;s=a.next()){var l=(s=s.value).getAttribute("schemeIdUri");if(null==l||"urn:mpeg:dash:role:2011"==l)switch(s=s.getAttribute("value"),s){case"main":i=!0;break;case"caption":case"subtitle":r=s}}l=Ls(n,"EssentialProperty"),a=null,s=!1;for(var p=(l=u(l)).next();!p.done;p=l.next())"http://dashif.org/guidelines/trickmode"==(p=p.value).getAttribute("schemeIdUri")?a=p.getAttribute("value"):s=!0;l=Ls(n,"Accessibility");var h=new Map;for(l=u(l),p=l.next();!p.done;p=l.next()){var f=p.value;if(p=f.getAttribute("schemeIdUri"),f=f.getAttribute("value"),"urn:scte:dash:cc:cea-608:2015"==p||"urn:scte:dash:cc:cea-708:2015"==p)if(p=1,null!=f)for(var m=(f=u(f.split(";"))).next();!m.done;m=f.next()){var b=m.value,g=m=void 0;b.includes("=")?(b=b.split("="),m=b[0].startsWith("CC")?b[0]:"CC"+b[0],g=b[1].split(",")[0].split(":").pop()):(m="CC"+p,p+=2,g=b),h.set(m,yi(g))}else h.set("CC1","und");else"urn:mpeg:dash:role:2011"==p&&null!=f&&(o.push(f),"captions"==f&&(r="caption"))}if(s)return null;var y=Qs(s=Ls(n,"ContentProtection"),e.i.dash.ignoreDrmInfo),v=yi(n.getAttribute("lang")||"und"),O=n.getAttribute("label");if((s=Ls(n,"Label"))&&s.length&&((s=s[0]).textContent&&(O=s.textContent)),s=Ls(n,"Representation"),0==(n=s.map((function(n){return function(e,t,n,i,a,o,r,c,s,l){if(t.F=Yl(l,t.ca,null),e.h=Math.min(e.h,t.F.ib),!function(e){var t=e.Ob?1:0;return t+=e.Ra?1:0,0==(t+=e.Pb?1:0)?"text"==e.contentType||"application"==e.contentType:(1!=t&&(e.Ob&&(e.Ra=null),e.Pb=null),!0)}(t.F))return null;var u=t.O.start;t.bandwidth=Bs(l,"bandwidth",Ks)||0;var d=t.F.contentType;d="text"==d||"application"==d;try{var p=function(t,n,i){return function(e,t,n,i){var a,o,r,c,s;return E((function(l){return 1==l.a?(a=Ze,o=Ka(t,n,i,e.i.retryParameters),r=e.s.networkingEngine,c=r.request(a,o),We(e.c,c),w(l,c.promise,2)):(s=l.b,l.return(s.data))}))}(e,t,n,i)};if(t.F.Ob)var h=bl(t,p);else if(t.F.Ra)h=wl(t,e.f);else if(t.F.Pb)h=xl(t,p,e.f,!!e.o,e.i.dash.initialSegmentLimit);else{var f=t.F.na,m=t.O.duration||0;h={lb:function(){return Promise.resolve(Aa(u,m,f))}}}}catch(e){if(d&&4002==e.code)return null;throw e}d=function(e,t,n){var i=Qs(e,n);if(t.Fd)e=1==t.drmInfos.length&&!t.drmInfos[0].keySystem,n=0==i.drmInfos.length,(0==t.drmInfos.length||e&&!n)&&(t.drmInfos=i.drmInfos),t.Fd=!1;else if(0<i.drmInfos.length&&(t.drmInfos=t.drmInfos.filter((function(e){return i.drmInfos.some((function(t){return t.keySystem==e.keySystem}))})),0==t.drmInfos.length))throw new be(2,4,4008);return i.Bd||t.Bd}(d=Ls(l,"ContentProtection"),n,e.i.dash.ignoreDrmInfo),d=new Set(d?[d]:[]),Ls(l,"SupplementalProperty").some((function(e){return"tag:dolby.com,2018:dash:EC3_ExtensionType:2018"==e.getAttribute("schemeIdUri")&&"JOC"==e.getAttribute("value")}))&&(t.F.mimeType="audio/eac3-joc");var b={id:e.v++,originalId:t.F.id,createSegmentIndex:function(){var e;return E((function(t){if(1==t.a)return b.segmentIndex?t.u(0):(e=b,w(t,h.lb(),3));e.segmentIndex=t.b,j(t)}))},segmentIndex:null,mimeType:t.F.mimeType,codecs:t.F.codecs,frameRate:t.F.frameRate,pixelAspectRatio:t.F.pixelAspectRatio,bandwidth:t.bandwidth,width:t.F.width,height:t.F.height,kind:i,encrypted:0<n.drmInfos.length,drmInfos:n.drmInfos,keyIds:d,language:a,label:o,type:t.ca.contentType,primary:r,trickModeVideo:null,emsgSchemeIdUris:t.F.emsgSchemeIdUris,roles:c,channelsCount:t.F.cd,audioSamplingRate:t.F.audioSamplingRate,closedCaptions:s};return b}(e,t,y,r,v,O,i,o,h,n)})).filter((function(e){return!!e}))).length){if(e.i.dash.ignoreEmptyAdaptationSet||c)return null;throw new be(2,4,4003)}if(!t.ca.contentType||"application"==t.ca.contentType)for(t.ca.contentType=Jl(n[0].mimeType,n[0].codecs),c=u(n),l=c.next();!l.done;l=c.next())l.value.type=t.ca.contentType;for(c=u(n),l=c.next();!l.done;l=c.next())for(l=l.value,p=u(y.drmInfos),f=p.next();!f.done;f=p.next())(f=f.value).keyIds=f.keyIds&&l.keyIds?new Set(d(f.keyIds).concat(d(l.keyIds))):f.keyIds||l.keyIds;return c=s.map((function(e){return e.getAttribute("id")})).filter(xt),{id:t.ca.id||"__fake__"+e.v++,contentType:t.ca.contentType,language:v,Sf:i,streams:n,drmInfos:y.drmInfos,ud:a,Ze:c}}(e,t,n)})).filter(xt),t.Ta){i=[];for(var o=(a=u(n)).next();!o.done;o=a.next())for(var r=(o=u(o.value.Ze)).next();!r.done;r=o.next())i.push(r.value);if(i.length!=new Set(i).size)throw new be(2,4,4018)}for(i=n.filter((function(e){return!e.ud})),a=(n=u(n=n.filter((function(e){return e.ud})))).next();!a.done;a=n.next()){a=(o=a.value).streams[0],o=o.ud;for(var c=(r=u(i)).next();!c.done;c=r.next())if((c=c.value).id==o)for(var s=(c=u(c.streams)).next();!s.done;s=c.next())s.value.trickModeVideo=a}if(a=e.i.disableAudio?[]:$l(i,"audio"),o=e.i.disableVideo?[]:$l(i,"video"),n=e.i.disableText?[]:$l(i,"text"),!o.length&&!a.length)throw new be(2,4,4004);for(i=[],r=(a=u(a)).next();!r.done;r=a.next())i.push.apply(i,d(r.value.streams));for(a=[],r=(o=u(o)).next();!r.done;r=o.next())a.push.apply(a,d(r.value.streams));for(o=[],r=(n=u(n)).next();!r.done;r=n.next())o.push.apply(o,d(r.value.streams));return{id:t.fa.id,bc:i,tc:a,textStreams:o}}function $l(e,t){return e.filter((function(e){return e.contentType==t}))}function Xl(e,t){0>e.j||e.g.S(Math.max(3,e.j-t,F(e.m)))}function Yl(e,t,n){t=t||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,cd:null,audioSamplingRate:null,ib:0},n=n||t.na;for(var i=Ls(e,"BaseURL"),a=i.map(Us),o=e.getAttribute("contentType")||t.contentType,r=e.getAttribute("mimeType")||t.mimeType,c=e.getAttribute("codecs")||t.codecs,s=Bs(e,"frameRate",Xs)||t.frameRate,l=e.getAttribute("sar")||t.pixelAspectRatio,d=Ls(e,"InbandEventStream"),p=t.emsgSchemeIdUris.slice(),h=(d=u(d)).next();!h.done;h=d.next())h=h.value.getAttribute("schemeIdUri"),p.includes(h)||p.push(h);d=function(e){for(var t=(e=u(e)).next();!t.done;t=e.next()){var n=t.value;if((t=n.getAttribute("schemeIdUri"))&&(n=n.getAttribute("value")))switch(t){case"urn:mpeg:dash:outputChannelPositionList:2012":return n.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(t=parseInt(n,10)))continue;return t;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(t=parseInt(n,16)){for(e=0;t;)1&t&&++e,t>>=1;return e}}}return null}(d=Ls(e,"AudioChannelConfiguration"))||t.cd,h=Bs(e,"audioSamplingRate",Gs)||t.audioSamplingRate,o||(o=Jl(r,c));var f=Es(e,"SegmentBase"),m=Es(e,"SegmentTemplate"),b=f&&Bs(f,"availabilityTimeOffset",$s)||0,g=m&&Bs(m,"availabilityTimeOffset",$s)||0;return i=i&&i.length&&Bs(i[0],"availabilityTimeOffset",$s)||0,i=t.ib+i+b+g,{na:_t(n,a),Ob:f||t.Ob,Ra:Es(e,"SegmentList")||t.Ra,Pb:m||t.Pb,width:Bs(e,"width",Gs)||t.width,height:Bs(e,"height",Gs)||t.height,contentType:o,mimeType:r,codecs:c,frameRate:s,pixelAspectRatio:l,emsgSchemeIdUris:p,id:e.getAttribute("id"),cd:d,audioSamplingRate:h,ib:i}}function Zl(e,t,n,i){var a,o,r,c,s,l;return E((function(u){if(1==u.a)return a=_t(t,[n]),(o=$e(a,e.i.retryParameters)).method=i,r=e.s.networkingEngine.request(4,o),We(e.c,r),w(u,r.promise,2);if(c=u.b,"HEAD"==i){if(!c.headers||!c.headers.date)return u.return(0);s=c.headers.date}else s=ct(c.data);return l=Date.parse(s),isNaN(l)?u.return(0):u.return(l-Date.now())}))}function Ql(e,t,n,i){for(var a=i.getAttribute("schemeIdUri")||"",o=i.getAttribute("value")||"",r=Bs(i,"timescale",Gs)||1,c=(i=u(Ls(i,"Event"))).next();!c.done;c=i.next()){var s=Bs(c=c.value,"presentationTime",Gs)||0,l=Bs(c,"duration",Gs)||0;l=(s=s/r+t)+l/r,null!=n&&(s=Math.min(s,t+n),l=Math.min(l,t+n)),c={schemeIdUri:a,value:o,startTime:s,endTime:l,id:c.getAttribute("id")||"",eventElement:c},e.s.onTimelineRegionAdded(c)}}function Jl(e,t){return Yn(Pt(e,t))?"text":e.split("/")[0]}function eu(e,t,n,i){this.a=e,this.type=t,this.R=n,this.segments=i||null}function tu(e,t,n,i){this.id=e,this.name=t,this.a=n,this.value=void 0===i?null:i}function nu(e,t,n){return(e=e.getAttribute(t))?e.value:n||null}function iu(e,t){var n=e.getAttribute(t);if(!n)throw new be(2,4,4023,t);return n.value}function au(e,t,n){n=void 0===n?[]:n,this.R=t,this.a=e,this.b=n}function ou(e,t){this.name=e,this.value=t}function ru(e,t){return e.filter((function(e){return e.name==t}))}function cu(e,t){return e.filter((function(e){return iu(e,"TYPE")==t}))}function su(e,t){var n=ru(e,t);return n.length?n[0]:null}function lu(e,t,n){return n=void 0===n?0:n,(e=su(e,t))?Number(e.value):n}function uu(e){this.b=e,this.a=0}function du(e){pu(e,/[ \t]+/gm)}function pu(e,t){t.lastIndex=e.a;var n=t.exec(e.b);return n=null==n?null:{position:n.index,length:n[0].length,results:n},e.a==e.b.length||null==n||n.position!=e.a?null:(e.a+=n.length,n.results)}function hu(e){return e.a==e.b.length?null:(e=pu(e,/[^ \t\n]*/gm))?e[0]:null}function fu(){this.a=0}function mu(e,t,n){var i=(t=(t=ct(t)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(i[0]))throw new be(2,4,4015);t=0;for(var a=!0,o=u(i),r=o.next();!r.done;r=o.next())if(r=r.value,/^#(?!EXT)/m.test(r)||a)a=!1;else{if(r=bu(e.a++,r),--e.a,gu.includes(r.name)){t=1;break}"EXT-X-STREAM-INF"==r.name&&(a=!0)}o=[],a=!0;for(var c=(r=u(te(i))).next();!c.done;c=r.next()){var s=c.value;c=s.$;var l=s.item;if(s=s.next,/^#(?!EXT)/m.test(l)||a)a=!1;else{if(l=bu(e.a++,l),yu.includes(l.name)){if(1!=t)throw new be(2,4,4017);s=i.splice(c,i.length-c),i=n,a=[],r=[],c=[],l=null;for(var d=(s=u(s)).next();!d.done;d=s.next())d=d.value,/^(#EXT)/.test(d)?(d=bu(e.a++,d),gu.includes(d.name)?o.push(d):"EXT-X-MAP"==d.name?l=d:"EXT-X-PART"==d.name?c.push(d):"EXT-X-PRELOAD-HINT"==d.name?"PART"==nu(d,"TYPE")?c.push(d):"MAP"==nu(d,"TYPE")&&(d.name="EXT-X-MAP",l=d):r.push(d)):/^#(?!EXT)/m.test(d)||(d=_t([i],[d.trim()])[0],l&&r.push(l),a.push(new au(d,r,c)),r=[],c=[]);return c.length&&(l&&r.push(l),a.push(new au("",r,c))),new eu(n,t,o,a)}o.push(l),"EXT-X-STREAM-INF"==l.name&&(l.a.push(new ou("URI",s)),a=!0)}}return new eu(n,t,o)}function bu(e,t){var n=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!n)throw new be(2,4,4016,t);var i,a=n[1],o=n[2];if(n=[],o){var r;(r=pu(o=new uu(o),/^([^,=]+)(?:,|$)/g))&&(i=r[1]);for(var c=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;r=pu(o,c);)n.push(new ou(r[1],r[2]||r[3]))}return new tu(e,a,n,i)}(a=Wl.prototype).configure=function(e){this.i=e},a.start=function(e,t){var n,i=this;return E((function(a){if(1==a.a)return i.w=t.isLowLatencyMode(),i.b=[e],i.s=t,w(a,Kl(i),2);if(n=a.b,i.s&&Xl(i,n),!i.s)throw new be(2,7,7001);return a.return(i.o)}))},a.stop=function(){for(var e=u(Object.values(this.f)),t=e.next();!t.done;t=e.next())t.value.release();return this.a&&this.a.release(),this.i=this.s=null,this.b=[],this.o=null,this.f={},this.a=null,null!=this.g&&(this.g.stop(),this.g=null),this.c.destroy()},a.update=function(){var e,t=this;return E((function(n){return 1==n.a?(x(n,2),w(n,Kl(t),4)):2!=n.a?_(n,0):(e=S(n),t.s&&e?(t.s.onError(e),void j(n)):n.return())}))},a.onExpirationUpdated=function(){},a.Mb=function(){var e,t,n=this;return E((function(i){switch(i.a){case 1:return e=0,x(i,2),w(i,Kl(n),4);case 4:e=i.b,_(i,3);break;case 2:t=S(i),n.s&&(t.severity=1,n.s.onError(t));case 3:if(!n.s)return i.return();Xl(n,e),j(i)}}))},V("shaka.dash.DashParser",Wl),Ji.mpd=function(){return new Wl},Qi["application/dash+xml"]=function(){return new Wl},Qi["video/vnd.mpeg.dash.mpd"]=function(){return new Wl},tu.prototype.toString=function(){var e="#"+this.name,t=this.a?this.a.map((function(e){return e.name+"="+(isNaN(Number(e.value))?'"'+e.value+'"':e.value)})):[];return this.value&&t.unshift(this.value),0<t.length&&(e+=":"+t.join(",")),e},tu.prototype.getAttribute=function(e){var t=this.a.filter((function(t){return t.name==e}));return t.length?t[0]:null};var gu="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP".split(" "),yu="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP".split(" ");function vu(){}function Ou(e){try{var t=wu(e);return _e({uri:e,Pd:e,data:t.data,headers:{"content-type":t.contentType}})}catch(e){return xe(e)}}function wu(t){var n=t.split(":");if(2>n.length||"data"!=n[0])throw new be(2,1,1004,t);if(2>(n=n.slice(1).join(":").split(",")).length)throw new be(2,1,1004,t);var i=n[0];t=e.decodeURIComponent(n.slice(1).join(",")),n=i.split(";"),i=n[0];var a=!1;return 1<n.length&&"base64"==n[n.length-1]&&(a=!0,n.pop()),{data:a?Wt(t):ut(t),contentType:i}}function ju(){var e=this;this.i=this.s=null,this.Sa=1,this.j=new Map,this.g=new Map,this.ua=new Set,this.a=new Map,this.b=null,this.J="",this.T=new fu,this.ta=0,this.h=new ye((function(){e.Mb()})),this.c=Wu,this.o=null,this.ea=0,this.v=1/0,this.M=this.Ma=0,this.w=new qe,this.sa=[],this.G=new Map,this.La=!1,this.f=new Map,this.K=null,this.Y=new Map,this.C=new Map,this.m=!1}function xu(e,t){var n,i,a,o,r,c,s,l,u,d,p,h;return E((function(f){if(1==f.a)return n=$u,i=t.fe,a=new ie(i),e.m&&re(a,new me("_HLS_skip=YES")),w(f,Vu(e,$e([a.toString()],e.i.retryParameters),0),2);if(3!=f.a){if(o=f.b,1!=(r=mu(e.T,o.data,o.uri)).type)throw new be(2,4,4017);return c=ru(r.R,"EXT-X-DEFINE"),s=ku(e,c),l=t.stream,w(f,Mu(e,t.sc,r,l.mimeType,t.Yc,s),3)}u=f.b,l.segmentIndex.pb(u),u.length&&(d=lu(r.R,"EXT-X-MEDIA-SEQUENCE",0),p=t.Yc.get(d),l.segmentIndex.Ua(p)),h=u[u.length-1],su(r.R,"EXT-X-ENDLIST")&&(Uu(e,n.de),e.b.Aa(h.endTime)),j(f)}))}function ku(e,t){for(var n=new Map,i=u(t),a=i.next();!a.done;a=i.next()){var o=a.value;a=nu(o,"NAME");var r=nu(o,"VALUE");o=nu(o,"IMPORT"),a&&r&&n.set(a,r),o&&(a=e.j.get(o))&&n.set(o,a)}return n}function _u(e){var t=nu(e,"CODECS","avc1.42E01E,mp4a.40.2").split(/\s*,\s*/);e=new Set;for(var n=[],i=(t=u(t)).next();!i.done;i=t.next()){var a=At(i=i.value)[0];e.has(a)||(n.push(i),e.add(a))}return n}function Su(e){return yi(e=nu(e,"LANGUAGE")||"und")}function Iu(e,t){var n,i,a,o,r,c,s,l,u,d,p,h;return E((function(f){if(1==f.a){n=iu(t,"GROUP-ID"),i="";var m=iu(t,"TYPE").toLowerCase();return"subtitles"==m&&(m="text"),"text"!=(a=m)&&n&&e.f.has(n)&&(i=e.f.get(n)),o=zu(iu(t,"URI"),e.j),e.a.has(o)?f.return(e.a.get(o)):(r=Su(t),c=nu(t,"NAME"),s=t.getAttribute("DEFAULT"),l=t.getAttribute("AUTOSELECT"),u=!!s||!!l,m="audio"==a&&(m=nu(t,"CHANNELS"))?parseInt(m.split("/")[0],10):null,d=m,p=nu(t,"CHARACTERISTICS"),w(f,Nu(e,o,i,a,r,u,c,d,null,p),2))}return h=f.b,e.g.has(n)?e.g.get(n).push(h):e.g.set(n,[h]),null==h?f.return(null):e.a.has(o)?f.return(e.a.get(o)):(e.a.set(o,h),f.return(h))}))}function Nu(e,t,n,i,a,o,r,c,s,l){var p,h,f,m,b,g,y,v,O,j,k,I,N,T,C,P,A,M,D,L,R,z,U,V,B,H,F,q,W,K,$,X,Y;return E((function(Z){switch(Z.a){case 1:return p=_t([e.J],[t])[0],w(Z,Vu(e,$e([p],e.i.retryParameters),0),2);case 2:if(h=Z.b,p=h.uri,1!=(f=mu(e.T,h.data,p)).type)throw new be(2,4,4017);if(m=[],f.segments)for(b=u(f.segments),g=b.next();!g.done;g=b.next())y=g.value,v=ru(y.R,"EXT-X-KEY"),m.push.apply(m,d(v));for(O=!1,j=[],k=new Set,I=u(m),N=I.next();!N.done;N=I.next())if(T=N.value,"NONE"!=(C=iu(T,"METHOD"))){if(O=!0,"AES-128"==C)return e.La=!0,Z.return(null);if(P=iu(T,"KEYFORMAT"),M=(A=qu[P])?A(T):null){if(M.keyIds)for(D=u(M.keyIds),L=D.next();!L.done;L=D.next())R=L.value,k.add(R);j.push(M)}}if(O&&!j.length)throw new be(2,4,4026);return z=ru(f.R,"EXT-X-DEFINE"),U=ku(e,z),function(e,t){var n=su(t.R,"EXT-X-PLAYLIST-TYPE"),i=su(t.R,"EXT-X-ENDLIST");if(i=n&&"VOD"==n.value||i,n=n&&"EVENT"==n.value&&!i,n=!i&&!n,i)Uu(e,Wu);else{if(Uu(e,n?Gu:Ku),!(i=su(t.R,"EXT-X-TARGETDURATION")))throw new be(2,4,4024,"EXT-X-TARGETDURATION");i=Number(i.value),n=su(t.R,"EXT-X-PART-INF"),e.m&&n?(e.Ma=Number(iu(n,"PART-TARGET")),e.v=Math.min(e.Ma,e.v)):e.v=Math.min(i,e.v),e.ea=Math.max(i,e.ea),e.m&&(i=su(t.R,"EXT-X-SERVER-CONTROL"),e.M=i?Number(iu(i,"PART-HOLD-BACK")):0)}}(e,f),w(Z,function(e,t,n,i,a){var o,r,c,s,l,u,d,p,h,f;return E((function(m){if(1==m.a)return o=It,r=Ze,c=zu(i.segments[0].a,a),s=new ie(c),l=s.ka.split(".").pop(),u=Fu[t],(d=u[l])?m.return(d):t==o.ba?n&&"vtt"!=n&&"wvtt"!=n?m.return("application/mp4"):m.return("text/vtt"):((p=$e([c],e.i.retryParameters)).method="HEAD",w(m,Vu(e,p,r),2));if(h=m.b,!(f=h.headers["content-type"]))throw new be(2,4,4021,l);return m.return(f.split(";")[0])}))}(e,i,n,f,U),3);case 3:return V=Z.b,Hu.includes(V)&&(n=""),B=new Map,x(Z,4),w(Z,Mu(e,t,f,V,B,U),6);case 6:H=Z.b,_(Z,5);break;case 4:if(4035==(F=S(Z)).code)return G("Skipping unsupported HLS stream",V,t),Z.return(null);throw F;case 5:return q=H[0].startTime,W=H[H.length-1].endTime,K=new Pa(H),$="text"==i?"subtitle":void 0,X=[],l&&X.push(l),Y={id:e.Sa++,originalId:r,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:K,mimeType:V,codecs:n,kind:$,encrypted:O,drmInfos:j,keyIds:k,language:a,label:r,type:i,primary:o,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:X,channelsCount:c,audioSamplingRate:null,closedCaptions:s},Z.return({stream:Y,sc:t,fe:p,Ld:q,Ne:W,Yc:B})}}))}function Tu(e,t,n,i){return(n=su(n,"EXT-X-MAP"))?(t=[i=zu(_t([t],[iu(n,"URI")])[0],i),nu(n,"BYTERANGE","")].join("-"),e.Y.has(t)||(n=function(e,t){var n=0,i=null,a=nu(t,"BYTERANGE");return a&&(n=a.split("@"),i=Number(n[0]),n=Number(n[1]),i=n+i-1),new na((function(){return[e]}),n,i)}(i,n),e.Y.set(t,n)),e.Y.get(t)):null}function Cu(e,t,n,i,a,o,r,c){var s=i.R,l=zu(i.a,r),d=su(s,"EXTINF");if(r=[],e.m&&i.b.length){e={};for(var p=(i=u(te(i.b))).next();!p.done;e={zc:e.zc},p=i.next()){var h=(p=p.value).$;p=p.item;var f=0==h?n:r[r.length-1];h=0==h?a:f.endTime;var m=Number(nu(p,"DURATION"));m=h+m;var b=nu(p,"BYTERANGE");f=(b=u(Pu(f,b))).next().value,b=b.next().value,p=nu(p,"URI"),e.zc=_t([c],[p])[0],r.push(new ia(h,m,function(e){return function(){return[e.zc]}}(e),f,b,t,o,0,1/0))}}else if(!d)throw new be(2,4,4024,"EXTINF");return e=c=0,i=null,d?(c=a+Number(d.value.split(",")[0]),e=(n=u(Pu(n,(s=su(s,"EXT-X-BYTERANGE"))?s.value:null))).next().value,i=n.next().value):c=r[r.length-1].endTime,new ia(a,c,(function(){return l.length?[l]:[]}),e,i,t,o,0,1/0,r)}function Pu(e,t){var n=0,i=null;return t&&(n=t.split("@"),i=Number(n[0]),i=(n=n[1]?Number(n[1]):e.a+1)+i-1),[n,i]}function Au(e){if(e.b){for(var t=u(e.sa),n=t.next();!n.done;n=t.next())e.b.rb(n.value);e.sa=[]}}function Mu(e,t,n,i,a,o){var r,c,s,l,d,p,h,f,m,b,g,y,v,O,j,x,k,_,S,I;return E((function(N){switch(N.a){case 1:if(r=n.segments,s=lu(n.R,"EXT-X-MEDIA-SEQUENCE",0),d=(l=su(n.R,"EXT-X-SKIP"))?Number(nu(l,"SKIPPED-SEGMENTS")):0,p=s+d,e.c!=Wu&&a.has(p)){h=a.get(p),N.u(2);break}if(null!=e.K){N.u(3);break}return c=Tu(e,n.a,r[0].R,o),f=e,w(N,Du(e,t,c,i,p,!1,r[0],o),4);case 4:f.K=N.b;case 3:h=e.K;case 2:r[0].a.split("/").pop(),m=lu(n.R,"EXT-X-DISCONTINUITY-SEQUENCE"),b=e.C.get(m)||0,g=[],y=u(function(e){return te(e)}(r)),v=y.next();case 5:if(v.done){N.u(7);break}if(O=v.value,j=O.$,x=O.item,k=g[g.length-1],_=0==j?h:k.endTime,p=s+d+j,a.set(p,_),c=Tu(e,n.a,x.R,o),!su(x.R,"EXT-X-DISCONTINUITY")){N.u(8);break}return m++,w(N,function(e,t,n,i,a,o,r,c,s){var l,u;return E((function(d){return 1==d.a?(l=0,e.C.has(t)?(l=e.C.get(t),d.u(2)):w(d,Du(e,n,i,a,o,!0,r,c),3)):(2!=d.a&&(u=d.b,l=s-u,e.C.set(t,l)),d.return(l))}))}(e,m,t,c,i,p,x,o,_),9);case 9:b=N.b;case 8:S=su(x.R,"EXTINF"),(e.m||S)&&(I=Cu(e,c,k,x,_,b,o,n.a),g.push(I)),v=y.next(),N.u(5);break;case 7:return e.sa.push(g),Au(e),N.return(g)}}))}function Eu(e,t){var n,i,a,o,r,c;return E((function(s){switch(s.a){case 1:return n=Ze,i=Ka(t.c(),t.b,t.a,e.i.retryParameters),e.i.hls.useFullSegmentsForStartTime?s.return(Vu(e,i,n)):(a=Ka(t.c(),t.b,t.b+2048-1,e.i.retryParameters),x(s,2),w(s,Vu(e,a,n),4));case 4:return o=s.b,s.return(o);case 2:if(7001==(r=S(s)).code)throw r;return G("Unable to fetch the starting part of HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",a.uris[0]),w(s,Vu(e,i,n),5);case 5:return c=s.b,s.return(c)}}))}function Du(e,t,n,i,a,o,r,c){var s,l,u,d,p,h,f,m;return E((function(b){switch(b.a){case 1:if(s=Cu(e,n,null,r,0,0,c,""),e.o&&!o&&(l=e.a.get(t),null!=(u=l.Yc.get(a))))return b.return(u);if(i=i.toLowerCase(),Hu.includes(i))throw G("Raw formats are not yet supported.  Skipping "+i),new be(1,4,4035);if("video/webm"==i)throw G("WebM in HLS is not yet supported.  Skipping."),new be(1,4,4035);if("video/mp4"!=i&&"audio/mp4"!=i){b.u(2);break}return d=[Eu(e,s)],n&&d.push(Eu(e,n)),w(b,Promise.all(d),3);case 3:return p=b.b,h=p[0],f=p[1]||p[0],b.return(function(e,t,n,i){var a=0;if((new za).H("moov",Ua).H("trak",Ua).H("mdia",Ua).V("mdhd",(function(e){a=Ts(e.reader,e.version).timescale,e.parser.stop()})).parse(i,!0),!a)throw new be(2,4,4030,e,t);var o=0,r=!1;if((new za).H("moof",Ua).H("traf",Ua).V("tfdt",(function(e){o=Ns(e.reader,e.version).Nc/a,r=!0,e.parser.stop()})).parse(n,!0),!r)throw new be(2,4,4030,e,t);return o}(t,h.uri,h.data,f.data));case 2:if("video/mp2t"!=i){b.u(4);break}return w(b,Eu(e,s),5);case 5:return m=b.b,b.return(function(e,t,n){function i(){o.seek(r+188),71!=(c=o.W())&&(o.seek(r+192),c=o.W()),71!=c&&(o.seek(r+204),c=o.W()),71!=c&&a(),o.Sd(1)}function a(){throw new be(2,4,4030,e,t)}for(var o=new Da(n,0),r=0,c=0;;)if(r=o.B,71!=(c=o.W())&&a(),8191==(8191&(n=o.ub())))i();else if(16384&n){if(0!=(n=(48&o.W())>>4)&&2!=n||a(),3==n&&(n=o.W(),o.skip(n)),1==o.I()>>8){o.skip(3),0!=(n=o.W()>>6)&&1!=n||a(),0==o.W()&&a(),n=o.W();var s=o.ub(),l=o.ub();return(1073741824*((14&n)>>1)+((65534&s)<<14|(65534&l)>>1))/9e4}i()}else i()}(t,m.uri,m.data));case 4:throw new be(2,4,4030,t)}}))}function Lu(e,t){if(1==t.length)return t[0];var n=Ru(e,t);if(null!=n)return n;throw new be(2,4,4025,t)}function Ru(e,t){for(var n=u(Bu[e]),i=n.next();!i.done;i=n.next()){i=i.value;for(var a=u(t),o=a.next();!o.done;o=a.next())if(o=o.value,i.test(o.trim()))return o.trim()}return"text"==e?"":null}function zu(e,t){var n=String(e).replace(/%7B/g,"{").replace(/%7D/g,"}"),i=n.match(/{\$\w*}/g);if(i)for(var a=(i=u(i)).next();!a.done;a=i.next()){var o=(a=a.value).slice(2,a.length-1),r=t.get(o);if(!r)throw new be(2,4,4039,o);n=n.replace(a,r)}return n}function Uu(e,t){e.c=t,e.b&&e.b.Qb(e.c==Wu),e.c!=Wu||e.h.stop()}function Vu(e,t,n){if(!e.w)throw new be(2,7,7001);return t=e.s.networkingEngine.request(n,t),We(e.w,t),t.promise}V("shaka.net.DataUriPlugin",vu),vu.parse=Ou,Ge("data",Ou),(a=ju.prototype).configure=function(e){this.i=e},a.start=function(e,t){var n,i,a=this;return E((function(o){return 1==o.a?(a.s=t,a.m=t.isLowLatencyMode(),w(o,Vu(a,$e([e],a.i.retryParameters),0),2)):3!=o.a?(n=o.b,a.J=n.uri,w(o,function(e,t){var n,i,a,o,r,c,s,l,d,p,h,f,m,b,g,y,v,O,j,k,_,I,N,T;return E((function(C){switch(C.a){case 1:if(0!=(n=mu(e.T,t,e.J)).type)throw new be(2,4,4022);for(var P=u(ru(n.R,"EXT-X-DEFINE")),A=P.next();!A.done;A=P.next()){var M=A.value;A=nu(M,"NAME"),M=nu(M,"VALUE"),A&&M&&(e.j.has(A)||e.j.set(A,M))}for(i=ru(n.R,"EXT-X-MEDIA"),A=(P=u(a=ru(n.R,"EXT-X-STREAM-INF"))).next();!A.done;A=P.next()){var D=A.value;M=nu(D,"AUDIO"),A=nu(D,"VIDEO");var L=nu(D,"SUBTITLES");if(D=_u(D),L){var R=Ru("text",D);e.f.set(L,R),Be(D,R)}M&&(L=Lu("audio",D),e.f.set(M,L)),A&&(M=Lu("video",D),e.f.set(A,M))}for(o=ru(n.R,"EXT-X-SESSION-DATA"),r=u(o),c=r.next();!c.done;c=r.next())s=c.value,l=nu(s,"DATA-ID"),d=nu(s,"URI"),p=nu(s,"LANGUAGE"),h=nu(s,"VALUE"),f={id:l},d&&(f.uri=_t([e.J],[d])[0]),p&&(f.language=p),h&&(f.value=h),m=new De("sessiondata",f),e.s&&e.s.onEvent(m);return w(C,function(e,t){var n;return E((function(i){return 1==i.a?(t=t.filter((function(e){var t=nu(e,"URI")||"";return"SUBTITLES"!=nu(e,"TYPE")&&""!=t}))).length?w(i,Iu(e,t[0]),2):i.u(2):(n=t.slice(1).map((function(t){return Iu(e,t)})),w(i,Promise.all(n),0))}))}(e,i),2);case 2:for(A=(P=u(P=cu(i,"CLOSED-CAPTIONS"))).next();!A.done;A=P.next())A=Su(L=A.value),M=iu(L,"GROUP-ID"),L=iu(L,"INSTREAM-ID"),e.G.get(M)||e.G.set(M,new Map),e.G.get(M).set(L,A);return w(C,function(e,t){var n,i,a;return E((function(o){return 1==o.a?(n=t.map((function(t){var n,i,a,o,r,c,s;return E((function(l){return 1==l.a?(n=nu(t,"FRAME-RATE"),i=Number(iu(t,"BANDWIDTH")),a=nu(t,"RESOLUTION"),o=u(a?a.split("x"):[null,null]),r=o.next().value,c=o.next().value,w(l,function(e,t,n,i){var a,o,r,c,s,l,d,p,h,f,m,b,g,y;return E((function(v){if(1==v.a)return a=It,o=_u(t),r=nu(t,"AUDIO"),c=nu(t,"VIDEO"),l=(s=r||c)&&e.g.has(s)?e.g.get(s):[],d={audio:r?l:[],video:c?l:[]},h=!1,f=iu(t,"URI"),m=d.audio.find((function(e){return e&&e.sc==f})),b=Ru(a.Da,o),g=n||i||b,1!=o.length||g?!l.length&&1<o.length?(p=a.Da,o=[o.join(",")]):d.audio.length&&m?(p=a.hb,h=!0):p=d.video.length?a.hb:a.Da:p=a.hb,h?v.u(2):w(v,function(e,t,n,i){var a,o,r,c;return E((function(s){if(1==s.a){if(a=zu(iu(t,"URI"),e.j),e.a.has(a))return s.return(e.a.get(a));var l=nu(t,"CLOSED-CAPTIONS");return o="video"==i&&l&&"NONE"!=l?e.G.get(l):null,r=Lu(i,n),w(s,Nu(e,a,r,i,"und",!1,null,null,o,null),2)}return null==(c=s.b)?s.return(null):e.a.has(a)?s.return(e.a.get(a)):(e.a.set(a,c),s.return(c))}))}(e,t,o,p),3);if(2!=v.a&&(y=v.b),y)d[y.stream.type]=[y];else if(null===y)return v.return(null);return function(e){for(var t=(e=u(e.audio.concat(e.video))).next();!t.done;t=e.next())if(t=t.value){var n=t.stream.codecs.split(",");n=n.filter((function(e){return"mp4a.40.34"!=e})),t.stream.codecs=n.join(",")}}(d),v.return(d)}))}(e,t,a,n),2)):(s=l.b)?l.return(function(e,t,n,i,a,o,r){for(var c=u(n),s=c.next();!s.done;s=c.next()){s=s.value.stream;var l=o,d=r;s&&(s.width=Number(a)||void 0,s.height=Number(l)||void 0,s.frameRate=Number(d)||void 0)}a=e.i.disableAudio,(!t.length||a)&&(t=[null]);a=e.i.disableVideo,(!n.length||a)&&(n=[null]);for(a=[],t=u(t),o=t.next();!o.done;o=t.next())for(o=o.value,r=u(n),c=r.next();!c.done;c=r.next()){var p=c.value;c=o?o.stream:null,s=p?p.stream:null,l=o?o.stream.drmInfos:null,d=p?p.stream.drmInfos:null,p=(p?p.sc:"")+" - "+(o?o.sc:""),c&&s&&l.length&&d.length&&!(0<pn(l,d).length)||e.ua.has(p)||(c={id:e.Sa++,language:c?c.language:"und",primary:!!c&&c.primary||!!s&&s.primary,audio:c,video:s,bandwidth:i,allowedByApplication:!0,allowedByKeySystem:!0},a.push(c),e.ua.add(p))}return a}(e,s.audio,s.video,i,r,c,n)):l.return([])}))})),w(o,Promise.all(n),2)):(i=o.b,a=(a=i.reduce(wt,[])).filter((function(e){return null!=e})),o.return(a))}))}(e,a),3);case 3:return b=C.b,w(C,function(e,t){var n,i,a,o,r,c,s,l,d,p,h;return E((function(f){if(1==f.a)return n=cu(t,"SUBTITLES"),i=n.map((function(t){var n,i;return E((function(a){if(1==a.a)return e.i.disableText?a.return(null):(x(a,2),w(a,Iu(e,t),4));if(2!=a.a)return n=a.b,a.return(n.stream);if(i=S(a),e.i.hls.ignoreTextStreamFailures)return a.return(null);throw i}))})),w(f,Promise.all(i),2);for(a=f.b,o=u(n),r=o.next();!r.done;r=o.next())if(c=r.value,s=iu(c,"GROUP-ID"),(l=e.f.get(s))&&(d=e.g.get(s)))for(p=u(d),h=p.next();!h.done;h=p.next())h.value.stream.codecs=l;return f.return(a.filter((function(e){return e})))}))}(e,i),4);case 4:if(g=C.b,!e.s)throw new be(2,7,7001);if(e.La&&0==b.length)throw new be(2,4,4034);for(v=y=1/0,O=u(e.a.values()),j=O.next();!j.done;j=O.next())k=j.value,y=Math.min(y,k.Ld),"text"!=k.stream.type&&(v=Math.min(v,k.Ne-k.Ld));if(e.c!=Wu?(e.b=new aa(0,e.i.defaultPresentationDelay?e.i.defaultPresentationDelay:e.M?e.M:3*e.ea),e.b.Qb(!1)):(e.b=new aa(null,0),e.b.Qb(!0)),Au(e),e.c!=Wu)e.ta=e.v,_=$u,e.c==_.ce&&(I=e.b.oc,isNaN(e.i.availabilityWindowOverride)||(I=e.i.availabilityWindowOverride),e.b.sd(I));else for(e.b.Aa(v),e.b.offset(-y),N=u(e.a.values()),j=N.next();!j.done;j=N.next())(T=j.value).stream.segmentIndex.offset(-y),T.stream.segmentIndex.Na(0,v);return e.o={presentationTimeline:e.b,variants:b,textStreams:g,offlineSessionIds:[],minBufferTime:0},e.s.makeTextStreamsForClosedCaptions(e.o),w(C,e.s.filter(e.o),0)}}))}(a,n.data),3)):(0<(i=a.ta)&&a.h.S(i),o.return(a.o))}))},a.stop=function(){this.h&&(this.h.stop(),this.h=null);var e=[];return this.w&&(e.push(this.w.destroy()),this.w=null),this.i=this.s=null,this.ua.clear(),this.o=null,this.a.clear(),this.g.clear(),this.f.clear(),this.j.clear(),Promise.all(e)},a.update=function(){var e,t,n,i=this;return E((function(a){if(1==a.a)return i.c==Wu?a.return():(e=[],i.K=null,(t=Array.from(i.a.values())).length?w(a,xu(i,t[0]),2):a.u(2));for(n=1;n<t.length;n++)e.push(xu(i,t[n]));return w(a,Promise.all(e),0)}))},a.onExpirationUpdated=function(){},a.Mb=function(){var e,t,n=this;return E((function(i){return 1==i.a?n.s?(x(i,2),w(i,n.update(),4)):i.return():2!=i.a?(e=n.ta,n.h.S(e),_(i,0)):(t=S(i),n.s?(t.severity=1,n.s.onError(t),n.h.S(.1),void j(i)):i.return())}))},V("shaka.hls.HlsParser",ju);var Bu={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},Hu=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"],Fu={audio:{mp4:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",cmfa:"audio/mp4",ts:"video/mp2t",aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},video:{mp4:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",cmfv:"video/mp4",ts:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",cmft:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"}},qu={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(e){var t=iu(e,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)?(t=St("com.widevine.alpha",[{initDataType:"cenc",initData:t=Ae((t=wu(t=iu(e,"URI"))).data)}]),(e=nu(e,"KEYID"))&&(t.keyIds=new Set([e.toLowerCase().substr(2)])),t):null},"com.microsoft.playready":function(e){var t=iu(e,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)?St("com.microsoft.playready",[{initDataType:"cenc",initData:e=Ms(e=Ae((e=wu(e=iu(e,"URI"))).data))}]):null}},Wu="VOD",Ku="EVENT",Gu="LIVE",$u={de:Wu,wf:Ku,ce:Gu};function Xu(e,t,n,i,a,o){if(200<=n&&299>=n&&202!=n)return{uri:a||i,Pd:i,data:t,headers:e,fromCache:!!e["x-shaka-from-cache"]};a=null;try{a=lt(t)}catch(e){}throw new be(401==n||403==n?2:1,1,1001,i,n,a,e,o)}function Yu(){}function Zu(e,t,n,i){var a=new nd;Nt(t.headers).forEach((function(e,t){a.append(t,e)}));var o=new ed,r={yd:!1,$d:!1};if(e=new je(e=function(e,t,n,i,a){var o,r,c,s,l,u,d,p,h,f,m,b;return E((function(g){switch(g.a){case 1:return o=Ju,r=td,u=l=0,d=Date.now(),x(g,2),w(g,o(e,n),4);case 4:return c=g.b,p=c.clone().body.getReader(),f=(h=c.headers.get("Content-Length"))?parseInt(h,10):0,new r({start:function(e){!function t(){var n,i;return E((function(o){switch(o.a){case 1:return x(o,2),w(o,p.read(),4);case 4:n=o.b,_(o,3);break;case 2:return S(o),o.return();case 3:n.done||(l+=n.value.byteLength),(100<(i=Date.now())-d||n.done)&&(a(i-d,l-u,f-l),u=l,d=i),n.done?e.close():(e.enqueue(n.value),t()),j(o)}}))}()}}),w(g,c.arrayBuffer(),5);case 5:s=g.b,_(g,3);break;case 2:if(m=S(g),i.yd)throw new be(1,1,7001,e,t);if(i.$d)throw new be(1,1,1003,e,t);throw new be(1,1,1002,e,m,t);case 3:return b={},c.headers.forEach((function(e,t){b[t.trim()]=e})),g.return(Xu(b,s,c.status,e,c.url,t))}}))}(e,n,{body:t.body||void 0,headers:a,method:t.method,signal:o.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},r,i),(function(){return r.yd=!0,o.abort(),Promise.resolve()})),t=t.retryParameters.timeout){var c=new ye((function(){r.$d=!0,o.abort()}));c.S(t/1e3),e.finally((function(){c.stop()}))}return e}function Qu(){if(!e.ReadableStream)return!1;try{new ReadableStream({})}catch(e){return!1}return!(!e.fetch||!e.AbortController)}Ji.m3u8=function(){return new ju},Qi["application/x-mpegurl"]=function(){return new ju},Qi["application/vnd.apple.mpegurl"]=function(){return new ju},V("shaka.net.HttpFetchPlugin",Yu),Yu.isSupported=Qu,Yu.parse=Zu;var Ju=e.fetch,ed=e.AbortController,td=e.ReadableStream,nd=e.Headers;function id(){}function ad(e,t,n,i){var a=new od,o=Date.now(),r=0;return new je(new Promise((function(c,s){for(var l in a.open(t.method,e,!0),a.responseType="arraybuffer",a.timeout=t.retryParameters.timeout,a.withCredentials=t.allowCrossSiteCredentials,a.onabort=function(){s(new be(1,1,7001,e,n))},a.onload=function(t){for(var i=(t=t.target).getAllResponseHeaders().trim().split("\r\n"),a={},o=(i=u(i)).next();!o.done;o=i.next())a[(o=o.value.split(": "))[0].toLowerCase()]=o.slice(1).join(": ");try{var r=Xu(a,t.response,t.status,e,t.responseURL,n);c(r)}catch(e){s(e)}},a.onerror=function(t){s(new be(1,1,1002,e,t,n))},a.ontimeout=function(){s(new be(1,1,1003,e,n))},a.onprogress=function(e){var t=Date.now();(100<t-o||e.lengthComputable&&e.loaded==e.total)&&(i(t-o,e.loaded-r,e.total-e.loaded),r=e.loaded,o=t)},t.headers)a.setRequestHeader(l.toLowerCase(),t.headers[l]);a.send(t.body)})),(function(){return a.abort(),Promise.resolve()}))}Qu()&&(Ge("http",Zu,2),Ge("https",Zu,2)),V("shaka.net.HttpXHRPlugin",id),id.parse=ad;var od=e.XMLHttpRequest;function rd(){this.a=this.f=this.b=0,this.c=new Map,this.g=0}function cd(e){var t=this;this.N=e,this.a=new Map,this.D=new et((function(){var e=Array.from(t.a.values());return Promise.all(e.map((function(e){return e.catch((function(){}))})))})),this.b=[],this.Od=function(){},this.Nd=function(){},this.Fb=new rd}function sd(e){var t=e.b.map((function(e){return e()}));return e.b=[],Promise.all(t)}function ld(e,t,n,i,a,o){tt(e.D);var r=function(e,t){e.b+=t;var n=e.g;return e.g++,e.c.set(n,t),n}(e.Fb,i);return i=(e.a.get(t)||Promise.resolve()).then((function(){var t,i,c,s,l,u,d;return E((function(p){if(1==p.a)return w(p,function(e,t){var n,i,a,o;return E((function(r){return 1==r.a?(n=Ze,i=e.N.request(n,t),a=function(){return i.abort()},e.b.push(a),w(r,i.promise,2)):(o=r.b,Be(e.b,a),r.return(o.data))}))}(e,n),2);if(t=p.b,e.D.a)throw new be(2,9,7001);if(a)for(s in i=Ae(t),(c=new As(i)).data)l=Number(s),u=c.data[l],d=c.a[l],e.Nd(u,d);e.Fb.close(r,t.byteLength);var h=e.Fb;return e.Od(0==h.b?0:h.f/h.b,e.Fb.a),p.return(o(t))}))})),e.a.set(t,i),i}function ud(e,t){var n=this;this.c=e,this.b=e.objectStore(t),this.a=new we,e.onabort=function(e){e.preventDefault(),n.a.reject()},e.onerror=function(e){e.preventDefault(),n.a.reject()},e.oncomplete=function(){n.a.resolve()}}function dd(e,t){return new Promise((function(n,i){var a=e.b.openCursor();a.onerror=i,a.onsuccess=function(){var e;return E((function(i){if(1==i.a)return null==a.result?(n(),i.return()):(e=a.result,w(i,t(e.key,e.value,e),2));e.continue(),j(i)}))}}))}function pd(e){this.b=e,this.a=[]}function hd(e,t){return fd(e,t,"readwrite")}function fd(e,t,n){var i=new ud(n=e.b.transaction([t],n),t);return e.a.push(i),i.promise().then((function(){Be(e.a,i)}),(function(){Be(e.a,i)})),i}function md(e,t,n){this.b=new pd(e),this.c=t,this.a=n}function bd(e){return Promise.reject(new be(2,9,9011,"Cannot add new value to "+e))}function gd(e,t,n,i){t=(e=hd(e.b,t)).store();for(var a={},o=(n=u(n)).next();!o.done;a={Vb:a.Vb},o=n.next())a.Vb=o.value,t.delete(a.Vb).onsuccess=function(e){return function(){return i(e.Vb)}}(a);return e.promise()}function yd(e,t,n){var i,a,o,r,c,s,l;return E((function(d){if(1==d.a){for(i=fd(e.b,t,"readonly"),a=i.store(),o={},r=[],c={},s=u(n),l=s.next();!l.done;c={Bb:c.Bb,zb:c.zb},l=s.next())c.zb=l.value,c.Bb=a.get(c.zb),c.Bb.onsuccess=function(e){return function(){null==e.Bb.result&&r.push(e.zb),o[e.zb]=e.Bb.result}}(c);return w(d,i.promise(),2)}if(r.length)throw new be(2,9,9012,"Could not find values for "+r);return d.return(n.map((function(e){return o[e]})))}))}function vd(e){this.a=new pd(e)}function Od(){this.a=new Map}function wd(e,t,n){if(!(e=e.a.get(t)))throw new be(2,9,9013,"Could not find mechanism with name "+t);if(!(t=e.getCells().get(n)))throw new be(2,9,9013,"Could not find cell with name "+n);return t}function jd(e,t){xd.set(e,t)}Ge("http",ad,1),Ge("https",ad,1),rd.prototype.close=function(e,t){if(this.c.has(e)){var n=this.c.get(e);this.c.delete(e),this.f+=n,this.a+=t}},cd.prototype.destroy=function(){return this.D.destroy()},ud.prototype.abort=function(){var e=this;return E((function(t){if(1==t.a){try{e.c.abort()}catch(e){}return x(t,2),w(t,e.a,4)}if(2!=t.a)return _(t,0);S(t),j(t)}))},ud.prototype.store=function(){return this.b},ud.prototype.promise=function(){return this.a},pd.prototype.destroy=function(){return Promise.all(this.a.map((function(e){return e.abort()})))},(a=md.prototype).destroy=function(){return this.b.destroy()},a.hasFixedKeySpace=function(){return!0},a.addSegments=function(){return bd(this.c)},a.removeSegments=function(e,t){return gd(this,this.c,e,t)},a.getSegments=function(e){var t,n=this;return E((function(i){return 1==i.a?w(i,yd(n,n.c,e),2):(t=i.b,i.return(t.map((function(e){return n.zd(e)}))))}))},a.addManifests=function(){return bd(this.a)},a.updateManifestExpiration=function(e,t){var n=hd(this.b,this.a),i=n.store();return i.get(e).onsuccess=function(n){(n=n.target.result)&&(n.expiration=t,i.put(n,e))},n.promise()},a.removeManifests=function(e,t){return gd(this,this.a,e,t)},a.getManifests=function(e){var t,n=this;return E((function(i){return 1==i.a?w(i,yd(n,n.a,e),2):(t=i.b,i.return(Promise.all(t.map((function(e){return n.Eb(e)})))))}))},a.getAllManifests=function(){var e,t,n=this;return E((function(i){return 1==i.a?(e=fd(n.b,n.a,"readonly"),t=new Map,w(i,dd(e,(function(e,i){var a;return E((function(o){if(1==o.a)return w(o,n.Eb(i),2);a=o.b,t.set(e,a),j(o)}))})),2)):3!=i.a?w(i,e.promise(),3):i.return(t)}))},a.zd=function(e){return e},a.Eb=function(e){return Promise.resolve(e)},a.add=function(e,t){var n,i,a,o,r,c,s,l=this;return E((function(d){if(1==d.a){for(n=hd(l.b,e),i=n.store(),a=[],o={},r=u(t),c=r.next();!c.done;o={Wb:o.Wb},c=r.next())s=c.value,o.Wb=i.add(s),o.Wb.onsuccess=function(e){return function(){a.push(e.Wb.result)}}(o);return w(d,n.promise(),2)}return d.return(a)}))},vd.prototype.destroy=function(){return this.a.destroy()},vd.prototype.getAll=function(){var e,t,n=this;return E((function(i){return 1==i.a?(e=fd(n.a,"session-ids","readonly"),t=[],w(i,dd(e,(function(e,n){t.push(n)})),2)):3!=i.a?w(i,e.promise(),3):i.return(t)}))},vd.prototype.add=function(e){for(var t=hd(this.a,"session-ids"),n=t.store(),i=(e=u(e)).next();!i.done;i=e.next())n.add(i.value);return t.promise()},vd.prototype.remove=function(e){var t,n=this;return E((function(i){return 1==i.a?w(i,dd(t=hd(n.a,"session-ids"),(function(t,n,i){e.includes(n.sessionId)&&i.delete()})),2):w(i,t.promise(),0)}))},Od.prototype.destroy=function(){for(var e=[],t=u(this.a.values()),n=t.next();!n.done;n=t.next())e.push(n.value.destroy());return this.a.clear(),Promise.all(e)},Od.prototype.init=function(){var e=this;xd.forEach((function(t,n){var i=t();i&&e.a.set(n,i)}));for(var t=[],n=u(this.a.values()),i=n.next();!i.done;i=n.next())t.push(i.value.init());return Promise.all(t)},V("shaka.offline.StorageMuxer",Od),Od.unregister=function(e){xd.delete(e)},Od.register=jd,Od.prototype.destroy=Od.prototype.destroy;var xd=new Map;function kd(){md.apply(this,arguments)}function _d(e,t){!function(e){var t=e.streams.filter((function(e){return"audio"==e.contentType}));if(e=e.streams.filter((function(e){return"video"==e.contentType})),!t.every((function(e){return e.variantIds}))||!e.every((function(e){return e.variantIds}))){for(var n=u(t),i=n.next();!i.done;i=n.next())i.value.variantIds=[];for(n=u(e),i=n.next();!i.done;i=n.next())i.value.variantIds=[];if(n=0,e.length&&!t.length){var a=n++,o=u(e);for(i=o.next();!i.done;i=o.next())i.value.variantIds.push(a)}if(!e.length&&t.length)for(a=n++,o=u(t),i=o.next();!i.done;i=o.next())i.value.variantIds.push(a);if(e.length&&t.length)for(t=u(t),i=t.next();!i.done;i=t.next())for(i=i.value,a=u(e),o=a.next();!o.done;o=a.next()){o=o.value;var r=n++;i.variantIds.push(r),o.variantIds.push(r)}}}(e);for(var n=u(e.streams),i=n.next();!i.done;i=n.next());return e.streams.map((function(n){return function(e,t,n){var i=e.initSegmentUri?Sd(e.initSegmentUri):null,a=t+e.presentationTimeOffset,o=t+n;return{id:e.id,originalId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:void 0,kind:e.kind,language:e.language,label:e.label,width:e.width,height:e.height,initSegmentKey:i,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map((function(e){var n=Sd(e.uri);return{startTime:t+e.startTime,endTime:t+e.endTime,dataKey:n,initSegmentKey:i,appendWindowStart:t,appendWindowEnd:o,timestampOffset:a}})),variantIds:e.variantIds,roles:[],audioSamplingRate:null,channelsCount:null,closedCaptions:null}}(n,e.startTime,t)}))}function Sd(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new be(2,9,9004,"Could not parse uri "+e)}function Id(){md.apply(this,arguments)}function Nd(e,t,n){return{id:e.id,originalId:e.originalId,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,kind:e.kind,language:e.language,label:e.label,width:e.width,height:e.height,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map((function(i){return{startTime:t+i.startTime,endTime:t+i.endTime,initSegmentKey:e.initSegmentKey,appendWindowStart:t,appendWindowEnd:n,timestampOffset:t-e.presentationTimeOffset,dataKey:i.dataKey}})),variantIds:e.variantIds,roles:[],audioSamplingRate:null,channelsCount:null,closedCaptions:null}}function Td(){md.apply(this,arguments)}function Cd(){this.h=this.f=this.c=this.b=this.a=this.g=null}function Pd(e,t,n,i){this.a=e,this.g=t,this.f=n,this.c=i,this.b=["offline:",e,"/",t,"/",n,"/",i].join("")}function Ad(e){if(null==(e=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e)))return null;var t=e[1];if("manifest"!=t&&"segment"!=t)return null;var n=e[2];if(!n)return null;var i=e[3];return i&&null!=t?new Pd(t,n,i,Number(e[4])):null}function Md(e,t){this.b=e,this.a=t}function Ed(e,t){var n=new aa(null,0);n.Aa(t.duration);var i=t.streams.filter((function(e){return"audio"==e.type})),a=t.streams.filter((function(e){return"video"==e.type}));i=function(e,t,n,i){for(var a=new Set,o=u(t),r=o.next();!r.done;r=o.next()){var c=u(r.value.variantIds);for(r=c.next();!r.done;r=c.next())a.add(r.value)}for(o=u(n),r=o.next();!r.done;r=o.next())for(c=u(r.value.variantIds),r=c.next();!r.done;r=c.next())a.add(r.value);for(o=new Map,a=u(a),r=a.next();!r.done;r=a.next())r=r.value,o.set(r,{id:r,language:"",primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0});for(t=u(t),a=t.next();!a.done;a=t.next())for(a=a.value,r=Dd(e,a,i),c=u(a.variantIds),a=c.next();!a.done;a=c.next())(a=o.get(a.value)).language=r.language,a.primary=a.primary||r.primary,a.audio=r;for(n=u(n),t=n.next();!t.done;t=n.next())for(a=t.value,t=Dd(e,a,i),r=u(a.variantIds),a=r.next();!a.done;a=r.next())(a=o.get(a.value)).primary=a.primary||t.primary,a.video=t;return o}(e,i,a,n),a=t.streams.filter((function(e){return"text"==e.type})).map((function(t){return Dd(e,t,n)}));var o=t.drmInfo?[t.drmInfo]:[];if(t.drmInfo)for(var r=u(i.values()),c=r.next();!c.done;c=r.next())(c=c.value).audio&&c.audio.encrypted&&(c.audio.drmInfos=o),c.video&&c.video.encrypted&&(c.video.drmInfos=o);return{presentationTimeline:n,minBufferTime:2,offlineSessionIds:t.sessionIds,variants:Array.from(i.values()),textStreams:a}}function Dd(e,t,n){var i=t.segments.map((function(t){return function(e,t){var n=new Pd("segment",e.b,e.a,t.dataKey);return new ia(t.startTime,t.endTime,(function(){return[n.toString()]}),0,null,null!=t.initSegmentKey?function(e,t){var n=new Pd("segment",e.b,e.a,t);return new na((function(){return[n.toString()]}),0,null)}(e,t.initSegmentKey):null,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd)}(e,t)}));return n.rb(i),{id:t.id,originalId:t.originalId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Pa(i),mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate,pixelAspectRatio:t.pixelAspectRatio,kind:t.kind,encrypted:t.encrypted,drmInfos:[],keyIds:t.keyIds,language:t.language,label:t.label,type:t.type,primary:t.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:t.roles,channelsCount:t.channelsCount,audioSamplingRate:t.audioSamplingRate,closedCaptions:t.closedCaptions}}function Ld(){this.a=null}function Rd(){}function zd(e){var t=Ad(e);return t&&"manifest"==t.a?e=_e(e={uri:e,Pd:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}}):e=t&&"segment"==t.a?function(e,t){var n=new Od;return _e(void 0).X((function(){return n.init()})).X((function(){return wd(n,t.ya(),t.da())})).X((function(e){return e.getSegments([t.key()])})).X((function(e){return{uri:t,data:e[0].data,headers:{}}})).finally((function(){return n.destroy()}))}(t.key(),t):xe(new be(2,1,9004,e)),e}function Ud(e,t,n){var i,a,o,r,c,s;return E((function(l){switch(l.a){case 1:i=[];for(var d=[],p=u(n),h=p.next();!h.done;h=p.next()){h=h.value;for(var f=!1,m=u(d),b=m.next();!b.done;b=m.next())if(Vd((b=b.value).info,h)){b.sessionIds.push(h.sessionId),f=!0;break}f||d.push({info:h,sessionIds:[h.sessionId]})}a=u(d),o=a.next();case 2:if(o.done){l.u(4);break}return r=o.value,c=function(e,t,n){var i,a;return E((function(o){switch(o.a){case 1:return i=new Xt({qb:t,onError:function(){},lc:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),x(o,2),i.configure(e),w(o,function(e,t,n,i,a,o){var r=new Map;return(a={audioCapabilities:a,videoCapabilities:o,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:t}).drmInfos=[{keySystem:t,licenseServerUri:n,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:i,initData:null,keyIds:null}],r.set(t,a),on(e,r)}(i,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:_(o,3);break;case 2:return S(o),w(o,i.destroy(),5);case 5:return o.return([]);case 3:return x(o,6),w(o,Qt(i),8);case 8:_(o,7);break;case 6:return S(o),w(o,i.destroy(),9);case 9:return o.return([]);case 7:return a=[],w(o,Promise.all(n.sessionIds.map((function(e){return E((function(t){return 1==t.a?(x(t,2),w(t,function(e,t){var n,i,a;return E((function(o){return 1==o.a?w(o,rn(e,t),2):(n=o.b)?(i=[],(a=e.f.get(n))&&(a.Ba=new we,i.push(a.Ba)),i.push(n.remove()),w(o,Promise.all(i),0)):o.return()}))}(i,e),4)):2!=t.a?(a.push(e),_(t,0)):(S(t),void j(t))}))}))),10);case 10:return w(o,i.destroy(),11);case 11:return o.return(a)}}))}(e,t,r),w(l,c,5);case 5:s=l.b,i=i.concat(s),o=a.next(),l.u(2);break;case 4:return l.return(i)}}))}function Vd(e,t){function n(e,t){return e.robustness==t.robustness&&e.contentType==t.contentType}return e.keySystem==t.keySystem&&e.licenseUri==t.licenseUri&&He(e.audioCapabilities,t.audioCapabilities,n)&&He(e.videoCapabilities,t.videoCapabilities,n)}function Bd(e,t){var n=Ed(new Md(e.ya(),e.da()),t),i=t.appMetadata||{};return n=Hd(n),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:n,appMetadata:i}}function Hd(e){for(var t=[],n=function(e){return e.filter((function(e){return Pi(e)}))}(e.variants),i=(n=u(n)).next();!i.done;i=n.next())t.push(Si(i.value));for(n=(e=u(e.textStreams)).next();!n.done;n=e.next())t.push(Ii(n.value));return t}function Fd(){this.a={}}function qd(e,t){var n=e.a[t];return null==n&&(n=0),n}function Wd(e){var t=this;if(e&&e.constructor!=Mo)throw new be(2,9,9008);this.N=this.i=null,e?(this.i=e.i,this.N=e.Hb()):(this.i=ko(),this.N=new Ke),this.qc=[],this.Nb=[],this.fd=[],this.a=new Map,this.a.set(null,Promise.resolve(null)),this.b=new Map;var n=!e;this.D=new et((function(){var e,i,a,o,r;return E((function(c){switch(c.a){case 1:return w(c,Promise.all(t.fd.map((function(e){return sd(e)}))),2);case 2:for(e=function(){},i=[],a=u(t.Nb),o=a.next();!o.done;o=a.next())r=o.value,i.push(r.then(e,e));return w(c,Promise.all(i),3);case 3:if(!n){c.u(4);break}return w(c,t.N.destroy(),4);case 4:t.i=null,t.N=null,j(c)}}))}))}function Kd(){if(Et())e:{for(var e=u(xd.values()),t=e.next();!t.done;t=e.next())if(t=(t=t.value)()){t.destroy(),e=!0;break e}e=!1}else e=!1;return e}function Gd(e,t){for(var n=[],i=u(e.streams),a=i.next();!a.done;a=i.next())a=a.value,t&&"video"==a.type?n.push({contentType:Pt(a.mimeType,a.codecs),robustness:e.drmInfo.videoRobustness}):t||"audio"!=a.type||n.push({contentType:Pt(a.mimeType,a.codecs),robustness:e.drmInfo.audioRobustness});return n}function $d(e,t,n){return E((function(i){return w(i,function(e,t,n,i){var a,o,r;return E((function(c){return 1==c.a?i.drmInfo?(a=function(e){var t=Array.from(e.a.keys());if(!t.length)throw new be(2,9,9e3,"No supported storage mechanisms found");return e.a.get(t[0]).getEmeSessionCell()}(n),o=i.sessionIds.map((function(e){return{sessionId:e,keySystem:i.drmInfo.keySystem,licenseUri:i.drmInfo.licenseServerUri,serverCertificate:i.drmInfo.serverCertificate,audioCapabilities:Gd(i,!1),videoCapabilities:Gd(i,!0)}})),w(c,Ud(t,e,o),2)):c.return():3!=c.a?(r=c.b,w(c,a.remove(r),3)):w(c,a.add(o.filter((function(e){return!r.includes(e.sessionId)}))),0)}))}(e.N,e.i.drm,n,t),0)}))}function Xd(e,t,n){function i(){}var a=function(e){for(var t=[],n=(e=u(e.streams)).next();!n.done;n=e.next())for(var i=(n=u(n.value.segments)).next();!i.done;i=n.next())null!=(i=i.value).initSegmentKey&&t.push(i.initSegmentKey),t.push(i.dataKey);return t}(n);return Bd(t,n),Promise.all([e.removeSegments(a,i),e.removeManifests([t.key()],i)])}function Yd(e,t,n,i,a,o,r){var c={id:o.id,originalId:o.originalId,primary:o.primary,type:o.type,mimeType:o.mimeType,codecs:o.codecs,frameRate:o.frameRate,pixelAspectRatio:o.pixelAspectRatio,kind:o.kind,language:o.language,label:o.label,width:o.width||null,height:o.height||null,encrypted:o.encrypted,keyIds:o.keyIds,segments:[],variantIds:[],roles:o.roles,channelsCount:o.channelsCount,audioSamplingRate:o.audioSamplingRate,closedCaptions:o.closedCaptions},s=o.id;return function(e,t,n){if(null!=(t=e.segmentIndex.find(t)))for(var i=e.segmentIndex.get(t);i;)n(i),i=e.segmentIndex.get(++t)}(o,a.presentationTimeline.nb(),(function(a){var l=function(e,t,n,i,a,o,r,c){return e.a.has(r)?e.a.get(r):(c=Ka(r.c(),r.b,r.a,c.streaming.retryParameters),t=ld(t,n,c,.5*qd(o,i),!0,(function(t){var n;return E((function(i){return 1==i.a?w(i,a.addSegments([{data:t}]),2):(n=i.b,e.qc.push(n[0]),i.return(n[0]))}))})),e.a.set(r,t),t)}(e,t,s,o.id,n,i,a.g,r),u=function(e,t,n,i,a,o,r,c){var s=[r.c()[0],r.b,r.a].join("-");return e.b.has(s)?e.b.get(s):(c=Ka(r.c(),r.b,r.a,c.streaming.retryParameters),t=ld(t,n,c,function(e,t,n){return n=n.endTime-n.startTime,qd(e,t)*n}(o,i,r),!1,(function(t){var n;return E((function(i){return 1==i.a?w(i,a.addSegments([{data:t}]),2):(n=i.b,e.qc.push(n[0]),i.return(n[0]))}))})),e.b.set(s,t),t)}(e,t,s,o.id,n,i,a,r);!function(e,t,n){tt(e.D);var i=(e.a.get(t)||Promise.resolve()).then((function(){return E((function(e){return w(e,n(),0)}))}));e.a.set(t,i)}(t,s,(function(){var e,t;return E((function(n){return 1==n.a?w(n,l,2):3!=n.a?(e=n.b,w(n,u,3)):(t=n.b,c.segments.push({initSegmentKey:e,startTime:a.startTime,endTime:a.endTime,appendWindowStart:a.appendWindowStart,appendWindowEnd:a.appendWindowEnd,timestampOffset:a.timestampOffset,dataKey:t}),void j(n))}))}))})),c}function Zd(e){if(e.D.a)throw new be(2,9,7001)}function Qd(){if(!Kd())throw new be(2,9,9e3)}function Jd(e,t){return E((function(n){return 1==n.a?(e.Nb.push(t),k(n),w(n,t,4)):2!=n.a?n.return(n.b):(I(n),Be(e.Nb,t),N(n,0))}))}function ep(e){for(var t=new Set,n=u(e.textStreams),i=n.next();!i.done;i=n.next())t.add(i.value);for(n=(e=u(e.variants)).next();!n.done;n=e.next())(n=n.value).audio&&t.add(n.audio),n.video&&t.add(n.video);return t}g(kd,md),kd.prototype.updateManifestExpiration=function(e,t){var n,i,a,o=this;return E((function(r){return n=hd(o.b,o.a),i=n.store(),a=new we,i.get(e).onsuccess=function(n){(n=n.target.result)?(n.expiration=t,i.put(n),a.resolve()):a.reject(new be(2,9,9012,"Could not find values for "+e))},w(r,Promise.all([n.promise(),a]),0)}))},kd.prototype.Eb=function(e){var t,n,i,a,o,r;return E((function(c){if(1==c.a){for(t=[],n=0;n<e.periods.length;++n)i=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,a=i-e.periods[n].startTime,o=_d(e.periods[n],a),t.push(o);return w(c,Il(t),2)}return r=c.b,c.return({creationTime:0,originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:null==e.expiration?1/0:e.expiration,streams:r,sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata})}))},kd.prototype.zd=function(e){return{data:e.data}},g(Id,md),Id.prototype.Eb=function(e){var t,n,i,a,o,r;return E((function(c){if(1==c.a){for(t=[],n=0;n<e.periods.length;++n){i=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,a=i-e.periods[n].startTime;for(var s=e.periods[n],l=[],d=u(s.streams),p=d.next();!p.done;p=d.next())0!=(p=p.value).variantIds.length&&l.push(Nd(p,s.startTime,s.startTime+a));o=l,t.push(o)}return w(c,Il(t),2)}return r=c.b,c.return({appMetadata:e.appMetadata,creationTime:0,drmInfo:e.drmInfo,duration:e.duration,expiration:null==e.expiration?1/0:e.expiration,originalManifestUri:e.originalManifestUri,sessionIds:e.sessionIds,size:e.size,streams:r})}))},g(Td,md),Td.prototype.hasFixedKeySpace=function(){return!1},Td.prototype.addSegments=function(e){return this.add(this.c,e)},Td.prototype.addManifests=function(e){return this.add(this.a,e)},Td.prototype.Eb=function(e){return null==e.expiration&&(e.expiration=1/0),Promise.resolve(e)},(a=Cd.prototype).init=function(){var t=this,n=new we,i=e.indexedDB.open("shaka_offline_db",5);return i.onsuccess=function(){var e=i.result;t.g=e;var a=e.objectStoreNames;a=a.contains("manifest")&&a.contains("segment")?new kd(e,"segment","manifest"):null,t.a=a,a=(a=e.objectStoreNames).contains("manifest-v2")&&a.contains("segment-v2")?new Id(e,"segment-v2","manifest-v2"):null,t.b=a,a=(a=e.objectStoreNames).contains("manifest-v3")&&a.contains("segment-v3")?new Id(e,"segment-v3","manifest-v3"):null,t.c=a,a=(a=e.objectStoreNames).contains("manifest-v5")&&a.contains("segment-v5")?new Td(e,"segment-v5","manifest-v5"):null,t.f=a,e=e.objectStoreNames.contains("session-ids")?new vd(e):null,t.h=e,n.resolve()},i.onupgradeneeded=function(){for(var e=i.result,t=u(["segment-v5","manifest-v5","session-ids"]),n=t.next();!n.done;n=t.next())n=n.value,e.objectStoreNames.contains(n)||e.createObjectStore(n,{autoIncrement:!0})},i.onerror=function(e){n.reject(new be(2,9,9001,i.error)),e.preventDefault()},n},a.destroy=function(){var e=this;return E((function(t){switch(t.a){case 1:if(!e.a){t.u(2);break}return w(t,e.a.destroy(),2);case 2:if(!e.b){t.u(4);break}return w(t,e.b.destroy(),4);case 4:if(!e.c){t.u(6);break}return w(t,e.c.destroy(),6);case 6:if(!e.f){t.u(8);break}return w(t,e.f.destroy(),8);case 8:if(!e.h){t.u(10);break}return w(t,e.h.destroy(),10);case 10:e.g&&e.g.close(),j(t)}}))},a.getCells=function(){var e=new Map;return this.a&&e.set("v1",this.a),this.b&&e.set("v2",this.b),this.c&&e.set("v3",this.c),this.f&&e.set("v5",this.f),e},a.getEmeSessionCell=function(){return this.h},a.erase=function(){var t=this;return E((function(n){switch(n.a){case 1:if(!t.a){n.u(2);break}return w(n,t.a.destroy(),2);case 2:if(!t.b){n.u(4);break}return w(n,t.b.destroy(),4);case 4:if(!t.c){n.u(6);break}return w(n,t.c.destroy(),6);case 6:if(!t.f){n.u(8);break}return w(n,t.f.destroy(),8);case 8:return t.g&&t.g.close(),w(n,function(){var t=new we,n=e.indexedDB.deleteDatabase("shaka_offline_db");return n.onblocked=function(){},n.onsuccess=function(){t.resolve()},n.onerror=function(e){t.reject(new be(2,9,9001,n.error)),e.preventDefault()},t}(),10);case 10:return t.g=null,t.a=null,t.b=null,t.c=null,t.f=null,w(n,t.init(),0)}}))},jd("idb",(function(){return e.indexedDB?new Cd:null})),Pd.prototype.ya=function(){return this.g},Pd.prototype.da=function(){return this.f},Pd.prototype.key=function(){return this.c},Pd.prototype.toString=function(){return this.b},(a=Ld.prototype).configure=function(){},a.start=function(e,t){var n,i,a,o,r,c,s=this;return E((function(l){switch(l.a){case 1:if(n=Ad(e),s.a=n,null==n||"manifest"!=n.a)throw new be(2,1,9004,e);return i=new Od,k(l),w(l,i.init(),4);case 4:return w(l,wd(i,n.ya(),n.da()),5);case 5:return w(l,l.b.getManifests([n.key()]),6);case 6:return a=l.b,o=a[0],r=new Md(n.ya(),n.da()),c=Ed(r,o),t.makeTextStreamsForClosedCaptions(c),l.return(c);case 2:return I(l),w(l,i.destroy(),7);case 7:N(l,0)}}))},a.stop=function(){return Promise.resolve()},a.update=function(){},a.onExpirationUpdated=function(e,t){var n,i,a,o,r,c,s,l=this;return E((function(u){switch(u.a){case 1:return n=l.a,i=new Od,x(u,2,3),w(u,i.init(),5);case 5:return w(u,wd(i,n.ya(),n.da()),6);case 6:return w(u,(a=u.b).getManifests([n.key()]),7);case 7:if(o=u.b,r=o[0],c=r.sessionIds.includes(e),s=null==r.expiration||r.expiration>t,!c||!s){u.u(3);break}return w(u,a.updateManifestExpiration(n.key(),t),3);case 3:return I(u),w(u,i.destroy(),10);case 10:N(u,0);break;case 2:S(u),u.u(3)}}))},Qi["application/x-offline-manifest"]=function(){return new Ld},V("shaka.offline.OfflineScheme",Rd),Rd.plugin=zd,Ge("offline",zd),(a=Wd.prototype).destroy=function(){return this.D.destroy()},a.configure=function(e,t){return 2==arguments.length&&"string"==typeof e&&(e=jo(e,t)),e.manifest&&e.manifest.dash&&"defaultPresentationDelay"in e.manifest.dash&&(gt("manifest.dash.defaultPresentationDelay configuration","Please Use manifest.defaultPresentationDelay instead."),e.manifest.defaultPresentationDelay=e.manifest.dash.defaultPresentationDelay,delete e.manifest.dash.defaultPresentationDelay),_o(this.i,e)},a.getConfiguration=function(){var e=ko();return _o(e,this.i,ko()),e},a.Hb=function(){return this.N},a.store=function(e,t,n){var i=this,a=this.getConfiguration(),o=new cd(this.N);this.fd.push(o);var r=new je(t=function(e,t,n,i,a,o){var r,c,s,l,d,p,h,f,m,b;return E((function(g){switch(g.a){case 1:return Qd(),c=r=null,s=new Od,d=l=null,x(g,2,3),w(g,i(),5);case 5:return r=g.b,w(g,function(e,t,n,i){var a,o,r,c,s;return E((function(l){if(1==l.a)return a=null,o=e.N,r={networkingEngine:o,filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(e){a=e},isLowLatencyMode:function(){return!1}},n.configure(i.manifest),Zd(e),w(l,n.start(t,r),2);if(3!=l.a)return c=l.b,Zd(e),s=ep(c),w(l,Promise.all(J(s,(function(e){return e.createSegmentIndex()}))),3);if(Zd(e),a)throw a;return l.return(c)}))}(e,t,r,a),6);case 6:if(p=g.b,Zd(e),!(!p.presentationTimeline.U()&&!p.presentationTimeline.Za()))throw new be(2,9,9005,t);return w(g,function(e,t,n,i){var a;return E((function(o){switch(o.a){case 1:return(a=new Xt({qb:e.N,onError:n,lc:function(){},onExpirationUpdated:function(){},onEvent:function(){}})).configure(i.drm),w(o,function(e,t,n){return e.m=[],e.w=n,Zt(e,t)}(a,t.variants,i.offline.usePersistentLicense),2);case 2:return w(o,Qt(a),3);case 3:return w(o,Jt(a),4);case 4:return o.return(a)}}))}(e,p,(function(e){d=d||e}),a),7);case 7:if(c=g.b,Zd(e),d)throw d;return w(g,e.jb(p,c,a),8);case 8:return w(g,s.init(),9);case 9:return Zd(e),w(g,function(e){var t=null;if(e.a.forEach((function(e,n){e.getCells().forEach((function(e,i){e.hasFixedKeySpace()||t||(t={path:{ya:n,da:i},da:e})}))})),t)return t;throw new be(2,9,9013,"Could not find a cell that supports add-operations")}(s),10);case 10:return l=g.b,Zd(e),w(g,function(e,t,n,i,a,o,r,c){var s,l,d,p,h,f,m,b,g,y;return E((function(v){switch(v.a){case 1:return s=function(e,t,n){return{offlineUri:null,originalManifestUri:e,duration:t.presentationTimeline.getDuration(),size:0,expiration:1/0,tracks:t=Hd(t),appMetadata:n}}(a,i,o),l=r.offline.progressCallback,function(e,t,n){e.Od=t,e.Nd=n}(c,(function(e,t){s.size=t,l(s,e)}),(function(e,t){h&&r.offline.usePersistentLicense&&f==t&&en(n,"cenc",e)})),d=i.variants.some((function(e){var t=e.audio&&e.audio.encrypted;return e.video&&e.video.encrypted||t})),p=i.variants.some((function(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]).some((function(e){return e.initData&&e.initData.length}))})),f=null,(h=d&&!p)&&(m=n.c,f=tp.get(m.keySystem)),k(v),g=b=function(e,t,n,i,a,o,r,c){for(var s=new Fd,l=u(a.variants),d=l.next();!d.done;d=l.next()){var p=s,h=(d=d.value).audio,f=d.video;if(h&&!f&&(p.a[h.id]=h.bandwidth||d.bandwidth),!h&&f&&(p.a[f.id]=f.bandwidth||d.bandwidth),h&&f){var m=h.bandwidth||393216,b=f.bandwidth||d.bandwidth-m;0>=b&&(b=d.bandwidth),p.a[h.id]=m,p.a[f.id]=b}}for(l=u(a.textStreams),p=l.next();!p.done;p=l.next())s.a[p.value.id]=52;for(p=ep(a),l=new Map,p=u(p),d=p.next();!d.done;d=p.next())d=d.value,h=Yd(e,t,n,s,a,d,c),l.set(d.id,h);for(e=u(a.variants),d=e.next();!d.done;d=e.next())(t=d.value).audio&&l.get(t.audio.id).variantIds.push(t.id),t.video&&l.get(t.video.id).variantIds.push(t.id);return e=Array.from(l.values()),c=c.offline.usePersistentLicense,(t=i.c)&&c&&(t.initData=[]),{creationTime:Date.now(),originalManifestUri:o,duration:a.presentationTimeline.getDuration(),size:0,expiration:i.Gb(),streams:e,sessionIds:c?an(i):[],drmInfo:t,appMetadata:r}}(e,c,t,n,i,a,o,r),w(v,function(e){return E((function(t){return 1==t.a?w(t,Promise.all(e.a.values()),2):t.return(e.Fb.a)}))}(c),4);case 4:if(g.size=v.b,b.expiration=n.Gb(),y=an(n),b.sessionIds=r.offline.usePersistentLicense?y:[],d&&r.offline.usePersistentLicense&&!y.length)throw new be(2,9,9007);return v.return(b);case 2:return I(v),w(v,c.destroy(),5);case 5:N(v,0)}}))}(e,l.da,c,p,t,n,a,o),11);case 11:if(h=g.b,Zd(e),d)throw d;return w(g,l.da.addManifests([h]),12);case 12:return f=g.b,Zd(e),m=new Pd("manifest",l.path.ya,l.path.da,f[0]),g.return(Bd(m,h));case 3:return I(g),e.qc=[],w(g,s.destroy(),13);case 13:if(!r){g.u(14);break}return w(g,r.stop(),14);case 14:if(!c){g.u(16);break}return w(g,c.destroy(),16);case 16:N(g,0);break;case 2:if(b=S(g),!l){g.u(18);break}return w(g,l.da.removeSegments(e.qc,(function(){})),18);case 18:throw d||b}}))}(this,e,t||{},(function(){var t;return E((function(o){return 1==o.a?w(o,Yi(e,i.N,a.manifest.retryParameters,n||null),2):(t=o.b,o.return(kt(t)))}))}),a,o),(function(){return sd(o)}));return r.finally((function(){Be(i.fd,o)})),r.then=function(e){return gt("shaka.offline.Storage.store.then","Storage operations now return a shaka.util.AbortableOperation, rather than a promise.  Please update to conform to this new API; you can use the |chain| method instead."),r.promise.then(e)},function(e,t){var n=t.promise;return e.Nb.push(n),t.finally((function(){Be(e.Nb,n)}))}(this,r)},a.Ge=function(){return gt("shaka.offline.Storage.getStoreInProgress","Multiple concurrent downloads are now supported."),!1},a.jb=function(e,t,n){var i,a,o,r,c,s,l,d,p,h,f,m,b,g,y;return E((function(v){if(1==v.a){for(i={width:1/0,height:1/0},function(e,t,n){e.variants=e.variants.filter((function(e){return ki(e,t,n)}))}(e,n.restrictions,i),function(e){e.variants=e.variants.filter((function(e){var t=!0;return e.audio&&(t=t&&ei(e.audio)),e.video&&(t=t&&ei(e.video)),t}))}(e),function(e,t){e.variants=e.variants.filter((function(e){return dn(t,e)}))}(e,t),a=[],o=n.preferredAudioChannelCount,xi(e,o),r=u(e.variants),c=r.next();!c.done;c=r.next())s=c.value,a.push(Si(s));for(l=u(e.textStreams),d=l.next();!d.done;d=l.next())p=d.value,a.push(Ii(p));return w(v,n.offline.trackSelectionCallback(a),2)}for(h=v.b,f=new Set,m=new Set,b=u(h),g=b.next();!g.done;g=b.next())"variant"==(y=g.value).type&&f.add(y.id),"text"==y.type&&m.add(y.id);e.variants=e.variants.filter((function(e){return f.has(e.id)})),e.textStreams=e.textStreams.filter((function(e){return m.has(e.id)})),function(e){e.variants.map((function(e){return e.video}));var t=new Set(e.variants.map((function(e){return e.audio})));e=e.textStreams;for(var n=u(t),i=n.next();!i.done;i=n.next())for(var a=(i=u(t)).next();!a.done;a=i.next());for(t=u(e),n=t.next();!n.done;n=t.next())for(n=u(e),i=n.next();!i.done;i=n.next());}(e),j(v)}))},a.remove=function(e){return Jd(this,function(e,t){var n,i,a,o,r,c;return E((function(s){switch(s.a){case 1:if(Qd(),null==(n=Ad(t))||"manifest"!=n.a)throw new be(2,9,9004,t);return i=n,a=new Od,k(s),w(s,a.init(),4);case 4:return w(s,wd(a,i.ya(),i.da()),5);case 5:return w(s,(o=s.b).getManifests([i.key()]),6);case 6:return r=s.b,c=r[0],w(s,Promise.all([$d(e,c,a),Xd(o,i,c)]),2);case 2:return I(s),w(s,a.destroy(),8);case 8:N(s,0)}}))}(this,e))},a.Ye=function(){return Jd(this,function(e){var t,n,i,a,o,r,c,s,l,d;return E((function(p){switch(p.a){case 1:return Qd(),t=e.N,n=e.i.drm,i=new Od,a=!1,k(p),w(p,i.init(),4);case 4:o=[],function(e,t){e.a.forEach((function(e){t(e.getEmeSessionCell())}))}(i,(function(e){return o.push(e)})),r=u(o),c=r.next();case 5:if(c.done){p.u(2);break}return w(p,(s=c.value).getAll(),8);case 8:return l=p.b,w(p,Ud(n,t,l),9);case 9:return d=p.b,w(p,s.remove(d),10);case 10:d.length!=l.length&&(a=!0),c=r.next(),p.u(5);break;case 2:return I(p),w(p,i.destroy(),11);case 11:N(p,3);break;case 3:return p.return(!a)}}))}(this))},a.list=function(){return Jd(this,E((function(i){switch(i.a){case 1:return Qd(),e=[],t=new Od,k(i),w(i,t.init(),4);case 4:return n=Promise.resolve(),function(e,t){e.a.forEach((function(e,n){e.getCells().forEach((function(e,i){t({ya:n,da:i},e)}))}))}(t,(function(t,i){n=n.then((function(){return E((function(n){if(1==n.a)return w(n,i.getAllManifests(),2);n.b.forEach((function(n,i){var a=Bd(new Pd("manifest",t.ya,t.da,i),n);e.push(a)})),j(n)}))}))})),w(i,n,2);case 2:return I(i),w(i,t.destroy(),6);case 6:N(i,3);break;case 3:return i.return(e)}})));var e,t,n},V("shaka.offline.Storage",Wd),Wd.deleteAll=function(){var e;return E((function(t){return 1==t.a?(e=new Od,k(t),w(t,function(e){var t,n;return E((function(i){return 1==i.a?(t=Array.from(e.a.values()),(n=0<t.length)||xd.forEach((function(e){(e=e())&&t.push(e)})),w(i,Promise.all(t.map((function(e){return e.erase()}))),2)):n?i.u(0):w(i,Promise.all(t.map((function(e){return e.destroy()}))),0)}))}(e),2)):5!=t.a?(I(t),w(t,e.destroy(),5)):N(t,0)}))},Wd.prototype.list=Wd.prototype.list,Wd.prototype.removeEmeSessions=Wd.prototype.Ye,Wd.prototype.remove=Wd.prototype.remove,Wd.prototype.getStoreInProgress=Wd.prototype.Ge,Wd.prototype.store=Wd.prototype.store,Wd.prototype.getNetworkingEngine=Wd.prototype.Hb,Wd.prototype.getConfiguration=Wd.prototype.getConfiguration,Wd.prototype.configure=Wd.prototype.configure,Wd.prototype.destroy=Wd.prototype.destroy,Wd.support=Kd;var tp=(new Map).set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.adobe.primetime","f239e769efa348509c16a903c6932efb");function np(){}function ip(e,t){for(var n={priority:t||0,ge:e},i=u(te(ap)),a=i.next();!a.done;a=i.next()){var o=(a=a.value).$;if(a.item.priority<n.priority)return void ap.splice(o,0,n)}ap.push(n)}Fr.offline=Kd,V("shaka.polyfill",np),np.register=ip,np.installAll=function(){for(var e=u(ap),t=e.next();!t.done;t=e.next()){t=t.value;try{t.ge()}catch(e){G("Error installing polyfill!",e)}}};var ap=[];function op(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if("function"==typeof Event)var n=new Event(t,e);else(n=document.createEvent("Event")).initEvent(t,e.bubbles,e.cancelable);e.target.dispatchEvent(n)}function rp(e,t,n){if("input"==e)switch(this.type){case"range":e="change"}HTMLInputElement.prototype.originalAddEventListener.call(this,e,t,n)}function cp(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(t){for(var n=[],i=0;i<arguments.length;++i)n[i]=arguments[i];return(n=e.apply(this,n)).abort=function(){},n}}function sp(){Re.call(this),this.type="",this.angle=0}function lp(e,t){try{var n=new pp(e,t);return Promise.resolve(n)}catch(e){return Promise.reject(e)}}function up(e){var t=this.mediaKeys;return t&&t!=e&&fp(t,null),delete this.mediaKeys,(this.mediaKeys=e)?fp(e,this):Promise.resolve()}function dp(e){if(Me(e=Ae(e.initData)).getUint32(0,!0)+4!=e.byteLength)throw new RangeError("Malformed FairPlay init data");e=ut(e=st(e.subarray(4),!0));var t=new Event("encrypted");t.initDataType="skd",t.initData=Pe(e),this.dispatchEvent(t)}function pp(e,t){if(this.keySystem=e,e.startsWith("com.apple.fps"))for(var n=u(t),i=n.next();!i.done;i=n.next()){var a=i.value;if("required"==a.persistentState)i=null;else{i={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:a.initDataTypes,sessionTypes:["temporary"],label:a.label};var o=!1,r=!1;if(a.audioCapabilities)for(var c=u(a.audioCapabilities),s=c.next();!s.done;s=c.next())(s=s.value).contentType&&(o=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,s.contentType.split(";")[0])&&(i.audioCapabilities.push(s),r=!0));if(a.videoCapabilities)for(s=(a=u(a.videoCapabilities)).next();!s.done;s=a.next())(c=s.value).contentType&&(o=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,c.contentType.split(";")[0])&&(i.videoCapabilities.push(c),r=!0));o||(r=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),i=r?i:null}if(i)return void(this.a=i)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function hp(e){this.a=new WebKitMediaKeys(e),this.b=new nt}function fp(e,t){if(e.b.ab(),!t)return Promise.resolve();e.b.l(t,"webkitneedkey",dp);try{return ua(t,HTMLMediaElement.HAVE_METADATA,e.b,(function(){t.webkitSetMediaKeys(e.a)})),Promise.resolve()}catch(e){return Promise.reject(e)}}function mp(e){Re.call(this),this.f=null,this.g=e,this.c=this.a=null,this.b=new nt,this.sessionId="",this.expiration=NaN,this.closed=new we,this.keyStatuses=new gp}function bp(e,t){var n=e.keyStatuses;n.size=null==t?0:1,n.a=t,n=new De("keystatuseschange"),e.dispatchEvent(n)}function gp(){this.size=0,this.a=void 0}function yp(e,t){try{var n=new Op(e,t);return Promise.resolve(n)}catch(e){return Promise.reject(e)}}function vp(e){if(e.initData){var t=document.createEvent("CustomEvent");t.initCustomEvent("encrypted",!1,!1,null),t.initDataType="cenc",t.initData=Pe(function(e){if(!e)return e;var t=new As(e);if(1>=t.data.length)return e;e=[];for(var n={},i=(t=u(t.data)).next();!i.done;n={Tb:n.Tb},i=t.next())n.Tb=i.value,e.some(function(e){return function(t){return Te(t,e.Tb)}}(n))||e.push(n.Tb);return $t.apply(Ht,d(e))}(e.initData)),this.dispatchEvent(t)}}function Op(e,t){this.keySystem=e;for(var n=!1,i=u(t),a=i.next();!a.done;a=i.next()){var o={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(a=a.value).initDataTypes,sessionTypes:["temporary"],label:a.label},r=!1;if(a.audioCapabilities)for(var c=u(a.audioCapabilities),s=c.next();!s.done;s=c.next())(s=s.value).contentType&&(r=!0,MSMediaKeys.isTypeSupported(this.keySystem,s.contentType.split(";")[0])&&(o.audioCapabilities.push(s),n=!0));if(a.videoCapabilities)for(s=(c=u(a.videoCapabilities)).next();!s.done;s=c.next())(s=s.value).contentType&&(r=!0,MSMediaKeys.isTypeSupported(this.keySystem,s.contentType.split(";")[0])&&(o.videoCapabilities.push(s),n=!0));if(r||(n=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==a.persistentState&&(n=!1),n)return void(this.a=o)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function wp(e){var t=this.mediaKeys;return t&&t!=e&&xp(t,null),delete this.mediaKeys,(this.mediaKeys=e)?xp(e,this):Promise.resolve()}function jp(e){this.a=new MSMediaKeys(e),this.b=new nt}function xp(e,t){if(e.b.ab(),!t)return Promise.resolve();e.b.l(t,"msneedkey",vp);try{return ua(t,HTMLMediaElement.HAVE_METADATA,e.b,(function(){t.msSetMediaKeys(e.a)})),Promise.resolve()}catch(e){return Promise.reject(e)}}function kp(e){Re.call(this),this.f=null,this.g=e,this.c=this.a=null,this.b=new nt,this.sessionId="",this.expiration=NaN,this.closed=new we,this.keyStatuses=new Sp}function _p(e,t){var n=e.keyStatuses;n.size=null==t?0:1,n.a=t,n=new De("keystatuseschange"),e.dispatchEvent(n)}function Sp(){this.size=0,this.a=void 0}function Ip(){return Promise.reject(Error("The key system specified is not supported."))}function Np(e){return null==e?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function Tp(){throw new TypeError("Illegal constructor.")}function Cp(){throw this.keySystem="",new TypeError("Illegal constructor.")}function Pp(e){return Hp?Hp+e.charAt(0).toUpperCase()+e.slice(1):e}function Ap(e,t){try{var n=new Ep(e,t);return Promise.resolve(n)}catch(e){return Promise.reject(e)}}function Mp(e){var t=this.mediaKeys;return t&&t!=e&&Lp(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&Lp(e,this),Promise.resolve()}function Ep(e,t){this.a=this.keySystem=e;var n=!1;"org.w3.clearkey"==e&&(this.a="webkit-org.w3.clearkey",n=!1);var i=!1,a=document.getElementsByTagName("video");a=a.length?a[0]:document.createElement("video");for(var o=u(t),r=o.next();!r.done;r=o.next()){var c={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(r=r.value).initDataTypes,sessionTypes:["temporary"],label:r.label},s=!1;if(r.audioCapabilities)for(var l=u(r.audioCapabilities),d=l.next();!d.done;d=l.next())(d=d.value).contentType&&(s=!0,a.canPlayType(d.contentType.split(";")[0],this.a)&&(c.audioCapabilities.push(d),i=!0));if(r.videoCapabilities)for(d=(l=u(r.videoCapabilities)).next();!d.done;d=l.next())(d=d.value).contentType&&(s=!0,a.canPlayType(d.contentType,this.a)&&(c.videoCapabilities.push(d),i=!0));if(s||(i=a.canPlayType("video/mp4",this.a)||a.canPlayType("video/webm",this.a)),"required"==r.persistentState&&(n?(c.persistentState="required",c.sessionTypes=["persistent-license"]):i=!1),i)return void(this.b=c)}throw n="Unsupported keySystem","org.w3.clearkey"!=e&&"com.widevine.alpha"!=e||(n="None of the requested configurations were supported."),(n=Error(n)).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function Dp(e){this.g=e,this.a=null,this.b=new nt,this.c=[],this.f=new Map}function Lp(e,t){e.a=t,e.b.ab();var n=Hp;t&&(e.b.l(t,n+"needkey",(function(t){var n=document.createEvent("CustomEvent");n.initCustomEvent("encrypted",!1,!1,null),n.initDataType="cenc",n.initData=Pe(t.initData),e.a.dispatchEvent(n)})),e.b.l(t,n+"keymessage",(function(t){var n=Rp(e,t.sessionId);n&&(t=new De("message",{messageType:null==n.keyStatuses.a?"licenserequest":"licenserenewal",message:t.message}),n.b&&(n.b.resolve(),n.b=null),n.dispatchEvent(t))})),e.b.l(t,n+"keyadded",(function(t){(t=Rp(e,t.sessionId))&&(Vp(t,"usable"),t.a&&t.a.resolve(),t.a=null)})),e.b.l(t,n+"keyerror",(function(t){var n=Rp(e,t.sessionId);n&&n.handleError(t)})))}function Rp(e,t){var n=e.f.get(t);return n||((n=e.c.shift())?(n.sessionId=t,e.f.set(t,n),n):null)}function zp(e,t,n){Re.call(this),this.f=e,this.h=!1,this.a=this.b=null,this.c=t,this.g=n,this.sessionId="",this.expiration=NaN,this.closed=new we,this.keyStatuses=new Bp}function Up(e,t,n){if(e.h)return Promise.reject(Error("The session is already initialized."));e.h=!0;try{if("persistent-license"==e.g)if(n)var i=Ae(ut("LOAD_SESSION|"+n));else{var a=ut("PERSISTENT|");i=$t(a,t)}else i=Ae(t)}catch(e){return Promise.reject(e)}e.b=new we;var o=Pp("generateKeyRequest");try{e.f[o](e.c,i)}catch(t){if("InvalidStateError"!=t.name)return e.b=null,Promise.reject(t);new ye((function(){try{e.f[o](e.c,i)}catch(t){e.b.reject(t),e.b=null}})).S(.01)}return e.b}function Vp(e,t){var n=e.keyStatuses;n.size=null==t?0:1,n.a=t,n=new De("keystatuseschange"),e.dispatchEvent(n)}function Bp(){this.size=0,this.a=void 0}ip((function(){qh()}),-1),ip((function(){if(e.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,(t=Document.prototype).exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",op),document.addEventListener("webkitfullscreenerror",op),document.addEventListener("mozfullscreenchange",op),document.addEventListener("mozfullscreenerror",op),document.addEventListener("MSFullscreenChange",op),document.addEventListener("MSFullscreenError",op)}})),ip((function(){var t=!1;if(zt("CrKey"))t=!0;else try{e.indexedDB&&(t=!1)}catch(e){t=!0}t&&delete e.indexedDB})),ip((function(){zt("Trident/")&&!HTMLInputElement.prototype.originalAddEventListener&&(HTMLInputElement.prototype.originalAddEventListener=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=rp)})),ip((function(){navigator.languages||Object.defineProperty(navigator,"languages",{get:function(){return navigator.language?[navigator.language]:["en"]}})})),ip((function(){})),ip((function(){var t=Rt();e.MediaSource&&(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType?function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){var n=t.split(/ *; */);return n.shift(),n.some((function(e){return e.startsWith("codecs=")}))?cast.__platform__.canDisplayType(t):e(t)}}():t?(function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"mp2t"!=t.split(/ *; */)[0].split("/")[1].toLowerCase()&&e(t)}}(),12>=t?(cp(),function(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}()):cp()):(zt("Tizen 2")||zt("Tizen 3")||zt("Tizen 4"))&&function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"opus"!=At(t)[0]&&e(t)}}())})),g(sp,Re),sp.prototype.lock=function(e){function t(e){return screen.lockOrientation?screen.lockOrientation(e):screen.mozLockOrientation?screen.mozLockOrientation(e):!!screen.msLockOrientation&&screen.msLockOrientation(e)}var n=!1;switch(e){case"natural":n=t("default");break;case"any":n=!0,this.unlock();break;default:n=t(e)}return n?Promise.resolve():((e=Error("screen.orientation.lock() is not available on this device")).name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(e))},sp.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},ip((function(){screen.orientation||null!=e.orientation&&function(){function t(){switch(e.orientation){case-90:n.type="landscape-secondary",n.angle=270;break;case 0:n.type="portrait-primary",n.angle=0;break;case 90:n.type="landscape-primary",n.angle=90;break;case 180:n.type="portrait-secondary",n.angle=180}}var n=new sp;screen.orientation=n,t(),e.addEventListener("orientationchange",(function(){t();var e=new De("change",{});n.dispatchEvent(e)}))}()})),pp.prototype.createMediaKeys=function(){var e=new hp(this.keySystem);return Promise.resolve(e)},pp.prototype.getConfiguration=function(){return this.a},hp.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new mp(this.a,e)},hp.prototype.setServerCertificate=function(){return Promise.resolve(!1)},g(mp,Re),(a=mp.prototype).generateRequest=function(e,t){var n=this;this.a=new we;try{var i=this.g.createSession("video/mp4",Ae(t));this.f=i,this.sessionId=i.sessionId||"",this.b.l(this.f,"webkitkeymessage",(function(e){n.a&&(n.a.resolve(),n.a=null),e=new De("message",{messageType:null==n.keyStatuses.a?"license-request":"license-renewal",message:Pe(e.message)}),n.dispatchEvent(e)})),this.b.l(i,"webkitkeyadded",(function(){n.c&&(bp(n,"usable"),n.c.resolve(),n.c=null)})),this.b.l(i,"webkitkeyerror",(function(){var e=Error("EME PatchedMediaKeysApple key error");if(e.errorCode=n.f.error,null!=n.a)n.a.reject(e),n.a=null;else if(null!=n.c)n.c.reject(e),n.c=null;else switch(n.f.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:bp(n,"output-not-allowed");break;default:bp(n,"internal-error")}})),bp(this,"status-pending")}catch(e){this.a.reject(e)}return this.a},a.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},a.update=function(e){this.c=new we;try{this.f.update(Ae(e))}catch(e){this.c.reject(e)}return this.c},a.close=function(){try{this.f.close(),this.closed.resolve(),this.b.ab()}catch(e){this.closed.reject(e)}return this.closed},a.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},(a=gp.prototype).forEach=function(e){this.a&&e(this.a,yn.value())},a.get=function(e){if(this.has(e))return this.a},a.has=function(e){var t=yn.value();return!(!this.a||!Te(e,t))},a.entries=function(){},a.keys=function(){},a.values=function(){},ip((function(){e.HTMLVideoElement&&e.WebKitMediaKeys&&(delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=up,e.MediaKeys=hp,e.MediaKeySystemAccess=pp,navigator.requestMediaKeySystemAccess=lp)})),Op.prototype.createMediaKeys=function(){var e=new jp(this.keySystem);return Promise.resolve(e)},Op.prototype.getConfiguration=function(){return this.a},jp.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new kp(this.a,e)},jp.prototype.setServerCertificate=function(){return Promise.resolve(!1)},g(kp,Re),(a=kp.prototype).generateRequest=function(e,t){var n=this;this.a=new we;try{this.f=this.g.createSession("video/mp4",Ae(t),null),this.b.l(this.f,"mskeymessage",(function(e){n.a&&(n.a.resolve(),n.a=null),e=new De("message",{messageType:null==n.keyStatuses.a?"license-request":"license-renewal",message:Pe(e.message)}),n.dispatchEvent(e)})),this.b.l(this.f,"mskeyadded",(function(){n.a?(_p(n,"usable"),n.a.resolve(),n.a=null):n.c&&(_p(n,"usable"),n.c.resolve(),n.c=null)})),this.b.l(this.f,"mskeyerror",(function(){var e=Error("EME PatchedMediaKeysMs key error");if(e.errorCode=n.f.error,null!=n.a)n.a.reject(e),n.a=null;else if(null!=n.c)n.c.reject(e),n.c=null;else switch(n.f.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:_p(n,"output-not-allowed");break;default:_p(n,"internal-error")}})),_p(this,"status-pending")}catch(e){this.a.reject(e)}return this.a},a.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},a.update=function(e){this.c=new we;try{this.f.update(Ae(e))}catch(e){this.c.reject(e)}return this.c},a.close=function(){try{this.f.close(),this.closed.resolve(),this.b.ab()}catch(e){this.closed.reject(e)}return this.closed},a.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},(a=Sp.prototype).forEach=function(e){this.a&&e(this.a,yn.value())},a.get=function(e){if(this.has(e))return this.a},a.has=function(e){var t=yn.value();return!(!this.a||!Te(e,t))},a.entries=function(){},a.keys=function(){},a.values=function(){},ip((function(){!e.HTMLVideoElement||!e.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,e.MediaKeys=jp,e.MediaKeySystemAccess=Op,navigator.requestMediaKeySystemAccess=yp,HTMLMediaElement.prototype.setMediaKeys=wp)})),Tp.prototype.createSession=function(){},Tp.prototype.setServerCertificate=function(){},Cp.prototype.getConfiguration=function(){},Cp.prototype.createMediaKeys=function(){},ip((function(){!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=Ip,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Np,e.MediaKeys=Tp,e.MediaKeySystemAccess=Cp)}),-10),Ep.prototype.createMediaKeys=function(){var e=new Dp(this.a);return Promise.resolve(e)},Ep.prototype.getConfiguration=function(){return this.b},Dp.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary")&&"persistent-license"!=e)throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.a||document.createElement("video");return t.src||(t.src="about:blank"),e=new zp(t,this.g,e),this.c.push(e),e},Dp.prototype.setServerCertificate=function(){return Promise.resolve(!1)},g(zp,Re),(a=zp.prototype).handleError=function(e){var t=Error("EME v0.1b key error"),n=e.errorCode;n.systemCode=e.systemCode,t.errorCode=n,!e.sessionId&&this.b?(45==e.systemCode&&(t.message="Unsupported session type."),this.b.reject(t),this.b=null):e.sessionId&&this.a?(this.a.reject(t),this.a=null):(t=e.systemCode,e.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?Vp(this,"output-restricted"):Vp(this,1==t?"expired":"internal-error"))},a.generateRequest=function(e,t){return Up(this,t,null)},a.load=function(e){return"persistent-license"==this.g?Up(this,null,e):Promise.reject(Error("Not a persistent session."))},a.update=function(e){var t=new we;return function e(t,n,i){if(t.a)t.a.then((function(){return e(t,n,i)})).catch((function(){return e(t,n,i)}));else{if(t.a=n,"webkit-org.w3.clearkey"==t.c){var a=ct(i),o=JSON.parse(a);"oct"!=o.keys[0].kty&&(t.a.reject(Error("Response is not a valid JSON Web Key Set.")),t.a=null),a=Wt(o.keys[0].k),o=Wt(o.keys[0].kid)}else a=Ae(i),o=null;var r=Pp("addKey");try{t.f[r](t.c,a,o,t.sessionId)}catch(e){t.a.reject(e),t.a=null}}}(this,t,e),t},a.close=function(){if("persistent-license"!=this.g){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=Pp("cancelKeyRequest");try{this.f[e](this.c,this.sessionId)}catch(e){}}return this.closed.resolve(),this.closed},a.remove=function(){return"persistent-license"!=this.g?Promise.reject(Error("Not a persistent session.")):this.close()},(a=Bp.prototype).forEach=function(e){this.a&&e(this.a,yn.value())},a.get=function(e){if(this.has(e))return this.a},a.has=function(e){var t=yn.value();return!(!this.a||!Te(e,t))},a.entries=function(){},a.keys=function(){},a.values=function(){};var Hp="";function Fp(e){if("picture-in-picture"==(e=e.target).webkitPresentationMode){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function qp(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function Wp(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function Kp(){return!!this.hasAttribute("disablePictureInPicture")||!this.webkitSupportsPresentationMode("picture-in-picture")}function Gp(e){e?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}function $p(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function Xp(t,n,i){return new e.TextTrackCue(t,n,i)}function Yp(t,n,i){return new e.TextTrackCue(t+"-"+n+"-"+i,t,n,i)}function Zp(){}function Qp(e){var t=[];if(!e)return t;for(var n=u(e.childNodes),i=n.next();!i.done;i=n.next())(i=i.value).nodeType==Node.ELEMENT_NODE&&"br"!==i.nodeName&&(i=Qp(i),t=t.concat(i));return t.length||t.push(e),t}function Jp(e,t,n,i,a,o,r,c,s,l){if(s&&"br"==e.nodeName)return(e=new Pn(0,0,"")).spacer=!0,e;var d=/^[\s\n]*$/.test(e.textContent),p=e.nodeType==Node.ELEMENT_NODE&&!e.hasAttribute("begin")&&!e.hasAttribute("end");if(e.nodeType!=Node.ELEMENT_NODE||p&&d||p&&!s)return null;d=rh(e.getAttribute("begin"),n),p=rh(e.getAttribute("end"),n);var h=rh(e.getAttribute("dur"),n);if(null==p&&null!=h&&(p=d+h),!s&&(null==d||null==p))throw new be(2,2,2001);if(d=s&&null==d?0:d+t,p=s&&null==p?0:p+t,h="",s=[],Array.from(e.childNodes).some((function(e){return e.nodeType==Node.TEXT_NODE&&/\S+/.test(e.textContent)})))h=function e(t,n){for(var i="",a=u(t.childNodes),o=a.next();!o.done;o=a.next())"br"==(o=o.value).nodeName&&t.childNodes[0]!==o?i+="\n":o.childNodes&&0<o.childNodes.length?i+=e(o,n):n?i+=o=(o=o.textContent.trim()).replace(/\s+/g," "):i+=o.textContent;return i}(e,c);else for(var f=u(e.childNodes),m=f.next();!m.done;m=f.next())(m=Jp(m.value,t,n,i,a,o,r,c,!0,l))&&(m.startTime=m.startTime||d,m.endTime=m.endTime||p,s.push(m));if((t=new Pn(d,p,h)).nestedCues=s,l&&(t.cellResolution=l),(o=oh(e,"region",o,"")[0])&&o.getAttribute("xml:id")){var b=o.getAttribute("xml:id");t.region=r.filter((function(e){return e.id==b}))[0]}return function(e,t,n,i,a){"rtl"==th(t,n,a,"direction")&&(e.direction="rtl");var o=th(t,n,a,"writingMode");"tb"==o||"tblr"==o?e.writingMode="vertical-lr":"tbrl"==o?e.writingMode="vertical-rl":"rltb"==o||"rl"==o?e.direction="rtl":o&&(e.direction=zn),(o=th(t,n,a,"textAlign"))?(e.positionAlign=jh[o],e.lineAlign=wh[o],e.textAlign=Dn[o.toUpperCase()]):e.textAlign="start",(o=th(t,n,a,"displayAlign"))&&(e.displayAlign=Rn[o.toUpperCase()]);(o=th(t,n,a,"color"))&&(e.color=o);(o=th(t,n,a,"backgroundColor"))&&(e.backgroundColor=o);(o=th(t,n,a,"border"))&&(e.border=o);(o=th(t,n,a,"fontFamily"))&&(e.fontFamily=o);(o=th(t,n,a,"fontWeight"))&&"bold"==o&&(e.fontWeight=700),(o=th(t,n,a,"wrapOption"))&&"noWrap"==o&&(e.wrapLine=!1),(o=th(t,n,a,"lineHeight"))&&o.match(hh)&&(e.lineHeight=o),(o=th(t,n,a,"fontSize"))&&(o.match(hh)||o.match(ph))&&(e.fontSize=o),(o=th(t,n,a,"fontStyle"))&&(e.fontStyle=Wn[o.toUpperCase()]);if(i){o=i.getAttribute("imagetype");var r=i.getAttribute("encoding");i=i.textContent.trim(),"PNG"==o&&"Base64"==r&&i&&(e.backgroundImage="data:image/png;base64,"+i)}(i=th(t,n,a,"letterSpacing"))&&i.match(hh)&&(e.letterSpacing=i),(i=th(t,n,a,"linePadding"))&&i.match(hh)&&(e.linePadding=i),(i=th(t,n,a,"opacity"))&&(e.opacity=parseFloat(i));(n=nh(n,a,"textDecoration"))&&eh(e,n),(t=ih(t,a,"textDecoration"))&&eh(e,t)}(t,e,o,i=oh(e,"smpte:backgroundImage",i,"#")[0],a),t}function eh(e,t){for(var n=u(t.split(" ")),i=n.next();!i.done;i=n.next())switch(i.value){case"underline":e.textDecoration.includes("underline")||e.textDecoration.push("underline");break;case"noUnderline":e.textDecoration.includes("underline")&&Be(e.textDecoration,"underline");break;case"lineThrough":e.textDecoration.includes("lineThrough")||e.textDecoration.push("lineThrough");break;case"noLineThrough":e.textDecoration.includes("lineThrough")&&Be(e.textDecoration,"lineThrough");break;case"overline":e.textDecoration.includes("overline")||e.textDecoration.push("overline");break;case"noOverline":e.textDecoration.includes("overline")&&Be(e.textDecoration,"overline")}}function th(e,t,n,i){return(e=ih(e,n,i))?e:nh(t,n,i)}function nh(e,t,n){if(!e)return null;for(var i=Qp(e),a=(i=u(i)).next();!a.done;a=i.next())if(a=zs(a.value,"http://www.w3.org/ns/ttml#styling",n))return a;return ah(e,t,n)}function ih(e,t,n){var i=zs(e,"http://www.w3.org/ns/ttml#styling",n);return i||ah(e,t,n)}function ah(e,t,n){e=oh(e,"style",t,"");for(var i=null,a=0;a<e.length;a++){var o=zs(e[a],"urn:ebu:tt:style",n);o||(o=zs(e[a],"http://www.w3.org/ns/ttml#styling",n)),o||(o=ih(e[a],t,n)),o&&(i=o)}return i}function oh(e,t,n,i){var a=[];if(!e||1>n.length)return a;var o=e;for(e=null;o&&!(e=o.getAttribute(t))&&(o=o.parentNode)instanceof Element;);if(t=e)for(e=(t=u(t.split(" "))).next();!e.done;e=t.next()){e=e.value;for(var r=(o=u(n)).next();!r.done;r=o.next())if(i+(r=r.value).getAttribute("xml:id")==e){a.push(r);break}}return a}function rh(e,t){var n=null;if(mh.test(e)){n=mh.exec(e);var i=Number(n[1]),a=Number(n[2]),o=Number(n[3]),r=Number(n[4]);n=(o+=(r+=(Number(n[5])||0)/t.b)/t.frameRate)+60*a+3600*i}else bh.test(e)?n=ch(bh,e):gh.test(e)?n=ch(gh,e):yh.test(e)?(n=yh.exec(e),n=Number(n[1])/t.frameRate):vh.test(e)?(n=vh.exec(e),n=Number(n[1])/t.a):Oh.test(e)&&(n=ch(Oh,e));return n}function ch(e,t){var n=e.exec(t);return null==n||""==n[0]?null:(Number(n[4])||0)/1e3+(Number(n[3])||0)+60*(Number(n[2])||0)+3600*(Number(n[1])||0)}function sh(e,t,n,i){this.frameRate=Number(e)||30,this.b=Number(t)||1,this.a=Number(i),0==this.a&&(this.a=e?this.frameRate*this.b:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(e[1])/Number(e[2]))}ip((function(){if(!(!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)Hp="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=Ap,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Mp,e.MediaKeys=Dp,e.MediaKeySystemAccess=Ep}})),ip((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;t.requestPictureInPicture&&document.exitPictureInPicture||!t.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,t.requestPictureInPicture=qp,Object.defineProperty(t,"disablePictureInPicture",{get:Kp,set:Gp,enumerable:!0,configurable:!0}),document.exitPictureInPicture=Wp,document.addEventListener("webkitpresentationmodechanged",Fp,!0))}})),ip((function(){if(e.HTMLMediaElement){var t=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var e=t.apply(this);return e&&e.catch((function(){})),e}}})),ip((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in t&&(t.getVideoPlaybackQuality=$p)}})),ip((function(){if(!e.VTTCue&&e.TextTrackCue){var t=null,n=TextTrackCue.length;if(3==n)t=Xp;else if(6==n)t=Yp;else{try{var i=!!Xp(1,2,"")}catch(e){i=!1}i&&(t=Xp)}t&&(e.VTTCue=function(e,n,i){return t(e,n,i)})}})),Zp.prototype.parseInit=function(){},Zp.prototype.parseMedia=function(e,t){var n=ct(e),i=[],a=new DOMParser,o=null;if(""==n)return i;try{o=a.parseFromString(n,"text/xml")}catch(e){throw new be(2,2,2005,"Failed to parse TTML.")}if(o){if(n=o.getElementsByTagName("parsererror")[0])throw new be(2,2,2005,n.textContent);if(!(a=o.getElementsByTagName("tt")[0]))throw new be(2,2,2005,"TTML does not contain <tt> tag.");var r=zs(a,"http://www.w3.org/ns/ttml#parameter","frameRate"),c=zs(a,"http://www.w3.org/ns/ttml#parameter","subFrameRate"),s=zs(a,"http://www.w3.org/ns/ttml#parameter","frameRateMultiplier"),l=zs(a,"http://www.w3.org/ns/ttml#parameter","tickRate"),d=zs(a,"http://www.w3.org/ns/ttml#parameter","cellResolution");if(o=a.getAttribute("xml:space")||"default",n=a.getAttribute("tts:extent"),"default"!=o&&"preserve"!=o)throw new be(2,2,2005,"Invalid xml:space value: "+o);o="default"==o,r=new sh(r,c,s,l),d=d&&(d=/^(\d+) (\d+)$/.exec(d))?{columns:parseInt(d[1],10),rows:parseInt(d[2],10)}:null,c=Qp(a.getElementsByTagName("metadata")[0]),s=Qp(a.getElementsByTagName("styling")[0]);for(var p=[],h=u(l=Qp(a.getElementsByTagName("layout")[0])),f=h.next();!f.done;f=h.next()){var m=f.value,b=n;f=new Kn;var g,y,v=m.getAttribute("xml:id");if(v)f.id=v,v=null,b&&(v=dh.exec(b)||fh.exec(b)),b=v?Number(v[1]):null,v=v?Number(v[2]):null,(g=nh(m,s,"extent"))&&(null!=(g=(y=dh.exec(g))||fh.exec(g))&&(f.width=null!=b?100*Number(g[1])/b:Number(g[1]),f.height=null!=v?100*Number(g[2])/v:Number(g[2]),f.widthUnits=y||null!=b?Gn:0,f.heightUnits=y||null!=v?Gn:0)),(m=nh(m,s,"origin"))&&(null!=(g=(y=dh.exec(m))||fh.exec(m))&&(f.viewportAnchorX=null!=v?100*Number(g[1])/v:Number(g[1]),f.viewportAnchorY=null!=b?100*Number(g[2])/b:Number(g[2]),f.viewportAnchorUnits=y||null!=b?Gn:0));else f=null;f&&p.push(f)}for(n=function e(t){if(!t)return[];for(var n=[],i=(t=u(t.childNodes)).next();!i.done;i=t.next())(i=i.value)instanceof Element&&(i.hasAttribute("begin")?n.push(i):n=n.concat(e(i)));return n}(a.getElementsByTagName("body")[0]),a=(n=u(n)).next();!a.done;a=n.next())(a=Jp(a.value,t.periodStart,r,c,s,l,p,o,!1,d))&&i.push(a)}return i},V("shaka.text.TtmlTextParser",Zp),Zp.prototype.parseMedia=Zp.prototype.parseMedia,Zp.prototype.parseInit=Zp.prototype.parseInit;var lh,uh,dh=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,ph=/^(\d{1,2}(?:\.\d+)?|100)%$/,hh=/^(\d+px|\d+em|\d*\.?\d+c)$/,fh=/^(\d+)px (\d+)px$/,mh=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,bh=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,gh=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,yh=/^(\d*(?:\.\d*)?)f$/,vh=/^(\d*(?:\.\d*)?)t$/,Oh=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,wh={left:Bn,center:"center",right:"end",start:Bn,end:"end"},jh={left:"line-left",center:"center",right:"line-right"};function xh(){this.m=new Zp}function kh(){}function _h(e,t){var n=Ys("<span>"+e+"</span>","span");if(n){var i=[];if(1==(n=n.childNodes).length){var a=n[0];if(a.nodeType==Node.TEXT_NODE||a.nodeType==Node.CDATA_SECTION_NODE)return void(t.payload=e)}for(a=(n=u(n)).next();!a.done;a=n.next())Sh(a.value,t,i);t.nestedCues=i}else t.payload=e}function Sh(e,t,n){if(t=t.clone(),e.nodeType===Node.ELEMENT_NODE&&e.nodeName)for(var i=u(e.nodeName.split(/[ .]+/)),a=i.next();!a.done;a=i.next())switch(a.value){case"b":t.fontWeight=700;break;case"i":t.fontStyle="italic";break;case"u":t.textDecoration.push("underline")}if(Vs(e))t.payload=e.textContent,n.push(t);else for(i=(e=u(e.childNodes)).next();!i.done;i=e.next())Sh(i.value,t,n)}function Ih(e,t,n){var i;(i=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=i[1],e.textAlign="middle"==t?En:Dn[t.toUpperCase()]):(i=/^vertical:(lr|rl)$/.exec(t))?e.writingMode="lr"==i[1]?"vertical-lr":"vertical-rl":(i=/^size:([\d.]+)%$/.exec(t))?e.size=Number(i[1]):(i=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(t))?(e.position=Number(i[1]),i[2]&&(t=i[2],e.positionAlign="line-left"==t||"start"==t?"line-left":"line-right"==t||"end"==t?"line-right":"center")):(i=/^region:(.*)$/.exec(t))?(t=function(e,t){var n=e.filter((function(e){return e.id==t}));return n.length?n[0]:null}(n,i[1]))&&(e.region=t):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=Hn[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=Vn,e.line=Number(n[1]),n[2]&&(e.lineAlign=Hn[n[2].toUpperCase()]))}function Nh(e){if(null==(e=pu(e,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3})/g)))return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:Number(e[4])/1e3+n+60*t+3600*(Number(e[1])||0)}function Th(){this.a=null}function Ch(e,t,n){var i,a,o;return(new za).H("payl",Ba((function(e){i=ct(e)}))).H("iden",Ba((function(e){a=ct(e)}))).H("sttg",Ba((function(e){o=ct(e)}))).parse(e),i?function(e,t,n,i,a){if(i=new Pn(i,a,""),_h(e,i),t&&(i.id=t),n)for(e=new uu(n),t=hu(e);t;)Ih(i,t,[]),du(e),t=hu(e);return i}(i,a,o,t,n):null}function Ph(){}function Ah(){lh||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration&&(lh=navigator.requestMediaKeySystemAccess,navigator.requestMediaKeySystemAccess=Mh)}function Mh(e,t){var n,i=this;return E((function(a){return 1==a.a?w(a,lh.call(i,e,t),2):Hh(n=a.b)?(navigator.requestMediaKeySystemAccess=lh,a.return(n)):(navigator.requestMediaKeySystemAccess=Eh,a.return(Eh.call(i,e,t)))}))}function Eh(e,t){var n,i,a,o,r,c,s,l,d,p,h=this;return E((function(f){if(1==f.a){for(n=Bh(e),i=[],a=u(t),o=a.next();!o.done;o=a.next())r=o.value,c=Dh(r.videoCapabilities,n),s=Dh(r.audioCapabilities,n),r.videoCapabilities&&r.videoCapabilities.length&&!c.length||r.audioCapabilities&&r.audioCapabilities.length&&!s.length||((l=Object.assign({},r)).videoCapabilities=c,l.audioCapabilities=s,i.push(l));if(!i.length)throw(d=Error("Unsupported keySystem or supportedConfigurations.")).name="NotSupportedError",d.code=DOMException.NOT_SUPPORTED_ERR,d;return w(f,lh.call(h,e,i),2)}return p=f.b,f.return(new Vh(p,n))}))}function Dh(e,t){return e?e.filter((function(e){return!e.encryptionScheme||e.encryptionScheme==t})):e}function Lh(){}function Rh(){navigator.mediaCapabilities&&(uh=navigator.mediaCapabilities.decodingInfo,navigator.mediaCapabilities.decodingInfo=zh)}function zh(e){var t,n=this;return E((function(i){return 1==i.a?w(i,uh.call(n,e),2):(t=i.b,e.keySystemConfiguration?Hh(t.keySystemAccess)?(navigator.mediaCapabilities.decodingInfo=uh,i.return(t)):(navigator.mediaCapabilities.decodingInfo=Uh,i.return(Uh.call(n,e))):i.return(t))}))}function Uh(e){var t,n,i,a,o,r,c,s=this;return E((function(l){return 1==l.a?(t=null,e.keySystemConfiguration&&(n=e.keySystemConfiguration,i=n.keySystem,a=n.audio&&n.audio.encryptionScheme,o=n.video&&n.video.encryptionScheme,t=Bh(i),r={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:e},a&&a!=t||o&&o!=t)?l.return(r):w(l,uh.call(s,e),2)):((c=l.b).keySystemAccess&&(c.keySystemAccess=new Vh(c.keySystemAccess,t)),l.return(c))}))}function Vh(e,t){this.b=e,this.a=t,this.keySystem=e.keySystem}function Bh(e){return e.startsWith("com.widevine")||e.startsWith("com.microsoft")||e.startsWith("com.adobe")||e.startsWith("org.w3")?"cenc":e.startsWith("com.apple")?"cbcs-1-9":null}function Hh(e){var t=(e=e.getConfiguration()).audioCapabilities&&e.audioCapabilities[0];return!(!(e=e.videoCapabilities&&e.videoCapabilities[0]||t)||void 0===e.encryptionScheme)}function Fh(){}function qh(){Ah(),Rh()}Qn["application/ttml+xml"]=function(){return new Zp},xh.prototype.parseInit=function(e){var t=!1;if((new za).H("moov",Ua).H("trak",Ua).H("mdia",Ua).H("minf",Ua).H("stbl",Ua).V("stsd",Va).H("stpp",(function(e){t=!0,e.parser.stop()})).parse(e),!t)throw new be(2,2,2007)},xh.prototype.parseMedia=function(e,t){var n=this,i=!1,a=[];if((new za).H("mdat",Ba((function(e){i=!0,a=a.concat(n.m.parseMedia(e,t))}))).parse(e,!1),!i)throw new be(2,2,2007);return a},V("shaka.text.Mp4TtmlParser",xh),xh.prototype.parseMedia=xh.prototype.parseMedia,xh.prototype.parseInit=xh.prototype.parseInit,Qn['application/mp4; codecs="stpp"']=function(){return new xh},Qn['application/mp4; codecs="stpp.ttml.im1t"']=function(){return new xh},Qn['application/mp4; codecs="stpp.TTML.im1t"']=function(){return new xh},kh.prototype.parseInit=function(){},kh.prototype.parseMedia=function(e,t){var n=ct(e),i=(n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(i[0]))throw new be(2,2,2e3);if(n=t.periodStart,i[0].includes("X-TIMESTAMP-MAP")){var a=i[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),o=i[0].match(/MPEGTS:(\d+)/m);if(a&&o){if(null==(n=Nh(new uu(a[1]))))throw new be(2,2,2e3);for(o=Number(o[1]),a=t.segmentStart;95443.7176888889<=a;)a-=95443.7176888889,o+=8589934592;n=t.periodStart+o/9e4-n}}o=[];for(var r=(a=u(i[0].split("\n"))).next();!r.done;r=a.next())if(r=r.value,/^Region:/.test(r)){r=new uu(r);var c=new Kn;hu(r),du(r);for(var s=hu(r);s;){var l=c,d=s;(s=/^id=(.*)$/.exec(d))?l.id=s[1]:(s=/^width=(\d{1,2}|100)%$/.exec(d))?l.width=Number(s[1]):(s=/^lines=(\d+)$/.exec(d))?(l.height=Number(s[1]),l.heightUnits=2):(s=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(d))?(l.regionAnchorX=Number(s[1]),l.regionAnchorY=Number(s[2])):(s=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(d))?(l.viewportAnchorX=Number(s[1]),l.viewportAnchorY=Number(s[2])):/^scroll=up$/.exec(d)&&(l.scroll="up"),du(r),s=hu(r)}o.push(c)}for(a=[],r=(i=u(i.slice(1))).next();!r.done;r=i.next()){if(s=n,1==(l=r.value.split("\n")).length&&!l[0]||/^NOTE($|[ \t])/.test(l[0])||"STYLE"==l[0])r=null;else{r=null,l[0].includes("--\x3e")||(r=l[0],l.splice(0,1)),d=Nh(c=new uu(l[0]));var p=pu(c,/[ \t]+--\x3e[ \t]+/g),h=Nh(c);if(null==d||null==p||null==h)throw new be(2,2,2001);for(s=new Pn(d+s,h+s,""),_h(l.slice(1).join("\n").trim(),s),du(c),l=hu(c);l;)Ih(s,l,o),du(c),l=hu(c);null!=r&&(s.id=r),r=s}r&&a.push(r)}return a},V("shaka.text.VttTextParser",kh),kh.prototype.parseMedia=kh.prototype.parseMedia,kh.prototype.parseInit=kh.prototype.parseInit,Qn["text/vtt"]=function(){return new kh},Qn['text/vtt; codecs="vtt"']=function(){return new kh},Qn['text/vtt; codecs="wvtt"']=function(){return new kh},Th.prototype.parseInit=function(e){var t=this,n=!1;if((new za).H("moov",Ua).H("trak",Ua).H("mdia",Ua).V("mdhd",(function(e){e=Ts(e.reader,e.version),t.a=e.timescale})).H("minf",Ua).H("stbl",Ua).V("stsd",Va).H("wvtt",(function(){n=!0})).parse(e),!this.a)throw new be(2,2,2008);if(!n)throw new be(2,2,2008)},Th.prototype.parseMedia=function(e,t){if(!this.a)throw new be(2,2,2008);var n,i=0,a=[],o=[],r=!1,c=!1,s=!1,l=null;if((new za).H("moof",Ua).H("traf",Ua).V("tfdt",(function(e){r=!0,i=Ns(e.reader,e.version).Nc})).V("tfhd",(function(e){l=Is(e.reader,e.flags).Cd})).V("trun",(function(e){c=!0,a=Cs(e.reader,e.version,e.flags).Td})).H("mdat",Ba((function(e){s=!0,n=e}))).parse(e,!1),!s&&!r&&!c)throw new be(2,2,2008);for(var d=i,p=new Da(n,0),h=u(a),f=h.next();!f.done;f=h.next()){var m=(f=f.value).ld||l,b=f.pc?i+f.pc:d;d=b+(m||0);var g=0;do{var y=p.I();g+=y;var v=null;"vttc"==Fa(p.I())?8<y&&(v=p.Qa(y-8)):p.skip(y-8),m&&v&&(y=Ch(v,t.periodStart+b/this.a,t.periodStart+d/this.a),o.push(y))}while(f.sampleSize&&g<f.sampleSize)}return o.filter(xt)},V("shaka.text.Mp4VttParser",Th),Th.prototype.parseMedia=Th.prototype.parseMedia,Th.prototype.parseInit=Th.prototype.parseInit,Qn['application/mp4; codecs="wvtt"']=function(){return new Th},V("EmeEncryptionSchemePolyfill",Ph),Ph.install=Ah,V("McEncryptionSchemePolyfill",Lh),Lh.install=Rh,Vh.prototype.getConfiguration=function(){var e=this.b.getConfiguration();if(e.videoCapabilities)for(var t=u(e.videoCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.a;if(e.audioCapabilities)for(n=(t=u(e.audioCapabilities)).next();!n.done;n=t.next())n.value.encryptionScheme=this.a;return e},Vh.prototype.createMediaKeys=function(){return this.b.createMediaKeys()},V("EncryptionSchemePolyfills",Fh),Fh.install=qh,void 0!==i&&i.exports&&(i.exports=Fh)}.call(a,i,i,void 0),a.shaka)t[o]=a.shaka[o]}()}).call(this,n(29))},385:function(e,t,n){e.exports=n.p+"assets/img/visapng.png"},386:function(e,t,n){e.exports=n.p+"assets/img/mastercard.png"},387:function(e,t,n){(function(i){var a,o;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"object"==("undefined"==typeof navigator?"undefined":r(navigator))&&function(i,c){"object"==r(t)&&void 0!==e?e.exports=c():void 0===(o="function"==typeof(a=c)?a.call(t,n,t,e):a)||(e.exports=o)}(0,(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c={addCSS:!0,thumbWidth:15,watch:!0},s=function(e){return null!=e?e.constructor:null},l=function(e,t){return Boolean(e&&t&&e instanceof t)},u=function(e){return null==e},d=function(e){return s(e)===Object},p=function(e){return s(e)===String},h=function(e){return Array.isArray(e)},f=function(e){return l(e,NodeList)},m=p,b=h,g=f,y=function(e){return l(e,Element)},v=function(e){return l(e,Event)},O=function(e){return u(e)||(p(e)||h(e)||f(e))&&!e.length||d(e)&&!Object.keys(e).length};var w,j,x,k=function(){function t(n,i){e(this,t),y(n)?this.element=n:m(n)&&(this.element=document.querySelector(n)),y(this.element)&&O(this.element.rangeTouch)&&(this.config=Object.assign({},c,i),this.init())}return n(t,[{key:"init",value:function(){t.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){t.enabled&&(this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,n=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(e){t.element[n](e,(function(e){return t.set(e)}),!1)}))}},{key:"get",value:function(e){if(!t.enabled||!v(e))return null;var n,i=e.target,a=e.changedTouches[0],o=parseFloat(i.getAttribute("min"))||0,r=parseFloat(i.getAttribute("max"))||100,c=parseFloat(i.getAttribute("step"))||1,s=r-o,l=i.getBoundingClientRect(),u=100/l.width*(this.config.thumbWidth/2)/100;return(n=100/l.width*(a.clientX-l.left))<0?n=0:n>100&&(n=100),n<50?n-=(100-2*n)*u:n>50&&(n+=2*(n-50)*u),o+function(e,t){if(t<1){var n=(i="".concat(t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/))?Math.max(0,(i[1]?i[1].length:0)-(i[2]?+i[2]:0)):0;return parseFloat(e.toFixed(n))}var i;return Math.round(e/t)*t}(s*(n/100),c)}},{key:"set",value:function(e){t.enabled&&v(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),function(e,t){if(e&&t){var n=new Event(t);e.dispatchEvent(n)}}(e.target,"touchend"===e.type?"change":"input"))}}],[{key:"setup",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null;if(O(e)||m(e)?i=Array.from(document.querySelectorAll(m(e)?e:'input[type="range"]')):y(e)?i=[e]:g(e)?i=Array.from(e):b(e)&&(i=e.filter(y)),O(i))return null;var a=Object.assign({},c,n);return m(e)&&a.watch&&new MutationObserver((function(n){Array.from(n).forEach((function(n){Array.from(n.addedNodes).forEach((function(n){var i;y(n)&&function(){return Array.from(document.querySelectorAll(i)).includes(this)}.call(n,i=e)&&new t(n,a)}))}))})).observe(document.body,{childList:!0,subtree:!0}),i.map((function(e){return new t(e,n)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),t}(),_=function(e){return null!=e?e.constructor:null},S=function(e,t){return Boolean(e&&t&&e instanceof t)},I=function(e){return null==e},N=function(e){return _(e)===Object},T=function(e){return _(e)===String},C=function(e){return Array.isArray(e)},P=function(e){return S(e,NodeList)},A=function(e){return I(e)||(T(e)||C(e)||P(e))&&!e.length||N(e)&&!Object.keys(e).length},M=I,E=N,D=function(e){return _(e)===Number&&!Number.isNaN(e)},L=T,R=function(e){return _(e)===Boolean},z=function(e){return _(e)===Function},U=C,V=P,B=function(e){return S(e,Element)},H=function(e){return S(e,Event)},F=function(e){return S(e,KeyboardEvent)},q=function(e){return S(e,TextTrack)||!I(e)&&T(e.kind)},W=function(e){if(S(e,window.URL))return!0;if(!T(e))return!1;var t=e;e.startsWith("http://")&&e.startsWith("https://")||(t="http://".concat(e));try{return!A(new URL(t).hostname)}catch(e){return!1}},K=A,G=(w=document.createElement("span"),j={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},x=Object.keys(j).find((function(e){return void 0!==w.style[e]})),!!L(x)&&j[x]);function $(e,t){setTimeout((function(){try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch(e){}}),t)}var X={isIE:!!document.documentMode,isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)},Y=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,null}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function Z(e,t,n){var i=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e&&"addEventListener"in e&&!K(t)&&z(n)){var c=t.split(" "),s=r;Y&&(s={passive:o,capture:r}),c.forEach((function(t){i&&i.eventListeners&&a&&i.eventListeners.push({element:e,type:t,callback:n,options:s}),e[a?"addEventListener":"removeEventListener"](t,n,s)}))}}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Z.call(this,e,t,n,!0,i,a)}function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Z.call(this,e,t,n,!1,i,a)}function ee(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Z.call(this,e,n,(function r(){J(e,n,r,a,o);for(var c=arguments.length,s=new Array(c),l=0;l<c;l++)s[l]=arguments[l];i.apply(t,s)}),!0,a,o)}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(B(e)&&!K(t)){var a=new CustomEvent(t,{bubbles:n,detail:Object.assign({},i,{plyr:this})});e.dispatchEvent(a)}}function ne(e,t){return t.split(".").reduce((function(e,t){return e&&e[t]}),e)}function ie(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(!n.length)return e;var o=n.shift();return E(o)?(Object.keys(o).forEach((function(t){E(o[t])?(Object.keys(e).includes(t)||Object.assign(e,a({},t,{})),ie(e[t],o[t])):Object.assign(e,a({},t,o[t]))})),ie.apply(void 0,[e].concat(n))):e}function ae(e,t){var n=e.length?e:[e];Array.from(n).reverse().forEach((function(e,n){var i=n>0?t.cloneNode(!0):t,a=e.parentNode,o=e.nextSibling;i.appendChild(e),o?a.insertBefore(i,o):a.appendChild(i)}))}function oe(e,t){B(e)&&!K(t)&&Object.entries(t).filter((function(e){var t=o(e,2)[1];return!M(t)})).forEach((function(t){var n=o(t,2),i=n[0],a=n[1];return e.setAttribute(i,a)}))}function re(e,t,n){var i=document.createElement(e);return E(t)&&oe(i,t),L(n)&&(i.innerText=n),i}function ce(e,t,n,i){B(t)&&t.appendChild(re(e,n,i))}function se(e){V(e)||U(e)?Array.from(e).forEach(se):B(e)&&B(e.parentNode)&&e.parentNode.removeChild(e)}function le(e){if(B(e))for(var t=e.childNodes.length;t>0;)e.removeChild(e.lastChild),t-=1}function ue(e,t){return B(t)&&B(t.parentNode)&&B(e)?(t.parentNode.replaceChild(e,t),e):null}function de(e,t){if(!L(e)||K(e))return{};var n={},i=ie({},t);return e.split(",").forEach((function(e){var t=e.trim(),a=t.replace(".",""),r=t.replace(/[[\]]/g,"").split("="),c=o(r,1)[0],s=r.length>1?r[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":L(i.class)?n.class="".concat(i.class," ").concat(a):n.class=a;break;case"#":n.id=t.replace("#","");break;case"[":n[c]=s}})),ie(i,n)}function pe(e,t){if(B(e)){var n=t;R(n)||(n=!e.hidden),e.hidden=n}}function he(e,t,n){if(V(e))return Array.from(e).map((function(e){return he(e,t,n)}));if(B(e)){var i="toggle";return void 0!==n&&(i=n?"add":"remove"),e.classList[i](t),e.classList.contains(t)}return!1}function fe(e,t){return B(e)&&e.classList.contains(t)}function me(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}function be(e){return this.elements.container.querySelectorAll(e)}function ge(e){return this.elements.container.querySelector(e)}function ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];B(e)&&(e.focus({preventScroll:!0}),t&&he(e,this.config.classNames.tabFocus))}var ve,Oe={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},we={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(e,t,n){var i=X.isIPhone&&n&&we.playsinline,a=we[e]||"html5"!==t;return{api:a,ui:a&&we.rangeInput&&("video"!==e||!X.isIPhone||i)}},pip:!(X.isIPhone||!z(re("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||re("video").disablePictureInPicture)),airplay:z(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime:function(e){if(K(e))return!1;var t=o(e.split("/"),1)[0],n=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(Oe).includes(n)&&(n+='; codecs="'.concat(Oe[e],'"'));try{return Boolean(n&&this.media.canPlayType(n).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(ve=document.createElement("input"),ve.type="range","range"===ve.type),touch:"ontouchstart"in document.documentElement,transitions:!1!==G,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches};function je(e){return!!(U(e)||L(e)&&e.includes(":"))&&(U(e)?e:e.split(":")).map(Number).every(D)}function xe(e){if(!U(e)||!e.every(D))return null;var t=o(e,2),n=t[0],i=t[1],a=function e(t,n){return 0===n?t:e(n,t%n)}(n,i);return[n/a,i/a]}function ke(e){var t=function(e){return je(e)?e.split(":").map(Number):null},n=t(e);if(null===n&&(n=t(this.config.ratio)),null===n&&!K(this.embed)&&U(this.embed.ratio)&&(n=this.embed.ratio),null===n&&this.isHTML5){var i=this.media;n=xe([i.videoWidth,i.videoHeight])}return n}function _e(e){if(!this.isVideo)return{};var t=ke.call(this,e),n=o(U(t)?t:[0,0],2),i=100/n[0]*n[1];if(this.elements.wrapper.style.paddingBottom="".concat(i,"%"),this.isVimeo&&this.supported.ui){var a=(240-i)/4.8;this.media.style.transform="translateY(-".concat(a,"%)")}else this.isHTML5&&this.elements.wrapper.classList.toggle(this.config.classNames.videoFixedRatio,null!==t);return{padding:i,ratio:t}}var Se={getSources:function(){var e=this;return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter((function(t){var n=t.getAttribute("type");return!!K(n)||we.mime.call(e,n)})):[]},getQualityOptions:function(){return Se.getSources.call(this).map((function(e){return Number(e.getAttribute("size"))})).filter(Boolean)},extend:function(){if(this.isHTML5){var e=this;K(this.config.ratio)||_e.call(e),Object.defineProperty(e.media,"quality",{get:function(){var t=Se.getSources.call(e).find((function(t){return t.getAttribute("src")===e.source}));return t&&Number(t.getAttribute("size"))},set:function(t){var n=Se.getSources.call(e).find((function(e){return Number(e.getAttribute("size"))===t}));if(n){var i=e.media,a=i.currentTime,o=i.paused,r=i.preload,c=i.readyState;e.media.src=n.getAttribute("src"),("none"!==r||c)&&(e.once("loadedmetadata",(function(){e.currentTime=a,o||e.play()})),e.media.load()),te.call(e,e.media,"qualitychange",!1,{quality:t})}}})}},cancelRequests:function(){this.isHTML5&&(se(Se.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function Ie(e){return U(e)?e.filter((function(t,n){return e.indexOf(t)===n})):e}function Ne(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return K(e)?e:e.toString().replace(/{(\d+)}/g,(function(e,t){return n[t].toString()}))}function Te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1"),"g"),n.toString())}function Ce(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString().replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}function Pe(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML}var Ae={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(K(e)||K(t))return"";var n=ne(t.i18n,e);if(K(n))return Object.keys(Ae).includes(e)?Ae[e]:"";var i={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(i).forEach((function(e){var t=o(e,2),i=t[0],a=t[1];n=Te(n,i,a)})),n},Ee=function(){function t(n){e(this,t),this.enabled=n.config.storage.enabled,this.key=n.config.storage.key}return n(t,[{key:"get",value:function(e){if(!t.supported||!this.enabled)return null;var n=window.localStorage.getItem(this.key);if(K(n))return null;var i=JSON.parse(n);return L(e)&&e.length?i[e]:i}},{key:"set",value:function(e){if(t.supported&&this.enabled&&E(e)){var n=this.get();K(n)&&(n={}),ie(n,e),window.localStorage.setItem(this.key,JSON.stringify(n))}}}],[{key:"supported",get:function(){try{return"localStorage"in window&&(window.localStorage.setItem("___test","___test"),window.localStorage.removeItem("___test"),!0)}catch(e){return!1}}}]),t}();function De(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";return new Promise((function(n,i){try{var a=new XMLHttpRequest;if(!("withCredentials"in a))return;a.addEventListener("load",(function(){if("text"===t)try{n(JSON.parse(a.responseText))}catch(e){n(a.responseText)}else n(a.response)})),a.addEventListener("error",(function(){throw new Error(a.status)})),a.open("GET",e,!0),a.responseType=t,a.send()}catch(e){i(e)}}))}function Le(e,t){if(L(e)){var n=L(t),i=function(){return null!==document.getElementById(t)},a=function(e,t){e.innerHTML=t,n&&i()||document.body.insertAdjacentElement("afterbegin",e)};if(!n||!i()){var o=Ee.supported,r=document.createElement("div");if(r.setAttribute("hidden",""),n&&r.setAttribute("id",t),o){var c=window.localStorage.getItem("".concat("cache","-").concat(t));if(null!==c){var s=JSON.parse(c);a(r,s.content)}}De(e).then((function(e){K(e)||(o&&window.localStorage.setItem("".concat("cache","-").concat(t),JSON.stringify({content:e})),a(r,e))})).catch((function(){}))}}}var Re=function(e){return Math.trunc(e/60/60%60,10)},ze=function(e){return Math.trunc(e/60%60,10)},Ue=function(e){return Math.trunc(e%60,10)};function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!D(e))return Ve(null,t,n);var i=function(e){return"0".concat(e).slice(-2)},a=Re(e),o=ze(e),r=Ue(e);return a=t||a>0?"".concat(a,":"):"","".concat(n&&e>0?"-":"").concat(a).concat(i(o),":").concat(i(r))}var Be={getIconUrl:function(){var e=new URL(this.config.iconUrl,window.location).host!==window.location.host||X.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:e}},findElements:function(){try{return this.elements.controls=ge.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:be.call(this,this.config.selectors.buttons.play),pause:ge.call(this,this.config.selectors.buttons.pause),restart:ge.call(this,this.config.selectors.buttons.restart),rewind:ge.call(this,this.config.selectors.buttons.rewind),fastForward:ge.call(this,this.config.selectors.buttons.fastForward),mute:ge.call(this,this.config.selectors.buttons.mute),pip:ge.call(this,this.config.selectors.buttons.pip),airplay:ge.call(this,this.config.selectors.buttons.airplay),settings:ge.call(this,this.config.selectors.buttons.settings),captions:ge.call(this,this.config.selectors.buttons.captions),fullscreen:ge.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=ge.call(this,this.config.selectors.progress),this.elements.inputs={seek:ge.call(this,this.config.selectors.inputs.seek),volume:ge.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:ge.call(this,this.config.selectors.display.buffer),currentTime:ge.call(this,this.config.selectors.display.currentTime),duration:ge.call(this,this.config.selectors.display.duration)},B(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(".".concat(this.config.classNames.tooltip))),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon:function(e,t){var n=Be.getIconUrl.call(this),i="".concat(n.cors?"":n.url,"#").concat(this.config.iconPrefix),a=document.createElementNS("http://www.w3.org/2000/svg","svg");oe(a,ie(t,{role:"presentation",focusable:"false"}));var o=document.createElementNS("http://www.w3.org/2000/svg","use"),r="".concat(i,"-").concat(e);return"href"in o&&o.setAttributeNS("http://www.w3.org/1999/xlink","href",r),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r),a.appendChild(o),a},createLabel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Me(e,this.config);return re("span",Object.assign({},t,{class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")}),n)},createBadge:function(e){if(K(e))return null;var t=re("span",{class:this.config.classNames.menu.value});return t.appendChild(re("span",{class:this.config.classNames.menu.badge},e)),t},createButton:function(e,t){var n=this,i=ie({},t),a=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return(e=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return e=Te(e,"-"," "),e=Te(e,"_"," "),Te(e=Ce(e)," ","")}(e)).charAt(0).toLowerCase()+e.slice(1)}(e),o={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach((function(e){Object.keys(i).includes(e)&&(o[e]=i[e],delete i[e])})),"button"!==o.element||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.split(" ").some((function(e){return e===n.config.classNames.control}))||ie(i,{class:"".concat(i.class," ").concat(this.config.classNames.control)}):i.class=this.config.classNames.control,e){case"play":o.toggle=!0,o.label="play",o.labelPressed="pause",o.icon="play",o.iconPressed="pause";break;case"mute":o.toggle=!0,o.label="mute",o.labelPressed="unmute",o.icon="volume",o.iconPressed="muted";break;case"captions":o.toggle=!0,o.label="enableCaptions",o.labelPressed="disableCaptions",o.icon="captions-off",o.iconPressed="captions-on";break;case"fullscreen":o.toggle=!0,o.label="enterFullscreen",o.labelPressed="exitFullscreen",o.icon="enter-fullscreen",o.iconPressed="exit-fullscreen";break;case"play-large":i.class+=" ".concat(this.config.classNames.control,"--overlaid"),a="play",o.label="play",o.icon="play";break;default:K(o.label)&&(o.label=a),K(o.icon)&&(o.icon=e)}var r=re(o.element);return o.toggle?(r.appendChild(Be.createIcon.call(this,o.iconPressed,{class:"icon--pressed"})),r.appendChild(Be.createIcon.call(this,o.icon,{class:"icon--not-pressed"})),r.appendChild(Be.createLabel.call(this,o.labelPressed,{class:"label--pressed"})),r.appendChild(Be.createLabel.call(this,o.label,{class:"label--not-pressed"}))):(r.appendChild(Be.createIcon.call(this,o.icon)),r.appendChild(Be.createLabel.call(this,o.label))),ie(i,de(this.config.selectors.buttons[a],i)),oe(r,i),"play"===a?(U(this.elements.buttons[a])||(this.elements.buttons[a]=[]),this.elements.buttons[a].push(r)):this.elements.buttons[a]=r,r},createRange:function(e,t){var n=re("input",ie(de(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":Me(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=n,Be.updateRangeFill.call(this,n),k.setup(n),n},createProgress:function(e,t){var n=re("progress",ie(de(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){n.appendChild(re("span",null,"0"));var i={played:"played",buffer:"buffered"}[e],a=i?Me(i,this.config):"";n.innerText="% ".concat(a.toLowerCase())}return this.elements.display[e]=n,n},createTime:function(e,t){var n=de(this.config.selectors.display[e],t),i=re("div",ie(n,{class:"".concat(n.class?n.class:""," ").concat(this.config.classNames.display.time," ").trim(),"aria-label":Me(e,this.config)}),"00:00");return this.elements.display[e]=i,i},bindMenuItemShortcuts:function(e,t){var n=this;Q(e,"keydown keyup",(function(i){if([32,38,39,40].includes(i.which)&&(i.preventDefault(),i.stopPropagation(),"keydown"!==i.type)){var a,o=me(e,'[role="menuitemradio"]');!o&&[32,39].includes(i.which)?Be.showMenuPanel.call(n,t,!0):32!==i.which&&(40===i.which||o&&39===i.which?(a=e.nextElementSibling,B(a)||(a=e.parentNode.firstElementChild)):(a=e.previousElementSibling,B(a)||(a=e.parentNode.lastElementChild)),ye.call(n,a,!0))}}),!1),Q(e,"keyup",(function(e){13===e.which&&Be.focusFirstMenuItem.call(n,null,!0)}))},createMenuItem:function(e){var t=this,n=e.value,i=e.list,a=e.type,o=e.title,r=e.badge,c=void 0===r?null:r,s=e.checked,l=void 0!==s&&s,u=de(this.config.selectors.inputs[a]),d=re("button",ie(u,{type:"button",role:"menuitemradio",class:"".concat(this.config.classNames.control," ").concat(u.class?u.class:"").trim(),"aria-checked":l,value:n})),p=re("span");p.innerHTML=o,B(c)&&p.appendChild(c),d.appendChild(p),Object.defineProperty(d,"checked",{enumerable:!0,get:function(){return"true"===d.getAttribute("aria-checked")},set:function(e){e&&Array.from(d.parentNode.children).filter((function(e){return me(e,'[role="menuitemradio"]')})).forEach((function(e){return e.setAttribute("aria-checked","false")})),d.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(d,"click keyup",(function(e){if(!F(e)||32===e.which){switch(e.preventDefault(),e.stopPropagation(),d.checked=!0,a){case"language":t.currentTrack=Number(n);break;case"quality":t.quality=n;break;case"speed":t.speed=parseFloat(n)}Be.showMenuPanel.call(t,"home",F(e))}}),a,!1),Be.bindMenuItemShortcuts.call(this,d,a),i.appendChild(d)},formatTime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return D(e)?Ve(e,Re(this.duration)>0,t):e},updateTimeDisplay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];B(e)&&D(t)&&(e.innerText=Be.formatTime(t,n))},updateVolume:function(){document.getElementById("icon-volume-on")&&document.getElementById("icon-volume-medium")&&(this.volume<.5&&this.volume>0&&!this.muted?(document.getElementById("icon-volume-on").style.display="none",document.getElementById("icon-volume-medium").style.display="block"):this.volume>=.5&&!this.muted?(document.getElementById("icon-volume-medium").style.display="none",document.getElementById("icon-volume-on").style.display="block"):document.getElementById("icon-volume-medium").style.display=document.getElementById("icon-volume-on").style.display="none"),this.supported.ui&&(B(this.elements.inputs.volume)&&Be.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),B(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;B(e)&&(e.value=t,Be.updateRangeFill.call(this,e))},updateProgress:function(e){var t=this;if(this.supported.ui&&H(e)){var n,i,a=0;if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":n=this.currentTime,i=this.duration,a=0===n||0===i||Number.isNaN(n)||Number.isNaN(i)?0:(n/i*100).toFixed(2),"timeupdate"===e.type&&Be.setRange.call(this,this.elements.inputs.seek,a);break;case"playing":case"progress":!function(e,n){var i=D(n)?n:0,a=B(e)?e:t.elements.display.buffer;if(B(a)){a.value=i;var o=a.getElementsByTagName("span")[0];B(o)&&(o.childNodes[0].nodeValue=i)}}(this.elements.display.buffer,100*this.buffered)}}},updateRangeFill:function(e){var t=H(e)?e.target:e;if(B(t)&&"range"===t.getAttribute("type")){if(me(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);var n=Be.formatTime(this.currentTime),i=Be.formatTime(this.duration),a=Me("seekLabel",this.config);t.setAttribute("aria-valuetext",a.replace("{currentTime}",n).replace("{duration}",i))}else if(me(t,this.config.selectors.inputs.volume)){var o=100*t.value;t.setAttribute("aria-valuenow",o),t.setAttribute("aria-valuetext","".concat(o.toFixed(1),"%"))}else t.setAttribute("aria-valuenow",t.value);X.isWebkit&&t.style.setProperty("--value","".concat(t.value/t.max*100,"%"))}},updateSeekTooltip:function(e){var t=this;if(this.config.tooltips.seek&&B(this.elements.inputs.seek)&&B(this.elements.display.seekTooltip)&&0!==this.duration){var n="".concat(this.config.classNames.tooltip,"--visible"),i=function(e){return he(t.elements.display.seekTooltip,n,e)};if(this.touch)i(!1);else{var a=0,o=this.elements.progress.getBoundingClientRect();if(H(e))a=100/o.width*(e.pageX-o.left);else{if(!fe(this.elements.display.seekTooltip,n))return;a=parseFloat(this.elements.display.seekTooltip.style.left,10)}a<0?a=0:a>100&&(a=100),Be.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*a),this.elements.display.seekTooltip.style.left="".concat(a,"%"),H(e)&&["mouseenter","mouseleave"].includes(e.type)&&i("mouseenter"===e.type)}}},timeUpdate:function(e){var t=!B(this.elements.display.duration)&&this.config.invertTime;Be.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||Be.updateProgress.call(this,e)},durationUpdate:function(){if(this.supported.ui&&(this.config.invertTime||!this.currentTime)){if(this.duration>=Math.pow(2,32))return pe(this.elements.display.currentTime,!0),void pe(this.elements.progress,!0);B(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);var e=B(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&Be.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&Be.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),Be.updateSeekTooltip.call(this)}},toggleMenuButton:function(e,t){pe(this.elements.settings.buttons[e],!t)},updateSetting:function(e,t,n){var i=this.elements.settings.panels[e],a=null,o=t;if("captions"===e)a=this.currentTrack;else{if(a=K(n)?this[e]:n,K(a)&&(a=this.config[e].default),!K(this.options[e])&&!this.options[e].includes(a))return void this.debug.warn("Unsupported value of '".concat(a,"' for ").concat(e));if(!this.config[e].options.includes(a))return void this.debug.warn("Disabled value of '".concat(a,"' for ").concat(e))}if(B(o)||(o=i&&i.querySelector('[role="menu"]')),B(o)){this.elements.settings.buttons[e].querySelector(".".concat(this.config.classNames.menu.value)).innerHTML=Be.getLabel.call(this,e,a);var r=o&&o.querySelector('[value="'.concat(a,'"]'));B(r)&&(r.checked=!0)}},getLabel:function(e,t){switch(e){case"speed":return 1===t?Me("normal",this.config):"".concat(t,"&times;");case"quality":if(D(t)){var n=Me("qualityLabel.".concat(t),this.config);return n.length?n:"".concat(t,"p")}return Ce(t);case"captions":return qe.getLabel.call(this);default:return null}},setQualityMenu:function(e){var t=this;if(B(this.elements.settings.panels.quality)){var n=this.elements.settings.panels.quality.querySelector('[role="menu"]');U(e)&&(this.options.quality=Ie(e).filter((function(e){return t.config.quality.options.includes(e)})));var i=!K(this.options.quality)&&this.options.quality.length>1;if(Be.toggleMenuButton.call(this,"quality",i),le(n),Be.checkMenu.call(this),i){var a=function(e){var n=Me("qualityBadge.".concat(e),t.config);return n.length?Be.createBadge.call(t,n):null};this.options.quality.sort((function(e,n){var i=t.config.quality.options;return i.indexOf(e)>i.indexOf(n)?1:-1})).forEach((function(e){Be.createMenuItem.call(t,{value:e,list:n,type:"quality",title:Be.getLabel.call(t,"quality",e),badge:a(e)})})),Be.updateSetting.call(this,"quality",n)}}},setCaptionsMenu:function(){var e=this;if(B(this.elements.settings.panels.captions)){var t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),n=qe.getTracks.call(this),i=Boolean(n.length);if(Be.toggleMenuButton.call(this,"captions",i),le(t),Be.checkMenu.call(this),i){var a=n.map((function(n,i){return{value:i,checked:e.captions.toggled&&e.currentTrack===i,title:qe.getLabel.call(e,n),badge:n.language&&Be.createBadge.call(e,n.language.toUpperCase()),list:t,type:"language"}}));a.unshift({value:-1,checked:!this.captions.toggled,title:Me("disabled",this.config),list:t,type:"language"}),a.forEach(Be.createMenuItem.bind(this)),Be.updateSetting.call(this,"captions",t)}}},setSpeedMenu:function(e){var t=this;if(B(this.elements.settings.panels.speed)){var n=this.elements.settings.panels.speed.querySelector('[role="menu"]');U(e)?this.options.speed=e:(this.isHTML5||this.isVimeo)&&(this.options.speed=[.5,.75,1,1.25,1.5,1.75,2]),this.options.speed=this.options.speed.filter((function(e){return t.config.speed.options.includes(e)}));var i=!K(this.options.speed)&&this.options.speed.length>1;Be.toggleMenuButton.call(this,"speed",i),le(n),Be.checkMenu.call(this),i&&(this.options.speed.forEach((function(e){Be.createMenuItem.call(t,{value:e,list:n,type:"speed",title:Be.getLabel.call(t,"speed",e)})})),Be.updateSetting.call(this,"speed",n))}},checkMenu:function(){var e=this.elements.settings.buttons,t=!K(e)&&Object.values(e).some((function(e){return!e.hidden}));pe(this.elements.settings.menu,!t)},focusFirstMenuItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.elements.settings.popup.hidden){var n=e;B(n)||(n=Object.values(this.elements.settings.panels).find((function(e){return!e.hidden})));var i=n.querySelector('[role^="menuitem"]');ye.call(this,i,t)}},toggleMenu:function(e){var t=this.elements.settings.popup,n=this.elements.buttons.settings;if(B(t)&&B(n)){var i=t.hidden,a=i;if(R(e))a=e;else if(F(e)&&27===e.which)a=!1;else if(H(e)){var o=z(e.composedPath)?e.composedPath()[0]:e.target,r=t.contains(o);if(r||!r&&e.target!==n&&a)return}n.setAttribute("aria-expanded",a),pe(t,!a),he(this.elements.container,this.config.classNames.menu.open,a),a&&F(e)?Be.focusFirstMenuItem.call(this,null,!0):a||i||ye.call(this,n,F(e))}},getMenuSize:function(e){var t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);var n=t.scrollWidth,i=t.scrollHeight;return se(t),{width:n,height:i}},showMenuPanel:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.elements.container.querySelector("#plyr-settings-".concat(this.id,"-").concat(t));if(B(i)){var a=i.parentNode,o=Array.from(a.children).find((function(e){return!e.hidden}));if(we.transitions&&!we.reducedMotion){a.style.width="".concat(o.scrollWidth,"px"),a.style.height="".concat(o.scrollHeight,"px");var r=Be.getMenuSize.call(this,i);Q.call(this,a,G,(function t(n){n.target===a&&["width","height"].includes(n.propertyName)&&(a.style.width="",a.style.height="",J.call(e,a,G,t))})),a.style.width="".concat(r.width,"px"),a.style.height="".concat(r.height,"px")}pe(o,!0),pe(i,!1),Be.focusFirstMenuItem.call(this,i,n)}},setDownloadUrl:function(){var e=this.elements.buttons.download;B(e)&&e.setAttribute("href",this.download)},create:function(e){var t=this,n=Be.bindMenuItemShortcuts,i=Be.createButton,a=Be.createProgress,o=Be.createRange,r=Be.createTime,c=Be.setQualityMenu,s=Be.setSpeedMenu,l=Be.showMenuPanel;this.elements.controls=null,this.config.controls.includes("play-large")&&this.elements.container.appendChild(i.call(this,"play-large"));var u=re("div",de(this.config.selectors.controls.wrapper));this.elements.controls=u;var d={class:"plyr__controls__item"};return Ie(this.config.controls).forEach((function(c){if("restart"===c&&u.appendChild(i.call(t,"restart",d)),"rewind"===c&&u.appendChild(i.call(t,"rewind",d)),"play"===c&&u.appendChild(i.call(t,"play",d)),"fast-forward"===c&&u.appendChild(i.call(t,"fast-forward",d)),"progress"===c){var s=re("div",{class:"".concat(d.class," plyr__progress__container")}),p=re("div",de(t.config.selectors.progress));if(p.appendChild(o.call(t,"seek",{id:"plyr-seek-".concat(e.id)})),p.appendChild(a.call(t,"buffer")),t.config.tooltips.seek){var h=re("span",{class:t.config.classNames.tooltip},"00:00");p.appendChild(h),t.elements.display.seekTooltip=h}t.elements.progress=p,s.appendChild(t.elements.progress),u.appendChild(s)}if("current-time"===c&&u.appendChild(r.call(t,"currentTime",d)),"duration"===c&&u.appendChild(r.call(t,"duration",d)),"mute"===c||"volume"===c){var f=t.elements.volume;if(B(f)&&u.contains(f)||(f=re("div",ie({},d,{class:"".concat(d.class," plyr__volume").trim()})),t.elements.volume=f,u.appendChild(f)),"mute"===c&&f.appendChild(i.call(t,"mute")),"volume"===c){var m={max:1,step:.05,value:t.config.volume};f.appendChild(o.call(t,"volume",ie(m,{id:"plyr-volume-".concat(e.id)})))}}if("captions"===c&&u.appendChild(i.call(t,"captions",d)),"settings"===c&&!K(t.config.settings)){var b=re("div",ie({},d,{class:"".concat(d.class," plyr__menu").trim(),hidden:""}));b.appendChild(i.call(t,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-".concat(e.id),"aria-expanded":!1}));var g=re("div",{class:"plyr__menu__container",id:"plyr-settings-".concat(e.id),hidden:""}),y=re("div"),v=re("div",{id:"plyr-settings-".concat(e.id,"-home")}),O=re("div",{role:"menu"});v.appendChild(O),y.appendChild(v),t.elements.settings.panels.home=v,t.config.settings.forEach((function(i){var a=re("button",ie(de(t.config.selectors.buttons.settings),{type:"button",class:"".concat(t.config.classNames.control," ").concat(t.config.classNames.control,"--forward"),role:"menuitem","aria-haspopup":!0,hidden:""}));n.call(t,a,i),Q(a,"click",(function(){l.call(t,i,!1)}));var o=re("span",null,Me(i,t.config)),r=re("span",{class:t.config.classNames.menu.value});r.innerHTML=e[i],o.appendChild(r),a.appendChild(o),O.appendChild(a);var c=re("div",{id:"plyr-settings-".concat(e.id,"-").concat(i),hidden:""}),s=re("button",{type:"button",class:"".concat(t.config.classNames.control," ").concat(t.config.classNames.control,"--back")});s.appendChild(re("span",{"aria-hidden":!0},Me(i,t.config))),s.appendChild(re("span",{class:t.config.classNames.hidden},Me("menuBack",t.config))),Q(c,"keydown",(function(e){37===e.which&&(e.preventDefault(),e.stopPropagation(),l.call(t,"home",!0))}),!1),Q(s,"click",(function(){l.call(t,"home",!1)})),c.appendChild(s),c.appendChild(re("div",{role:"menu"})),y.appendChild(c),t.elements.settings.buttons[i]=a,t.elements.settings.panels[i]=c})),g.appendChild(y),b.appendChild(g),u.appendChild(b),t.elements.settings.popup=g,t.elements.settings.menu=b}if("pip"===c&&we.pip&&u.appendChild(i.call(t,"pip",d)),"airplay"===c&&we.airplay&&u.appendChild(i.call(t,"airplay",d)),"download"===c){var w=ie({},d,{element:"a",href:t.download,target:"_blank"}),j=t.config.urls.download;!W(j)&&t.isEmbed&&ie(w,{icon:"logo-".concat(t.provider),label:t.provider}),u.appendChild(i.call(t,"download",w))}"fullscreen"===c&&u.appendChild(i.call(t,"fullscreen",d))})),this.isHTML5&&c.call(this,Se.getQualityOptions.call(this)),s.call(this),u},inject:function(){var e=this;if(this.config.loadSprite){var t=Be.getIconUrl.call(this);t.cors&&Le(t.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());var n=null;this.elements.controls=null;var i={id:this.id,seektime:this.config.seekTime,title:this.config.title},a=!0;z(this.config.controls)&&(this.config.controls=this.config.controls.call(this,i)),this.config.controls||(this.config.controls=[]),B(this.config.controls)||L(this.config.controls)?n=this.config.controls:(n=Be.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:qe.getLabel.call(this)}),a=!1);var r,c=function(e){var t=e;return Object.entries(i).forEach((function(e){var n=o(e,2),i=n[0],a=n[1];t=Te(t,"{".concat(i,"}"),a)})),t};if(a&&(L(this.config.controls)?n=c(n):B(n)&&(n.innerHTML=c(n.innerHTML))),L(this.config.selectors.controls.container)&&(r=document.querySelector(this.config.selectors.controls.container)),B(r)||(r=this.elements.container),r[B(n)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",n),B(this.elements.controls)||Be.findElements.call(this),!K(this.elements.buttons)){var s=function(t){var n=e.config.classNames.controlPressed;Object.defineProperty(t,"pressed",{enumerable:!0,get:function(){return fe(t,n)},set:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];he(t,n,e)}})};Object.values(this.elements.buttons).filter(Boolean).forEach((function(e){U(e)||V(e)?Array.from(e).filter(Boolean).forEach(s):s(e)}))}if(X.isEdge&&$(r),this.config.tooltips.controls){var l=this.config,u=l.classNames,d=l.selectors,p="".concat(d.controls.wrapper," ").concat(d.labels," .").concat(u.hidden),h=be.call(this,p);Array.from(h).forEach((function(t){he(t,e.config.classNames.hidden,!1),he(t,e.config.classNames.tooltip,!0)}))}}};function He(e){var t=e;if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var n=document.createElement("a");n.href=t,t=n.href}try{return new URL(t)}catch(e){return null}}function Fe(e){var t=new URLSearchParams;return E(e)&&Object.entries(e).forEach((function(e){var n=o(e,2),i=n[0],a=n[1];t.set(i,a)})),t}var qe={setup:function(){if(this.supported.ui)if(!this.isVideo||this.isYouTube||this.isHTML5&&!we.textTracks)U(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Be.setCaptionsMenu.call(this);else{if(B(this.elements.captions)||(this.elements.captions=re("div",de(this.config.selectors.captions)),function(e,t){B(e)&&B(t)&&t.parentNode.insertBefore(e,t.nextSibling)}(this.elements.captions,this.elements.wrapper)),X.isIE&&window.URL){var e=this.media.querySelectorAll("track");Array.from(e).forEach((function(e){var t=e.getAttribute("src"),n=He(t);null!==n&&n.hostname!==window.location.href.hostname&&["http:","https:"].includes(n.protocol)&&De(t,"blob").then((function(t){e.setAttribute("src",window.URL.createObjectURL(t))})).catch((function(){se(e)}))}))}var t=Ie((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map((function(e){return e.split("-")[0]}))),n=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===n&&(n=o(t,1)[0]);var i=this.storage.get("captions");if(R(i)||(i=this.config.captions.active),Object.assign(this.captions,{toggled:!1,active:i,language:n,languages:t}),this.isHTML5){var a=this.config.captions.update?"addtrack removetrack":"removetrack";Q.call(this,this.media.textTracks,a,qe.update.bind(this))}setTimeout(qe.update.bind(this),0)}},update:function(){var e=this,t=qe.getTracks.call(this,!0),n=this.captions,i=n.active,a=n.language,o=n.meta,r=n.currentTrackNode,c=Boolean(t.find((function(e){return e.language===a})));this.isHTML5&&this.isVideo&&t.filter((function(e){return!o.get(e)})).forEach((function(t){e.debug.log("Track added",t),o.set(t,{default:"showing"===t.mode}),t.mode="hidden",Q.call(e,t,"cuechange",(function(){return qe.updateCues.call(e)}))})),(c&&this.language!==a||!t.includes(r))&&(qe.setLanguage.call(this,a),qe.toggle.call(this,i&&c)),he(this.elements.container,this.config.classNames.captions.enabled,!K(t)),(this.config.controls||[]).includes("settings")&&this.config.settings.includes("captions")&&Be.setCaptionsMenu.call(this)},toggle:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.supported.ui){var n=this.captions.toggled,i=this.config.classNames.captions.active,a=M(e)?!n:e;if(a!==n){if(t||(this.captions.active=a,this.storage.set({captions:a})),!this.language&&a&&!t){var o=qe.getTracks.call(this),c=qe.findTrack.call(this,[this.captions.language].concat(r(this.captions.languages)),!0);return this.captions.language=c.language,void qe.set.call(this,o.indexOf(c))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=a),he(this.elements.container,i,a),this.captions.toggled=a,Be.updateSetting.call(this,"captions"),te.call(this,this.media,a?"captionsenabled":"captionsdisabled")}}},set:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=qe.getTracks.call(this);if(-1!==e)if(D(e))if(e in n){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;var i=n[e],a=(i||{}).language;this.captions.currentTrackNode=i,Be.updateSetting.call(this,"captions"),t||(this.captions.language=a,this.storage.set({language:a})),this.isVimeo&&this.embed.enableTextTrack(a),te.call(this,this.media,"languagechange")}qe.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&qe.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else qe.toggle.call(this,!1,t)},setLanguage:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(L(e)){var n=e.toLowerCase();this.captions.language=n;var i=qe.getTracks.call(this),a=qe.findTrack.call(this,[n]);qe.set.call(this,i.indexOf(a),t)}else this.debug.warn("Invalid language argument",e)},getTracks:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Array.from((this.media||{}).textTracks||[]).filter((function(n){return!e.isHTML5||t||e.captions.meta.has(n)})).filter((function(e){return["captions","subtitles"].includes(e.kind)}))},findTrack:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=qe.getTracks.call(this),o=function(e){return Number((n.captions.meta.get(e)||{}).default)},r=Array.from(a).sort((function(e,t){return o(t)-o(e)}));return e.every((function(e){return!(t=r.find((function(t){return t.language===e})))})),t||(i?r[0]:void 0)},getCurrentTrack:function(){return qe.getTracks.call(this)[this.currentTrack]},getLabel:function(e){var t=e;return!q(t)&&we.textTracks&&this.captions.toggled&&(t=qe.getCurrentTrack.call(this)),q(t)?K(t.label)?K(t.language)?Me("enabled",this.config):e.language.toUpperCase():t.label:Me("disabled",this.config)},updateCues:function(e){if(this.supported.ui)if(B(this.elements.captions))if(M(e)||Array.isArray(e)){var t=e;if(!t){var n=qe.getCurrentTrack.call(this);t=Array.from((n||{}).activeCues||[]).map((function(e){return e.getCueAsHTML()})).map(Pe)}var i=t.map((function(e){return e.trim()})).join("\n");if(i!==this.elements.captions.innerHTML){le(this.elements.captions);var a=re("span",de(this.config.selectors.caption));a.innerHTML=i,this.elements.captions.appendChild(a),te.call(this,this.media,"cuechange")}}else this.debug.warn("updateCues: Invalid input",e);else this.debug.warn("No captions element to render to")}},We={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.5.6/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240]},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/v2/video/{0}.json"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",captiopreviewThumbnailsn:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1},youtube:{noCookie:!1,rel:0,showinfo:0,iv_load_policy:3,modestbranding:1}},Ke="picture-in-picture",Ge={html5:"html5",youtube:"youtube",vimeo:"vimeo"},$e="audio",Xe="video",Ye=function(){},Ze=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(this,t),this.enabled=window.console&&n,this.enabled&&this.log("Debugging enabled")}return n(t,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call((function(){}),console):Ye}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call((function(){}),console):Ye}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call((function(){}),console):Ye}}]),t}();function Qe(){if(this.enabled){var e=this.player.elements.buttons.fullscreen;B(e)&&(e.pressed=this.active),te.call(this.player,this.target,this.active?"enterfullscreen":"exitfullscreen",!0),X.isIos||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(B(e)){var n=be.call(this,"button:not(:disabled), input:not(:disabled), [tabindex]"),i=n[0],a=n[n.length-1];Z.call(this,this.elements.container,"keydown",(function(e){if("Tab"===e.key&&9===e.keyCode){var t=document.activeElement;t!==a||e.shiftKey?t===i&&e.shiftKey&&(a.focus(),e.preventDefault()):(i.focus(),e.preventDefault())}}),t,!1)}}.call(this.player,this.target,this.active)}}function Je(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e?"hidden":"",he(this.target,this.player.config.classNames.fullscreen.fallback,e),X.isIos){var t=document.head.querySelector('meta[name="viewport"]'),n="viewport-fit=cover";t||(t=document.createElement("meta")).setAttribute("name","viewport");var i=L(t.content)&&t.content.includes(n);e?(this.cleanupViewport=!i,i||(t.content+=",".concat(n))):this.cleanupViewport&&(t.content=t.content.split(",").filter((function(e){return e.trim()!==n})).join(","))}Qe.call(this)}var et=function(){function t(n){var i=this;e(this,t),this.player=n,this.prefix=t.prefix,this.property=t.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===n.config.fullscreen.fallback,Q.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":"".concat(this.prefix,"fullscreenchange"),(function(){Qe.call(i)})),Q.call(this.player,this.player.elements.container,"dblclick",(function(e){B(i.player.elements.controls)&&i.player.elements.controls.contains(e.target)||i.toggle()})),this.update()}return n(t,[{key:"update",value:function(){var e;this.enabled?(e=this.forceFallback?"Fallback (forced)":t.native?"Native":"Fallback",this.player.debug.log("".concat(e," fullscreen enabled"))):this.player.debug.log("Fullscreen not supported and fallback disabled"),he(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}},{key:"enter",value:function(){this.enabled&&(X.isIos&&this.player.config.fullscreen.iosNative?this.target.webkitEnterFullscreen():!t.native||this.forceFallback?Je.call(this,!0):this.prefix?K(this.prefix)||this.target["".concat(this.prefix,"Request").concat(this.property)]():this.target.requestFullscreen())}},{key:"exit",value:function(){if(this.enabled)if(X.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),this.player.play();else if(!t.native||this.forceFallback)Je.call(this,!1);else if(this.prefix){if(!K(this.prefix)){var e="moz"===this.prefix?"Cancel":"Exit";document["".concat(this.prefix).concat(e).concat(this.property)]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}},{key:"toggle",value:function(){this.active?this.exit():this.enter()}},{key:"usingNative",get:function(){return t.native&&!this.forceFallback}},{key:"enabled",get:function(){return(t.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function(){return!!this.enabled&&(!t.native||this.forceFallback?fe(this.target,this.player.config.classNames.fullscreen.fallback):(this.prefix?document["".concat(this.prefix).concat(this.property,"Element")]:document.fullscreenElement)===this.target)}},{key:"target",get:function(){return X.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.container}}],[{key:"native",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(z(document.exitFullscreen))return"";var e="";return["webkit","moz","ms"].some((function(t){return!(!z(document["".concat(t,"ExitFullscreen")])&&!z(document["".concat(t,"CancelFullScreen")])||(e=t,0))})),e}},{key:"property",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}}]),t}();function tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise((function(n,i){var a=new Image,o=function(){delete a.onload,delete a.onerror,(a.naturalWidth>=t?n:i)(a)};Object.assign(a,{onload:o,onerror:o,src:e})}))}var nt={addStyleHook:function(){he(this.elements.container,this.config.selectors.container.replace(".",""),!0),he(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var e=this;if(this.listeners.media(),!this.supported.ui)return this.debug.warn("Basic support only for ".concat(this.provider," ").concat(this.type)),void nt.toggleNativeControls.call(this,!0);B(this.elements.controls)||(Be.inject.call(this),this.listeners.controls()),nt.toggleNativeControls.call(this),this.isHTML5&&qe.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Be.updateVolume.call(this),Be.timeUpdate.call(this),nt.checkPlaying.call(this),he(this.elements.container,this.config.classNames.pip.supported,we.pip&&this.isHTML5&&this.isVideo),he(this.elements.container,this.config.classNames.airplay.supported,we.airplay&&this.isHTML5),he(this.elements.container,this.config.classNames.isIos,X.isIos),he(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout((function(){te.call(e,e.media,"ready")}),0),nt.setTitle.call(this),this.poster&&nt.setPoster.call(this,this.poster,!1).catch((function(){})),this.config.duration&&Be.durationUpdate.call(this)},setTitle:function(){var e=Me("play",this.config);if(L(this.config.title)&&!K(this.config.title)&&(e+=", ".concat(this.config.title)),Array.from(this.elements.buttons.play||[]).forEach((function(t){t.setAttribute("aria-label",e)})),this.isEmbed){var t=ge.call(this,"iframe");if(!B(t))return;var n=K(this.config.title)?"video":this.config.title,i=Me("frameTitle",this.config);t.setAttribute("title",i.replace("{title}",n))}},togglePoster:function(e){he(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster:function(e){var t=this;return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]||!this.poster?(this.media.setAttribute("poster",e),function(){var e=this;return new Promise((function(t){return e.ready?setTimeout(t,0):Q.call(e,e.elements.container,"ready",t)})).then((function(){}))}.call(this).then((function(){return tt(e)})).catch((function(n){throw e===t.poster&&nt.togglePoster.call(t,!1),n})).then((function(){if(e!==t.poster)throw new Error("setPoster cancelled by later call to setPoster")})).then((function(){return Object.assign(t.elements.poster.style,{backgroundImage:"url('".concat(e,"')"),backgroundSize:""}),nt.togglePoster.call(t,!0),e}))):Promise.reject(new Error("Poster already set"))},checkPlaying:function(e){var t=this;he(this.elements.container,this.config.classNames.playing,this.playing),he(this.elements.container,this.config.classNames.paused,this.paused),he(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach((function(e){Object.assign(e,{pressed:t.playing})})),H(e)&&"timeupdate"===e.type||nt.toggleControls.call(this)},checkLoading:function(e){var t=this;this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout((function(){he(t.elements.container,t.config.classNames.loading,t.loading),nt.toggleControls.call(t)}),this.loading?250:0)},toggleControls:function(e){var t=this.elements.controls;if(t&&this.config.hideControls){var n=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||n))}}},it=function(){function t(n){e(this,t),this.player=n,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}return n(t,[{key:"handleKey",value:function(e){var t=this.player,n=t.elements,i=e.keyCode?e.keyCode:e.which,a="keydown"===e.type,o=a&&i===this.lastKey;if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)&&D(i))if(a){var r=document.activeElement;if(B(r)){var c=t.config.selectors.editable;if(r!==n.inputs.seek&&me(r,c))return;if(32===e.which&&me(r,'button, [role^="menuitem"]'))return}switch([32,37,38,39,40,48,49,50,51,52,53,54,56,57,67,70,73,75,76,77,79].includes(i)&&(e.preventDefault(),e.stopPropagation()),i){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:o||(t.currentTime=t.duration/10*(i-48));break;case 32:case 75:o||t.togglePlay();break;case 38:t.increaseVolume(.1);break;case 40:t.decreaseVolume(.1);break;case 77:o||(t.muted=!t.muted);break;case 39:t.forward();break;case 37:t.rewind();break;case 70:t.fullscreen.toggle();break;case 67:o||t.toggleCaptions();break;case 76:t.loop=!t.loop}27===i&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null}},{key:"toggleMenu",value:function(e){Be.toggleMenu.call(this.player,e)}},{key:"firstTouch",value:function(){var e=this.player,t=e.elements;e.touch=!0,he(t.container,e.config.classNames.isTouch,!0)}},{key:"setTabFocus",value:function(e){var t=this.player,n=t.elements;if(clearTimeout(this.focusTimer),"keydown"!==e.type||9===e.which){"keydown"===e.type&&(this.lastKeyDown=e.timeStamp);var i,a=e.timeStamp-this.lastKeyDown<=20;("focus"!==e.type||a)&&(i=t.config.classNames.tabFocus,he(be.call(t,".".concat(i)),i,!1),this.focusTimer=setTimeout((function(){var e=document.activeElement;n.container.contains(e)&&he(document.activeElement,t.config.classNames.tabFocus,!0)}),10))}}},{key:"global",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.player;t.config.keyboard.global&&Z.call(t,window,"keydown keyup",this.handleKey,e,!1),Z.call(t,document.body,"click",this.toggleMenu,e),ee.call(t,document.body,"touchstart",this.firstTouch),Z.call(t,document.body,"keydown focus blur",this.setTabFocus,e,!1,!0)}},{key:"container",value:function(){var e=this.player,t=e.config,n=e.elements,i=e.timers;!t.keyboard.global&&t.keyboard.focused&&Q.call(e,n.container,"keydown keyup",this.handleKey,!1),Q.call(e,n.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",(function(t){var a=n.controls;a&&"enterfullscreen"===t.type&&(a.pressed=!1,a.hover=!1);var o=0;["touchstart","touchmove","mousemove"].includes(t.type)&&(nt.toggleControls.call(e,!0),o=e.touch?3e3:2e3),clearTimeout(i.controls),i.controls=setTimeout((function(){return nt.toggleControls.call(e,!1)}),o)}));var a=function(t){if(!t)return _e.call(e);var i=n.container.getBoundingClientRect(),a=i.width,o=i.height;return _e.call(e,"".concat(a,":").concat(o))},r=function(){clearTimeout(i.resized),i.resized=setTimeout(a,50)};Q.call(e,n.container,"enterfullscreen exitfullscreen",(function(t){var i=e.fullscreen,c=i.target,s=i.usingNative;if(c===n.container&&(e.isEmbed||!K(e.config.ratio))){var l="enterfullscreen"===t.type,u=a(l);u.padding,!function(t,n,i){if(e.isVimeo){var a=e.elements.wrapper.firstChild,r=o(t,2)[1],c=o(ke.call(e),2),s=c[0],l=c[1];a.style.maxWidth=i?"".concat(r/l*s,"px"):null,a.style.margin=i?"0 auto":null}}(u.ratio,0,l),s||(l?Q.call(e,window,"resize",r):J.call(e,window,"resize",r))}}))}},{key:"media",value:function(){var e=this,t=this.player,n=t.elements;if(Q.call(t,t.media,"timeupdate seeking seeked",(function(e){return Be.timeUpdate.call(t,e)})),Q.call(t,t.media,"durationchange loadeddata loadedmetadata",(function(e){return Be.durationUpdate.call(t,e)})),Q.call(t,t.media,"canplay loadeddata",(function(){pe(n.volume,!t.hasAudio),pe(n.buttons.mute,!t.hasAudio)})),Q.call(t,t.media,"ended",(function(){t.isHTML5&&t.isVideo&&t.config.resetOnEnd&&t.restart()})),Q.call(t,t.media,"progress playing seeking seeked",(function(e){return Be.updateProgress.call(t,e)})),Q.call(t,t.media,"volumechange",(function(e){return Be.updateVolume.call(t,e)})),Q.call(t,t.media,"playing play pause ended emptied timeupdate",(function(e){return nt.checkPlaying.call(t,e)})),Q.call(t,t.media,"waiting canplay seeked playing",(function(e){return nt.checkLoading.call(t,e)})),t.supported.ui&&t.config.clickToPlay&&!t.isAudio){var i=ge.call(t,".".concat(t.config.classNames.video));if(!B(i))return;Q.call(t,n.container,"click",(function(a){([n.container,i].includes(a.target)||i.contains(a.target))&&(t.touch&&t.config.hideControls||(t.ended?(e.proxy(a,t.restart,"restart"),e.proxy(a,t.play,"play")):e.proxy(a,t.togglePlay,"play")))}))}t.supported.ui&&t.config.disableContextMenu&&Q.call(t,n.wrapper,"contextmenu",(function(e){e.preventDefault()}),!1),Q.call(t,t.media,"volumechange",(function(){t.storage.set({volume:t.volume,muted:t.muted})})),Q.call(t,t.media,"ratechange",(function(){Be.updateSetting.call(t,"speed"),t.storage.set({speed:t.speed})})),Q.call(t,t.media,"qualitychange",(function(e){Be.updateSetting.call(t,"quality",null,e.detail.quality)})),Q.call(t,t.media,"ready qualitychange",(function(){Be.setDownloadUrl.call(t)}));var a=t.config.events.concat(["keyup","keydown"]).join(" ");Q.call(t,t.media,a,(function(e){var i=e.detail,a=void 0===i?{}:i;"error"===e.type&&(a=t.media.error),te.call(t,n.container,e.type,!0,a)}))}},{key:"proxy",value:function(e,t,n){var i=this.player,a=i.config.listeners[n],o=!0;z(a)&&(o=a.call(i,e)),o&&z(t)&&t.call(i,e)}},{key:"bind",value:function(e,t,n,i){var a=this,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=this.player,c=r.config.listeners[i],s=z(c);Q.call(r,e,t,(function(e){return a.proxy(e,n,i)}),o&&!s)}},{key:"controls",value:function(){var e=this,t=this.player,n=t.elements,i=X.isIE?"change":"input";if(n.buttons.play&&Array.from(n.buttons.play).forEach((function(n){e.bind(n,"click",t.togglePlay,"play")})),this.bind(n.buttons.restart,"click",t.restart,"restart"),this.bind(n.buttons.rewind,"click",t.rewind,"rewind"),this.bind(n.buttons.fastForward,"click",t.forward,"fastForward"),this.bind(n.buttons.mute,"click",(function(){t.muted=!t.muted}),"mute"),this.bind(n.buttons.captions,"click",(function(){return t.toggleCaptions()})),this.bind(n.buttons.download,"click",(function(){te.call(t,t.media,"download")}),"download"),this.bind(n.buttons.fullscreen,"click",(function(){t.fullscreen.toggle()}),"fullscreen"),this.bind(n.buttons.pip,"click",(function(){t.pip="toggle"}),"pip"),this.bind(n.buttons.airplay,"click",t.airplay,"airplay"),this.bind(n.buttons.settings,"click",(function(e){e.stopPropagation(),Be.toggleMenu.call(t,e)})),this.bind(n.buttons.settings,"keyup",(function(e){var n=e.which;[13,32].includes(n)&&(13!==n?(e.preventDefault(),e.stopPropagation(),Be.toggleMenu.call(t,e)):Be.focusFirstMenuItem.call(t,null,!0))}),null,!1),this.bind(n.settings.menu,"keydown",(function(e){27===e.which&&Be.toggleMenu.call(t,e)})),this.bind(n.inputs.seek,"mousedown mousemove",(function(e){var t=n.progress.getBoundingClientRect(),i=100/t.width*(e.pageX-t.left);e.currentTarget.setAttribute("seek-value",i)})),this.bind(n.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",(function(e){var n=e.currentTarget,i=e.keyCode?e.keyCode:e.which;if(!F(e)||39===i||37===i){t.lastSeekTime=Date.now();var a=n.hasAttribute("play-on-seeked"),o=["mouseup","touchend","keyup"].includes(e.type);a&&o?(n.removeAttribute("play-on-seeked"),t.play()):!o&&t.playing&&(n.setAttribute("play-on-seeked",""),t.pause())}})),X.isIos){var a=be.call(t,'input[type="range"]');Array.from(a).forEach((function(t){return e.bind(t,i,(function(e){return $(e.target)}))}))}this.bind(n.inputs.seek,i,(function(e){var n=e.currentTarget,i=n.getAttribute("seek-value");K(i)&&(i=n.value),n.removeAttribute("seek-value"),t.currentTime=i/n.max*t.duration}),"seek"),this.bind(n.progress,"mouseenter mouseleave mousemove",(function(e){return Be.updateSeekTooltip.call(t,e)})),this.bind(n.progress,"mousemove touchmove",(function(e){var n=t.previewThumbnails;n&&n.loaded&&n.startMove(e)})),this.bind(n.progress,"mouseleave click",(function(){var e=t.previewThumbnails;e&&e.loaded&&e.endMove(!1,!0)})),this.bind(n.progress,"mousedown touchstart",(function(e){var n=t.previewThumbnails;n&&n.loaded&&n.startScrubbing(e)})),this.bind(n.progress,"mouseup touchend",(function(e){var n=t.previewThumbnails;n&&n.loaded&&n.endScrubbing(e)})),X.isWebkit&&Array.from(be.call(t,'input[type="range"]')).forEach((function(n){e.bind(n,"input",(function(e){return Be.updateRangeFill.call(t,e.target)}))})),t.config.toggleInvert&&!B(n.display.duration)&&this.bind(n.display.currentTime,"click",(function(){0!==t.currentTime&&(t.config.invertTime=!t.config.invertTime,Be.timeUpdate.call(t))})),this.bind(n.inputs.volume,i,(function(e){t.volume=e.target.value}),"volume"),this.bind(n.controls,"mouseenter mouseleave",(function(e){n.controls.hover=!t.touch&&"mouseenter"===e.type})),this.bind(n.controls,"mousedown mouseup touchstart touchend touchcancel",(function(e){n.controls.pressed=["mousedown","touchstart"].includes(e.type)})),this.bind(n.controls,"focusin",(function(){var i=t.config,a=t.timers;he(n.controls,i.classNames.noTransition,!0),nt.toggleControls.call(t,!0),setTimeout((function(){he(n.controls,i.classNames.noTransition,!1)}),0);var o=e.touch?3e3:4e3;clearTimeout(a.controls),a.controls=setTimeout((function(){return nt.toggleControls.call(t,!1)}),o)})),this.bind(n.inputs.volume,"wheel",(function(e){var n=e.webkitDirectionInvertedFromDevice,i=o([e.deltaX,-e.deltaY].map((function(e){return n?-e:e})),2),a=i[0],r=i[1],c=Math.sign(Math.abs(a)>Math.abs(r)?a:r);t.increaseVolume(c/50);var s=t.media.volume;(1===c&&s<1||-1===c&&s>0)&&e.preventDefault()}),"volume",!1)}}]),t}();"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i||"undefined"!=typeof self&&self;var at=function(e,t){return function(e,t){e.exports=function(){var e=function(){},t={},n={},i={};function a(e,t){if(e){var a=i[e];if(n[e]=t,a)for(;a.length;)a[0](e,t),a.splice(0,1)}}function o(t,n){t.call&&(t={success:t}),n.length?(t.error||e)(n):(t.success||e)(t)}function r(t,n,i,a){var o,c,s=document,l=i.async,u=(i.numRetries||0)+1,d=i.before||e,p=t.replace(/^(css|img)!/,"");a=a||0,/(^css!|\.css$)/.test(t)?((c=s.createElement("link")).rel="stylesheet",c.href=p,(o="hideFocus"in c)&&c.relList&&(o=0,c.rel="preload",c.as="style")):/(^img!|\.(png|gif|jpg|svg)$)/.test(t)?(c=s.createElement("img")).src=p:((c=s.createElement("script")).src=t,c.async=void 0===l||l),c.onload=c.onerror=c.onbeforeload=function(e){var s=e.type[0];if(o)try{c.sheet.cssText.length||(s="e")}catch(e){18!=e.code&&(s="e")}if("e"==s){if((a+=1)<u)return r(t,n,i,a)}else if("preload"==c.rel&&"style"==c.as)return c.rel="stylesheet";n(t,s,e.defaultPrevented)},!1!==d(t,c)&&s.head.appendChild(c)}function c(e,n,i){var c,s;if(n&&n.trim&&(c=n),s=(c?i:n)||{},c){if(c in t)throw"LoadJS";t[c]=!0}function l(t,n){!function(e,t,n){var i,a,o=(e=e.push?e:[e]).length,c=o,s=[];for(i=function(e,n,i){if("e"==n&&s.push(e),"b"==n){if(!i)return;s.push(e)}--o||t(s)},a=0;a<c;a++)r(e[a],i,n)}(e,(function(e){o(s,e),t&&o({success:t,error:n},e),a(c,e)}),s)}if(s.returnPromise)return new Promise(l);l()}return c.ready=function(e,t){return function(e,t){e=e.push?e:[e];var a,o,r,c=[],s=e.length,l=s;for(a=function(e,n){n.length&&c.push(e),--l||t(c)};s--;)o=e[s],(r=n[o])?a(o,r):(i[o]=i[o]||[]).push(a)}(e,(function(e){o(t,e)})),c},c.done=function(e){a(e,[])},c.reset=function(){t={},n={},i={}},c.isDefined=function(e){return e in t},c}()}(t={exports:{}}),t.exports}();function ot(e){return new Promise((function(t,n){at(e,{success:t,error:n})}))}function rt(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,te.call(this,this.media,e?"play":"pause"))}var ct={setup:function(){var e=this;he(this.elements.wrapper,this.config.classNames.embed,!0),_e.call(this),E(window.Vimeo)?ct.ready.call(this):ot(this.config.urls.vimeo.sdk).then((function(){ct.ready.call(e)})).catch((function(t){e.debug.warn("Vimeo SDK (player.js) failed to load",t)}))},ready:function(){var e=this,t=this,n=t.config.vimeo,i=Fe(ie({},{loop:t.config.loop.active,autoplay:t.autoplay,muted:t.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative},n)),a=t.media.getAttribute("src");K(a)&&(a=t.media.getAttribute(t.config.attributes.embed.id));var r,c=K(r=a)?null:D(Number(r))?r:r.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:r,s=re("iframe"),l=Ne(t.config.urls.vimeo.iframe,c,i);s.setAttribute("src",l),s.setAttribute("allowfullscreen",""),s.setAttribute("allowtransparency",""),s.setAttribute("allow","autoplay");var u=re("div",{poster:t.poster,class:t.config.classNames.embedContainer});u.appendChild(s),t.media=ue(u,t.media),De(Ne(t.config.urls.vimeo.api,c),"json").then((function(e){if(!K(e)){var n=new URL(e[0].thumbnail_large);n.pathname="".concat(n.pathname.split("_")[0],".jpg"),nt.setPoster.call(t,n.href).catch((function(){}))}})),t.embed=new window.Vimeo.Player(s,{autopause:t.config.autopause,muted:t.muted}),t.media.paused=!0,t.media.currentTime=0,t.supported.ui&&t.embed.disableTextTrack(),t.media.play=function(){return rt.call(t,!0),t.embed.play()},t.media.pause=function(){return rt.call(t,!1),t.embed.pause()},t.media.stop=function(){t.pause(),t.currentTime=0};var d=t.media.currentTime;Object.defineProperty(t.media,"currentTime",{get:function(){return d},set:function(e){var n=t.embed,i=t.media,a=t.paused,o=t.volume,r=a&&!n.hasPlayed;i.seeking=!0,te.call(t,i,"seeking"),Promise.resolve(r&&n.setVolume(0)).then((function(){return n.setCurrentTime(e)})).then((function(){return r&&n.pause()})).then((function(){return r&&n.setVolume(o)})).catch((function(){}))}});var p=t.config.speed.selected;Object.defineProperty(t.media,"playbackRate",{get:function(){return p},set:function(e){t.embed.setPlaybackRate(e).then((function(){p=e,te.call(t,t.media,"ratechange")})).catch((function(e){"Error"===e.name&&Be.setSpeedMenu.call(t,[])}))}});var h=t.config.volume;Object.defineProperty(t.media,"volume",{get:function(){return h},set:function(e){t.embed.setVolume(e).then((function(){h=e,te.call(t,t.media,"volumechange")}))}});var f=t.config.muted;Object.defineProperty(t.media,"muted",{get:function(){return f},set:function(e){var n=!!R(e)&&e;t.embed.setVolume(n?0:t.config.volume).then((function(){f=n,te.call(t,t.media,"volumechange")}))}});var m,b=t.config.loop;Object.defineProperty(t.media,"loop",{get:function(){return b},set:function(e){var n=R(e)?e:t.config.loop.active;t.embed.setLoop(n).then((function(){b=n}))}}),t.embed.getVideoUrl().then((function(e){m=e,Be.setDownloadUrl.call(t)})).catch((function(t){e.debug.warn(t)})),Object.defineProperty(t.media,"currentSrc",{get:function(){return m}}),Object.defineProperty(t.media,"ended",{get:function(){return t.currentTime===t.duration}}),Promise.all([t.embed.getVideoWidth(),t.embed.getVideoHeight()]).then((function(n){var i=o(n,2),a=i[0],r=i[1];t.embed.ratio=[a,r],_e.call(e)})),t.embed.setAutopause(t.config.autopause).then((function(e){t.config.autopause=e})),t.embed.getVideoTitle().then((function(n){t.config.title=n,nt.setTitle.call(e)})),t.embed.getCurrentTime().then((function(e){d=e,te.call(t,t.media,"timeupdate")})),t.embed.getDuration().then((function(e){t.media.duration=e,te.call(t,t.media,"durationchange")})),t.embed.getTextTracks().then((function(e){t.media.textTracks=e,qe.setup.call(t)})),t.embed.on("cuechange",(function(e){var n=e.cues,i=(void 0===n?[]:n).map((function(e){return function(e){var t=document.createDocumentFragment(),n=document.createElement("div");return t.appendChild(n),n.innerHTML=e,t.firstChild.innerText}(e.text)}));qe.updateCues.call(t,i)})),t.embed.on("loaded",(function(){t.embed.getPaused().then((function(e){rt.call(t,!e),e||te.call(t,t.media,"playing")})),B(t.embed.element)&&t.supported.ui&&t.embed.element.setAttribute("tabindex",-1)})),t.embed.on("play",(function(){rt.call(t,!0),te.call(t,t.media,"playing")})),t.embed.on("pause",(function(){rt.call(t,!1)})),t.embed.on("timeupdate",(function(e){t.media.seeking=!1,d=e.seconds,te.call(t,t.media,"timeupdate")})),t.embed.on("progress",(function(e){t.media.buffered=e.percent,te.call(t,t.media,"progress"),1===parseInt(e.percent,10)&&te.call(t,t.media,"canplaythrough"),t.embed.getDuration().then((function(e){e!==t.media.duration&&(t.media.duration=e,te.call(t,t.media,"durationchange"))}))})),t.embed.on("seeked",(function(){t.media.seeking=!1,te.call(t,t.media,"seeked")})),t.embed.on("ended",(function(){t.media.paused=!0,te.call(t,t.media,"ended")})),t.embed.on("error",(function(e){t.media.error=e,te.call(t,t.media,"error")})),setTimeout((function(){return nt.build.call(t)}),0)}};function st(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,te.call(this,this.media,e?"play":"pause"))}function lt(e){return e.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}var ut,dt={setup:function(){var e=this;if(he(this.elements.wrapper,this.config.classNames.embed,!0),E(window.YT)&&z(window.YT.Player))dt.ready.call(this);else{var t=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){z(t)&&t(),dt.ready.call(e)},ot(this.config.urls.youtube.sdk).catch((function(t){e.debug.warn("YouTube API failed to load",t)}))}},getTitle:function(e){var t=this;De(Ne(this.config.urls.youtube.api,e)).then((function(e){if(E(e)){var n=e.title,i=e.height,a=e.width;t.config.title=n,nt.setTitle.call(t),t.embed.ratio=[a,i]}_e.call(t)})).catch((function(){_e.call(t)}))},ready:function(){var e=this,t=e.media&&e.media.getAttribute("id");if(K(t)||!t.startsWith("youtube-")){var n=e.media.getAttribute("src");K(n)&&(n=e.media.getAttribute(this.config.attributes.embed.id));var i,a,o=K(i=n)?null:i.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:i,r=(a=e.provider,"".concat(a,"-").concat(Math.floor(1e4*Math.random()))),c=re("div",{id:r,poster:e.poster});e.media=ue(c,e.media);var s=function(e){return"https://i.ytimg.com/vi/".concat(o,"/").concat(e,"default.jpg")};tt(s("maxres"),121).catch((function(){return tt(s("sd"),121)})).catch((function(){return tt(s("hq"))})).then((function(t){return nt.setPoster.call(e,t.src)})).then((function(t){t.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")})).catch((function(){}));var l=e.config.youtube;e.embed=new window.YT.Player(r,{videoId:o,host:lt(l),playerVars:ie({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui?0:1,disablekb:1,playsinline:e.config.fullscreen.iosNative?0:1,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},l),events:{onError:function(t){if(!e.media.error){var n=t.data,i={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[n]||"An unknown error occured";e.media.error={code:n,message:i},te.call(e,e.media,"error")}},onPlaybackRateChange:function(t){var n=t.target;e.media.playbackRate=n.getPlaybackRate(),te.call(e,e.media,"ratechange")},onReady:function(t){if(!z(e.media.play)){var n=t.target;dt.getTitle.call(e,o),e.media.play=function(){st.call(e,!0),n.playVideo()},e.media.pause=function(){st.call(e,!1),n.pauseVideo()},e.media.stop=function(){n.stopVideo()},e.media.duration=n.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:function(){return Number(n.getCurrentTime())},set:function(t){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,te.call(e,e.media,"seeking"),n.seekTo(t)}}),Object.defineProperty(e.media,"playbackRate",{get:function(){return n.getPlaybackRate()},set:function(e){n.setPlaybackRate(e)}});var i=e.config.volume;Object.defineProperty(e.media,"volume",{get:function(){return i},set:function(t){i=t,n.setVolume(100*i),te.call(e,e.media,"volumechange")}});var a=e.config.muted;Object.defineProperty(e.media,"muted",{get:function(){return a},set:function(t){var i=R(t)?t:a;a=i,n[i?"mute":"unMute"](),te.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:function(){return n.getVideoUrl()}}),Object.defineProperty(e.media,"ended",{get:function(){return e.currentTime===e.duration}}),e.options.speed=n.getAvailablePlaybackRates(),e.supported.ui&&e.media.setAttribute("tabindex",-1),te.call(e,e.media,"timeupdate"),te.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval((function(){e.media.buffered=n.getVideoLoadedFraction(),(null===e.media.lastBuffered||e.media.lastBuffered<e.media.buffered)&&te.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,1===e.media.buffered&&(clearInterval(e.timers.buffering),te.call(e,e.media,"canplaythrough"))}),200),setTimeout((function(){return nt.build.call(e)}),50)}},onStateChange:function(t){var n=t.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(t.data)&&(e.media.seeking=!1,te.call(e,e.media,"seeked")),t.data){case-1:te.call(e,e.media,"timeupdate"),e.media.buffered=n.getVideoLoadedFraction(),te.call(e,e.media,"progress");break;case 0:st.call(e,!1),e.media.loop?(n.stopVideo(),n.playVideo()):te.call(e,e.media,"ended");break;case 1:e.config.autoplay||!e.media.paused||e.embed.hasPlayed?(st.call(e,!0),te.call(e,e.media,"playing"),e.timers.playing=setInterval((function(){te.call(e,e.media,"timeupdate")}),50),e.media.duration!==n.getDuration()&&(e.media.duration=n.getDuration(),te.call(e,e.media,"durationchange"))):e.media.pause();break;case 2:e.muted||e.embed.unMute(),st.call(e,!1)}te.call(e,e.elements.container,"statechange",!1,{code:t.data})}}})}}},pt={setup:function(){this.media?(he(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),he(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&he(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=re("div",{class:this.config.classNames.video}),ae(this.media,this.elements.wrapper),this.elements.poster=re("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?Se.extend.call(this):this.isYouTube?dt.setup.call(this):this.isVimeo&&ct.setup.call(this)):this.debug.warn("No media element found!")}},ht=function(){function t(n){var i=this;e(this,t),this.player=n,this.config=n.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((function(e,t){i.on("loaded",e),i.on("error",t)})),this.load()}return n(t,[{key:"load",value:function(){var e=this;this.enabled&&(E(window.google)&&E(window.google.ima)?this.ready():ot(this.player.config.urls.googleIMA.sdk).then((function(){e.ready()})).catch((function(){e.trigger("error",new Error("Google IMA SDK failed to load"))})))}},{key:"ready",value:function(){var e,t=this;this.enabled||((e=this).manager&&e.manager.destroy(),e.elements.displayContainer&&e.elements.displayContainer.destroy(),e.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then((function(){t.clearSafetyTimer("onAdsManagerLoaded()")})),this.listeners(),this.setupIMA()}},{key:"setupIMA",value:function(){this.elements.container=re("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.requestAds()}},{key:"requestAds",value:function(){var e=this,t=this.player.elements.container;try{this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(t){return e.onAdsManagerLoaded(t)}),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(function(t){return e.onAdError(t)}),!1);var n=new google.ima.AdsRequest;n.adTagUrl=this.tagUrl,n.linearAdSlotWidth=t.offsetWidth,n.linearAdSlotHeight=t.offsetHeight,n.nonLinearAdSlotWidth=t.offsetWidth,n.nonLinearAdSlotHeight=t.offsetHeight,n.forceNonLinearFullSlot=!1,n.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(n)}catch(e){this.onAdError(e)}}},{key:"pollCountdown",value:function(){var e=this;if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0]))return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval((function(){var t=Ve(Math.max(e.manager.getRemainingTime(),0)),n="".concat(Me("advertisement",e.player.config)," - ").concat(t);e.elements.container.setAttribute("data-badge-text",n)}),100)}},{key:"onAdsManagerLoaded",value:function(e){var t=this;if(this.enabled){var n=new google.ima.AdsRenderingSettings;n.restoreCustomPlaybackStateOnAdBreakComplete=!0,n.enablePreloading=!0,this.manager=e.getAdsManager(this.player,n),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(function(e){return t.onAdError(e)})),Object.keys(google.ima.AdEvent.Type).forEach((function(e){t.manager.addEventListener(google.ima.AdEvent.Type[e],(function(e){return t.onAdEvent(e)}))})),this.trigger("loaded")}}},{key:"addCuePoints",value:function(){var e=this;K(this.cuePoints)||this.cuePoints.forEach((function(t){if(0!==t&&-1!==t&&t<e.player.duration){var n=e.player.elements.progress;if(B(n)){var i=100/e.player.duration*t,a=re("span",{class:e.player.config.classNames.cues});a.style.left="".concat(i.toString(),"%"),n.appendChild(a)}}}))}},{key:"onAdEvent",value:function(e){var t=this,n=this.player.elements.container,i=e.getAd(),a=e.getAdData();switch(function(e){te.call(t.player,t.player.media,"ads".concat(e.replace(/_/g,"").toLowerCase()))}(e.type),e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i.isLinear()||(i.width=n.offsetWidth,i.height=n.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.loadAds();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:a.adError&&this.player.debug.warn("Non-fatal ad error: ".concat(a.adError.getMessage()))}}},{key:"onAdError",value:function(e){this.cancel(),this.player.debug.warn("Ads error",e)}},{key:"listeners",value:function(){var e,t=this,n=this.player.elements.container;this.player.on("canplay",(function(){t.addCuePoints()})),this.player.on("ended",(function(){t.loader.contentComplete()})),this.player.on("timeupdate",(function(){e=t.player.currentTime})),this.player.on("seeked",(function(){var n=t.player.currentTime;K(t.cuePoints)||t.cuePoints.forEach((function(i,a){e<i&&i<n&&(t.manager.discardAdBreak(),t.cuePoints.splice(a,1))}))})),window.addEventListener("resize",(function(){t.manager&&t.manager.resize(n.offsetWidth,n.offsetHeight,google.ima.ViewMode.NORMAL)}))}},{key:"play",value:function(){var e=this,t=this.player.elements.container;this.managerPromise||this.resumeContent(),this.managerPromise.then((function(){e.manager.setVolume(e.player.volume),e.elements.displayContainer.initialize();try{e.initialized||(e.manager.init(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL),e.manager.start()),e.initialized=!0}catch(t){e.onAdError(t)}})).catch((function(){}))}},{key:"resumeContent",value:function(){this.elements.container.style.zIndex="",this.playing=!1,this.player.media.play()}},{key:"pauseContent",value:function(){this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}},{key:"cancel",value:function(){this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}},{key:"loadAds",value:function(){var e=this;this.managerPromise.then((function(){e.manager&&e.manager.destroy(),e.managerPromise=new Promise((function(t){e.on("loaded",t),e.player.debug.log(e.manager)})),e.requestAds()})).catch((function(){}))}},{key:"trigger",value:function(e){for(var t=this,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var o=this.events[e];U(o)&&o.forEach((function(e){z(e)&&e.apply(t,i)}))}},{key:"on",value:function(e,t){return U(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this}},{key:"startSafetyTimer",value:function(e,t){var n=this;this.player.debug.log("Safety timer invoked from: ".concat(t)),this.safetyTimer=setTimeout((function(){n.cancel(),n.clearSafetyTimer("startSafetyTimer()")}),e)}},{key:"clearSafetyTimer",value:function(e){M(this.safetyTimer)||(this.player.debug.log("Safety timer cleared from: ".concat(e)),clearTimeout(this.safetyTimer),this.safetyTimer=null)}},{key:"enabled",get:function(){var e=this.config;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!K(e.publisherId)||W(e.tagUrl))}},{key:"tagUrl",get:function(){var e=this.config;if(W(e.tagUrl))return e.tagUrl;var t={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:this.publisherId};return"".concat("https://go.aniview.com/api/adserver6/vast/","?").concat(Fe(t))}}]),t}(),ft=function(){function t(n){e(this,t),this.player=n,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}return n(t,[{key:"load",value:function(){var e=this;this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then((function(){e.enabled&&(e.render(),e.determineContainerAutoSizing(),e.loaded=!0)}))}},{key:"getThumbnails",value:function(){var e=this;return new Promise((function(t){var n=e.player.config.previewThumbnails.src;if(K(n))throw new Error("Missing previewThumbnails.src config attribute");var i=(L(n)?[n]:n).map((function(t){return e.getThumbnail(t)}));Promise.all(i).then((function(){e.thumbnails.sort((function(e,t){return e.height-t.height})),e.player.debug.log("Preview thumbnails",e.thumbnails),t()}))}))}},{key:"getThumbnail",value:function(e){var t=this;return new Promise((function(n){De(e).then((function(i){var a,r,c={frames:(a=i,r=[],a.split(/\r\n\r\n|\n\n|\r\r/).forEach((function(e){var t={};e.split(/\r\n|\n|\r/).forEach((function(e){if(D(t.startTime)){if(!K(e.trim())&&K(t.text)){var n=e.trim().split("#xywh="),i=o(n,1);if(t.text=i[0],n[1]){var a=o(n[1].split(","),4);t.x=a[0],t.y=a[1],t.w=a[2],t.h=a[3]}}}else{var r=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);r&&(t.startTime=60*Number(r[1]||0)*60+60*Number(r[2])+Number(r[3])+Number("0.".concat(r[4])),t.endTime=60*Number(r[6]||0)*60+60*Number(r[7])+Number(r[8])+Number("0.".concat(r[9])))}})),t.text&&r.push(t)})),r),height:null,urlPrefix:""};c.frames[0].text.startsWith("/")||c.frames[0].text.startsWith("http://")||c.frames[0].text.startsWith("https://")||(c.urlPrefix=e.substring(0,e.lastIndexOf("/")+1));var s=new Image;s.onload=function(){c.height=s.naturalHeight,c.width=s.naturalWidth,t.thumbnails.push(c),n()},s.src=c.urlPrefix+c.frames[0].text}))}))}},{key:"startMove",value:function(e){if(this.loaded&&H(e)&&["touchmove","mousemove"].includes(e.type)&&this.player.media.duration){if("touchmove"===e.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var t=this.player.elements.progress.getBoundingClientRect(),n=100/t.width*(e.pageX-t.left);this.seekTime=this.player.media.duration*(n/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.innerText=Ve(this.seekTime)}this.showImageAtCurrentTime()}}},{key:"endMove",value:function(){this.toggleThumbContainer(!1,!0)}},{key:"startScrubbing",value:function(e){!1!==e.button&&0!==e.button||(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}},{key:"endScrubbing",value:function(){var e=this;this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):ee.call(this.player,this.player.media,"timeupdate",(function(){e.mouseDown||e.toggleScrubbingContainer(!1)}))}},{key:"listeners",value:function(){var e=this;this.player.on("play",(function(){e.toggleThumbContainer(!1,!0)})),this.player.on("seeked",(function(){e.toggleThumbContainer(!1)})),this.player.on("timeupdate",(function(){e.lastTime=e.player.media.currentTime}))}},{key:"render",value:function(){this.elements.thumb.container=re("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=re("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);var e=re("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=re("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.container.appendChild(e),B(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=re("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}},{key:"showImageAtCurrentTime",value:function(){var e=this;this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();var t=this.thumbnails[0].frames.findIndex((function(t){return e.seekTime>=t.startTime&&e.seekTime<=t.endTime})),n=t>=0,i=0;this.mouseDown||this.toggleThumbContainer(n),n&&(this.thumbnails.forEach((function(n,a){e.loadedImages.includes(n.frames[t].text)&&(i=a)})),t!==this.showingThumb&&(this.showingThumb=t,this.loadImage(i)))}},{key:"loadImage",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this.showingThumb,i=this.thumbnails[t],a=i.urlPrefix,o=i.frames[n],r=i.frames[n].text,c=a+r;if(this.currentImageElement&&this.currentImageElement.dataset.filename===r)this.showImage(this.currentImageElement,o,t,n,r,!1),this.currentImageElement.dataset.index=n,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);var s=new Image;s.src=c,s.dataset.index=n,s.dataset.filename=r,this.showingThumbFilename=r,this.player.debug.log("Loading image: ".concat(c)),s.onload=function(){return e.showImage(s,o,t,n,r,!0)},this.loadingImage=s,this.removeOldImages(s)}}},{key:"showImage",value:function(e,t,n,i,a){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];this.player.debug.log("Showing thumb: ".concat(a,". num: ").concat(i,". qual: ").concat(n,". newimg: ").concat(o)),this.setImageSizeAndOffset(e,t),o&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(a)||this.loadedImages.push(a)),this.preloadNearby(i,!0).then(this.preloadNearby(i,!1)).then(this.getHigherQuality(n,e,t,a))}},{key:"removeOldImages",value:function(e){var t=this;Array.from(this.currentImageContainer.children).forEach((function(n){if("img"===n.tagName.toLowerCase()){var i=t.usingSprites?500:1e3;if(n.dataset.index!==e.dataset.index&&!n.dataset.deleting){n.dataset.deleting=!0;var a=t.currentImageContainer;setTimeout((function(){a.removeChild(n),t.player.debug.log("Removing thumb: ".concat(n.dataset.filename))}),i)}}}))}},{key:"preloadNearby",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(i){setTimeout((function(){var a=t.thumbnails[0].frames[e].text;if(t.showingThumbFilename===a){var o;o=n?t.thumbnails[0].frames.slice(e):t.thumbnails[0].frames.slice(0,e).reverse();var r=!1;o.forEach((function(e){var n=e.text;if(n!==a&&!t.loadedImages.includes(n)){r=!0,t.player.debug.log("Preloading thumb filename: ".concat(n));var o=t.thumbnails[0].urlPrefix+n,c=new Image;c.src=o,c.onload=function(){t.player.debug.log("Preloaded thumb filename: ".concat(n)),t.loadedImages.includes(n)||t.loadedImages.push(n),i()}}})),r||i()}}),300)}))}},{key:"getHigherQuality",value:function(e,t,n,i){var a=this;if(e<this.thumbnails.length-1){var o=t.naturalHeight;this.usingSprites&&(o=n.h),o<this.thumbContainerHeight&&setTimeout((function(){a.showingThumbFilename===i&&(a.player.debug.log("Showing higher quality thumb for: ".concat(i)),a.loadImage(e+1))}),300)}}},{key:"toggleThumbContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(n,e),!e&&t&&(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"toggleScrubbingContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(t,e),e||(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"determineContainerAutoSizing",value:function(){this.elements.thumb.imageContainer.clientHeight>20&&(this.sizeSpecifiedInCSS=!0)}},{key:"setThumbContainerSizeAndPos",value:function(){if(!this.sizeSpecifiedInCSS){var e=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);this.elements.thumb.imageContainer.style.height="".concat(this.thumbContainerHeight,"px"),this.elements.thumb.imageContainer.style.width="".concat(e,"px")}this.setThumbContainerPos()}},{key:"setThumbContainerPos",value:function(){var e=this.player.elements.progress.getBoundingClientRect(),t=this.player.elements.container.getBoundingClientRect(),n=this.elements.thumb.container,i=t.left-e.left+10,a=t.right-e.left-n.clientWidth-10,o=this.mousePosX-e.left-n.clientWidth/2;o<i&&(o=i),o>a&&(o=a),n.style.left="".concat(o,"px")}},{key:"setScrubbingContainerSize",value:function(){this.elements.scrubbing.container.style.width="".concat(this.player.media.clientWidth,"px"),this.elements.scrubbing.container.style.height="".concat(this.player.media.clientWidth/this.thumbAspectRatio,"px")}},{key:"setImageSizeAndOffset",value:function(e,t){if(this.usingSprites){var n=this.thumbContainerHeight/t.h;e.style.height="".concat(Math.floor(e.naturalHeight*n),"px"),e.style.width="".concat(Math.floor(e.naturalWidth*n),"px"),e.style.left="-".concat(t.x*n,"px"),e.style.top="-".concat(t.y*n,"px")}}},{key:"enabled",get:function(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}},{key:"currentImageContainer",get:function(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}},{key:"usingSprites",get:function(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}},{key:"thumbAspectRatio",get:function(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}},{key:"thumbContainerHeight",get:function(){return this.mouseDown?Math.floor(this.player.media.clientWidth/this.thumbAspectRatio):Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/8)}},{key:"currentImageElement",get:function(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement},set:function(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}]),t}(),mt={insertElements:function(e,t){var n=this;L(t)?ce(e,this.media,{src:t}):U(t)&&t.forEach((function(t){ce(e,n.media,t)}))},change:function(e){var t=this;ne(e,"sources.length")?(Se.cancelRequests.call(this),this.destroy.call(this,(function(){t.options.quality=[],se(t.media),t.media=null,B(t.elements.container)&&t.elements.container.removeAttribute("class");var n=e.sources,i=e.type,a=o(n,1)[0],r=a.provider,c=void 0===r?Ge.html5:r,s=a.src,l="html5"===c?i:"div",u="html5"===c?{}:{src:s};Object.assign(t,{provider:c,type:i,supported:we.check(i,c,t.config.playsinline),media:re(l,u)}),t.elements.container.appendChild(t.media),R(e.autoplay)&&(t.config.autoplay=e.autoplay),t.isHTML5&&(t.config.crossorigin&&t.media.setAttribute("crossorigin",""),t.config.autoplay&&t.media.setAttribute("autoplay",""),K(e.poster)||(t.poster=e.poster),t.config.loop.active&&t.media.setAttribute("loop",""),t.config.muted&&t.media.setAttribute("muted",""),t.config.playsinline&&t.media.setAttribute("playsinline","")),nt.addStyleHook.call(t),t.isHTML5&&mt.insertElements.call(t,"source",n),t.config.title=e.title,pt.setup.call(t),t.isHTML5&&Object.keys(e).includes("tracks")&&mt.insertElements.call(t,"track",e.tracks),(t.isHTML5||t.isEmbed&&!t.supported.ui)&&nt.build.call(t),t.isHTML5&&t.media.load(),t.previewThumbnails&&t.previewThumbnails.load(),t.fullscreen.update()}),!0)):this.debug.warn("Invalid source format")}},bt=function(){function t(n,i){var a=this;if(e(this,t),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=we.touch,this.media=n,L(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||V(this.media)||U(this.media))&&(this.media=this.media[0]),this.config=ie({},We,t.defaults,i||{},function(){try{return JSON.parse(a.media.getAttribute("data-plyr-config"))}catch(e){return{}}}()),this.elements={container:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new Ze(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",we),!M(this.media)&&B(this.media))if(this.media.plyr)this.debug.warn("Target already setup");else if(this.config.enabled)if(we.check().api){var o=this.media.cloneNode(!0);o.autoplay=!1,this.elements.original=o;var r=this.media.tagName.toLowerCase(),c=null,s=null;switch(r){case"div":if(c=this.media.querySelector("iframe"),B(c)){if(s=He(c.getAttribute("src")),this.provider=function(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?Ge.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?Ge.vimeo:null}(s.toString()),this.elements.container=this.media,this.media=c,this.elements.container.className="",s.search.length){var l=["1","true"];l.includes(s.searchParams.get("autoplay"))&&(this.config.autoplay=!0),l.includes(s.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=l.includes(s.searchParams.get("playsinline")),this.config.youtube.hl=s.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(K(this.provider)||!Object.keys(Ge).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=Xe;break;case"video":case"audio":this.type=r,this.provider=Ge.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=we.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new it(this),this.storage=new Ee(this),this.media.plyr=this,B(this.elements.container)||(this.elements.container=re("div",{tabindex:0}),ae(this.media,this.elements.container)),nt.addStyleHook.call(this),pt.setup.call(this),this.config.debug&&Q.call(this,this.elements.container,this.config.events.join(" "),(function(e){a.debug.log("event: ".concat(e.type))})),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&nt.build.call(this),this.listeners.container(),this.listeners.global(),this.fullscreen=new et(this),this.config.ads.enabled&&(this.ads=new ht(this)),this.isHTML5&&this.config.autoplay&&setTimeout((function(){return a.play()}),10),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new ft(this))):this.debug.error("Setup failed: no support")}else this.debug.error("Setup failed: no support");else this.debug.error("Setup failed: disabled by config");else this.debug.error("Setup failed: no suitable element passed")}return n(t,[{key:"play",value:function(){var e=this;return z(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then((function(){return e.ads.play()})).catch((function(){return e.media.play()})),this.media.play()):null}},{key:"pause",value:function(){this.playing&&z(this.media.pause)&&this.media.pause()}},{key:"togglePlay",value:function(e){(R(e)?e:!this.playing)?this.play():this.pause()}},{key:"stop",value:function(){this.isHTML5?(this.pause(),this.restart()):z(this.media.stop)&&this.media.stop()}},{key:"restart",value:function(){this.currentTime=0}},{key:"rewind",value:function(e){this.currentTime=this.currentTime-(D(e)?e:this.config.seekTime)}},{key:"forward",value:function(e){this.currentTime=this.currentTime+(D(e)?e:this.config.seekTime)}},{key:"increaseVolume",value:function(e){var t=this.media.muted?0:this.volume;this.volume=t+(D(e)?e:0)}},{key:"decreaseVolume",value:function(e){this.increaseVolume(-e)}},{key:"toggleCaptions",value:function(e){qe.toggle.call(this,e,!1)}},{key:"airplay",value:function(){we.airplay&&this.media.webkitShowPlaybackTargetPicker()}},{key:"toggleControls",value:function(e){if(this.supported.ui&&!this.isAudio){var t=fe(this.elements.container,this.config.classNames.hideControls),n=void 0===e?void 0:!e,i=he(this.elements.container,this.config.classNames.hideControls,n);if(i&&this.config.controls.includes("settings")&&!K(this.config.settings)&&Be.toggleMenu.call(this,!1),i!==t){var a=i?"controlshidden":"controlsshown";te.call(this,this.media,a)}return!i}return!1}},{key:"on",value:function(e,t){Q.call(this,this.elements.container,e,t)}},{key:"once",value:function(e,t){ee.call(this,this.elements.container,e,t)}},{key:"off",value:function(e,t){J(this.elements.container,e,t)}},{key:"destroy",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.ready){var i=function(){document.body.style.overflow="",t.embed=null,n?(Object.keys(t.elements).length&&(se(t.elements.buttons.play),se(t.elements.captions),se(t.elements.controls),se(t.elements.wrapper),t.elements.buttons.play=null,t.elements.captions=null,t.elements.controls=null,t.elements.wrapper=null),z(e)&&e()):(function(){this&&this.eventListeners&&(this.eventListeners.forEach((function(e){var t=e.element,n=e.type,i=e.callback,a=e.options;t.removeEventListener(n,i,a)})),this.eventListeners=[])}.call(t),ue(t.elements.original,t.elements.container),te.call(t,t.elements.original,"destroyed",!0),z(e)&&e.call(t.elements.original),t.ready=!1,setTimeout((function(){t.elements=null,t.media=null}),200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(nt.toggleNativeControls.call(this,!0),i()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&z(this.embed.destroy)&&this.embed.destroy(),i()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(i),setTimeout(i,200))}}},{key:"supports",value:function(e){return we.mime.call(this,e)}},{key:"isHTML5",get:function(){return this.provider===Ge.html5}},{key:"isEmbed",get:function(){return this.isYouTube||this.isVimeo}},{key:"isYouTube",get:function(){return this.provider===Ge.youtube}},{key:"isVimeo",get:function(){return this.provider===Ge.vimeo}},{key:"isVideo",get:function(){return this.type===Xe}},{key:"isAudio",get:function(){return this.type===$e}},{key:"playing",get:function(){return Boolean(this.ready&&!this.paused&&!this.ended)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"stopped",get:function(){return Boolean(this.paused&&0===this.currentTime)}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",set:function(e){if(this.duration){var t=D(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log("Seeking to ".concat(this.currentTime," seconds"))}},get:function(){return Number(this.media.currentTime)}},{key:"buffered",get:function(){var e=this.media.buffered;return D(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var e=parseFloat(this.config.duration),t=(this.media||{}).duration,n=D(t)&&t!==1/0?t:0;return e||n}},{key:"volume",set:function(e){var t=e;L(t)&&(t=Number(t)),D(t)||(t=this.storage.get("volume")),D(t)||(t=this.config.volume),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!K(e)&&this.muted&&t>0&&(this.muted=!1)},get:function(){return Number(this.media.volume)}},{key:"muted",set:function(e){var t=e;R(t)||(t=this.storage.get("muted")),R(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t},get:function(){return Boolean(this.media.muted)}},{key:"hasAudio",get:function(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}},{key:"speed",set:function(e){var t=this,n=null;D(e)&&(n=e),D(n)||(n=this.storage.get("speed")),D(n)||(n=this.config.speed.selected);var i=this.minimumSpeed,a=this.maximumSpeed;n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255;return Math.min(Math.max(e,t),n)}(n,i,a),this.config.speed.selected=n,setTimeout((function(){t.media.playbackRate=n}),0)},get:function(){return Number(this.media.playbackRate)}},{key:"minimumSpeed",get:function(){return this.isYouTube?Math.min.apply(Math,r(this.options.speed)):this.isVimeo?.5:.0625}},{key:"maximumSpeed",get:function(){return this.isYouTube?Math.max.apply(Math,r(this.options.speed)):this.isVimeo?2:16}},{key:"quality",set:function(e){var t=this.config.quality,n=this.options.quality;if(n.length){var i=[!K(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(D),a=!0;if(!n.includes(i)){var o=function(e,t){return U(e)&&e.length?e.reduce((function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e})):null}(n,i);this.debug.warn("Unsupported quality option: ".concat(i,", using ").concat(o," instead")),i=o,a=!1}t.selected=i,this.media.quality=i,a&&this.storage.set({quality:i})}},get:function(){return this.media.quality}},{key:"loop",set:function(e){var t=R(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t},get:function(){return Boolean(this.media.loop)}},{key:"source",set:function(e){mt.change.call(this,e)},get:function(){return this.media.currentSrc}},{key:"download",get:function(){var e=this.config.urls.download;return W(e)?e:this.source},set:function(e){W(e)&&(this.config.urls.download=e,Be.setDownloadUrl.call(this))}},{key:"poster",set:function(e){this.isVideo?nt.setPoster.call(this,e,!1).catch((function(){})):this.debug.warn("Poster can only be set for video")},get:function(){return this.isVideo?this.media.getAttribute("poster"):null}},{key:"ratio",get:function(){if(!this.isVideo)return null;var e=xe(ke.call(this));return U(e)?e.join(":"):e},set:function(e){this.isVideo?L(e)&&je(e)?(this.config.ratio=e,_e.call(this)):this.debug.error("Invalid aspect ratio specified (".concat(e,")")):this.debug.warn("Aspect ratio can only be set for video")}},{key:"autoplay",set:function(e){var t=R(e)?e:this.config.autoplay;this.config.autoplay=t},get:function(){return Boolean(this.config.autoplay)}},{key:"currentTrack",set:function(e){qe.set.call(this,e,!1)},get:function(){var e=this.captions,t=e.toggled,n=e.currentTrack;return t?n:-1}},{key:"language",set:function(e){qe.setLanguage.call(this,e,!1)},get:function(){return(qe.getCurrentTrack.call(this)||{}).language}},{key:"pip",set:function(e){if(we.pip){var t=R(e)?e:!this.pip;z(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?Ke:"inline"),z(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}},get:function(){return we.pip?K(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Ke:null}}],[{key:"supported",value:function(e,t,n){return we.check(e,t,n)}},{key:"loadSprite",value:function(e,t){return Le(e,t)}},{key:"setup",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null;return L(e)?i=Array.from(document.querySelectorAll(e)):V(e)?i=Array.from(e):U(e)&&(i=e.filter(B)),K(i)?null:i.map((function(e){return new t(e,n)}))}}]),t}();return bt.defaults=(ut=We,JSON.parse(JSON.stringify(ut))),bt}))}).call(this,n(29))},388:function(e,t,n){e.exports=n.p+"assets/img/goback.svg"},391:function(e,t,n){e.exports=n.p+"assets/img/icon-like.png"},392:function(e,t,n){e.exports=n.p+"assets/img/icon-unlike.png"},393:function(e,t,n){e.exports=n.p+"assets/img/pic@3x.png"},394:function(e,t,n){e.exports=n.p+"assets/img/rectangle.png"},395:function(e,t,n){e.exports=n.p+"assets/img/failed.png"},396:function(e,t,n){e.exports=n.p+"assets/img/success.png"},397:function(e,t,n){e.exports=n.p+"assets/img/i-phone-x-clay.png"},398:function(e,t,n){e.exports=n.p+"assets/img/ios-store.png"},399:function(e,t,n){e.exports=n.p+"assets/img/android-store.png"},400:function(e,t,n){e.exports=n.p+"assets/img/server-maintenance.png"},401:function(e,t,n){e.exports=n.p+"assets/img/ui-icons-warning.svg"},402:function(e,t,n){e.exports=n.p+"assets/img/404.svg"},403:function(e,t,n){e.exports=n.p+"assets/img/creditcard.png"},405:function(e,t,n){e.exports=n.p+"assets/img/email-warning.svg"},406:function(e,t,n){e.exports=n.p+"assets/img/email-success.svg"},407:function(e,t,n){e.exports=n.p+"assets/img/ui-icons-facebook.svg"},408:function(e,t,n){e.exports=n.p+"assets/img/ui-icons-google.svg"},409:function(e,t,n){e.exports=n.p+"assets/img/ui-icons-apple.svg"},410:function(e,t,n){e.exports=n.p+"assets/img/telco2.png"},411:function(e,t,n){e.exports=n.p+"assets/img/apple.svg"},412:function(e,t,n){e.exports=n.p+"assets/img/android.svg"},413:function(e,t,n){e.exports=n.p+"assets/img/coupon.svg"},414:function(e,t,n){e.exports=n.p+"assets/img/visa.png"},415:function(e,t,n){e.exports=n.p+"assets/img/1280px-MasterCard_Logo.svg.png"},417:function(e,t,n){e.exports=n.p+"assets/img/icon-heart.svg"},418:function(e,t,n){e.exports=n.p+"assets/img/security_code.png"},419:function(e,t,n){e.exports=n.p+"assets/img/bank_group.png"},421:function(e,t,n){e.exports=n.p+"assets/img/check-mobile.svg"},422:function(e,t,n){e.exports=n.p+"assets/img/check-premium.svg"},423:function(e,t,n){e.exports=n.p+"assets/img/img-error-notification.png"},424:function(e,t,n){e.exports=n.p+"assets/img/ui-icons-notification-null.svg"},425:function(e,t,n){e.exports=n.p+"assets/img/icon-profile.svg"},426:function(e,t,n){e.exports=n.p+"assets/img/icon-quick-login.svg"},427:function(e,t,n){e.exports=n.p+"assets/img/icon-logout.svg"},428:function(e,t,n){e.exports=n.p+"assets/img/avatar-anonymous.svg"},429:function(e,t,n){e.exports=n.p+"assets/img/gmail.svg"},430:function(e,t,n){e.exports=n.p+"assets/img/icon-tick.svg"},431:function(e,t,n){e.exports=n.p+"assets/img/ar-2@3x.png"},432:function(e,t,n){e.exports=n.p+"assets/img/arrow-button.png"},433:function(e,t,n){e.exports=n.p+"assets/img/arrow-add.png"},434:function(e,t,n){e.exports=n.p+"assets/img/mobile-1.webp"},435:function(e,t,n){e.exports=n.p+"assets/img/mobile-2.webp"},436:function(e,t,n){e.exports=n.p+"assets/img/tutorial-button.png"},437:function(e,t,n){e.exports=n.p+"assets/img/tutorial-add.png"},438:function(e,t,n){e.exports=n.p+"assets/img/tutorial-kid.png"},439:function(e,t,n){e.exports=n.p+"assets/img/tutorial.png"},440:function(e,t,n){e.exports=n.p+"assets/img/ar-1@3x.png"},441:function(e,t,n){e.exports=n.p+"assets/img/message-mob.jpg"},442:function(e,t,n){e.exports=n.p+"assets/img/message-tablet.jpg"},443:function(e,t,n){e.exports=n.p+"assets/img/message-web.jpg"},444:function(e,t,n){e.exports=n.p+"assets/img/ui-icons-toast-success.svg"},445:function(e,t,n){e.exports=n.p+"assets/img/ui-icons-toast-error.svg"},450:function(e,t,n){n(451),e.exports=n(954)},53:function(e,t,n){},54:function(e,t,n){e.exports=n.p+"assets/img/thump-original.svg"},55:function(e,t,n){e.exports=n.p+"assets/img/momocard.png"},57:function(e,t,n){e.exports=n.p+"assets/img/ssl-secured.png"},58:function(e,t,n){e.exports=n.p+"assets/img/DSS-PCI.png"},637:function(e,t,n){},638:function(e,t,n){},660:function(e,t){},662:function(e,t){},694:function(e,t){},695:function(e,t){},737:function(e,t,n){},738:function(e,t,n){},739:function(e,t,n){},74:function(e,t,n){e.exports=n.p+"assets/img/logo_GalaxyPlay_SkyBlue.svg"},740:function(e,t,n){},795:function(e,t,n){e.exports=n.p+"assets/img/line-rating.png"},796:function(e,t,n){},797:function(e,t,n){},798:function(e,t,n){},799:function(e,t,n){},800:function(e,t,n){},81:function(e,t,n){e.exports=n.p+"assets/img/zalopay.svg"},82:function(e,t,n){e.exports=n.p+"assets/img/shopeepay.png"},83:function(e,t,n){e.exports=n.p+"assets/img/document.svg"},84:function(e,t,n){e.exports=n.p+"assets/img/thumb-image.png"},862:function(e,t,n){},863:function(e,t,n){},864:function(e,t,n){},871:function(e,t,n){},872:function(e,t,n){},873:function(e,t,n){},874:function(e,t,n){},875:function(e,t,n){},876:function(e,t,n){},880:function(e,t,n){},881:function(e,t,n){},882:function(e,t,n){},883:function(e,t,n){},884:function(e,t,n){},885:function(e,t,n){},886:function(e,t,n){},887:function(e,t,n){},888:function(e,t,n){},889:function(e,t,n){},890:function(e,t,n){e.exports=n.p+"assets/img/mobile.svg"},891:function(e,t,n){e.exports=n.p+"assets/img/tablet.svg"},892:function(e,t,n){e.exports=n.p+"assets/img/flatscreen-tv.svg"},893:function(e,t,n){e.exports=n.p+"assets/img/computer.svg"},894:function(e,t,n){},895:function(e,t,n){},896:function(e,t,n){},897:function(e,t,n){},898:function(e,t,n){},923:function(e,t,n){},924:function(e,t,n){},925:function(e,t,n){},941:function(e,t,n){},942:function(e,t,n){},943:function(e,t,n){},944:function(e,t,n){},948:function(e,t,n){},949:function(e,t,n){},950:function(e,t,n){},951:function(e,t,n){},952:function(e,t,n){},953:function(e,t,n){},954:function(e,t,n){"use strict";n.r(t);var i=n(169),a=n.n(i),o=n(0),r=n(1),c=n(4),s=n(18),l=(n(637),n(638),n(75)),u=n.n(l);var d={domain:"https://api.glxplay.io/",asiaPay:{payComp:"https://www.paydollar.com/b2c2/eng/dPayment/payComp.jsp",asiapayMerchantId:"74033251",asiapayKeyhash:"XmYE9aYGUX8Jt5YdslbLnpWqntjtyZcp"},tracker:"https://tracker.glxplay.io/",hub:"https://hub.glxplay.io/",env:"prod",appIdFb:"903378619781560",clientIdGoogle:"595619583157-tsh15o5bucpiv1a201606nakkirfitev.apps.googleusercontent.com"},p=n(384),h=n.n(p),f=n(9),m=n.n(f),b=n(3),g=n(385),y=n.n(g),v=n(386),O=n.n(v),w=n(111),j=n.n(w),x={userBehaviors:function(e){var t=JSON.parse(localStorage.getItem("profile"));window.localStorage.setItem("timeCurrentLobby",Date.parse(new Date)/1e3);var n={app_version:"2.0.0",app_env:d.env,event_action:e.event,app_category:"app",session_id:sessionStorage.getItem("sessionId"),jwt_token:localStorage.getItem("__glxp_token")||localStorage.getItem("__glxp_device_token"),client_timestamp:""+(new Date).getTime(),client_ip:localStorage.getItem("ip"),client_agent:navigator.userAgent,model_name:b.osName,user_id:e.userId,event_category:e.category,context_format:"json",on_screen:"movie_detail",direct_object_type:e.directObject.type,direct_object_property:e.directObject.property,direct_object_id:e.directObject.id,context_value:sessionStorage.getItem("loginFromApp")?{source:"app"}:e.context_value,indirect_object_type:e.indirectObject.type,indirect_object_property:e.indirectObject.property,indirect_object_id:e.indirectObject.id,profile_id:t&&t.profileId,profile_name:t&&t.profileName,profile_kid_mode:t&&1==t.isKid?"1":"0",mkt_source:sessionStorage.getItem("mktSource")||"",mkt_campaign:sessionStorage.getItem("mktCampaign")||"",mkt_medium:sessionStorage.getItem("mktMedium")||"",mkt_term:sessionStorage.getItem("mktTerm")||"",mkt_content:sessionStorage.getItem("mktContent")||""},i={url:"1"==localStorage.getItem("eventDebug")?"https://hub-sand.glxplay.io/event-debug/publish":"exception"==e.event?"".concat(d.tracker,"v1/ueh"):"".concat(d.tracker,"v1/watch"),method:"POST",data:JSON.stringify(n),headers:{"Content-type":"application/json"}};$.ajax(i)},checkLenghtSTrings:function(e,t){if(e&&t)return e.length>t?e.slice(0,t)+"...":e},parseVND:function(e){return e.toLocaleString("vi",{currency:"VND",style:"currency"}).replace(" ₫","đ")},parseDate:function(e,t){var n=new Date(t),i=n.getMonth()+1,a=1==n.getMinutes().toString().length?"0"+n.getMinutes():n.getMinutes(),o=1==i.toString().length?"0"+i:i,r=1==n.getDate().toString().length?"0"+n.getDate():n.getDate(),c=r+"/"+o+"/"+n.getFullYear(),s=n.getHours()+":"+a+" "+r+"/"+o+"/"+n.getFullYear();return"getFull"==e?s:c},plusDay:function(e,t){var n=new Date(Number(e));return n.setDate(e.getDate()+t),n},returnImgCreditCard:function(e){return"VISA"==e.toUpperCase()?y.a:"MASTERCARD"==e.toUpperCase()||"MASTER"==e.toUpperCase()?O.a:void 0},typeCardName:function(e){return"35"==e.substr(0,2)?"JCB":"4"==e.substr(0,1)?"VISA":"5"==e.substr(0,1)?"MASTER":void 0},formatExpreDate:function(e){return 9==e.length?e.substr(-4):7==e.length?"20"+e.substr(-2):void 0},getUrlNotifyMomoJustSync:function(e,t){var n=window.location.origin,i="pay"==e.type?e.router:"/account/method-payment",a={channelType:"MOMO",mktCampaign:window.sessionStorage.getItem("mktCampaign"),mktTerm:window.sessionStorage.getItem("mktTerm"),mktMedium:window.sessionStorage.getItem("mktMedium"),mktSource:window.sessionStorage.getItem("mktSource"),mktContent:window.sessionStorage.getItem("mktContent"),amount:0,platform:"web_mobile",returnUrl:n+i,clientId:localStorage.getItem("id_user")};z.syncMomo(a,(function(e,n){n?t(null,n):t(!0,e)}))},getUrlNotifyMomoJustSyncTrail:function(e,t){var n=window.location.origin,i={channelType:"MOMO",amount:0,platform:"web_mobile",typePackage:window.location.search.indexOf("mobile")>-1?"mobile":"premium",idPackage:e,mktCampaign:window.sessionStorage.getItem("mktCampaign"),mktTerm:window.sessionStorage.getItem("mktTerm"),mktMedium:window.sessionStorage.getItem("mktMedium"),mktSource:window.sessionStorage.getItem("mktSource"),mktContent:window.sessionStorage.getItem("mktContent"),returnUrl:n+"/subs/pay",clientId:localStorage.getItem("id_user")};z.syncMomo(i,(function(e,n){n?t(null,n):t(!0,e)}))},getUrlNotifyMomo:function(e,t){if(e.offer&&e.offer.MOMO)e.offer.MOMO.map((function(e,n){if("10"==e.profileCode){var i=sessionStorage.getItem("loginFromApp")?"glxplays://momopayment/rent/confirm":window.location.origin+"/rent/confirm",a={mktCampaign:window.sessionStorage.getItem("mktCampaign"),mktTerm:window.sessionStorage.getItem("mktTerm"),mktMedium:window.sessionStorage.getItem("mktMedium"),mktSource:window.sessionStorage.getItem("mktSource"),mktContent:window.sessionStorage.getItem("mktContent"),offer:e,phoneNumber:"1234",returnUrl:i,idPackage:e.titleId},o=m.a.extend(a);z.syncAndBuyMomo(o,(function(e,n){n?t(null,n):t(!0,e)}))}}));else{var n=sessionStorage.getItem("loginFromApp")?"glxplays://momopayment/subs/confirm":window.location.origin+"/subs/confirm",i={offer:e.offer,phoneNumber:"1234",returnUrl:n,idPackage:e.offer.productId},a=m.a.extend(i);z.syncAndBuyMomo(a,(function(e,n){n?t(null,n):t(!0,e)}))}},syncCard:function(e){var t,n,i,a,o,r,c,s,l,u=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};for(null==e&&(e={}),c="",r=0;r<12;)c+=Math.floor(10*Math.random())+"",r++;if(l=h()("".concat(d.asiaPay.asiapayMerchantId,"|")+c+"|704|1000|N|".concat(d.asiaPay.asiapayKeyhash)),a=[{name:"AMEX",pattern:/^3[47]/},{name:"JCB",pattern:/^35(2[89]|[3-8][0-9])/},{name:"VISA",pattern:/^4/},{name:"Master",pattern:/^5[1-5]/},{name:"Discover",pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/},{name:"UPOP",pattern:/^(62|88)/}],t=function(){var e,t,i;for(i=[],e=0,t=a.length;e<t;e++)n=a[e],i.push(n.name);return i}(),o=function(e){var i,o,r,c;for(c=function(){var e,i,o,r;for(r=[],e=0,i=a.length;e<i;e++)o=(n=a[e]).name,u.call(t,o)>=0&&r.push(n);return r}(),o=0,r=c.length;o<r;o++)if(i=c[o],e.match(i.pattern))return i;return{name:null}},i=o(e.cardNo).name,"tvod"==e.type)var p=e.itemPackage;else p="";var f=e.typePackage?"&":"?",m=window.location.href+"".concat(f,"responseStatus=success&channel=asiapay&index=").concat(e.index,"&typeItem=").concat(e.type,"&slug=").concat(e.slug,"&location=").concat(e.location,"&productId=").concat(e.itemPackage.productId?e.itemPackage.productId:p.titleId,"&mktCampaign=").concat(e.mktCampaign,"&mktSource=").concat(e.mktSource,"&mktMedium=").concat(e.mktMedium,"&mktTerm=").concat(e.mktTerm,"&mktContent=").concat(e.mktContent),b=window.location.href+"".concat(f,"responseStatus=fail&channel=asiapay&index=").concat(e.index,"&typeItem=").concat(e.type,"&productNameKnownAs=").concat("SVOD"==e.type?e.itemPackage.productId:e.itemPackage.productNameKnownAs,"&productId=").concat(e.itemPackage.productId?e.itemPackage.productId:p.titleId);e.linkWatching&&(m+="&linkWatching=".concat(e.linkWatching),b+="&linkWatching=".concat(e.linkWatching),e.searchLinkWatching&&(m+="&".concat(e.searchLinkWatching),b+="&".concat(e.searchLinkWatching))),(s=new URLSearchParams).append("cardNo",e.cardNo),s.append("securityCode",e.securityCode),s.append("cardHolder",e.cardHolder),s.append("epMonth",e.epMonth),s.append("epYear",e.epYear),s.append("orderRef",c),s.append("pMethod",i),s.append("secureHash",l),s.append("memberPay_memberId",window.localStorage.getItem("id_user")),s.append("merchantId",d.asiaPay.asiapayMerchantId),s.append("amount","1000"),s.append("currCode","704"),s.append("payType","N"),s.append("successUrl",m),s.append("failUrl",b),s.append("errorUrl",b),s.append("memberPay_service","T"),s.append("billingFirstName","FIMPLUS"),s.append("billingLastName","FIMPLUS"),s.append("billingStreet1","Vo van tan"),s.append("billingCity","HCMC"),s.append("billingCountry","VN"),s.append("billingEmail","hotro@fimplus.vn"),s.append("custIPAddress","192.168.180.110"),s.append("lang","E"),new XMLHttpRequest,window.location.href=d.asiaPay.payComp+"?"+s},generateSessionId:function(){function e(){return Math.random().toString(16).slice(-4)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},makeid:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length,a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*i));return t},regexName:function(){return/^[a-zA-ZÀÁÂÃÈÉÊÌÍÒÓÔÕÙÚĂĐĨŨƠàáâãèếéêìíòóôõùúăđĩũơƯĂẠẢẤẦẨẪẬẮẰẲẴẶẸẺẾẼỀỀỂưăạảấầẩẫậắằẳẵặẹẻẽềềểỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪễệỉịọỏốồổỗộớờởỡợụúùủũứừỬỮỰỲỴÝỶỸửữựỳỵỷỹý' ]{1,30}$/g},validateEmail:function(e){return/^[A-Za-z0-9_\.]{0,}[A-Za-z0-9]@[A-Za-z0-9]{2,}(\.[A-Za-z0-9]{2,4}){1,2}$/.test(String(e).toLowerCase())},stringToArray:function(e){var t,n,i,a,o;for(n=new ArrayBuffer(2*e.length),t=new Uint16Array(n),i=a=0,o=e.length-1;0<=o?a<=o:a>=o;i=0<=o?++a:--a)t[i]=e.charCodeAt(i);return t},arrayToString:function(e){var t;return t=new Uint16Array(e.buffer),String.fromCharCode.apply(null,t)},base64EncodeUint8Array:function(e){var t,n,i,a,o,r,c,s,l,u;for(l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",t=null,n=null,i=null,a=null,o=null,r=null,c=null,s=0;s<e.length;)a=(t=e[s++])>>2,o=(3&t)<<4|(n=s<e.length?e[s++]:Number.NaN)>>4,r=(15&n)<<2|(i=s<e.length?e[s++]:Number.NaN)>>6,c=63&i,isNaN(n)?r=c=64:isNaN(i)&&(c=64),u+=l.charAt(a)+l.charAt(o)+l.charAt(r)+l.charAt(c);return u},base64DecodeUint8Array:function(e){var t,n,i,a,o,r;for(o=(a=window.atob(e)).length,t=new Uint8Array(new ArrayBuffer(o)),n=i=0,r=o-1;0<=r?i<=r:i>=r;n=0<=r?++i:--i)t[n]=a.charCodeAt(n);return t},ga:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;dataLayer.push({event:e,eventAction:t,eventCategory:n,eventLabel:i})},gaPurchase:function(e,t){dataLayer.push({event:"purchase",ecommerce:{purchase:{actionField:{id:e},products:[{name:"TVOD"==t.productType?t.productNameKnownAs:t.productName,id:"TVOD"==t.productType?t.titleId:t.productId,price:t.totalPriceOffer,category:t.productType,method:t.channelType,quantity:"1"}]}}})},gaCheckout:function(e){dataLayer.push({event:"checkout",ecommerce:{checkout:{actionField:{option:e.channelType},products:[{name:e.productName,id:e.productId,price:e.totalPriceOffer,category:e.productType,quantity:"1"}]}}})}},k=x,S=function(){var e=sessionStorage.getItem("sessionId"),t=JSON.parse(localStorage.getItem("profile"));return e||(e=x.generateSessionId(),sessionStorage.sessionId=e),{app_category:"app",app_version:"2.0.0",app_env:d.env,session_id:e,client_ip:localStorage.getItem("ip"),jwt_token:localStorage.getItem("__glxp_token")||localStorage.getItem("__glxp_device_token"),client_timestamp:""+(new Date).getTime(),model_name:b.osName,user_id:"",client_agent:navigator.userAgent,event_category:"",on_screen:"",from_screen:"",event_action:"",direct_object_type:"",direct_object_id:"",direct_object_property:"",indirect_object_type:"",indirect_object_id:"",indirect_object_property:"",context_format:"",profile_id:t&&t.profileId,profile_name:t&&t.profileName,profile_kid_mode:"true"==localStorage.getItem("profileKidMode")?"1":"0",context_value:sessionStorage.getItem("loginFromApp")&&{source:"app"},mkt_source:sessionStorage.getItem("mktSource")||"",mkt_campaign:sessionStorage.getItem("mktCampaign")||"",mkt_medium:sessionStorage.getItem("mktMedium")||"",mkt_term:sessionStorage.getItem("mktTerm")||"",mkt_content:sessionStorage.getItem("mktContent")||""}},I=function(e){if(b.isMobile){var t=!1;$(window).blur((function(){t=!0})),window.location.replace(e),b.isIOS?setTimeout((function(){t||window.location.replace("https://apps.apple.com/vn/app/fim/id1064825671?l=vi")}),1e3):b.isAndroid&&setTimeout((function(){t||window.location.replace("https://play.google.com/store/apps/details?id=vn.fimplus.app.and&hl=vi")}),1e3)}},N=function(){var e=window.pageYOffset+window.innerHeight;$("#main-app").css({transformOrigin:"50% "+e/2+"px"}),setTimeout((function(){$("#main-app").css({transformOrigin:"50% "+e/2+"px",transitionDuration:"750ms",transitionTimingFunction:"ease-in",transform:"scale(1.04)",opacity:"0"})}),100),setTimeout((function(){$("#main-app")[0].removeAttribute("style")}),850)},T=function(e){var t=e;return e.length>4&&e.length<=7&&(t=e.substring(0,4)+" "+e.substring(4).substring(0,3)),e.length>7&&(t=e.substring(0,4)+" "+e.substring(4).substring(0,3)+" "+e.substring(7)),t},C=function(e){return e/16+"rem"},P=function(e,t){return(100/t*e).toFixed(3)+"vw"},A=function(e){switch(e){case 1:return"30";case 3:return"90";case 6:return"180";case 12:return"365";case 24:return"730";default:return"0"}},M=function(e,t){var n=[],i=[];if(e&&e.length>0){for(var a=0;a<e.length;a++){var o={type:e[a]};switch(e[a]){case"tvod_paid":o.image=t.web.paid,n.push(o);break;case"tvod_dubbing":o.image=t.web.dubbing,n.push(o);break;case"tvod_narration":o.image=t.web.narration,n.push(o);break;case"tvod_exclusive":o.image=t.web.exclusive,i.push(o);break;case"svod_original":o.image=t.web.logoOriginal,i.push(o);break;case"svod_new_episode":o.image=t.web.newEpisode,n.push(o);break;case"svod_full_episode":o.image=t.web.fullEpisode,n.push(o);break;case"svod_exclusive":o.image=t.web.exclusive,i.push(o);break;case"svod_parallel":o.image=t.web.parallel,n.push(o);break;case"svod_dubbing":o.image=t.web.dubbing,n.push(o);break;case"svod_narration":o.image=t.web.narration,n.push(o)}}return{posterTagTop:i,posterTagBottom:n}}return null};function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}u.a.interceptors.request.use((function(e){return e.baseURL=d.domain,e.headers={"Access-Token":localStorage.getItem("__glxp_token")||localStorage.getItem("__glxp_device_token"),"X-Requested-With":"XMLHttpRequest","accept-language":"vi","content-type":"application/json;charset=UTF-8"},e.url.includes("/account/validToken")&&(e.headers["Access-Token"]=localStorage.getItem("__glxp_r_token")),e.url.includes("/account/login")&&e.data&&(e.headers["Access-Token"]=localStorage.getItem("__glxp_device_token")),e.url.includes("appcfg")&&(e.headers["Access-Token"]=localStorage.getItem("__glxp_device_token")),e}),(function(e){return Promise.reject(e)}));var R={request:function(e,t){function n(e,t){return e.indexOf("?")>-1?e+"&"+t:e+"?"+t}window.localStorage.setItem("timeCurrentLobby",Date.parse(new Date)/1e3);var i=JSON.parse(localStorage.getItem("profile")),a=i&&i.profileId,o="true"==localStorage.getItem("profileKidMode")?1:0,r=n(e.url,"profile_id=".concat(a,"&isKid=").concat(o));if(a&&(e.url=r),e.url.indexOf("/content")>-1){var c=n(e.url,"app_version=2.0.0");e.url=c}u()(e).then((function(e){return t(null,e)})).catch((function(e){if(e&&e.response){var n=S();n.event_category="error",n.on_screen=window.localStorage.getItem("on_screen"),n.event_action="request",n.direct_object_type="api",n.direct_object_id=e.response.data.error,n.direct_object_property=e.response.config.url,n.context_value=JSON.stringify(e.response.data),n.context_format="json";var i={url:"1"==localStorage.getItem("eventDebug")?"https://hub-sand.glxplay.io/event-debug/publish":"".concat(d.tracker,"v1/ueh"),method:"POST",data:n};R.request(i,(function(e,t){}))}return t(!0,e.response)}))},getHome:function(e,t){var n={url:"/content/page/"+e,method:"get",headers:{"Cache-Control":"no-cache"}};R.request(n,t)},getToken:function(e,t){var n={url:"/account/device/new",method:"post",data:e};R.request(n,t)},phoneVerify:function(e,t){var n={url:"/account/phone/verify?"+$.param(e),method:"post"};R.request(n,t)},getListDevice:function(e){R.request({url:"/account/devices",method:"get"},e)},getSubscriptionInfo:function(e){R.request({url:"/billing/subscription/getSubscriptionInfo",method:"get"},e)},revokeDevice:function(e,t){var n={url:"/account/device/revoke?"+$.param(e),method:"post"};R.request(n,t)},getPackageDisplay:function(e,t){var n={url:"/promotion/v2/packageDisplay",method:"get"};e&&(n.url=n.url+"?"+$.param(e)),R.request(n,t)},pullOfferByGtoken:function(e,t){var n={url:"/promotion/v2/getOffer",method:"post",data:e};R.request(n,t)},pullOfferByAtoken:function(e,t){var n={url:"/promotion/v2/getOffer",method:"post",data:e};R.request(n,t)},getFilmWatching:function(e,t){var n={url:"/content/ribbon/cntwatching?"+$.param(e),method:"get",data:{output:e.output}};R.request(n,t)},getFilmFavorite:function(e,t){var n={url:"/content/ribbon/mylist?"+$.param(e),method:"get",data:{timestamp:(new Date).getTime()}};R.request(n,t)},addFilmFavorite:function(e,t){var n={url:"/content/ribbon/mylist",method:"post",data:e};R.request(n,t)},delFilmFavorite:function(e,t){var n={url:"/content/ribbon/mylist",method:"delete",data:e};R.request(n,t)},getInitSuggestSearch:function(e){R.request({url:"/content/init-suggest-genre",method:"get"},e)},loginWithMomo:function(e,t){var n={url:"/account/momoLogin",method:"post",data:e};R.request(n,t)},loginWithAu:function(e){R.request({url:"/account/login",method:"post"},e)},loginWithOTP:function(e,t){var n={};e.phone&&(n={phone:e.phone},delete e.phone),e.code&&(n=D(D({},n),{},{code:e.code}),delete e.code);var i={url:"/account/login?"+$.param(n),method:"post",data:e};R.request(i,t)},login:function(e,t){var n={};e.phone&&(n={phone:e.phone},delete e.phone),e.code&&(n=D(D({},n),{},{code:e.code}),delete e.code);var i={url:"/account/login?"+$.param(n),method:"post",data:e};R.request(i,t)},register:function(e,t){var n={url:"/account/phone/register?"+$.param(e),method:"post"};R.request(n,t)},logout:function(e){R.request({url:"/account/logout",method:"get"},e)},forgotPassword:function(e,t){var n={url:"/account/phone/forgot?"+$.param(e),method:"post"};R.request(n,t)},refreshAccessToken:function(e){R.request({url:"/account/validToken",method:"post"},e)},extendRefreshToken:function(e,t){var n={url:"/account/refreshToken/extend?"+$.param(e),method:"post"};R.request(n,t)},updateUserInfo:function(e,t){var n={url:"/account/update?"+$.param(e),method:"post"};R.request(n,t)},removePendingEmail:function(e){R.request({url:"/account/update?pendingEmail=false",method:"post",data:{}},e)},checkPhone:function(e,t){var n={url:"/account/phone/check/"+e.phone,method:"get",data:e};R.request(n,t)},checkPhoneOnly:function(e,t){var n={url:"/account/phone/checkPhoneOnly",method:"post",params:e};R.request(n,t)},verifyEmail:function(e,t){var n={url:"/account/email/verify",method:"post",params:e};R.request(n,t)},registerEmail:function(e,t){var n={url:"/account/email/register",method:"post",params:e};R.request(n,t)},getCategory:function(e,t){var n={url:"/content/genre?"+$.param(e),method:"get",data:{}};R.request(n,t)},getInitSuggest:function(e,t){var n={url:"/content/init-suggest?"+$.param(e),method:"get"};R.request(n,t)},getInitSearch:function(e,t){var n={url:"/content/init-search?"+$.param(e),method:"get"};R.request(n,t)},getSuggest:function(e,t){var n={url:"/content/suggest?"+$.param(e),method:"get",data:{}};R.request(n,t)},getSuggestWithPath:function(e,t){var n={url:"/content/suggest"+e,method:"get",data:{}};R.request(n,t)},getSearchPath:function(e,t,n){var i={url:"/content/search"+decodeURI(e)+"&"+$.param(t),method:"get",data:{}};R.request(i,n)},getInfoUser:function(e){R.request({url:"/account/info",method:"get"},e)},getChannelAndMethod:function(e,t){var n={url:"/billing/channel/channelAndMethod?"+$.param(e),method:"get"};R.request(n,t)},getDetailSubcription:function(e,t){var n={url:"/billing/subscription/detail/"+e,method:"get"};R.request(n,t)},getHistoryTransactions:function(e,t){var n={url:"/billing/transaction/getHistoryTransactions",method:"get"};n.url=n.url+"?"+$.param(e),R.request(n,t)},getRibbon:function(e,t,n){var i={};"cntwatching"!=e&&"rentals"!=e&&"mylist"!=e||(i={timestamp:(new Date).getTime()});var a={url:"/content/ribbon/"+e+"?"+$.param(t),method:"get",data:i};R.request(a,n)},getDetailMovie:function(e,t){var n={url:"/content/title/"+e.id,method:"get",data:{}};R.request(n,t)},getRibbonRelated:function(e,t,n){var i={url:"/content/ribbon/related/"+e+"?"+$.param(t),method:"get",data:{}};R.request(i,n)},getRibbonRentals:function(e,t){var n={url:"/content/ribbon/rentals/?output="+e.output,method:"get",data:{timestamp:(new Date).getTime()}};R.request(n,t)},getDetailMovieBySlug:function(e,t,n){var i={url:"/content/title/"+e+"?"+$.param(t),method:"get",data:{timestamp:(new Date).getTime()}};R.request(i,n)},getMovieCategory:function(e,t,n){var i={url:"/content/genre/"+e+"?"+$.param(t),method:"get",data:{}};R.request(i,n)},buy:function(e,t){var n={url:"/billing/subscription/buy",method:"post",data:e};R.request(n,t)},getLinkplay:function(e,t){var n={url:"/watch/"+e,method:"get"};R.request(n,t)},syncMomo:function(e,t){var n={url:"/billing/momo/sync",method:"post",headers:{"X-Requested-With":"XMLHttpRequest","Access-Token":window.localStorage.__glxp_token},data:e};R.request(n,t)},syncAndBuyMomo:function(e,t){var n={url:"/billing/subscription/momoSyncAndBuy",method:"post",data:e};R.request(n,t)},checkSyncMomo:function(e,t){var n={url:"/billing/momo/checkStatus?keyId=".concat(e),method:"get"};R.request(n,t)},unSyncMomo:function(e,t){var n={url:"/billing/momo/unsync",method:"post",data:e};R.request(n,t)},syncZaloPay:function(e,t){var n={url:"/billing/zalo/sync",method:"post",data:e};R.request(n,t)},unSyncZaloPay:function(e,t){var n={url:"/billing/zalo/unsync",method:"post",data:e};R.request(n,t)},unSyncAsiaPay:function(e,t){var n={url:"/billing/asiapay/unsync",method:"post",data:e};R.request(n,t)},syncVNPay:function(e,t){var n={url:"/billing/vnpay/sync",method:"get",data:e};R.request(n,t)},checkSyncVNPay:function(e,t){var n={url:"/billing/vnpay/checktrans?keyId=".concat(e),method:"get"};R.request(n,t)},syncShopeePay:function(e,t){var n={url:"/billing/shopee/sync",method:"post",data:e};R.request(n,t)},unSyncShopeePay:function(e,t){var n={url:"/billing/shopee/unsync",method:"post",data:e};R.request(n,t)},confirmShopeePay:function(e,t){var n={url:"/billing/shopee/confirm",method:"post",data:e};R.request(n,t)},initMoca:function(e,t){var n={url:"/billing/moca/init",method:"post",data:e};R.request(n,t)},mocaConfirmPayment:function(e,t){var n={url:"/billing/moca/complete",method:"post",data:e};R.request(n,t)},createOrderMoca:function(e,t){var n={url:"/billing/moca/createorder",method:"post",data:e};R.request(n,t)},getSource:function(e){R.request({url:"https://sandbox-api.fimplus.io/payment/hd1payment/v1.1/getsource",method:"get",data:{},headers:{Authorization:"1194dbd8-8256-4659-a301-eaefa281e171"}},e)},revokeSessionPlayId:function(e,t){var n={url:"/watch/sessions/".concat(e),method:"delete"};R.request(n,t)},activeCode:function(e,t){var n={url:"/promotion/v2/activeCode",method:"post",data:e};R.request(n,t)},revokeAllDevice:function(e){R.request({url:"/account/device/revoke/all",method:"post"},e)},getVouchers:function(e){R.request({url:"/promotion/v2/addons",method:"get",data:{}},e)},loginWithMobileApp:function(e,t){var n={url:"/account/genTokenMobile?userId=".concat(e),method:"post",data:{}};R.request(n,t)},loginWithPartner:function(e,t){var n={url:"/account/partner/login/",method:"post",data:e};R.request(n,t)},getMessagePartner:function(e,t){var n=decodeURI(e),i={url:"/partner/deeplink/message/".concat(n),method:"get",data:{}};R.request(i,t)},getIp:function(e){var t={url:"1"==localStorage.getItem("eventDebug")?"https://hub-sand.glxplay.io/event-debug/publish":"".concat(d.tracker,"v1/checkip"),method:"get"};R.request(t,e)},getAccountViewer:function(e){R.request({url:"/viewer/viewers",method:"get",data:{}},e)},addAccountViewer:function(e,t){var n={url:"/viewer/viewers",method:"POST",data:e};R.request(n,t)},addPINViewer:function(e,t){var n={url:"/viewer/viewers/".concat(e.id,"/pin-code/set"),method:"POST",data:e.PIN};R.request(n,t)},validatePINViewer:function(e,t){var n={url:"/viewer/viewers/".concat(e.id,"/pin-code/validate"),method:"POST",data:e.PIN};R.request(n,t)},getAccountImages:function(e){R.request({url:"/viewer/avatar-images",method:"get",data:{}},e)},deleteAccountViewer:function(e,t){var n={url:"/viewer/viewers/".concat(e),method:"delete",data:{}};R.request(n,t)},editAccountViewer:function(e,t){var n={url:"/viewer/viewers/".concat(e.shortId),method:"PUT",data:e.model};R.request(n,t)},validPasswordUser:function(e,t){var n={url:"/account/validPasswordUser",method:"POST",data:e};R.request(n,t)},getLobbyMessage:function(e){R.request({url:"/notification/lobby/message",method:"get",data:{}},e)},trackingDataEvent:function(e,t){var n={url:"1"==localStorage.getItem("eventDebug")?"https://hub-sand.glxplay.io/event-debug/publish":"".concat(d.tracker,"v1/event"),method:"POST",data:e};R.request(n,t)},getCodeReferral:function(e,t){var n={url:"/account/referral/get-code",method:"post",data:e};R.request(n,t)},getConfigApp:function(e){R.request({url:"/account/appcfg/2.0.0/web",method:"get"},e)},getAppConfig:function(e){var t={url:"".concat(d.hub,"appcfg/2.0.0/web"),method:"get"};R.request(t,e)},confirmQuickLogin:function(e,t){var n={url:"/account/quickLogin/confirmOtp",method:"POST",data:e};R.request(n,t)},submitRating:function(e,t){var n={url:"/content/rating-movie",method:"POST",data:e};R.request(n,t)},checkRating:function(e,t){var n={url:"/content/rating-movie?"+$.param(e),method:"GET",data:{}};R.request(n,t)},getListSocial:function(e){R.request({url:"/account/socialList",method:"GET"},e)},socialLink:function(e,t){var n={url:"/account/socialLink?".concat($.param(e)),method:"POST"};R.request(n,t)},socialUnlink:function(e,t){var n={url:"/account/socialUnlink?type=".concat(e),method:"POST"};R.request(n,t)},getCountNotifyMessageUnread:function(e){R.request({url:"/notify/message/new",method:"GET"},e)},markNotificationAsRead:function(e,t){var n={url:"/notify/message/".concat(e,"?is_seen=1"),method:"GET"};R.request(n,t)},markAllNotificationAsRead:function(e){R.request({url:"/notify/message/list?is_seen=1",method:"GET"},e)},getAllNotification:function(e,t){var n={url:"/notify/message/list?".concat($.param(e)),method:"GET"};R.request(n,t)},quickViewNotification:function(e){R.request({url:"/notify/message/quick-view",method:"POST",data:{is_quick_view:1}},e)}},z=R;function U(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||B(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||B(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var F=Object(o.e)(),q=function(){var e=Object(r.b)(F);if(void 0===e)throw new Error("Need history ontext");return e},W=function(e){var t=e.children,n=V(Object(r.k)([]),2),i=n[0],a=n[1],c=V(Object(r.k)(JSON.parse(window.localStorage.getItem("history"))||[]),2),s=c[0],l=c[1],u=V(Object(r.k)({page:"",slugMovie:"",next:""}),2),d=u[0],p=u[1],h=i[i.length-1]||"";return Object(o.h)(F.Provider,{value:{page:s,savePage:function(e){var t=[].concat(U(s),[e]);t.length>5&&t.shift(),l(t),window.localStorage.setItem("history",JSON.stringify(t))},history:i,saveHistory:function(e){var t=[].concat(U(i),[e]);t.length>5&&t.shift(),a(t)},lastpage:h,nextPage:d,setNextPage:p}},t)},K=(n(737),n(738),n(387)),G=n.n(K),X=n(388),Y=n.n(X);function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var Q=function(e){var t=Object(r.j)();return Object(r.d)((function(){var n;return e.index?n=setTimeout((function(){t.current.setAttribute("src",e.src)}),50*e.index):t.current.setAttribute("src",e.src),t.current.addEventListener("error",(function(){t.current.setAttribute("src",e.placeholder)})),function(){clearTimeout(n)}}),[e.src]),Object(o.h)("img",Z({},e,{ref:t,src:e.placeholder}))},J=n(10),ee=n.n(J),te=n(74),ne=n.n(te),ie=function(e){return Object(o.h)("svg",{version:"1.1",viewBox:"0 0 41.999 41.999",id:"icon-play"},Object(o.h)("path",{d:"M36.068,20.176l-29-20C6.761-0.035,6.363-0.057,6.035,0.114C5.706,0.287,5.5,0.627,5.5,0.999v40 c0,0.372,0.206,0.713,0.535,0.886c0.146,0.076,0.306,0.114,0.465,0.114c0.199,0,0.397-0.06,0.568-0.177l29-20 c0.271-0.187,0.432-0.494,0.432-0.823S36.338,20.363,36.068,20.176z"}))},ae=function(e){return Object(o.h)("svg",{viewBox:"0 0 448 448",id:"add-list-icon"},Object(o.h)("path",{d:"m408 184h-136c-4.417969 0-8-3.582031-8-8v-136c0-22.089844-17.910156-40-40-40s-40 17.910156-40 40v136c0 4.417969-3.582031 8-8 8h-136c-22.089844 0-40 17.910156-40 40s17.910156 40 40 40h136c4.417969 0 8 3.582031 8 8v136c0 22.089844 17.910156 40 40 40s40-17.910156 40-40v-136c0-4.417969 3.582031-8 8-8h136c22.089844 0 40-17.910156 40-40s-17.910156-40-40-40zm0 0"}))},oe=function(e){return Object(o.h)("svg",{xmlns:"http://www.w3.org/2000/svg",id:"icon-tick","enable-background":"new 0 0 24 24",height:"512",viewBox:"0 0 24 24",width:"512"},Object(o.h)("path",{d:"m.828 13.336c-.261.304-.388.691-.357 1.091s.215.764.52 1.024l7.403 6.346c.275.235.616.361.974.361.044 0 .089-.002.134-.006.405-.036.77-.229 1.028-.542l12.662-15.411c.254-.31.373-.7.334-1.099-.04-.399-.231-.759-.541-1.014l-2.318-1.904c-.639-.524-1.585-.432-2.111.207l-9.745 11.861-3.916-3.355c-.628-.536-1.576-.465-2.115.163z"}))},re=(n(739),function(){return Object(o.h)("div",{class:"sk-chase"},Object(o.h)("div",{class:"sk-chase-dot"}),Object(o.h)("div",{class:"sk-chase-dot"}),Object(o.h)("div",{class:"sk-chase-dot"}),Object(o.h)("div",{class:"sk-chase-dot"}),Object(o.h)("div",{class:"sk-chase-dot"}),Object(o.h)("div",{class:"sk-chase-dot"}))}),ce=(n(740),function(e){return Object(o.h)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 25 24",style:"enable-background:new 0 0 25 24;"},Object(o.h)("style",{type:"text/css"}),Object(o.h)("path",{class:"st0",d:"M22,2c1.1,0,2,0.9,2,2v16c0,1.1-0.9,2-2,2H4c-1.1,0-2-0.9-2-2V4c0-1.1,0.9-2,2-2H22z M22.5,3.5h-19v17h19 L22.5,3.5z M8,17v2H6v-2H8z M12,17v2h-2v-2H12z M16,17v2h-2v-2H16z M20,17v2h-2v-2H20z M11,9l6,3l-6,3V9z M8,5v2H6V5H8z M12,5v2h-2 V5H12z M16,5v2h-2V5H16z M20,5v2h-2V5H20z"}))});function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ue(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=fe(e);if(t){var a=fe(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return he(this,n)}}function he(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(r,e);var t,n,i,a=pe(r);function r(){return le(this,r),a.apply(this,arguments)}return t=r,(n=[{key:"render",value:function(e){var t;switch(t=void 0!==e.className?e.className:"",void 0!==e.type?e.type:""){case"watch":return Object(o.h)("Button",{className:"btn-primary ".concat(t),onClick:e.onClick,type:e.type},Object(o.h)("div",{className:"btn-watch"},Object(o.h)(ie,null),e.content));case"addList":return Object(o.h)("Button",{className:"btn-primary ".concat(t),onClick:e.onClick,type:e.type},Object(o.h)("div",{className:"btn-add-list"},Object(o.h)("div",{className:"icon"},Object(o.h)(ae,null)),e.content));case"deleteList":return Object(o.h)("Button",{className:"btn-primary ".concat(t),onClick:e.onClick,type:e.type},Object(o.h)("div",{className:"btn-add-list"},Object(o.h)("div",{className:"icon"},Object(o.h)(oe,null)),e.content));case"trailer":return Object(o.h)("Button",{className:"btn-primary ".concat(t),onClick:e.onClick,type:e.type},Object(o.h)("div",{className:"btn-trailer"},Object(o.h)(ce,null),e.content));case"loadingIcon":return Object(o.h)("Button",{className:"btn-primary ".concat(t),onClick:e.onClick,type:e.type},Object(o.h)("div",{className:"btn-add-list"},Object(o.h)("div",{className:"icon"},Object(o.h)(re,null)),e.content));default:return Object(o.h)("Button",{className:"btn-primary ".concat(t),onClick:e.onClick,type:e.type,disabled:e.disabled},e.content)}}}])&&ue(t.prototype,n),i&&ue(t,i),r}(o.a),be=function(e){return Object(o.h)("svg",{version:"1.1",id:"close-icon",viewBox:"0 0 47.971 47.971"},Object(o.h)("path",{d:"M28.228,23.986L47.092,5.122c1.172-1.171,1.172-3.071,0-4.242c-1.172-1.172-3.07-1.172-4.242,0L23.986,19.744L5.121,0.88 c-1.172-1.172-3.07-1.172-4.242,0c-1.172,1.171-1.172,3.071,0,4.242l18.865,18.864L0.879,42.85c-1.172,1.171-1.172,3.071,0,4.242 C1.465,47.677,2.233,47.97,3,47.97s1.535-0.293,2.121-0.879l18.865-18.864L42.85,47.091c0.586,0.586,1.354,0.879,2.121,0.879 s1.535-0.293,2.121-0.879c1.172-1.171,1.172-3.071,0-4.242L28.228,23.986z"}))},ge=n(115),ye=n.n(ge),ve=[{code:1e3,name:"UNSUPPORTED_SCHEME",description:"A network request was made using an unsupported URI scheme."},{code:1001,name:"BAD_HTTP_STATUS",description:"An HTTP network request returned an HTTP status that indicated a failure."},{code:1002,name:"HTTP_ERROR",description:"An HTTP network request failed with an error, but not from the server."},{code:1003,name:"TIMEOUT",description:"A network request timed out."},{code:1004,name:"MALFORMED_DATA_URI",description:"A network request was made with a malformed data URI."},{code:1005,name:"UNKNOWN_DATA_URI_ENCODING",description:"A network request was made with a data URI using an unknown encoding."},{code:1006,name:"REQUEST_FILTER_ERROR",description:"A request filter threw an error."},{code:1007,name:"RESPONSE_FILTER_ERROR",description:"A response filter threw an error."},{code:1008,name:"MALFORMED_TEST_URI",description:"A testing network request was made with a malformed URI."},{code:1009,name:"UNEXPECTED_TEST_REQUEST",description:"An unexpected network request was made to the FakeNetworkingEngine. This error is only used by unit and integration tests."},{code:2e3,name:"INVALID_TEXT_HEADER",description:"The text parser failed to parse a text stream due to an invalid header."},{code:2001,name:"INVALID_TEXT_CUE",description:"The text parser failed to parse a text stream due to an invalid cue."},{code:2003,name:"UNABLE_TO_DETECT_ENCODING",description:"Was unable to detect the encoding of the response text. Suggest adding byte-order-markings to the response data."},{code:2004,name:"BAD_ENCODING",description:"The response data contains invalid Unicode character encoding."},{code:2005,name:"INVALID_XML",description:"The XML parser failed to parse an xml stream, or the XML lacks mandatory elements for TTML."},{code:2007,name:"INVALID_MP4_TTML",description:"MP4 segment does not contain TTML."},{code:2008,name:"INVALID_MP4_VTT",description:"MP4 segment does not contain VTT."},{code:2009,name:"UNABLE_TO_EXTRACT_CUE_START_TIME",description:"When examining media in advance, we were unable to extract the cue time. This should only be possible with HLS, where we do not have explicit segment start times."},{code:3e3,name:"BUFFER_READ_OUT_OF_BOUNDS",description:"Some component tried to read past the end of a buffer. The segment index, init segment, or PSSH may be malformed."},{code:3001,name:"JS_INTEGER_OVERFLOW",description:"Some component tried to parse an integer that was too large to fit in a JavaScript number without rounding error. JavaScript can only natively represent integers up to 53 bits."},{code:3002,name:"EBML_OVERFLOW",description:"The EBML parser used to parse the WebM container encountered an integer, ID, or other field larger than the maximum supported by the parser."},{code:3003,name:"EBML_BAD_FLOATING_POINT_SIZE",description:"The EBML parser used to parse the WebM container encountered a floating- point field of a size not supported by the parser."},{code:3004,name:"MP4_SIDX_WRONG_BOX_TYPE",description:"The MP4 SIDX parser found the wrong box type. Either the segment index range is incorrect or the data is corrupt."},{code:3005,name:"MP4_SIDX_INVALID_TIMESCALE",description:"The MP4 SIDX parser encountered an invalid timescale. The segment index data may be corrupt."},{code:3006,name:"MP4_SIDX_TYPE_NOT_SUPPORTED",description:"The MP4 SIDX parser encountered a type of SIDX that is not supported."},{code:3007,name:"WEBM_CUES_ELEMENT_MISSING",description:"The WebM Cues parser was unable to locate the Cues element. The segment index data may be corrupt."},{code:3008,name:"WEBM_EBML_HEADER_ELEMENT_MISSING",description:"The WebM header parser was unable to locate the Ebml element. The init segment data may be corrupt."},{code:3009,name:"WEBM_SEGMENT_ELEMENT_MISSING\t",description:"The WebM header parser was unable to locate the Segment element. The init segment data may be corrupt."},{code:3010,name:"WEBM_INFO_ELEMENT_MISSING",description:"The WebM header parser was unable to locate the Info element. The init segment data may be corrupt."},{code:3011,name:"WEBM_DURATION_ELEMENT_MISSING",description:"The WebM header parser was unable to locate the Duration element. The init segment data may be corrupt or may have been incorrectly encoded. Shaka requires a duration in WebM DASH content."},{code:3012,name:"WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING",description:"The WebM Cues parser was unable to locate the Cue Track Positions element. The segment index data may be corrupt."},{code:3013,name:"WEBM_CUE_TIME_ELEMENT_MISSING",description:"The WebM Cues parser was unable to locate the Cue Time element. The segment index data may be corrupt."},{code:3014,name:"MEDIA_SOURCE_OPERATION_FAILED",description:"A MediaSource operation failed."},{code:3015,name:"MEDIA_SOURCE_OPERATION_THREW",description:"A MediaSource operation threw an exception."},{code:3016,name:"VIDEO_ERROR",description:"The video element reported an error."},{code:3017,name:"QUOTA_EXCEEDED_ERROR",description:"A MediaSource operation threw QuotaExceededError and recovery failed. The content cannot be played correctly because the segments are too large for the browser/platform. This may occur when attempting to play very high quality, very high bitrate content on low-end devices."},{code:3018,name:"TRANSMUXING_FAILED",description:"Mux.js did not invoke the callback signifying successful transmuxing."},{code:4e3,name:"UNABLE_TO_GUESS_MANIFEST_TYPE",description:"The Player was unable to guess the manifest type based on file extension or MIME type."},{code:4001,name:"DASH_INVALID_XML",description:"The DASH Manifest contained invalid XML markup."},{code:4002,name:"DASH_NO_SEGMENT_INFO",description:"The DASH Manifest contained a Representation with insufficient segment information."},{code:4003,name:"DASH_EMPTY_ADAPTATION_SET",description:"The DASH Manifest contained an AdaptationSet with no Representations."},{code:4004,name:"DASH_EMPTY_PERIOD",description:"The DASH Manifest contained an Period with no AdaptationSets."},{code:4005,name:"DASH_WEBM_MISSING_INIT",description:"The DASH Manifest does not specify an init segment with a WebM container."},{code:4006,name:"DASH_UNSUPPORTED_CONTAINER",description:"The DASH Manifest contained an unsupported container format."},{code:4007,name:"DASH_PSSH_BAD_ENCODING",description:"The embedded PSSH data has invalid encoding."},{code:4008,name:"DASH_NO_COMMON_KEY_SYSTEM",description:"There is an AdaptationSet whose Representations do not have any common key-systems."},{code:4009,name:"DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED",description:"Having multiple key IDs per Representation is not supported."},{code:4010,name:"DASH_CONFLICTING_KEY_IDS",description:"The DASH Manifest specifies conflicting key IDs."},{code:4011,name:"UNPLAYABLE_PERIOD",description:"The manifest contains a period with no playable streams. Either the period was originally empty, or the streams within cannot be played on this browser or platform."},{code:4012,name:"RESTRICTIONS_CANNOT_BE_MET",description:"There exist some streams that could be decoded, but restrictions imposed by the application or the key system prevent us from playing."},{code:4014,name:"NO_PERIODS",description:"No valid periods were found in the manifest. Please check that your manifest is correct and free of typos."},{code:4015,name:"HLS_PLAYLIST_HEADER_MISSING",description:"HLS playlist doesn't start with a mandory #EXTM3U tag."},{code:4016,name:"INVALID_HLS_TAG",description:"HLS tag has an invalid name that doesn't start with '#EXT'"},{code:4017,name:"HLS_INVALID_PLAYLIST_HIERARCHY",description:"HLS playlist has both Master and Media/Segment tags."},{code:4018,name:"DASH_DUPLICATE_REPRESENTATION_ID",description:"A Representation has an id that is the same as another Representation in the same Period. This makes manifest updates impossible since we cannot map the updated Representation to the old one."},{code:4020,name:"HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND",description:"HLS manifest has several #EXT-X-MAP tags. We can only support one at the moment."},{code:4021,name:"HLS_COULD_NOT_GUESS_MIME_TYPE",description:"HLS parser was unable to guess mime type of a stream."},{code:4022,name:"HLS_MASTER_PLAYLIST_NOT_PROVIDED",description:"\tNo Master Playlist has been provided. Master playlist provides vital information about the streams (like codecs) that is required for MediaSource. We don't support directly providing a Media Playlist."},{code:4023,name:"HLS_REQUIRED_ATTRIBUTE_MISSING",description:"One of the required attributes was not provided, so the HLS manifest is invalid."},{code:4024,name:"HLS_REQUIRED_TAG_MISSING",description:"One of the required tags was not provided, so the HLS manifest is invalid."},{code:4025,name:"HLS_COULD_NOT_GUESS_CODECS",description:"The HLS parser was unable to guess codecs of a stream."},{code:4026,name:"HLS_KEYFORMATS_NOT_SUPPORTED",description:"The HLS parser has encountered encrypted content with unsupported KEYFORMAT attributes."},{code:4027,name:"DASH_UNSUPPORTED_XLINK_ACTUATE",description:"The manifest parser only supports xlink links with xlink:actuate='onLoad'."},{code:4028,name:"DASH_XLINK_DEPTH_LIMIT\t",description:"The manifest parser has hit its depth limit on xlink link chains."},{code:4030,name:"HLS_COULD_NOT_PARSE_SEGMENT_START_TIME",description:"The HLS parser was unable to parse segment start time from the media."},{code:4032,name:"CONTENT_UNSUPPORTED_BY_BROWSER",description:"The content container or codecs are not supported by this browser. For example, this could happen if the content is WebM, but your browser does not support the WebM container, or if the content uses HEVC, but your browser does not support the HEVC codec. This can also occur for multicodec or multicontainer manifests if none of the codecs or containers are supported by the browser. To see what your browser supports, you can check the JSON data dumped by http://support.shaka-player-demo.appspot.com/"},{code:4033,name:"CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM",description:"External text tracks cannot be added to live streams."},{code:4034,name:"HLS_AES_128_ENCRYPTION_NOT_SUPPORTED",description:"We do not support AES-128 encryption with HLS yet."},{code:4035,name:"HLS_INTERNAL_SKIP_STREAM",description:"An internal error code that should never be seen by applications, thrown to force the HLS parser to skip an unsupported stream."},{code:5005,name:"INVALID_STREAMS_CHOSEN",description:"The StreamingEngine called onChooseStreams() but the callback receiver did not return the correct number or type of Streams. This can happen when there is multi-Period content where one Period is video+audio and another is video-only or audio-only. We don't support this case because it is incompatible with MSE. When the browser reaches the transition, it will pause, waiting for the audio stream."},{code:6e3,name:"NO_RECOGNIZED_KEY_SYSTEMS",description:"The manifest indicated protected content, but the manifest parser was unable to determine what key systems should be used."},{code:6001,name:"REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE",description:"None of the requested key system configurations are available."},{code:6002,name:"FAILED_TO_CREATE_CDM",description:"The browser found one of the requested key systems, but it failed to create an instance of the CDM for some unknown reason."},{code:6003,name:"FAILED_TO_ATTACH_TO_VIDEO",description:"The browser found one of the requested key systems and created an instance of the CDM, but it failed to attach the CDM to the video for some unknown reason."},{code:6004,name:"INVALID_SERVER_CERTIFICATE",description:"The CDM rejected the server certificate supplied by the application. The certificate may be malformed or in an unsupported format."},{code:6005,name:"FAILED_TO_CREATE_SESSION",description:"The CDM refused to create a session for some unknown reason."},{code:6006,name:"FAILED_TO_GENERATE_LICENSE_REQUEST",description:"The CDM was unable to generate a license request for the init data it was given. The init data may be malformed or in an unsupported format."},{code:6007,name:"LICENSE_REQUEST_FAILED",description:"The license request failed. This could be a timeout, a network failure, or a rejection by the server."},{code:6008,name:"LICENSE_RESPONSE_REJECTED",description:"The license response was rejected by the CDM. The server's response may be invalid or malformed for this CDM."},{code:6010,name:"ENCRYPTED_CONTENT_WITHOUT_DRM_INFO",description:"The manifest does not specify any DRM info, but the content is encrypted. Either the manifest or the manifest parser are broken."},{code:6012,name:"NO_LICENSE_SERVER_GIVEN",description:"No license server was given for the key system signaled by the manifest. A license server URI is required for every key system."},{code:6013,name:"OFFLINE_SESSION_REMOVED",description:"A required offline session was removed. The content is not playable."},{code:6014,name:"EXPIRED",description:"The license has expired. This is triggered when all keys in the key status map have a status of 'expired'."},{code:6015,name:"SERVER_CERTIFICATE_REQUIRED",description:"A server certificate wasn't given when it is required. FairPlay requires setting an explicit server certificate in the configuration."},{code:6016,name:"INIT_DATA_TRANSFORM_ERROR",description:"An error was thrown while executing the init data transformation."},{code:7e3,name:"LOAD_INTERRUPTED",description:"The call to Player.load() was interrupted by a call to Player.unload() or another call to Player.load()."},{code:7001,name:"OPERATION_ABORTED",description:"An internal error which indicates that an operation was aborted. This should not be seen by applications."},{code:7002,name:"NO_VIDEO_ELEMENT",description:"The call to Player.load() failed because the Player does not have a video element. The video element must either be provided to the constructor or to Player.attach() before Player.load() is called."},{code:8e3,name:"CAST_API_UNAVAILABLE",description:"The Cast API is unavailable."},{code:8001,name:"NO_CAST_RECEIVERS",description:"No cast receivers are available at this time."},{code:8002,name:"ALREADY_CASTING",description:"The library is already casting."},{code:8003,name:"UNEXPECTED_CAST_ERROR",description:"A Cast SDK error that we did not explicitly plan for has occurred. Check data[0] and refer to the Cast SDK documentation for details."},{code:8004,name:"CAST_CANCELED_BY_USER",description:"The cast operation was canceled by the user."},{code:8005,name:"CAST_CONNECTION_TIMED_OUT",description:"The cast connection timed out."},{code:8006,name:"CAST_RECEIVER_APP_UNAVAILABLE",description:"The requested receiver app ID does not exist or is unavailable. Check the requested app ID for typos."},{code:9e3,name:"STORAGE_NOT_SUPPORTED",description:"Offline storage is not supported on this browser; it is required for offline support."},{code:9001,name:"INDEXED_DB_ERROR",description:"An unknown error occurred in the IndexedDB."},{code:9002,name:"DEPRECATED_OPERATION_ABORTED",description:"The storage operation was aborted. Deprecated in favor of more general OPERATION_ABORTED."},{code:9003,name:"REQUESTED_ITEM_NOT_FOUND",description:"The specified item was not found in the IndexedDB."},{code:9004,name:"MALFORMED_OFFLINE_URI",description:"A network request was made with a malformed offline URI."},{code:9005,name:"CANNOT_STORE_LIVE_OFFLINE",description:"The specified content is live or in-progress. Live and in-progress streams cannot be stored offline."},{code:9006,name:"STORE_ALREADY_IN_PROGRESS",description:"There is already a store operation in-progress. Wait until it completes before starting another."},{code:9007,name:"NO_INIT_DATA_FOR_OFFLINE",description:"There was no init data available for offline storage. This happens when there is no init data in the manifest nor could we find any in the segments. We currently only support searching MP4 init segments for init data."},{code:9008,name:"LOCAL_PLAYER_INSTANCE_REQUIRED",description:"shaka.offline.Storage was constructed with a Player proxy instead of a local player instance. To fix this, use Player directly with Storage instead of the results of CastProxy.prototype.getPlayer()."},{code:9011,name:"NEW_KEY_OPERATION_NOT_SUPPORTED",description:"The storage cell does not allow new operations that require new keys."},{code:9012,name:"KEY_NOT_FOUND",description:"A key was not found in a storage cell."},{code:9013,name:"MISSING_STORAGE_CELL",description:"A storage cell was not found."}],Oe=function(e){var t={};return m.a.map(ve,(function(n){e==n.code&&(t=n)})),t},we=[{code:[1e3,1001,1002,1004,1006,1007,1008,1009],message:"Không thể kết nối với dịch vụ Galaxy play. Vui lòng thử lại sau.<br/>Nếu sự cố vẫn tiếp diễn, vui lòng liên hệ 1800 9090 để được hỗ trợ."},{code:[1003],message:"Mất kết nối mạng vui lòng kiểm tra lại",hideCode:!0},{code:[1010],message:"Vui lòng kiểm tra kết nối Internet của bạn và thử lại.<br/>Nếu sự cố vẫn tiếp diễn, vui lòng liên hệ 1800 9090 để được hỗ trợ."},{code:[2e3,2001,2003,2004,2005,2009,2011,3e3,3001,3002,3003,3004,3005,3006,3007,3009,3009,3010,3011,3012,3013,3018,3019,4001,4002,4003,4004,4005,4006,4010,4015,4016,4017,4020,4023,4024,4025,4026,4027,4028,4030,4034,4035,4037,4038,4039,6016,6010],message:"Đã xảy ra lỗi khi tải nội dung này. Vui lòng thử lại sau.<br/>Nếu sự cố vẫn tiếp diễn, vui lòng liên hệ 1800 9090 để được hỗ trợ."},{code:[2007,2008,2010,2012,2013,2014],message:"Đã xảy ra lỗi khi trình chiếu nội dung này. Vui lòng thử lại sau.<br/>Nếu sự cố vẫn tiếp diễn, vui lòng liên hệ 1800 9090 để được hỗ trợ."},{code:[3014,3015,3016,3017],message:"Xin lỗi, chúng tôi gặp vấn đề khi phát nội dung này. Vui lòng thử lại hoặc chọn nội dung khác để xem.<br/>Nếu sự cố vẫn tiếp diễn, vui lòng liên hệ 1800 9090 để được hỗ trợ."},{code:[4e3,4007,4008,4009,4012,4018,4022,4032,4033,4036],message:"Không thể phát nội dung này. Vui lòng thử lại hoặc chọn nội dung khác để xem.<br/>Nếu sự cố vẫn tiếp diễn, vui lòng liên hệ 1800 9090 để được hỗ trợ."},{code:[5006],message:"Thiết bị của bạn không tương thích hoặc bị lỗi kết nối đến thiết bị, hãy thử kết nối lại.<br/>Nếu sự cố vẫn tiếp diễn, vui lòng liên hệ 1800 9090 để được hỗ trợ."},{code:[6e3,6001,6002,6003,6004,6005,6007,6008,6012,6013,6014,6015,6017],message:"Đã xảy ra lỗi khi phát nội dung được bảo vệ này. Vui lòng thử lại sau.<br/>Nếu sự cố vẫn tiếp diễn, vui lòng liên hệ 1800 9090 để được hỗ trợ."},{code:[7001,7002,7003],message:"Chúng tôi gặp sự cố khi khởi động trình chiếu phim.<br/>Nếu sự cố vẫn tiếp diễn, vui lòng liên hệ 1800 9090 để được hỗ trợ."},{code:[7e3,7004],message:"Đã xảy ra lỗi với trình chiếu phim. Vui lòng thử lại sau.<br/>Nếu sự cố vẫn tiếp diễn, vui lòng liên hệ 1800 9090 để được hỗ trợ."},{code:[8e3,8001,8002,8003,8004,8005,8006],message:"Đã xảy ra lỗi khi khi kết nối đến thiết bị ngoại vi. Vui lòng thử lại sau.<br/>Nếu sự cố vẫn tiếp diễn, vui lòng liên hệ 1800 9090 để được hỗ trợ."},{code:[9e3,9001,9002,9003,9004,9005,9007,9008,9011,9012,9013,9014,9015],message:"Đã xảy ra lỗi với bộ nhớ trên thiết bị của bạn. Vui lòng xóa bộ nhớ tạm hoặc cài đặt lại ứng dụng.<br/>Nếu sự cố vẫn tiếp diễn, vui lòng liên hệ 1800 9090 để được hỗ trợ."}],je=function(e){for(var t,n=0;n<we.length;n++)if(we[n].code.includes(e)){t=we[n];break}return t},xe={ar:"Arabic","ar-2_0":"Arabic","ar-2_1":"Arabic (Original)","ar-6_1":"Arabic (Original - 5.1 - Dolby Digital+)","ar-6_0_ddp":"Arabic (5.1 - Dolby Digital+)","ar-6_0_dat":"Arabic (5.1 - Dolby Atmos)",de:"German","de_de-2_0":"German","de_de-2_1":"German (Original)","de_de-6_1":"German (Original - 5.1 - Dolby Digital+)","de_de-6_0_ddp":"German (5.1 - Dolby Digital+)","de_de-6_0_dat":"German (5.1 - Dolby Atmos)",en:"English","en_us-2_0":"English","en_us-2_1":"English (Original)","en_us-6_1":"English (Original - 5.1 - Dolby Digital+)","en_us-6_0_ddp":"English (5.1 - Dolby Digital+)","en_us-6_0_dat":"English (5.1 - Dolby Atmos)",es:"Spanish","es_es-2_0":"Spanish","es_es-2_1":"Spanish (Original)","es_es-6_1":"Spanish (Original - 5.1 - Dolby Digital+)","es_es-6_0_ddp":"Spanish (5.1 - Dolby Digital+)","es_es-6_0_dat":"Spanish (5.1 - Dolby Atmos)",fr:"French","fr_fr-2_0":"French","fr_fr-2_1":"French (Original)","fr_fr-6_1":"French (Original - 5.1 - Dolby Digital+)","fr_fr-6_0_ddp":"French (5.1 - Dolby Digital+)","fr_fr-6_0_dat":"French (5.1 - Dolby Atmos)",hi:"Hindi","hi_in-2_0":"Hindi","hi_in-2_1":"Hindi (Original)","hi_in-6_1":"Hindi (Original - 5.1 - Dolby Digital+)","hi_in-6_0_ddp":"Hindi (5.1 - Dolby Digital+)","hi_in-6_0_dat":"Hindi (5.1 - Dolby Atmos)",id:"Indonesian","id_id-2_0":"Indonesian","id_id-2_1":"Indonesian (Original)","id_id-6_1":"Indonesian (Original - 5.1 - Dolby Digital+)","id_id-6_0_ddp":"Indonesian (5.1 - Dolby Digital+)","id_id-6_0_dat":"Indonesian (5.1 - Dolby Atmos)",it:"Italian","it_it-2_0":"Italian","it_it-2_1":"Italian (Original)","it_it-6_1":"Italian (Original - 5.1 - Dolby Digital+)","it_it-6_0_ddp":"Italian (5.1 - Dolby Digital+)","it_it-6_0_dat":"Italian (5.1 - Dolby Atmos)",ja:"Japanese","ja_jp-2_0":"Japanese","ja_jp-2_1":"Japanese (Original)","ja_jp-6_1":"Japanese (Original - 5.1 - Dolby Digital+)","ja_jp-6_0_ddp":"Japanese (5.1 - Dolby Digital+)","ja_jp-6_0_dat":"Japanese (5.1 - Dolby Atmos)",ko:"Korean","ko_kr-2_0":"Korean","ko_kr-2_1":"Korean (Original)","ko_kr-6_1":"Korean (Original - 5.1 - Dolby Digital+)","ko_kr-6_0_ddp":"Korean (5.1 - Dolby Digital+)","ko_kr-6_0_dat":"Korean (5.1 - Dolby Atmos)",pl:"Polish","pl_pl-2_0":"Polish","pl_pl-2_1":"Polish (Original)","pl_pl-6_1":"Polish (Original - 5.1 - Dolby Digital+)","pl_pl-6_0_ddp":"Polish (5.1 - Dolby Digital+)","pl_pl-6_0_dat":"Polish (5.1 - Dolby Atmos)",pt:"Portuguese","pt_pt-2_0":"Portuguese","pt_pt-2_1":"Portuguese (Original)","pt_pt-6_1":"Portuguese (Original - 5.1 - Dolby Digital+)","pt_pt-6_0_ddp":"Portuguese (5.1 - Dolby Digital+)","pt_pt-6_0_dat":"Portuguese (5.1 - Dolby Atmos)",ru:"Russian","ru_ru-2_0":"Russian ","ru_ru-2_1":"Russian (Original)","ru_ru-6_1":"Russian (Original - 5.1 - Dolby Digital+)","ru_ru-6_0_ddp":"Russian (5.1 - Dolby Digital+)","ru_ru-6_0_dat":"Russia (5.1 - Dolby Atmos)",sv:"Swedish","sv_sv-2_0":"Swedish","sv_sv-2_1":"Swedish (Original)","sv_sv-6_1":"Swedish (Original - 5.1 - Dolby Digital+)","sv_sv-6_0_ddp":"Swedish (5.1 - Dolby Digital+)","sv_sv-6_0_dat":"Swedish (5.1 - Dolby Atmos)",th:"Thai","th_th-2_0":"Thai","th_th-2_1":"Thai (Original)","th_th-6_1":"Thai (Original - 5.1 - Dolby Digital+)","th_th-6_0_ddp":"Thai (5.1 - Dolby Digital+)","th_th-6_0_dat":"Thai (5.1 - Dolby Atmos)",tr:"Turkish","tr_tr-2_0":"Turkish","tr_tr-2_1":"Turkish (Original)","tr_tr-6_1":"Turkish (Original - 5.1 - Dolby Digital+)","tr_tr-6_0_ddp":"Turkish (5.1 - Dolby Digital+)","tr_tr-6_0_dat":"Turkish (5.1 - Dolby Atmos)",vi:"Tiếng Việt",lt:"Tiếng Việt (LT)",tm:"Tiếng Việt (TM)",vi_lt:"Tiếng Việt (LT)",vi_tm:"Tiếng Việt (TM)","vi_vn-2_0":"Tiếng Việt","vi_vn-2_1":"Tiếng Việt (Original)","vi_vn-6_1":"Tiếng Việt (Original - 5.1 - Dolby Digital+)","vi_vn-6_0_ddp":"Tiếng Việt (5.1 - Dolby Digital+)","vi_vn-6_0_dat":"Tiếng Việt (5.1 - Dolby Atmos)","vi_vn-2_2":"Tiếng Việt (TM)","vi_vn-6_2_ddp":"Tiếng Việt (TM - 5.1 - Dolby Digital+)","vi_vn-6_2_dat":"Tiếng Việt (TM - 5.1 - Dolby Atmos)","vi_vn-2_3":"Tiếng Việt (LT)","vi_vn-6_3_ddp":"Tiếng Việt (5.1 - Dolby Digital+)","vi_vn-6_3_dat":"Tiếng Việt (LT - 5.1 - Dolby Atmos)",zh:"Chinese","zh_cn-2_0":"Chinese","zh_cn-2_1":"Chinese (Original)","zh_cn-6_1":"Chinese (Original - 5.1 - Dolby Digital+)","zh_cn-6_0_ddp":"Chinese (5.1 - Dolby Digital+)","zh_cn-6_0_dat":"Chinese (5.1 - Dolby Atmos)",hk:"Chinese (HK)",zh_hk:"Chinese (HK)","zh_hk-2_0":"Chinese (HK)","zh_hk-2_1":"Chinese (HK) (Original)","zh_hk-6_1":"Chinese (HK) (Original - 5.1 - Dolby Digital+)","zh_hk-6_0_ddp":"Chinese (HK) (5.1 - Dolby Digital+)","zh_hk-6_0_dat":"Chinese (HK) (5.1 - Dolby Atmos)",off:"Tắt",und:"Tiếng gốc"},ke=function(e){var t={};return m.a.map(xe,(function(n,i){i==e&&(t=n)})),t},_e=n(30),Se=n.n(_e);function Ie(e,t,n,i,a,o,r){try{var c=e[o](r),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(i,a)}function Ne(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Te={streaming:{bufferBehind:30,bufferingGoal:180,durationBackoff:1,ignoreTextStreamFailures:!0,alwaysStreamText:!1,smallGapLimit:2,retryParameters:{timeout:15e3,maxAttempts:6,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5}},manifest:{dash:{ignoreMinBufferTime:!0}}},Ce=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.session=t,this.userId=n,this._failureCallback=null,this.drmServer="https://lic.drmtoday.com",this.hosts=t.playLinks.map((function(e){return new URL(e.playlist).host.toString()})),this.retryHandle=this.retryHandle.bind(this)}var t,n,i,a,o;return t=e,(n=[{key:"installAll",value:(a=regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:null,Se.a.polyfill.installAll(),this.shakaInstance=new Se.a.Player(video),window.shakaInstance=this.shakaInstance,!t||"safari"!==t){e.next=9;break}return e.next=7,this.setupDRMSafari(this.session);case 7:e.next=10;break;case 9:this.setupDRM(this.session);case 10:this.setupCDN(this.session);case 11:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(n,i){var o=a.apply(e,t);function r(e){Ie(o,n,i,r,c,"next",e)}function c(e){Ie(o,n,i,r,c,"throw",e)}r(void 0)}))},function(){return o.apply(this,arguments)})},{key:"registerFailureCallback",value:function(e){this._failureCallback=e}},{key:"retryHandle",value:function(e){var t=new URL(e.error.data[0]).host,n=this.hosts.indexOf(t);this.hosts.splice(n,1),this.hosts.push(t)}},{key:"setupCDN",value:function(){var e=this;if(this._failureCallback&&(Te.streaming.failureCallback=this._failureCallback),window.localStorage.sessionBandwidth){var t=JSON.parse(window.localStorage.sessionBandwidth).average;t&&(Te.abr={defaultBandwidthEstimate:t})}Te.abr={defaultBandwidthEstimate:5e5},shakaInstance.configure(Te),shakaInstance.getNetworkingEngine().registerRequestFilter((function(t,n){if(t===Se.a.net.NetworkingEngine.RequestType.SEGMENT||t===Se.a.net.NetworkingEngine.RequestType.MANIFEST){var i=n.uris[0];n.uris=e.hosts.map((function(e){var t=new URL(i);return t.host=e,t.toString()}))}})),shakaInstance.getNetworkingEngine().addEventListener("retry",this.retryHandle)}},{key:"setupDRM",value:function(e){var t=this,n={drm:{retryParameters:{backoffFactor:2,baseDelay:1e3,fuzzFactor:.5,maxAttempts:2,timeout:0},servers:{"com.widevine.alpha":"".concat(e.licenseServer,"/license-proxy-widevine/cenc/")}}};shakaInstance.configure(n),shakaInstance.getNetworkingEngine().registerRequestFilter((function(n,i){n===Se.a.net.NetworkingEngine.RequestType.LICENSE&&(i.headers["dt-custom-data"]=btoa(JSON.stringify({userId:t.userId,sessionId:e.sessionPlayId,merchant:e.merchant})))})),shakaInstance.getNetworkingEngine().registerResponseFilter((function(e,t){if("com.microsoft.playready"!=shakaInstance.keySystem()&&e===Se.a.net.NetworkingEngine.RequestType.LICENSE){var n=Se.a.util.StringUtils.fromUTF8(t.data),i=JSON.parse(n);t.data=Se.a.util.Uint8ArrayUtils.fromBase64(i.license)}}))}},{key:"reSetupDRM",value:function(e){var t=this,n={drm:{servers:{"com.widevine.alpha":"".concat(e.licenseServer,"/license-proxy-widevine/cenc/")}}};shakaInstance.configure(n),shakaInstance.getNetworkingEngine().registerRequestFilter((function(n,i){n===Se.a.net.NetworkingEngine.RequestType.LICENSE&&(i.headers["dt-custom-data"]=btoa(JSON.stringify({userId:t.userId,sessionId:e.sessionPlayId,merchant:e.merchant})))}))}},{key:"setupDRMSafari",value:function(e){var t=this,n=this;return new Promise((function(i){t.getCertSafari(e,(function(t){var a="";shakaInstance.configure({drm:{servers:{"com.apple.fps.1_0":"".concat(n.drmServer,"/license-server-fairplay/")},advanced:{"com.apple.fps.1_0":{serverCertificate:new Uint8Array(t)}}}}),shakaInstance.configure("drm.initDataTransform",(function(e,t){if("skd"!=t)return e;var n=(a=Se.a.util.StringUtils.fromBytesAutoDetect(e)).indexOf("skd://drmtoday?");a=n>-1?(a=(a=a.substring(n+"skd://drmtoday?".length)).replace(/assetid/gi,"assetId")).replace(/variantid/gi,"variantId"):"";var i=shakaInstance.drmInfo().serverCertificate;return Se.a.util.FairPlayUtils.initDataTransform(e,a,i)})),shakaInstance.getNetworkingEngine().registerRequestFilter((function(t,i){if(t==Se.a.net.NetworkingEngine.RequestType.LICENSE){var o=new Uint8Array(i.body),r=Se.a.util.Uint8ArrayUtils.toStandardBase64(o),c="spc="+encodeURIComponent(r)+"&"+a;i.headers["Content-Type"]="application/x-www-form-urlencoded",i.headers["dt-custom-data"]=btoa(JSON.stringify({userId:n.userId,sessionId:e.sessionPlayId,merchant:e.merchant})),i.body=Se.a.util.StringUtils.toUTF8(c)}})),shakaInstance.getNetworkingEngine().registerResponseFilter((function(e,t){if(e==Se.a.net.NetworkingEngine.RequestType.LICENSE){var n=Se.a.util.StringUtils.fromUTF8(t.data);"<ckc>"===(n=n.trim()).substr(0,5)&&"</ckc>"===n.substr(-6)&&(n=n.slice(5,-6)),t.data=Se.a.util.Uint8ArrayUtils.fromBase64(n).buffer}})),i(!0)}))}))}},{key:"getCertSafari",value:function(e,t){var n=new XMLHttpRequest;n.responseType="arraybuffer",n.addEventListener("load",(function(e){t(e.currentTarget.response)}),!1),n.addEventListener("error",(function(e){}),!1),n.open("GET","".concat(this.drmServer,"/license-server-fairplay/cert/"),!0),n.setRequestHeader("dt-custom-data",btoa(JSON.stringify({userId:this.userId,sessionId:e.sessionPlayId,merchant:e.merchant}))),n.setRequestHeader("Pragma","Cache-Control: no-cache"),n.setRequestHeader("Cache-Control","max-age=0"),n.send()}}])&&Ne(t.prototype,n),i&&Ne(t,i),e}(),Pe=n(2),Ae=Pe.a.div.withConfig({displayName:"style__WrapNextMovie",componentId:"sc-15kv3en-0"})(["position:fixed;bottom:0;left:0;height:18.75vw;width:100vw;background-image:linear-gradient(to bottom,rgba(0,0,0,0) 4%,rgba(0,0,0,0.54) 36%);animation:fadeIn 1s;"]),Me=Pe.a.div.withConfig({displayName:"style__Container",componentId:"sc-15kv3en-1"})(["padding:2.222vw 6.7% 4.167vw;box-sizing:border-box;position:relative;.close{position:absolute;right:6.7%;top:2.222vw;width:2.778vw;height:2.778vw;color:#fff;cursor:pointer;path{fill:currentColor;}}"]),Ee=Pe.a.div.withConfig({displayName:"style__Title",componentId:"sc-15kv3en-2"})(["font-size:1.667vw;color:#fff;font-weight:bold;margin-bottom:0.556vw;"]),De=Pe.a.div.withConfig({displayName:"style__WrapContent",componentId:"sc-15kv3en-3"})(["display:flex;justify-content:flex-start;align-items:center;"]),Le=Pe.a.div.withConfig({displayName:"style__Item",componentId:"sc-15kv3en-4"})(["width:20%;cursor:pointer;&:not(:last-child){margin-right:0.833vw;}"]),Re=Pe.a.img.withConfig({displayName:"style__ItemImage",componentId:"sc-15kv3en-5"})(["width:100%;"]);function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var Ue=function(e){return Object(o.h)("svg",ze({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24"},e),Object(o.h)("path",{d:"M6.446 5.397l.084.073L12 10.939l5.47-5.47a.75.75 0 011.133.977l-.073.084L13.061 12l5.47 5.47a.75.75 0 01-.977 1.133l-.084-.073L12 13.061l-5.47 5.47a.75.75 0 01-1.133-.977l.073-.084L10.939 12l-5.47-5.47a.75.75 0 01.977-1.133z",fillRule:"evenodd"}))},Ve=n(6),Be=n.n(Ve),He=function(e){var t=Object(s.g)(),n=Object(Ve.useTracking)().trackEvent,i=function(i){return function(){n({on_screen:"watch",event_category:"browse",event_action:"click",direct_object_type:"film",direct_object_id:i.titleID,direct_object_property:i.alternateName,indirect_object_type:"marker",indirect_object_id:"recommendation",context_value:{watching_title_id:e.titleId,watching_title_name:e.alternateName}}),t.push("/title/"+e.slug),t.push("/title/"+i.slug)}};return Object(o.h)(Ae,null,Object(o.h)(Me,null,Object(o.h)(Ee,null,"Có thể bạn muốn xem"),Object(o.h)(Ue,{onClick:function(){n({on_screen:"watch",event_category:"browse",event_action:"click",direct_object_type:"button",direct_object_id:"close",indirect_object_type:"marker",indirect_object_id:"recommendation",context_value:{watching_title_id:e.titleId,watching_title_name:e.alternateName}}),e.closeNextMovie()},className:"close"}),Object(o.h)(De,null,e.data&&e.data.map((function(e,t){return t<5&&Object(o.h)(Le,{key:e.slug,onClick:i(e)},Object(o.h)(Re,{src:"//assets.glxplay.io/images/w400/"+e.image}))})))))};function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var qe=function(e){return Object(o.h)("svg",Fe({fill:"#fff",height:512,viewBox:"0 0 482.239 482.239",width:512,xmlns:"http://www.w3.org/2000/svg"},e),Object(o.h)("path",{d:"M206.812 34.446L0 241.119l206.743 206.674 24.353-24.284L65.929 258.342h416.31v-34.445H65.929L231.165 58.661z"}))};function We(){return(We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var Ke=function(e){return Object(o.h)("svg",We({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),Object(o.h)("path",{d:"M12 4a1 1 0 011 1v14a1 1 0 01-2 0V5a1 1 0 011-1zM7 7a1 1 0 011 1v7a1 1 0 01-2 0V8a1 1 0 011-1zm10 1a1 1 0 011 1v5a1 1 0 01-2 0V9a1 1 0 011-1z",fill:"#12A7FF",fillRule:"evenodd"}))};function Ge(){return(Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var $e=function(e){return Object(o.h)("svg",Ge({width:30,height:30,viewBox:"0 0 30 30",xmlns:"http://www.w3.org/2000/svg"},e),Object(o.h)("path",{d:"M7.8 3v24L27 15.001z",fill:"#FFF",fillRule:"evenodd"}))};function Xe(){return(Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var Ye=function(e){return Object(o.h)("svg",Xe({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),Object(o.h)("path",{d:"M5.293 8.293a1 1 0 011.32-.083l.094.083L12 13.585l5.293-5.292a1 1 0 011.32-.083l.094.083a1 1 0 01.083 1.32l-.083.094-6 6a1 1 0 01-1.32.083l-.094-.083-6-6a1 1 0 010-1.414z",fill:"#FFF",fillRule:"evenodd"}))},Ze=Pe.a.div.withConfig({displayName:"style__WrapSeason",componentId:"pgqe7f-0"})(["position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;&:before{content:'';position:absolute;left:0;top:0;width:100%;height:100%;backdrop-filter:blur(",");background-color:rgba(0,0,0,0.8);}"],P(20,1440)),Qe=Pe.a.div.withConfig({displayName:"style__WrapHeader",componentId:"pgqe7f-1"})(["height:",";background-color:#101010;display:flex;align-items:center;justify-content:space-between;padding:0 ",";margin-bottom:",";position:relative;z-index:2;"],P(74,1440),P(24,1440),P(14,1440)),Je=Pe.a.div.withConfig({displayName:"style__Title",componentId:"pgqe7f-2"})(["font-weight:bold;font-size:",";display:flex;align-items:center;color:#ffffff;svg{width:",";height:",";margin-right:",";cursor:pointer;}"],P(18,1440),P(40,1440),P(40,1440),P(16,1440)),et=Pe.a.div.withConfig({displayName:"style__WrapSelectBox",componentId:"pgqe7f-3"})(["position:relative;font-size:",";"],P(16,1440)),tt=Pe.a.div.withConfig({displayName:"style__SelectBox",componentId:"pgqe7f-4"})(["height:",";padding:0 "," 0 ",";border-radius:",";min-width:",";border:none;background-color:#1f2325;color:#ffffff;display:flex;align-items:center;cursor:pointer;svg{width:",";height:",";top:50%;position:absolute;right:",";transform:translateY(-50%);}"],P(48,1440),P(48,1440),P(24,1440),P(50,1440),P(215,1440),P(24,1440),P(24,1440),P(16,1440)),nt=Pe.a.div.withConfig({displayName:"style__WrapSelectOption",componentId:"pgqe7f-5"})(["position:absolute;top:calc(100% + ",");left:0;width:100%;z-index:10;background-color:#1c1d1d;border-radius:",";overflow:hidden;"],P(20,1440),P(4,1440)),it=Pe.a.div.withConfig({displayName:"style__SelectOption",componentId:"pgqe7f-6"})(["display:flex;align-items:center;width:100%;padding:0 ",";height:",";justify-content:flex-start;background-color:#1c1d1d;transition:300ms ease;color:#ffffff;box-sizing:border-box;cursor:pointer;&.active{color:#12a7ff;font-weight:bold;}&:hover{background-color:#404446;font-weight:bold;}"],P(24,1440),P(48,1440)),at=Pe.a.div.withConfig({displayName:"style__ListEpisode",componentId:"pgqe7f-7"})(["height:calc(100% - ",");padding:"," ",";overflow-y:scroll;position:relative;z-index:1;"],P(74,1440),P(14,1440),P(24,1440)),ot=Pe.a.div.withConfig({displayName:"style__WrapEpisode",componentId:"pgqe7f-8"})(["display:flex;align-items:flex-start;flex-wrap:wrap;"]),rt=Pe.a.div.withConfig({displayName:"style__WrapEpisodeImage",componentId:"pgqe7f-9"})(["position:relative;padding-top:56.25%;border-radius:",";background:#333333;margin-bottom:",";&:after{content:'';position:absolute;bottom:0;left:0;width:100%;height:",";background-image:linear-gradient(to bottom,rgba(71,71,71,0),rgba(0,0,0,0.8));}"],P(4,1440),P(16,1440),P(32,1440)),ct=Pe.a.div.withConfig({displayName:"style__Watching",componentId:"pgqe7f-10"})(["position:absolute;bottom:",";right:",";color:#f1f6f9;display:flex;align-items:center;justify-content:flex-end;z-index:1;font-size:",";svg{width:",";height:",";margin-right:",";}"],P(12,1440),P(8,1440),P(12,1440),P(24,1440),P(24,1440),P(4,1440)),st=Pe.a.div.withConfig({displayName:"style__Progress",componentId:"pgqe7f-11"})(["position:absolute;width:calc(100% - ",");height:",";background-color:#5f6366;border-radius:",";bottom:",";left:50%;transform:translateX(-50%);z-index:1;"],P(8,1440),P(4,1440),P(2,1440),P(4,1440)),lt=Pe.a.div.withConfig({displayName:"style__ProgressAcitve",componentId:"pgqe7f-12"})(["position:absolute;left:0;top:0;height:",";background:#12a7ff;border-radius:",";"],P(4,1440),P(2,1440)),ut=Pe.a.img.withConfig({displayName:"style__EpisodeImage",componentId:"pgqe7f-13"})(["width:100%;height:100%;top:0;left:0;position:absolute;object-fit:cover;border-radius:",";"],P(4,1440)),dt=Pe.a.div.withConfig({displayName:"style__EpisodeTitle",componentId:"pgqe7f-14"})(["display:flex;align-items:center;justify-content:space-between;margin-bottom:",";color:#fff;font-size:",";transition:300ms ease;"],P(8,1440),P(18,1440)),pt=Pe.a.div.withConfig({displayName:"style__EpisodeTitleName",componentId:"pgqe7f-15"})(["font-weight:bold;max-width:",";white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"],P(180,1440)),ht=Pe.a.div.withConfig({displayName:"style__EpisodeTitleDuration",componentId:"pgqe7f-16"})([""]),ft=Pe.a.div.withConfig({displayName:"style__EpisodeDescription",componentId:"pgqe7f-17"})(["font-size:",";display:-webkit-box;overflow:hidden;-moz-line-clamp:3;-o-box-orient:vertical;-o-line-clamp:3;-webkit-box-orient:vertical;-webkit-line-clamp:3;box-orient:vertical;line-clamp:3;"],P(16,1440)),mt=Pe.a.div.withConfig({displayName:"style__Play",componentId:"pgqe7f-18"})(["width:",";height:",";border-radius:50%;background:rgba(29,29,31,0.4);display:flex;align-items:center;justify-content:center;opacity:0;transition:300ms ease;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);svg{width:",";height:",";}"],P(48,1440),P(48,1440),P(29,1440),P(29,1440)),bt=Pe.a.div.withConfig({displayName:"style__Episode",componentId:"pgqe7f-19"})(["padding:",";background:transparent;width:20%;color:#a9aaad;transition:0.3s ease;border-radius:",";margin-bottom:",";cursor:pointer;&.active{","{color:#12a7ff;}}&:hover{background:rgba(64,68,70,0.5);color:#fff;","{opacity:1;}}"],P(12,1440),P(4,1440),P(24,1440),dt,mt);function gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var vt=function(e){var t,n=e.title,i=e.season,a=e.watchInPlayer,c=e.clickShowSeason,s=e.titleId,l=new URLSearchParams(window.location.search),u=l.get("ss"),d=l.get("ep"),p=Object(r.j)(),h=gt(Object(r.k)((t=0,u&&(t=i.findIndex((function(e){return e.seasonNumber==u}))),t)),2),f=h[0],m=h[1],b=gt(Object(r.k)(!1),2),g=b[0],y=b[1],v=Object(r.j)(),O=function(e,t){if(w(e.episodeNumber,t)&&window.playerP)return playerP.currentTime/playerP.duration*100;if(e.cntWatching){var n=e.cntWatching;return n.continueAt/n.duration*100}return e.watched&&1===e.watched?100:null},w=function(e,t){var n=0;if(u&&(n=i.findIndex((function(e){return e.seasonNumber==u}))),n===f){if(d)return d==e;if(0===t)return!0}return!1},j=function(e,t){return function(){w(e.episodeNumber,t)||(a(e,i[f],s),c(!1,"watchInPlayer"))}},x=function(e){return function(t){m(e),y(!1),v.current&&v.current.scrollTo(0,0)}};return Object(r.d)((function(){p.current&&p.current.scrollIntoView({behavior:"smooth",block:"start"})}),[]),Object(o.h)(Ze,null,Object(o.h)(Qe,null,Object(o.h)(Je,null,Object(o.h)(qe,{onClick:function(){return c(!1)}}),n),i.length>1&&Object(o.h)(et,null,Object(o.h)(tt,{onClick:function(){return y(!g)}},i[f].alternateName," ",Object(o.h)(Ye,null)),g&&Object(o.h)(nt,null,i.map((function(e,t){return Object(o.h)(it,{onClick:x(t),className:t===f?"active":"",key:e._id},e.alternateName)}))))),Object(o.h)(at,{ref:v},Object(o.h)(ot,null,i[f].episode.map((function(e,t){return Object(o.h)(bt,{className:w(e.episodeNumber,t)?"active":"",key:e._id,onClick:j(e,t),ref:w(e.episodeNumber,t)?p:null},Object(o.h)(rt,null,Object(o.h)(ut,{src:"//assets.glxplay.io/images/w400/"+e.poster}),Object(o.h)(mt,null,Object(o.h)($e,null)),O(e,t)&&Object(o.h)(st,null,Object(o.h)(lt,{style:{width:O(e)+"%"}})),w(e.episodeNumber,t)&&Object(o.h)(ct,null,Object(o.h)(Ke,null),"Đang xem")),Object(o.h)(dt,null,Object(o.h)(pt,null,e.alternateName),Object(o.h)(ht,null,e.duration)),Object(o.h)(ft,null,e.description))})))))},Ot=Pe.a.div.withConfig({displayName:"style__WrapRating",componentId:"lowxbf-0"})(["position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:320px;height:180px;animation:fadeIn 1s;background-color:#1f2325;border-radius:16px;"]),wt=Pe.a.div.withConfig({displayName:"style__Container",componentId:"lowxbf-1"})(["padding:20px 30px;box-sizing:border-box;position:relative;.close{position:absolute;right:5px;top:5px;width:25px;height:25px;color:#ffffff;cursor:pointer;path{fill:currentColor;}&:hover{transform:scale(1.2);}}"]),jt=Pe.a.div.withConfig({displayName:"style__Title",componentId:"lowxbf-2"})(["font-size:16px;color:#fff;font-weight:bold;margin-bottom:25px;text-align:center;"]),xt=Pe.a.div.withConfig({displayName:"style__WrapContent",componentId:"lowxbf-3"})(["display:flex;justify-content:flex-start;align-items:center;height:80px"]),kt=Pe.a.div.withConfig({displayName:"style__Item",componentId:"lowxbf-4"})(["width:50%;text-align:center;position:relative;opacity:0.8;&:hover{background-image:url('../../../assets/img/line-rating.png');background-size:88px;background-position:center;background-repeat:no-repeat;height:88px;opacity:1;}"]),_t=Pe.a.img.withConfig({displayName:"style__ItemImage",componentId:"lowxbf-5"})(["width:80px;cursor:pointer;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"]),St=n(391),It=n.n(St),Nt=n(392),Tt=n.n(Nt),Ct=(n(795),n(446)),Pt=function(){return Object(o.h)("svg",{version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 488.451 488.451",style:"enable-background:new 0 0 488.451 488.451;"},Object(o.h)("g",null,Object(o.h)("path",{d:"M484.125,412.013l-212.2-367.6c-12.3-21.3-43.1-21.3-55.4,0l-212.2,367.6c-12.3,21.3,3.1,48,27.7,48h424.4 C481.025,460.013,496.425,433.313,484.125,412.013z M244.525,157.613c13.6,0,24.6,11.3,24.2,24.9l-4,139.6 c-0.3,11-9.3,19.7-20.3,19.7s-20-8.8-20.3-19.7l-3.9-139.6C219.925,168.913,230.825,157.613,244.525,157.613z M244.225,410.113 c-13.9,0-25.2-11.3-25.2-25.2c0-13.9,11.3-25.2,25.2-25.2s25.2,11.3,25.2,25.2S258.125,410.113,244.225,410.113z"})),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null))};n(53);function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){Et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dt=function(e){var t=e.setNotification,n=e.notification,i=Object(s.g)(),a=Object(r.j)(),c=function(e){a.current&&!a.current.contains(e.target)&&(t(Mt(Mt({},n),{},{status:!1})),document.removeEventListener("click",(function(){})))};return Object(r.d)((function(){return document.addEventListener("click",c),function(){document.removeEventListener("click",c)}})),Object(o.h)("div",{className:"popup-notification",ref:a},Object(o.h)("div",{className:"card"},Object(o.h)("div",{className:"card-icon",onClick:function(){t(Mt(Mt({},n),{},{status:!1}))}},Object(o.h)(be,null)),Object(o.h)("div",{className:"card-body error"},Object(o.h)("div",{className:"icon-error"},Object(o.h)(Pt,null)),Object(o.h)("div",{className:"notifi-description"},n.description," "),Object(o.h)("div",{className:"card-action"},Object(o.h)("button",{onClick:function(){i.push(n.pathname),t(Mt(Mt({},n),{},{status:!1}))},className:"button-default"},"Thử lại")))))},Lt=Pe.a.div.withConfig({displayName:"base__Card",componentId:"zifbum-0"})(["position:fixed;min-width:250px;border-radius:3px;padding:30px 24px;box-shadow:0 2px 15px 5px rgba(0,0,0,0.03);"]),Rt=(Pe.a.div.withConfig({displayName:"base__BoxIcon",componentId:"zifbum-1"})(["text-align:center;svg{width:40px;height:40px;}"]),Pe.a.div.withConfig({displayName:"base__Close",componentId:"zifbum-2"})(["position:absolute;top:20px;right:20px;cursor:pointer;svg{width:15px;height:15px;}"]),Pe.a.div.withConfig({displayName:"base__String",componentId:"zifbum-3"})(["font-size:16px;color:",";line-height:1.5;"],(function(e){return"light"===e.color?"#ffffff":"#333333"})),Pe.a.div.withConfig({displayName:"base__Container",componentId:"zifbum-4"})(["padding:0 4% 88px;"])),zt=(Pe.a.h3.withConfig({displayName:"base__Title1",componentId:"zifbum-5"})(["margin:25px 0;color:#333333;font-size:20px;font-weight:400;"]),Pe.a.footer.withConfig({displayName:"base__Footer",componentId:"zifbum-6"})(["border-top:1px solid #d8d8d8d9;width:100%;position:absolute;bottom:0;left:0;display:flex;justify-content:center;a{padding:0rem 1rem;text-decoration:none;color:#707070;}padding:26px;"])),Ut=Pe.a.div.withConfig({displayName:"base__FooterVertual",componentId:"zifbum-7"})(["height:52px;width:100%;"]),Vt=Pe.a.span.withConfig({displayName:"base__Text",componentId:"zifbum-8"})(["color:",";font-size:",";"," "," margin-right:10px;text-align:left;"],(function(e){return e.pale?"rgba(255, 255, 255, 0.64)":"#fff"}),(function(e){return e.small?"14px":"watch"==e.type?"20px":"18px"}),(function(e){return"watch"==e.type&&!e.small&&"font-weight: bold; line-height: normal;"}),(function(e){return e.small?"padding-left: 9px;":"display: block;"})),Bt=(Pe.a.div.withConfig({displayName:"base__BaseDiv",componentId:"zifbum-9"})([""," "," "," "," ",""],(function(e){return e.mt?"margin-top:"+e.mt:""}),(function(e){return e.ml?"margin-top:"+e.ml:""}),(function(e){return e.mr?"margin-top:"+e.mr:""}),(function(e){return e.mb?"margin-top:"+e.mb:""}),(function(e){return e.text?"text-align:"+e.text:""})),Pe.a.div.withConfig({displayName:"base__BaseP",componentId:"zifbum-10"})([""," "," "," "," ",""],(function(e){return e.mt?"margin-top:"+e.mt:""}),(function(e){return e.ml?"margin-top:"+e.ml:""}),(function(e){return e.mr?"margin-top:"+e.mr:""}),(function(e){return e.mb?"margin-top:"+e.mb:""}),(function(e){return e.text?"text-align:"+e.text:""})),Pe.a.div.withConfig({displayName:"base__BaseH2",componentId:"zifbum-11"})([""," "," "," "," ",""],(function(e){return e.mt?"margin-top:"+e.mt:""}),(function(e){return e.ml?"margin-top:"+e.ml:""}),(function(e){return e.mr?"margin-top:"+e.mr:""}),(function(e){return e.mb?"margin-top:"+e.mb:""}),(function(e){return e.text?"text-align:"+e.text:""})),Pe.a.div.withConfig({displayName:"style__Content",componentId:"sc-152jb5a-0"})(["position:absolute;width:100%;img{height:auto !important;width:200px !important;margin:auto;display:flex;}p{margin-top:20px;text-align:center;font-size:24px;}"])),Ht=Pe.a.h4.withConfig({displayName:"style__Desc",componentId:"sc-152jb5a-1"})(["color:#333333;display:flex;align-items:center;margin:0;margin-left:1rem;",""],(function(e){return e.isSmall&&"font-size: 10px;"})),Ft=Pe.a.div.withConfig({displayName:"style__ErrorBox",componentId:"sc-152jb5a-2"})(["padding:0.7rem;box-sizing:border-box;& svg{fill:",";width:30px;height:30px;}"],(function(e){return"error"===e.type?"#e02020":""})),qt=Pe.a.div.withConfig({displayName:"style__ButtonOTP",componentId:"sc-152jb5a-3"})(["width:11.25rem;padding:0.75rem 0;display:flex;align-items:center;justify-content:center;font-weight:bold;color:#ebebeb;cursor:pointer;background:rgba(255,255,255,0.25);border-radius:50px;transition:0.5s all;margin:0 auto;&.disabled{opacity:0.4;}&:hover{background:rgba(255,255,255,0.4);}"]),Wt=Pe.a.button.withConfig({displayName:"style__Button",componentId:"sc-152jb5a-4"})(["font-size:16px;line-height:1.38;text-align:center;color:#ffffff;min-width:124px;padding:10px 0;margin:0px 5px;border:none;border-radius:100px;cursor:pointer;background:",";&:hover{background:",";}&:focus{outline:none;}"],(function(e){return"primary"===e.color?"#0077c8":"rgba(63, 63, 63, .75)"}),(function(e){return"primary"===e.color?"#3aaaff":"rgba(63, 63, 63, 1)"})),Kt=Pe.a.div.withConfig({displayName:"style__Overlay",componentId:"sc-152jb5a-5"})(["width:100vw;height:100vh;background-color:rgba(0,0,0,0.9);position:fixed;top:0;left:0;z-index:9999;display:flex;justify-content:center;align-items:center;img{width:100%;height:100%;}"]),Gt=Pe.a.div.withConfig({displayName:"style__WrapContent",componentId:"sc-152jb5a-6"})(["margin-top:-5rem;width:100%;padding:0 1rem;box-sizing:border-box;max-width:630px;"]),$t=Pe.a.div.withConfig({displayName:"style__Title",componentId:"sc-152jb5a-7"})(["font-size:2.25rem;font-weight:bold;text-align:center;padding-bottom:1.5rem;"]),Xt=Pe.a.div.withConfig({displayName:"style__Description",componentId:"sc-152jb5a-8"})(["font-size:1rem;padding-bottom:1rem;white-space:pre-wrap;text-align:center;@media (max-width:576px){white-space:initial;}"]),Yt=Pe.a.div.withConfig({displayName:"style__WrapButton",componentId:"sc-152jb5a-9"})(["display:flex;justify-content:center;align-items:center;padding-top:1rem;"]),Zt=Pe.a.div.withConfig({displayName:"style__ButtonTransparent",componentId:"sc-152jb5a-10"})(["font-weight:bold;transition:300ms ease-in-out;text-align:center;padding:0.75rem 0;width:260px;border-radius:50px;margin:0 1rem;cursor:pointer;"," @media (min-width:1200px){&:hover{background:#fff;color:#333;}}@media (max-width:576px){margin:0 0.5rem;}"],(function(e){return e.opacity?"border: 1px solid rgba(255,255,255,.5); color: rgba(255,255,255,.5);":"border: 1px solid #fff;"})),Qt=Object(Pe.a)(Lt).withConfig({displayName:"style__Wrap",componentId:"sc-152jb5a-11"})(["position:fixed;bottom:10%;left:50%;transform:translate(-50%,0);background:white;z-index:100;display:flex;border-radius:100px;min-width:100px;padding:0px 30px 0px 20px;box-shadow:0px 1px 14px 2px rgba(0,0,0,0.1);z-index:10000000;display:flex;&.small{min-width:250px;width:max-content;padding:0px 20px 0px 10px;","{font-size:12px;margin-left:5px;flex-grow:1;}","{padding:.5rem 0;&svg{max-width:10px;max-height:10px;}}}"],Ht,Ft);function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(n),!0).forEach((function(t){tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nn=function(e){var t=e.time,n=void 0===t?3e3:t,i=e.notification,a=e.setNotification;return Object(r.d)((function(){var e=null;return 9999!==n&&(e=setTimeout((function(){a(en(en({},i),{},{status:!1})),clearTimeout(e)}),n)),function(){return clearTimeout(e)}})),Object(o.h)(Qt,{className:i&&i.description&&i.description.length>30?"small":""},Object(o.h)(Ft,{type:"error"},Object(o.h)(Pt,null)),Object(o.h)(Ht,null," ",i.description))},an=(n(796),function(){return Object(o.h)("svg",{id:"successAnimation",class:"animated",xmlns:"http://www.w3.org/2000/svg",width:"50",height:"50",viewBox:"0 0 70 70"},Object(o.h)("path",{id:"successAnimationResult",fill:"#D8D8D8",d:"M35,60 C21.1928813,60 10,48.8071187 10,35 C10,21.1928813 21.1928813,10 35,10 C48.8071187,10 60,21.1928813 60,35 C60,48.8071187 48.8071187,60 35,60 Z M23.6332378,33.2260427 L22.3667622,34.7739573 L34.1433655,44.40936 L47.776114,27.6305926 L46.223886,26.3694074 L33.8566345,41.59064 L23.6332378,33.2260427 Z"}),Object(o.h)("circle",{id:"successAnimationCircle",cx:"35",cy:"35",r:"24",stroke:"#979797","stroke-width":"2","stroke-linecap":"round",fill:"transparent"}),Object(o.h)("polyline",{id:"successAnimationCheck",stroke:"#979797","stroke-width":"2",points:"23 34 34 43 47 27",fill:"transparent"}))});function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){cn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sn=function(e){var t=e.time,n=void 0===t?3e3:t,i=e.notification,a=e.setNotification;return Object(r.d)((function(){var e=setTimeout((function(){a(rn(rn({},i),{},{status:!1})),clearTimeout(e)}),n);return function(){return clearTimeout(e)}})),Object(o.h)(Qt,{className:i&&i.description&&i.description.length>30?"small":""},Object(o.h)(an,null),Object(o.h)(Ht,null," ",i.description))};function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pn=function(e){var t=e.setNotification,n=e.notification,i=Object(r.j)(),a=function(){t(un(un({},n),{},{status:!1}))},c=function(){a(),n.callback()},s=function(e){i.current&&!i.current.contains(e.target)&&(t(un(un({},n),{},{status:!1})),document.removeEventListener("click",(function(){})))};return Object(r.d)((function(){return n.notClose||document.addEventListener("click",s),function(){n.notClose||document.removeEventListener("click",s)}})),Object(o.h)("div",{className:"popup-notification",ref:i},Object(o.h)("div",{className:"card"},!n.notClose&&Object(o.h)("div",{className:"card-icon",onClick:a},Object(o.h)(be,null)),Object(o.h)("div",{className:"card-body error"},Object(o.h)("div",{className:"icon-error"},Object(o.h)(Pt,null)),Object(o.h)("div",{className:"notifi-description"},n.description," ")),Object(o.h)("div",{className:"card-action"},!n.notCancel&&Object(o.h)(Wt,{onClick:a},"Hủy"),n.tryAgain&&Object(o.h)(Wt,{color:"primary",onClick:c},"Thử lại"),n.callback&&Object(o.h)(Wt,{color:"primary",onClick:c},n.callbackName||"Thử lại"))))},hn=function(e){var t=Object(r.j)();return Object(o.h)("div",{className:"popup-notification",ref:t},Object(o.h)("div",{className:"card"},Object(o.h)("div",{className:"card-body error"},Object(o.h)("div",{className:"icon-error"},Object(o.h)(Pt,null)),Object(o.h)("div",{className:"notifi-desc"},e.notification.description," "))))};function fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(n),!0).forEach((function(t){bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gn=function(e){var t=e.setNotification,n=e.notification,i=function(){t(mn(mn({},n),{},{status:!1}))};return Object(o.h)("div",{className:"popup-notification full"},Object(o.h)("div",{className:"card light-bg"},Object(o.h)("div",{className:"card-icon light-icon",onClick:i},Object(o.h)(be,null)),Object(o.h)("div",{className:"card-body error"},Object(o.h)("div",{className:"title"},"Xoá kho phim"),Object(o.h)("div",{className:"notifi-description"},"Bạn có chắc chắn muốn xoá kho phim này không?"),Object(o.h)("div",{className:"card-action"},Object(o.h)("button",{onClick:function(){i(),e.callBack()},className:"button-default light-btn"},"Có"),Object(o.h)("button",{onClick:i,className:"button-default light-btn"},"Không")))))},yn=n(112),vn=n.n(yn);function On(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?On(Object(n),!0).forEach((function(t){jn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):On(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xn=function(e){var t=e.setNotification,n=e.notification,i=Object(r.j)(),a=function(e){i.current&&!i.current.contains(e.target)&&(t(wn(wn({},n),{},{status:!1})),document.removeEventListener("click",(function(){})))};return Object(r.d)((function(){return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}})),Object(o.h)("div",{className:"popup-notification full platform",ref:i},Object(o.h)("div",{className:"card"},Object(o.h)("div",{className:"card-body"},Object(o.h)("div",{className:"notifi-header"},Object(o.h)("p",null,"Theo chính sách của Hãng Phim phát hành")),Object(o.h)("img",{className:"notifi-title-image",src:"//assets.glxplay.io/images/w400/"+n.description}),Object(o.h)("div",{className:"notifi-description"},"Phim chỉ được xem trên ứng dụng Galaxy Play có sẵn trên các dòng Smart TV Samsung, Sony, LG và thiết bị di động iOS/Android."),Object(o.h)("div",{className:"notifi-download"},Object(o.h)("div",{className:"downloadapp"},Object(o.h)("div",{className:"ratio"},Object(o.h)("img",{src:vn.a}))),Object(o.h)("div",{className:"notifi-description"},"Hoặc quét mã tải app Galaxy Play trên Apple Store (iOS) hoặc Google Play Store (Android)")),Object(o.h)("div",{className:"card-action"},Object(o.h)("button",{onClick:function(){t(wn(wn({},n),{},{status:!1}))},className:"button-default"},"Trở lại")))))},kn=function(e){return e/16+"rem"},_n=Pe.a.div.withConfig({displayName:"style__Overlay",componentId:"gazsiw-0"})(["width:100vw;height:100%;position:fixed;z-index:99999;background:rgba(0,0,0,0.7);display:flex;align-items:center;justify-content:center;box-sizing:border-box;padding:0 4%;*{box-sizing:border-box;}"]),Sn=Pe.a.div.withConfig({displayName:"style__Card",componentId:"gazsiw-1"})(["width:",";max-width:100%;padding:"," ",";border-radius:16px;box-shadow:0 2px 8px 0 rgba(0,0,0,0.4);background-color:#1e1e1e;"],kn(440),kn(40),kn(16)),In=Pe.a.img.withConfig({displayName:"style__Icon",componentId:"gazsiw-2"})(["width:",";display:block;margin:0 auto ",";"],kn(120),kn(20)),Nn=Pe.a.div.withConfig({displayName:"style__Description",componentId:"gazsiw-3"})(["font-size:",";text-align:center;margin-bottom:",";"],kn(16),kn(20)),Tn=Pe.a.div.withConfig({displayName:"style__WrapButton",componentId:"gazsiw-4"})(["display:flex;justify-content:center;align-items:center;"]),Cn=Pe.a.div.withConfig({displayName:"style__Button",componentId:"gazsiw-5"})(["width:",";max-width:100%;height:",";border-radius:50px;font-size:",";cursor:pointer;font-weight:bold;transition:0.3s ease-in-out;display:flex;justify-content:center;align-items:center;"," &:last-child{margin-left:",";}&:hover{background:#fff;color:#1d1d1d;}"],kn(180),kn(44),kn(18),(function(e){return e.isPrimary?"background: #fff; color: #1d1d1d;":"background: #9ca1a3; color: #fff"}),kn(16)),Pn=n(393),An=n.n(Pn);function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){Dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ln=function(e){var t=e.setNotification,n=e.notification,i=Object(s.g)(),a=function(){t(En(En({},n),{},{status:!1}))};return Object(o.h)(_n,null,Object(o.h)(Sn,null,Object(o.h)(In,{src:An.a}),Object(o.h)(Nn,null,n.description),Object(o.h)(Tn,null,Object(o.h)(Cn,{onClick:a},"Để sau"),Object(o.h)(Cn,{onClick:function(){i.push({pathname:n.pathname,state:{linkWatching:n.linkWatching}}),a()},isPrimary:!0},"Đăng ký gói"))))};function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(n),!0).forEach((function(t){Un(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vn=function(e){var t=e.setNotification,n=e.notification,i=Object(r.j)();return Object(r.d)((function(){n.status?document.body.style.overflow="hidden":document.body.style.overflow=""}),[n.status]),Object(o.h)("div",{id:"visit",className:"popup-notification full",ref:i},Object(o.h)("div",{className:"card"},Object(o.h)("div",{className:"card-body error"},Object(o.h)("div",{className:"title"},"CHÀO MỪNG BẠN ĐẾN VỚI GALAXY PLAY!"),Object(o.h)("div",{className:"description"},"Galaxy Play trân trọng thông báo việc điều chỉnh mức giá dịch vụ đối với thuê bao mới từ 1.8.2020 như sau:"),Object(o.h)("div",{className:"description"},"Thuê Bao Tháng: ",Object(o.h)("br",null)," - Gói Galaxy Play Cao Cấp: 60.000 đồng/tháng ",Object(o.h)("br",null),"- Gói Galaxy Play Mobile: 20.000 đồng/ tháng"),Object(o.h)("div",{className:"description"},"Khách hàng là thuê bao cũ, hiện đang có gói Galaxy Play và tiếp tục thanh toán tự động hằng tháng vẫn được áp dụng giá cũ (Gói Cao Cấp: 50.000 đồng/tháng và Gói Mobile: 10.000đồng/tháng)"),Object(o.h)("div",{className:"description"},"Mọi chi tiết vui lòng liên hệ tổng đài 18009090 (24/7)"),Object(o.h)("div",{className:"description"},"Galaxy Play cam kết tiếp tục mang đến cho khách hàng những trải nghiệm tối ưu và tốt nhất về công nghệ và nội dung."),Object(o.h)("div",{className:"description"},"Trân trọng."),Object(o.h)("div",{className:"card-action"},Object(o.h)("button",{onClick:function(){t(zn(zn({},n),{},{status:!1})),window.localStorage.setItem("isVisited1",!0)},className:"button-default"},"XEM NGAY")))))};function Bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(n),!0).forEach((function(t){Fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qn=function(e){var t=e.setNotification,n=e.notification,i=function(e){return function(i){var a=window.localStorage.popupTvod&&parseInt(window.localStorage.popupTvod);switch(e){case"understand":a&&a<3?window.localStorage.setItem("popupTvod",a+1):window.localStorage.setItem("popupTvod",1);break;case"dontShowAgain":window.localStorage.setItem("popupTvod",3)}t(Hn(Hn({},n),{},{status:!1}))}};return Object(o.h)(Kt,null,Object(o.h)(Gt,null,Object(o.h)($t,null,"Phim Thuê"),Object(o.h)(Xt,null,"Bạn có 30 ngày để bắt đầu xem phim. Sau khi bạn bắt đầu xem,\nbạn có thể phát phim bao nhiêu lần tùy thích trong vòng 48 giờ."),Object(o.h)(Xt,null,"Phim Thuê bao gồm những bộ phim điện ảnh mới nhất có quyền phát\nhành ngay sau chiếu rạp. Galaxy Play thu phí thuê phim theo quy định\ncủa nhà sản xuất và nhà phát hành."),Object(o.h)(Yt,null,Object(o.h)(Zt,{onClick:i("understand")},"Tôi đã hiểu"),Object(o.h)(Zt,{opacity:!0,onClick:i("dontShowAgain")},"Không hiển thị lại"))))};function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(n),!0).forEach((function(t){Gn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $n=function(e){var t=e.setNotification,n=e.notification,i=function(e){t(Kn(Kn({},n),{},{status:!1}))};return Object(o.h)(Kt,null,Object(o.h)(Gt,null,Object(o.h)($t,null,"Bạn có muốn xem phim trên thiết bị này không?"),Object(o.h)(Xt,null,"Bạn đang thuê phim với giá ưu đãi và chỉ được xem trên thiết bị di động.\nĐể xem không giới hạn thiết bị vui lòng nâng cấp quyền xem phim."),Object(o.h)(Yt,null,Object(o.h)(Zt,{onClick:function(){n.onSubmit(),i()}},"Đồng ý"),Object(o.h)(Zt,{opacity:!0,onClick:i},"Để sau"))))},Xn=n(394),Yn=n.n(Xn),Zn=function(e){return Object(o.h)(Kt,null,Object(o.h)("img",{src:Yn.a}),Object(o.h)(Bt,null,Object(o.h)("img",{src:ne.a}),Object(o.h)("p",null,"Sorry, Galaxy Play is not ",Object(o.h)("br",null)," available in your region.")))},Qn=n(170),Jn=n.n(Qn);function ei(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ti(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ti(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ii(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(n),!0).forEach((function(t){ai(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ai(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oi=function(e){var t=Object(r.j)(!1),n=e.setNotification,i=e.notification,a=Object(Ve.useTracking)().trackEvent,c=Object(r.b)(F),s=function(){n(ii(ii({},i),{},{status:!1})),i.onCloseForgot&&"setProfile"==i.typeUI&&i.onCloseForgot(i.itemProfile)},l=function(e,t,n,i,o){a({on_screen:"lobby",from_screen:c.history.length>1&&c.history[c.history.length-2]||"",event_category:"account",event_action:"click",direct_object_type:"button",direct_object_id:e,indirect_object_type:t,indirect_object_id:n,indirect_object_property:i,context_value:o})},u=ei(Object(r.k)({valInput1:"",valInput2:"",valInput3:"",valInput4:""}),2),d=u[0],p=u[1],h=ei(Object(r.k)(""),2),f=h[0],m=h[1];Object(r.d)((function(){return b.isIOS||document.getElementById("input-1").focus(),document.addEventListener("keydown",y,!1),function(){document.removeEventListener("keydown",y)}}),[]),Object(r.d)((function(){t.current?n(ii(ii({},i),{},{status:!1})):t.current=!0}),[window.location.pathname]),Object(r.d)((function(){d.valInput1="",d.valInput2="",d.valInput3="",d.valInput4=""}),[i.resetInput]),Object(r.d)((function(){var t=d.valInput1+d.valInput2+d.valInput3+d.valInput4;if(d.valInput1&&d.valInput2&&d.valInput3&&d.valInput4&&"setProfile"!==i.typeUI&&e.submitPIN){var n={PIN:{pin_code:t},id:i.itemProfile.short_id};z.validatePINViewer(n,(function(n,a){!n&&a&&(a.data.is_valid?(e.submitPIN(i.itemProfile),e.getPIN&&e.getPIN(t),s()):(d.valInput1="",d.valInput2="",d.valInput3="",d.valInput4="",document.getElementById("input-1").focus(),m("Mã PIN không chính xác. Vui lòng thử lại!")))}))}}),[d]);var g=function(t){var n=d.valInput1+d.valInput2+d.valInput3+d.valInput4;if(t.preventDefault(),d.valInput1&&d.valInput2&&d.valInput3&&d.valInput4){if(e.submitPINAgain){var a={profile_id:i.itemProfile.short_id,kid_mode:i.itemProfile.is_kid?1:0,lock_profile:i.itemProfile.is_pin_code_enforced?1:0};l("submit_new_pin","user_profile",i.itemProfile.name,i.itemProfile.is_kid?"kid_mode":"non_kid_mode",a),e.submitPINAgain(i.itemProfile,n)}else e.submitPIN();e.getPIN&&e.getPIN(n)}},y=function(e){8===e.keyCode&&(!document.activeElement.nextSibling&&document.activeElement.value.trim().length>0||document.activeElement.previousSibling&&(document.activeElement.value.trim().length>0||document.activeElement.previousSibling.focus()))},v=function(e){return function(t){m("");t.target.value.match("^[0-9]*$")?(t.target.value.trim().length>0&&t.target.nextSibling&&t.target.nextSibling.focus(),p(ii(ii({},d),{},ai({},e,t.target.value)))):p(ii(ii({},d),{},ai({},e,"")))}};return Object(o.h)("div",{className:"popup-notification full",id:"profile"},Object(o.h)("div",{className:"card card-profile"},Object(o.h)("div",{className:"card-icon light-icon",onClick:s},Object(o.h)("img",{src:Jn.a})),Object(o.h)("div",{className:"card-body error card-body-PIN"},Object(o.h)("div",{className:"title title-PIN"},"setProfile"==i.typeUI?"Thiết lập mã PIN để khoá kho phim":i.typeAction&&"edit"===i.typeAction?"Nhập mã PIN để chỉnh sửa kho phim":"Nhập mã PIN để truy cập kho phim",f&&""!==f&&Object(o.h)("div",{className:"error-mess"},f)),Object(o.h)("div",{className:"card-otp"},Object(o.h)("form",{id:"form-input-PIN",action:"",onSubmit:g},Object(o.h)("input",{id:"input-1",className:"input-otp",maxLength:"1",onChange:v("valInput1"),value:d.valInput1,inputmode:"numeric",type:"setProfile"==i.typeUI?"text":"password"}),Object(o.h)("input",{className:"input-otp",maxLength:"1",onChange:v("valInput2"),value:d.valInput2,inputmode:"numeric",type:"setProfile"==i.typeUI?"text":"password"}),Object(o.h)("input",{className:"input-otp",maxLength:"1",onChange:v("valInput3"),value:d.valInput3,inputmode:"numeric",type:"setProfile"==i.typeUI?"text":"password"}),Object(o.h)("input",{className:"input-otp",maxLength:"1",onChange:v("valInput4"),value:d.valInput4,inputmode:"numeric",type:"setProfile"==i.typeUI?"text":"password"})),"setProfile"==i.typeUI&&Object(o.h)("div",{className:"card-action card-button"},Object(o.h)(qt,{onClick:g,className:""===d.valInput1||""===d.valInput2||""===d.valInput3||""===d.valInput4?"disabled":""},"Thiết lập"))),"setProfile"!==i.typeUI&&Object(o.h)(qt,{onClick:function(){var e={profile_id:i.itemProfile.short_id,kid_mode:i.itemProfile.is_kid?1:0,lock_profile:i.itemProfile.is_pin_code_enforced?1:0};l("forgot_pin","user_profile",i.itemProfile.name,i.itemProfile.is_kid?"kid_mode":"non_kid_mode",e),i.forgotPIN(i.itemProfile)}},"Quên mã PIN"))))};function ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ri(Object(n),!0).forEach((function(t){si(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ri(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function si(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function li(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ui(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ui(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var di=function(e){var t=e.setNotification,n=e.notification,i=Object(s.g)(),a=li(Object(r.k)(null),2),c=a[0],l=a[1],u=li(Object(r.k)(null),2),d=u[0],p=u[1];Object(r.d)((function(){b.isIOS||document.getElementById("input-pass").focus()}),[]);var h=Object(r.j)(!1);Object(r.d)((function(){h.current?f():h.current=!0}),[i.location.pathname]);var f=function(){t(ci(ci({},n),{},{status:!1})),n.backHome?i.push("/browse"):n.forgotPIN&&n.onCloseForgot&&n.onCloseForgot(n.itemProfile)},m=function(e){if(e.preventDefault(),c&&c.length>5){var i={password:c};z.validPasswordUser(i,(function(e,i){!e&&i&&(1==i.data.Status?(t(ci(ci({},n),{},{status:!1})),n.confirmPass(),n.getItemProfile&&n.getItemProfile(n.itemProfile)):p("Mật khẩu không chính xác. Vui lòng thử lại!"))}))}};return Object(o.h)("div",{className:"popup-notification full",id:"profile"},Object(o.h)("div",{className:"card light-bg card-profile"},Object(o.h)("div",{className:"card-icon light-icon",onClick:f},Object(o.h)("img",{src:Jn.a})),Object(o.h)("div",{className:"card-body error card-body-PIN"},Object(o.h)("div",{className:"title title-PIN"},n.titleHead,d&&""!==d&&Object(o.h)("div",{className:"error-mess"},d)),Object(o.h)("div",{className:"card-otp"},Object(o.h)("form",{onSubmit:m},Object(o.h)("input",{className:"input-password ".concat(d&&"input-error"),id:"input-pass",onChange:function(e){return function(e){p(""),l(e.target.value)}(e)},type:"password",placeholder:"Nhập mật khẩu tài khoản Galaxy Play"})),Object(o.h)("div",{className:"card-action card-button"},Object(o.h)("button",{onClick:m,className:"button-default grey-btn ".concat(c&&c.length>5?"submit-PIN":"disabled")},"Đồng ý"),Object(o.h)("button",{onClick:f,className:"button-default grey-btn"},"Huỷ"))))))};function pi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function hi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pi(Object(n),!0).forEach((function(t){fi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mi=function(e){var t=e.setNotification,n=e.notification,i=Object(s.g)(),a=function(){var e=new Date,t=e.getTime();t+=864e5,e.setTime(t),document.cookie="popupUpgrade=true; expires="+e.toUTCString()+"; path=/"},r=function(e){return function(o){switch(e){case"upgrade":i.push({pathname:"/subs/pay",search:"?type=premium"}),a();break;case"dontShowAgain":a()}t(hi(hi({},n),{},{status:!1}))}};return Object(o.h)(Kt,null,Object(o.h)(Gt,null,Object(o.h)($t,null,"Bạn có muốn xem phim trên thiết bị này không?"),Object(o.h)(Xt,null,"Bạn đang có gói Mobile. Bạn chỉ xem trên điện thoại thông minh hoặc máy tính bảng.\n\nVui lòng nâng cấp lên gói Galaxy Play Cao Cấp, chỉ 60.000 đ/tháng để bắt đầu xem."),Object(o.h)(Yt,null,Object(o.h)(Zt,{onClick:r("upgrade")},"Nâng cấp lên gói Cao Cấp"),Object(o.h)(Zt,{opacity:!0,onClick:r("dontShowAgain")},"Không, Cảm Ơn"))))},bi=function(e){return e/16+"rem"},gi=Pe.a.div.withConfig({displayName:"style__Overlay",componentId:"sc-1pcuy3s-0"})(["width:100%;height:100%;position:fixed;top:0;left:0;display:flex;align-items:center;justify-content:center;z-index:9999;background-color:rgba(0,0,0,0.7);transition:opacity 300ms,transform 300ms;box-sizing:border-box;padding:0 4%;*{box-sizing:border-box;}"]),yi=Pe.a.div.withConfig({displayName:"style__Card",componentId:"sc-1pcuy3s-1"})(["width:440px;max-width:100%;padding:"," ",";border-radius:",";box-shadow:0 2px 8px 0 rgba(0,0,0,0.4);background-color:#1e1e1e;margin-bottom:3rem;text-align:center;@media (max-width:576px){padding:"," "," ",";}"],bi(40),bi(16),bi(16),bi(24),bi(16),bi(32)),vi=Pe.a.img.withConfig({displayName:"style__Icon",componentId:"sc-1pcuy3s-2"})(["width:",";display:block;margin:0 auto ",";@media (max-width:576px){width:",";margin:0 auto ",";}"],bi(120),bi(24),bi(80),bi(20)),Oi=Pe.a.div.withConfig({displayName:"style__Title",componentId:"sc-1pcuy3s-3"})(["font-size:",";font-weight:bold;margin-bottom:",";color:#fff;"],bi(24),bi(8)),wi=Pe.a.div.withConfig({displayName:"style__Description",componentId:"sc-1pcuy3s-4"})(["font-size:",";color:#a9aaad;margin-bottom:",";"],bi(16),bi(20)),ji=Pe.a.div.withConfig({displayName:"style__Button",componentId:"sc-1pcuy3s-5"})(["width:",";height:",";font-weight:bold;font-size:",";display:flex;align-items:center;justify-content:center;color:#1d1d1d;background:#fff;margin:0 auto;cursor:pointer;border-radius:50px;"],bi(148),bi(44),bi(18)),xi=n(395),ki=n.n(xi),_i=n(396),Si=n.n(_i);function Ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ni(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ii(Object(n),!0).forEach((function(t){Ti(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ii(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ci=function(e){var t=e.notification,n=e.setNotification;return Object(o.h)(gi,null,Object(o.h)(yi,null,Object(o.h)(vi,{src:t.typeMessage&&1===t.typeMessage?Si.a:ki.a}),Object(o.h)(Oi,null,t.title),Object(o.h)(wi,null,t.description),Object(o.h)(ji,{onClick:function(){t.callback&&t.callback(),n(Ni(Ni({},t),{},{status:!1}))}},"Đóng")))},Pi=function(e){return e/16+"rem"},Ai=Pe.a.div.withConfig({displayName:"styleConfirm__Overlay",componentId:"u3tne5-0"})(["width:100vw;height:100vh;background-image:radial-gradient(circle at 50% 50%,rgba(1,1,1,0.6),#000000 72%);position:fixed;top:0;left:0;display:flex;align-items:center;justify-content:center;z-index:9999;&:before{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(29,29,31,0.8);content:'';}"]),Mi=Pe.a.form.withConfig({displayName:"styleConfirm__Card",componentId:"u3tne5-1"})(["background-color:#1e1e1e;border-radius:6px;box-shadow:0 2px 8px 0 rgba(0,0,0,0.4);width:100%;max-width:",";box-sizing:border-box;margin:0 20px;padding:32px 20px;position:relative;z-index:1;"],Pi(447)),Ei=Pe.a.div.withConfig({displayName:"styleConfirm__Title",componentId:"u3tne5-2"})(["font-size:",";font-weight:bold;text-align:center;margin-bottom:",";@media (max-width:576px){font-size:",";}"],Pi(24),Pi(12),Pi(20)),Di=Pe.a.div.withConfig({displayName:"styleConfirm__Description",componentId:"u3tne5-3"})(["font-size:",";text-align:center;@media (max-width:576px){font-size:",";}"],Pi(16),Pi(14)),Li=Pe.a.div.withConfig({displayName:"styleConfirm__WrapButton",componentId:"u3tne5-4"})(["display:flex;align-items:center;justify-content:center;margin-top:",";@media (max-width:576px){margin-top:",";}"],Pi(32),Pi(24)),Ri=Pe.a.button.withConfig({displayName:"styleConfirm__Button",componentId:"u3tne5-5"})(["width:",";height:",";font-weight:bold;transition:300ms ease-in-out;display:flex;justify-content:center;align-items:center;border-radius:50px;cursor:pointer;font-size:",";"," &:hover{border:1px solid #f2f2f2;background-color:#f2f2f2;color:#1d1d1d;}&:last-child{margin-left:",";}@media (max-width:576px){font-size:",";width:",";height:",";&:last-child{margin-left:",";}}"],Pi(140),Pi(42),Pi(16),(function(e){return e.primary?"border: 1px solid #f2f2f2; background-color: #f2f2f2; color: #1d1d1d;":"border: 1px solid #9b9b9b; color: #9b9b9b; background-color: transparent;"}),Pi(20),Pi(14),Pi(120),Pi(36),Pi(12));function zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zi(Object(n),!0).forEach((function(t){Vi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bi=function(e){var t=e.setNotification,n=e.notification,i=Object(s.g)(),a=Object(r.j)(!1);Object(r.d)((function(){a.current?c():a.current=!0}),[i.location.pathname]);var c=function(){t(Ui(Ui({},n),{},{status:!1}))};return Object(o.h)(Ai,null,Object(o.h)(Mi,{onSubmit:function(e){e.preventDefault(),n.confirmed(),c()}},Object(o.h)(Ei,null,n.title),Object(o.h)(Di,null,n.description),Object(o.h)(Li,null,Object(o.h)(Ri,{onClick:function(e){e.preventDefault(),c()}},"Huỷ"),Object(o.h)(Ri,{type:"submit",primary:!0},"Xác nhận"))))};function Hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Fi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hi(Object(n),!0).forEach((function(t){qi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ki(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ki(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Gi=function(e){var t=e.setNotification,n=e.notification,i=(Object(Ve.useTracking)().trackEvent,Object(r.b)(F),Wi(Object(r.k)(!1),2)),a=i[0],c=i[1],s=Wi(Object(r.k)({valInput1:"",valInput2:"",valInput3:"",valInput4:"",valInput5:"",valInput6:""}),2),l=s[0],u=s[1],d=Wi(Object(r.k)(""),2),p=d[0],h=d[1];Object(r.d)((function(){return b.isIOS||document.getElementById("input-1").focus(),document.addEventListener("keydown",f,!1),function(){document.removeEventListener("keydown",f)}}),[]),Object(r.d)((function(){var e=l.valInput1+l.valInput2+l.valInput3+l.valInput4+l.valInput5+l.valInput6;if(l.valInput1&&l.valInput2&&l.valInput3&&l.valInput4&&l.valInput5&&l.valInput6){var n={otp:e};c(!0),z.confirmQuickLogin(n,(function(e,n){c(!1),!e&&n?t({status:!0,description:n.data.message,type:"success"}):(l.valInput1="",l.valInput2="",l.valInput3="",l.valInput4="",l.valInput5="",l.valInput6="",document.getElementById("input-1").focus(),h(n.data.message))}))}}),[l]);var f=function(e){8===e.keyCode&&(!document.activeElement.nextSibling&&document.activeElement.value.trim().length>0||document.activeElement.previousSibling&&(document.activeElement.value.trim().length>0||document.activeElement.previousSibling.focus()))},m=function(e){return function(t){h("");t.target.value.match("^[0-9]*$")?(t.target.value.trim().length>0&&t.target.nextSibling&&t.target.nextSibling.focus(),u(Fi(Fi({},l),{},qi({},e,t.target.value)))):u(Fi(Fi({},l),{},qi({},e,"")))}};return Object(o.h)("div",{className:"popup-notification full",id:"profile"},Object(o.h)("div",{className:"card card-profile quick-login"},Object(o.h)("div",{className:"card-body error card-body-PIN"},Object(o.h)("div",{className:"title title-QL"}," Kích hoạt đăng nhập nhanh trên TV "),Object(o.h)("div",{className:"title description-QL"}," Vui lòng nhập mã đăng nhập của bạn "),Object(o.h)("div",{className:"card-otp"},Object(o.h)("form",{id:"form-input-PIN",action:""},Object(o.h)("input",{id:"input-1",className:"input-otp",maxLength:"1",onChange:m("valInput1"),value:l.valInput1,inputmode:"numeric",type:"text"}),Object(o.h)("input",{className:"input-otp",maxLength:"1",onChange:m("valInput2"),value:l.valInput2,inputmode:"numeric",type:"text"}),Object(o.h)("input",{className:"input-otp",maxLength:"1",onChange:m("valInput3"),value:l.valInput3,inputmode:"numeric",type:"text"}),Object(o.h)("input",{className:"input-otp",maxLength:"1",onChange:m("valInput4"),value:l.valInput4,inputmode:"numeric",type:"text"}),Object(o.h)("input",{className:"input-otp",maxLength:"1",onChange:m("valInput5"),value:l.valInput5,inputmode:"numeric",type:"text"}),Object(o.h)("input",{className:"input-otp",maxLength:"1",onChange:m("valInput6"),value:l.valInput6,inputmode:"numeric",type:"text"})),p&&""!==p&&Object(o.h)("div",{className:"error-mess-QL"},p),Object(o.h)("div",{className:"card-action card-button"},Object(o.h)(qt,{onClick:function(){t(Fi(Fi({},n),{},{status:!1}))}},a?Object(o.h)(re,null):"Để sau"))))))};n(797);function $i(e){return($i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Zi(e,t){return(Zi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ea(e);if(t){var a=ea(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Ji(this,n)}}function Ji(e,t){return!t||"object"!==$i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ea(e){return(ea=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ta=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zi(e,t)}(r,e);var t,n,i,a=Qi(r);function r(){return Xi(this,r),a.apply(this,arguments)}return t=r,(n=[{key:"render",value:function(e){return null==e.type?Object(o.h)("div",{className:"subtitle text-light"},e.content):Object(o.h)("div",{className:"subtitle "+e.type},e.content)}}])&&Yi(t.prototype,n),i&&Yi(t,i),r}(o.a),na=Pe.a.div.withConfig({displayName:"style__Wrap",componentId:"ycxc50-0"})(["position:fixed;animation:fadeIn 1s;top:0;left:0;background:rgba(0,0,0,0.5);width:100%;z-index:1000;height:100vh;display:flex;justify-content:center;align-items:center;"]),ia=Pe.a.div.withConfig({displayName:"style__Card",componentId:"ycxc50-1"})(["position:relative;max-width:450px;padding:2rem;min-width:450px;border-radius:4px;background-color:#2a2a2a !important;@media (max-width:480px){padding:1.5rem;width:80%;max-width:unset;min-width:unset;}@media (min-width:1920px){max-width:500px;}"]),aa=Pe.a.div.withConfig({displayName:"style__ButtonClose",componentId:"ycxc50-2"})(["cursor:pointer;position:absolute;right:20px;top:4px;font-size:2rem;color:rgba(255,255,255,0.82);"]),oa=Pe.a.div.withConfig({displayName:"style__CardContent",componentId:"ycxc50-3"})(["flex:0 0 100% !important;max-width:100% !important;.subtitle{margin-bottom:1rem;text-align:center;p{color:white;font-size:15px;margin-bottom:3rem;}}.card-inline-popup{p{color:white;font-size:15px;margin-bottom:3rem;}}"]),ra=Pe.a.div.withConfig({displayName:"style__ContentHead",componentId:"ycxc50-4"})(["color:white;line-height:30px;margin-bottom:1.5rem !important;.titleVoucher{font-size:18px;}.titleName{font-size:20px;font-weight:bold;}"]),ca=Pe.a.div.withConfig({displayName:"style__ContentBottom",componentId:"ycxc50-5"})(["font-size:15px;font-style:italic;margin-bottom:2rem;display:flex;"]),sa=Pe.a.div.withConfig({displayName:"style__BtnGroup",componentId:"ycxc50-6"})(["margin-top:1.5rem;display:flex;width:100%;justify-content:center;.btn-left{width:45%;background:#3f3f3f;margin:0 5px;opacity:0.75;padding:10px 2.5rem;&:hover{background:#4c4c4c;}}.btn-right{width:45%;margin:0 5px;padding:10px 2.5rem !important;background-color:#0077c8 !important;&:hover{background:#3aaaff !important;}.sk-chase{margin:auto;}}a{margin-right:10px;width:45%;.btn-left{width:100%;background:#3f3f3f;margin:0 5px;opacity:0.75;padding:10px 0;&:hover{background:#4c4c4c;}}}"]),la=Pe.a.div.withConfig({displayName:"style__TitleName",componentId:"ycxc50-7"})(["font-size:20px;font-style:normal;opacity:unset !important;"]),ua=Pe.a.div.withConfig({displayName:"style__CardLeft",componentId:"ycxc50-8"})(["img{border-radius:4px;width:100px;}"]),da=Pe.a.div.withConfig({displayName:"style__CardRight",componentId:"ycxc50-9"})(["margin-left:20px;font-style:initial;p{margin-bottom:1.5rem;font-size:20px;}"]),pa=Pe.a.div.withConfig({displayName:"style__InfoLeft",componentId:"ycxc50-10"})(["opacity:0.5;margin-right:20px;"]),ha=Pe.a.div.withConfig({displayName:"style__InfoRight",componentId:"ycxc50-11"})([""]),fa=Pe.a.div.withConfig({displayName:"style__TitleGroup",componentId:"ycxc50-12"})(["display:flex;p{margin-bottom:15px;font-size:14px;}"]),ma=function(e){var t=Object(s.g)();return Object(o.h)(na,null,Object(o.h)(ia,null,Object(o.h)(oa,null,Object(o.h)(ta,{content:"Nội dung thuê được phát trong vòng 30 ngày và được hoàn thành trong vòng 48 giờ sau khi bắt đầu phát"}),Object(o.h)(sa,null,Object(o.h)(me,{onClick:function(){e.onCloseButton&&e.onCloseButton(),e.location?t.push(e.location):t.push("/browse")},content:"Xem sau",className:"btn btn-left"}),Object(o.h)(me,{content:"Xem ngay",className:"btn btn-right",onClick:function(){e.watch?e.watch.pathname?t.push(e.watch):(t.push("/title/"+e.watch),t.push("/watch/"+e.watch+"?type=buy")):t.push("/browse"),e.onCloseButton&&e.onCloseButton()}})))))};function ba(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ga(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ba(Object(n),!0).forEach((function(t){ya(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ba(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ya(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function va(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Oa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var wa=function(e){var t=e.setNotification,n=e.notification,i=va(Object(r.k)({showPopupWatch:!1,isLoading:!1}),2),a=i[0],s=i[1],l=function(){t(ga(ga({},n),{},{status:!1}))};return Object(o.h)(o.b,null,a.showPopupWatch&&Object(o.h)(ma,{watch:e.slug,location:e.location,onCloseButton:l})||Object(o.h)(na,null,Object(o.h)(ia,null,Object(o.h)(oa,null,Object(o.h)(ra,null,Object(o.h)(la,null,"MIỄN PHÍ thuê phim")),Object(o.h)(ca,null,Object(o.h)(ua,null,Object(o.h)("img",{src:"//assets.glxplay.io/images/w200/".concat(e.image)})),Object(o.h)(da,null,Object(o.h)("p",null,e.titleName),Object(o.h)(fa,null,Object(o.h)(pa,null,Object(o.h)("p",null,"Thời gian thuê phim:"),Object(o.h)("p",null,"Thời gian thưởng thức:")),Object(o.h)(ha,null,Object(o.h)("p",null,"30 ngày"),Object(o.h)("p",null,"48 giờ")))))),Object(o.h)(sa,null,!e.buttonClose&&Object(o.h)(me,{onClick:l,content:"Để sau",className:"btn btn-left"})||Object(o.h)(c.b,{to:"/browse"},Object(o.h)(me,{onClick:l,content:"Để sau",className:"btn btn-left"})),Object(o.h)(me,{onClick:function(){s(ga(ga({},a),{},{isLoading:!0}));var t={offer:e.dataOffer.data.data.nonPromotionOffers.tvod.PROMOTION.find((function(e){return"10"==e.profileCode}))};z.buy(t,(function(t,n){n&&!t&&(s(ga(ga({},a),{},{isLoading:!1,showPopupWatch:!0})),e.notification&&e.notification.callAgain()&&e.notification.callAgain())}))},content:a.isLoading?Object(o.h)(re,null):"Dùng ngay",className:"btn btn-right"})))))},ja=(n(798),n(799),function(e){return Object(o.h)("svg",{version:"1.1",id:"icon-eye",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"20px",viewBox:"0 0 561 561",style:"enable-background:new 0 0 561 561;"},Object(o.h)("g",null,Object(o.h)("g",{id:"visibility"},Object(o.h)("path",{d:"M280.5,89.25C153,89.25,43.35,168.3,0,280.5c43.35,112.2,153,191.25,280.5,191.25S517.65,392.7,561,280.5 C517.65,168.3,408,89.25,280.5,89.25z M280.5,408C209.1,408,153,351.9,153,280.5c0-71.4,56.1-127.5,127.5-127.5 c71.4,0,127.5,56.1,127.5,127.5C408,351.9,351.9,408,280.5,408z M280.5,204c-43.35,0-76.5,33.15-76.5,76.5 c0,43.35,33.15,76.5,76.5,76.5c43.35,0,76.5-33.15,76.5-76.5C357,237.15,323.85,204,280.5,204z"}))),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null))}),xa=function(e){return Object(o.h)("svg",{version:"1.1",id:"icon-eye",xmlns:"http://www.w3.org/2000/svg",width:"20px",x:"0px",y:"0px",viewBox:"0 0 469.44 469.44",style:"enable-background:new 0 0 469.44 469.44;"},Object(o.h)("g",null,Object(o.h)("g",null,Object(o.h)("g",null,Object(o.h)("path",{d:"M231.147,160.373l67.2,67.2l0.32-3.52c0-35.307-28.693-64-64-64L231.147,160.373z"}),Object(o.h)("path",{d:"M234.667,117.387c58.88,0,106.667,47.787,106.667,106.667c0,13.76-2.773,26.88-7.573,38.933l62.4,62.4 c32.213-26.88,57.6-61.653,73.28-101.333c-37.013-93.653-128-160-234.773-160c-29.867,0-58.453,5.333-85.013,14.933l46.08,45.973 C207.787,120.267,220.907,117.387,234.667,117.387z"}),Object(o.h)("path",{d:"M21.333,59.253l48.64,48.64l9.707,9.707C44.48,145.12,16.64,181.707,0,224.053c36.907,93.653,128,160,234.667,160 c33.067,0,64.64-6.4,93.547-18.027l9.067,9.067l62.187,62.293l27.2-27.093L48.533,32.053L21.333,59.253z M139.307,177.12 l32.96,32.96c-0.96,4.587-1.6,9.173-1.6,13.973c0,35.307,28.693,64,64,64c4.8,0,9.387-0.64,13.867-1.6l32.96,32.96 c-14.187,7.04-29.973,11.307-46.827,11.307C175.787,330.72,128,282.933,128,224.053C128,207.2,132.267,191.413,139.307,177.12z"})))),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null))};function ka(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Sa=function(e){var t="";switch(e.type){case"text":t=Ia(e);break;case"number":t=function(e){var t=ka(Object(r.k)(e.labelActive),2),n=t[0],i=t[1],a=function(t){0!==t.target.value.length?i(!0):i(!1),void 0!==e.onChange&&e.onChange()},c=void 0!==e.theme?e.theme:"";return Object(r.d)((function(){e.refInput&&(e.refInput.current.value.length>0?i(!0):i(!1))})),Object(o.h)("div",{className:"form-control"},Object(o.h)("input",{type:"text",className:"input-control ".concat(c),id:e.id,ref:e.refInput,name:e.name,onChange:a,autoComplete:e.autoComplete,maxLength:e.maxLength,onInput:e.onInput}),Object(o.h)("label",{for:e.id,className:n?"label-name ".concat(c," active"):"label-name ".concat(c)},e.label))}(e);break;case"email":t=function(e){var t=ka(Object(r.k)(!1),2),n=t[0],i=t[1],a=void 0!==e.theme?e.theme:"";return Object(o.h)("div",{className:"form-control"},Object(o.h)("input",{type:"email",className:"input-control ".concat(a),id:e.id,ref:e.refInput,onInput:e.onInput,value:e.value,autoComplete:e.autoComplete,onChange:function(e){0!==e.target.value.length?i(!0):i(!1)}}),Object(o.h)("label",{for:e.id,className:n?"label-name ".concat(a," active"):"label-name ".concat(a)},e.label))}(e);break;case"password":t=function(e){var t=ka(Object(r.k)(!1),2),n=t[0],i=t[1],a=ka(Object(r.k)(!1),2),c=a[0],s=a[1],l=void 0!==e.theme?e.theme:"",u=e.tracking?e.tracking:function(){};return Object(o.h)("div",{className:"form-control"},Object(o.h)("input",{id:e.id,ref:e.refInput,autoComplete:e.autoComplete,name:e.name,type:c?"text":"password",className:"input-control input-password ".concat(l),onChange:function(t){e.onInputPassword(t),0!==t.target.value.length?i(!0):i(!1),void 0!==e.onChange&&e.onChange()},onBlur:u}),Object(o.h)("div",{className:"show-password ".concat(l),onClick:function(){return s(!c)}},c?Object(o.h)(ja,null):Object(o.h)(xa,null)),Object(o.h)("label",{for:e.id,className:n?"label-name ".concat(l," active"):"label-name ".concat(l)},e.label))}(e);break;case"passwordNoEye":t=function(e){var t=ka(Object(r.k)(e.labelActive),2),n=t[0],i=t[1],a=void 0!==e.theme?e.theme:"";return Object(o.h)("div",{className:"form-control"},Object(o.h)("input",{type:"password",className:"input-control ".concat(a),id:e.id,ref:e.refInput,onInput:e.onInput,onChange:function(t){e.onInputValue(t),0!==t.target.value.length?i(!0):i(!1),void 0!==e.onChange&&e.onChange()},autoComplete:e.autoComplete,name:e.name}),Object(o.h)("label",{for:e.id,className:n?"label-name ".concat(a," active"):"label-name ".concat(a)},e.label))}(e);break;case"radio":t=function(e){var t=void 0!==e.theme?e.theme:"";return Object(o.h)("div",{className:"input-control ".concat(t)},Object(o.h)("label",{className:"input-container"},e.title,Object(o.h)("input",{className:"input-radio",value:e.value,name:e.name,defaultChecked:e.checked,type:"radio"}),Object(o.h)("span",{className:"checked"})))}(e);break;case"checkbox":t=void 0;break;case"OTPInput":t=function(e){return Object(o.h)("div",{type:"rel",maxlength:4,className:"input-control ".concat(theme)},Object(o.h)("label",{className:"input-container"},e.title,Object(o.h)("input",{className:"input-OTP",value:e.value,name:e.name,defaultChecked:e.checked,type:"input",maxLength:4}),Object(o.h)("span",{className:"checked"})))}(e);break;default:t=Ia(e)}return t};function Ia(e){var t=ka(Object(r.k)(!1),2),n=t[0],i=t[1],a=void 0!==e.theme?e.theme:"";return Object(r.d)((function(){""===e.value&&!0===n&&i(!1)}),[e.value]),Object(o.h)("div",{className:"form-control"},Object(o.h)("input",{type:"text",className:"input-control ".concat(a),id:e.id,ref:e.refInput,value:e.value,autoComplete:e.autoComplete,onChange:function(t){e.onInputValue(t),0!==t.target.value.length?i(!0):i(!1)},name:e.name}),Object(o.h)("label",{for:e.id,className:n?"label-name ".concat(a," active"):"label-name ".concat(a)},e.label))}function Na(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Na(Object(n),!0).forEach((function(t){Ca(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Na(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ca(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Aa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Aa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Aa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ma=function(e){var t=e.notification,n=e.setNotification,i=(e.authContext,e.isLogin,e.callOffer),a=Pa(Object(r.k)(""),2),c=a[0],l=a[1],u=Pa(Object(r.k)(!1),2),d=u[0],p=u[1],h=(Object(s.g)(),Pa(Object(r.k)(""),2)),f=h[0],m=h[1],b=Object(Ve.useTracking)().trackEvent,g=Pa(Object(r.k)(null),2),y=g[0],v=g[1],O=function(){n(Ta(Ta({},t),{},{type:"",status:!1}))},w=function(){var e=localStorage.getItem("__glxp_r_token");e&&z.refreshAccessToken((function(e,t){if(!e){var n=t.headers["x-fim-atoken"];localStorage.setItem("__glxp_token",n);var i=new Date;i.setTime(i.getTime()+2592e6);var a="expires="+i.toUTCString();document.cookie="__glxp_token=".concat(n,"; ").concat(a,"; path=/")}}))};return Object(r.d)((function(){b({event_action:"click",direct_object_type:"promotion",on_screen:"home",event_category:"browse"})}),[]),Object(o.h)("div",{className:"popup-input-all"},d?Object(o.h)("div",{className:"card card-confirm"},Object(o.h)("div",{onClick:O,className:"close-popup"},"×"),Object(o.h)("div",{className:"card__header"},Object(o.h)(ta,{content:"Mã khuyến mãi/Mã thẻ cào"})),Object(o.h)("div",{className:"card__body"},Object(o.h)("div",{className:"card__body_description"},y.description)),Object(o.h)("div",{className:"card__footer"},Object(o.h)("div",{className:"card__footer_buttons"},Object(o.h)(me,{onClick:O,className:"btn-cancel",content:"Huỷ"}),Object(o.h)(me,{onClick:function(){b({on_screen:"home",event_action:"click",direct_object_type:"promotion_input",direct_object_id:c}),z.activeCode({code:c,force:"true"},(function(e,t){if(e)n({status:!0,description:t.data&&t.data.message,type:"error"});else if(O(),w(),i){var a=search.get("type")?search.get("type"):"";i("momo",null,"mobile"==a?"mobile":""),window.localStorage.removeItem("isPartner"),n({status:!0,description:t.data&&t.data.message?t.data.message:"Bạn đã nhận được mã khuyến mãi!",type:"success"})}}))},content:"Đồng ý"})))):Object(o.h)("form",{onSubmit:function(e){e.preventDefault(),b({on_screen:window.localStorage.on_screen&&window.localStorage.on_screen,direct_object_type:"promotion_input",direct_object_id:c,event_action:"click",event_category:"browse"}),c.length>0&&z.activeCode({code:c,force:"false"},(function(e,t){e?m(t.data.message):t.data&&(v(t.data.data[0]),p(!0))}))}},Object(o.h)("div",{className:"card"},Object(o.h)("div",{onClick:O,className:"close-popup"},"×"),Object(o.h)("div",{className:"popup-input-code"},Object(o.h)("div",{className:"card-body"},Object(o.h)("div",{className:"card-content"},Object(o.h)(ta,{content:"Mã khuyến mãi/Mã thẻ cào"}),Object(o.h)("div",{className:"card-inline"},Object(o.h)("div",{className:"popup-code"},Object(o.h)("div",{className:"body-inputcode"},Object(o.h)("div",{className:"input-gift"},Object(o.h)(Sa,{label:"Nhập mã khuyến mãi/Mã thẻ cào",theme:f?"warning":"light",className:"warning",id:"input-voucher-main",onInput:function(e){!function(e){l(e.target.value)}(e)}}))),Object(o.h)("p",{className:"tag-error"},f)))),Object(o.h)("div",{className:"btn btn-group"},Object(o.h)(me,{type:"submit",content:"Áp dụng",className:"btn btn-apply-giftcode ".concat(0==c.length?"disabled":"")})))))))},Ea=function(e){return e/16+"rem"},Da=Pe.a.div.withConfig({displayName:"style__EyePassword",componentId:"sc-15zpp1h-0"})(["position:absolute;top:50%;right:",";transform:translateY(-50%);cursor:pointer;svg{width:24px;height:24px;path{fill:#9ca1a3;}}"],Ea(16)),La=Pe.a.input.withConfig({displayName:"style__Input",componentId:"sc-15zpp1h-1"})(["border:1px solid #a9aaad;box-shadow:none;border-radius:",";outline:none;color:#fff;font-size:",";font-weight:bold;width:100%;background-color:transparent;padding:0;height:",";padding:0 ",";transition:400ms border;&::placeholder{color:#a9aaad;font-weight:normal;}&:-webkit-autofill{background-color:transparent !important;}&:focus{border:1px solid #fff;}&.error{border:1px solid #ff5151;}@media (max-width:576px){font-size:",";height:",";}"],Ea(8),Ea(18),Ea(56),Ea(24),Ea(16),Ea(48)),Ra=Pe.a.label.withConfig({displayName:"style__Label",componentId:"sc-15zpp1h-2"})(["display:inline-block;color:#a9aaad;font-size:",";margin-bottom:",";@media (max-width:576px){font-size:",";}"],Ea(18),Ea(12),Ea(16)),za=Pe.a.div.withConfig({displayName:"style__GroupInput",componentId:"sc-15zpp1h-3"})(["position:relative;width:100%;&:nth-child(3){margin-top:",";}&:focus-within{","{svg{path{fill:#fff;}}}}"],Ea(32),Da),Ua=Pe.a.div.withConfig({displayName:"style__WrapInputPassword",componentId:"sc-15zpp1h-4"})(["position:relative;width:100%;"]),Va=(Pe.a.label.withConfig({displayName:"style__InputControl",componentId:"sc-15zpp1h-5"})(["display:block;position:relative;padding:"," "," ",";cursor:text;&:before{position:absolute;content:'';width:100%;height:100%;top:50%;left:50%;transform:translate(-50%,-50%);border:1px solid #fff;pointer-events:none;border-radius:4px;}&:focus-within{&:before{border:2px solid #fff;width:calc(100% - 1px);height:calc(100% - 1px);}","{transform:scale(0.75) translateY(",");@media (max-width:576px){transform:scale(0.75) translateY(",");}}}&.error{&:before{border:1px solid #ff5151;}&:focus-within{&:before{border:2px solid #ff5151;}}}"],Ea(26),Ea(24),Ea(9),Ra,Ea(-23),Ea(-19)),Pe.a.div.withConfig({displayName:"style__Col3",componentId:"sc-15zpp1h-6"})(["max-width:25%;flex:0 0 25%;padding:0 12px;"])),Ba=Pe.a.div.withConfig({displayName:"style__OTP",componentId:"sc-15zpp1h-7"})(["width:100%;padding-top:100%;position:relative;"]),Ha=Pe.a.input.withConfig({displayName:"style__InputOTP",componentId:"sc-15zpp1h-8"})(["width:100%;height:100%;font-size:",";color:#fff;font-weight:bold;position:absolute;left:0;top:0;text-align:center;background:none;box-shadow:none;border:none;outline:none;border-radius:8px;border:solid 1px #a9aaad;transition-duration:300ms;&:placeholder{color:#a9aaad;}&:focus{border:solid 1px #ebebeb;}@media (max-width:576px){font-size:",";}"],Ea(48),Ea(32)),Fa=Pe.a.div.withConfig({displayName:"style__WrapOTP",componentId:"sc-15zpp1h-9"})(["display:flex;margin:0 ",";flex-wrap:wrap;&.error{","{border:solid 1px #ff5151;}}"],Ea(-12),Ha);function qa(){return(qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var Wa=function(e){return Object(o.h)("svg",qa({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24"},e),Object(o.h)("path",{d:"M12 3.35c3.269 0 6.144 1.586 8.6 4.205a20.305 20.305 0 012.781 3.782l.102.186.098.186a.648.648 0 010 .582 5.452 5.452 0 01-.098.186l-.228.405a20.189 20.189 0 01-2.656 3.563c-2.455 2.619-5.33 4.205-8.599 4.205s-6.144-1.586-8.6-4.205a20.305 20.305 0 01-2.781-3.782l-.102-.186-.098-.186a.648.648 0 010-.582c.021-.043.054-.105.098-.186l.228-.405a20.189 20.189 0 012.656-3.563C5.856 4.936 8.73 3.35 12 3.35zm0 1.3c-2.856 0-5.419 1.414-7.65 3.795a18.832 18.832 0 00-2.598 3.53L1.738 12l.13.227c.081.14.17.285.264.437l.148.233a18.832 18.832 0 002.07 2.658C6.58 17.936 9.143 19.35 12 19.35c2.856 0 5.419-1.414 7.65-3.795a18.832 18.832 0 002.598-3.53L22.26 12l-.13-.226c-.08-.14-.168-.285-.263-.437l-.148-.233a18.832 18.832 0 00-2.07-2.658C17.42 6.064 14.857 4.65 12 4.65zm0 3.7a3.65 3.65 0 110 7.3 3.65 3.65 0 010-7.3zm0 1.3a2.35 2.35 0 100 4.7 2.35 2.35 0 000-4.7z",fill:"#F6FBFE",fillRule:"evenodd"}))};function Ka(){return(Ka=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var Ga=function(e){return Object(o.h)("svg",Ka({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24"},e),Object(o.h)("defs",null,Object(o.h)("filter",{id:"prefix__a",width:"100%",height:"100%",x:"0%",y:"0%",filterUnits:"objectBoundingBox"},Object(o.h)("feGaussianBlur",{in:"SourceGraphic"}))),Object(o.h)("path",{d:"M1.446.397L1.53.47l22 22a.749.749 0 01-.976 1.133l-.084-.073-4.612-4.61A10.828 10.828 0 0112 20.75c-3.3 0-6.2-1.6-8.672-4.237a20.307 20.307 0 01-2.796-3.802l-.177-.325-.026-.05a.75.75 0 01.01-.69 19.21 19.21 0 014.598-5.649L.47 1.53A.749.749 0 011.446.397zm.444 11.544l-.036.062.1.174c.08.138.169.283.263.434l.147.232c.583.902 1.27 1.804 2.058 2.644 2.215 2.362 4.753 3.763 7.566 3.763a9.323 9.323 0 004.786-1.415l-2.693-2.692a3.747 3.747 0 01-5.789-2.14 3.751 3.751 0 01.565-3.084L6.002 7.063A17.714 17.714 0 001.89 11.94zM12 3.25c3.3 0 6.2 1.6 8.672 4.237a20.307 20.307 0 012.796 3.802l.177.325.026.05a.75.75 0 01-.01.69 19.207 19.207 0 01-2.247 3.319.749.749 0 11-1.147-.966c.68-.81 1.289-1.68 1.815-2.598l.063-.113-.1-.173c-.08-.138-.168-.283-.262-.434l-.147-.232a18.756 18.756 0 00-2.058-2.644c-2.215-2.362-4.753-3.763-7.58-3.763a8.335 8.335 0 00-1.927.22.75.75 0 11-.341-1.46A9.809 9.809 0 0112 3.25zm-2.255 9.382a2.25 2.25 0 003.248 1.423l-3.048-3.048a2.25 2.25 0 00-.2 1.625z",filter:"url(#prefix__a)",fill:"#9CA1A3",fillRule:"evenodd"}))};function $a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Xa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$a(Object(n),!0).forEach((function(t){Ya(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ya(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Za(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ja(){return(Ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var eo=function(e){return Object(o.h)(za,null,e.label&&Object(o.h)(Ra,{for:e.id},e.label),Object(o.h)(La,Ja({className:e.error?"error":"",id:e.id,onChange:function(t){var n=t.target.value.replace(/[^0-9]/g,"").trim();t.target.value=T(n),e.setValue(n)},maxLength:12,size:12,type:"text",name:e.name,inputMode:"numeric",onBlur:e.onBlur?e.onBlur:"",placeholder:e.placeholder},e.autoComplete?{autoComplete:e.autoComplete}:{})),e.children)},to=function(e){var t=Za(Object(r.k)(!0),2),n=t[0],i=t[1];return Object(o.h)(za,null,e.label&&Object(o.h)(Ra,{for:e.id},e.label),Object(o.h)(Ua,null,Object(o.h)(La,Ja({className:e.error?"error":"",id:e.id,onChange:function(t){if(6===e.size){var n=t.target.value.replace(/[^0-9]/g,"");return t.target.value=n,void e.setValue(n)}e.setValue(t.target.value)},maxLength:e.size?e.size:20,size:e.size?e.size:20,name:e.name,type:n?"password":"text",placeholder:e.placeholder,onBlur:e.onBlur?e.onBlur:""},6===e.size?{inputMode:"numeric"}:{},e.autoComplete?{autoComplete:e.autoComplete}:{})),Object(o.h)(Da,{onClick:function(){return i(!n)}},n?Object(o.h)(Ga,null):Object(o.h)(Wa,null))),e.children)},no=function(e){var t=Za(Object(r.k)({valInput1:"",valInput2:"",valInput3:"",valInput4:"",isReset:!1}),2),n=t[0],i=t[1],a=Object(r.j)(!1);Object(r.d)((function(){return document.getElementById("otp-1").focus(),document.addEventListener("keydown",c,!1),function(){document.removeEventListener("keydown",c)}}),[]),Object(r.d)((function(){""!==n.valInput1&&""!==n.valInput2&&""!==n.valInput3&&""!==n.valInput4?e.setValue(n.valInput1+n.valInput2+n.valInput3+n.valInput4):a.current?"0"===e.value||n.isReset||e.setValue("0"):a.current=!0}),[n]),Object(r.d)((function(){e.error&&s()}),[e.error]);var c=function(e){8===e.keyCode&&(!document.activeElement.parentElement.parentElement.nextSibling&&document.activeElement.value.trim().length>0||document.activeElement.parentElement.parentElement.previousSibling&&(document.activeElement.parentElement.parentElement.getElementsByTagName("input")[0].value.trim().length>0||document.activeElement.parentElement.parentElement.previousSibling.getElementsByTagName("input")[0].focus())),37===e.keyCode&&document.activeElement&&document.activeElement.parentElement.parentElement.previousSibling&&document.activeElement.parentElement.parentElement.previousSibling.getElementsByTagName("input")[0].focus(),39===e.keyCode&&document.activeElement&&document.activeElement.parentElement.parentElement.nextSibling&&document.activeElement.parentElement.parentElement.nextSibling.getElementsByTagName("input")[0].focus()},s=function(){i({valInput1:"",valInput2:"",valInput3:"",valInput4:"",isReset:!0}),document.getElementById("otp-1").focus()},l=function(e){return function(t){if(t.target.value.match("^[0-9]*$")){if(t.target.value.trim().length>0){if(t.target.value.length>1){var a=t.target.value.split(""),o=a.indexOf(n[e]);a.splice(o,1),t.target.value=a[0]}t.target.parentElement.parentElement.nextSibling&&t.target.parentElement.parentElement.nextSibling.getElementsByTagName("input")[0].focus()}i(Xa(Xa({},n),{},Ya({isReset:!1},e,t.target.value)))}else i(Xa(Xa({},n),{},Ya({isReset:!1},e,"")))}};return Object(o.h)(za,null,Object(o.h)(Fa,{className:e.error?"error":""},Object(o.h)(Va,null,Object(o.h)(Ba,null,Object(o.h)(Ha,{placeholder:"-",inputMode:"numeric",type:"text",autoComplete:"off",id:"otp-1",value:n.valInput1,onChange:l("valInput1")}))),Object(o.h)(Va,null,Object(o.h)(Ba,null,Object(o.h)(Ha,{placeholder:"-",inputMode:"numeric",type:"text",autoComplete:"off",id:"otp-2",value:n.valInput2,onChange:l("valInput2")}))),Object(o.h)(Va,null,Object(o.h)(Ba,null,Object(o.h)(Ha,{placeholder:"-",inputMode:"numeric",type:"text",autoComplete:"off",id:"otp-3",value:n.valInput3,onChange:l("valInput3")}))),Object(o.h)(Va,null,Object(o.h)(Ba,null,Object(o.h)(Ha,{placeholder:"-",inputMode:"numeric",type:"text",autoComplete:"off",id:"otp-4",value:n.valInput4,onChange:l("valInput4")})))),e.children)},io=function(e){return Object(o.h)(za,null,e.label&&Object(o.h)(Ra,{for:e.id},e.label),Object(o.h)(La,Ja({className:e.error?"error":"",id:e.id,onChange:function(t){e.setValue(t.target.value)},name:e.name,placeholder:e.placeholder,onBlur:e.onBlur?e.onBlur:""},e.autoComplete?{autoComplete:e.autoComplete}:{})),e.children)},ao=function(e){switch(e.type){case"phone":return Object(o.h)(eo,e);case"password":return Object(o.h)(to,e);case"otp":return Object(o.h)(no,e);default:return Object(o.h)(io,e)}},oo=function(e){return e/16+"rem"},ro=Pe.a.div.withConfig({displayName:"style__Overlay",componentId:"sc-40j4i2-0"})(["position:fixed;width:100%;height:100%;padding:0 4%;z-index:9999;display:flex;justify-content:center;align-items:center;top:0;left:0;box-sizing:border-box;*{box-sizing:border-box;}&:before{content:'';position:absolute;width:100%;top:0;left:0;height:100%;opacity:0.5;backdrop-filter:blur(4px);background-color:#000000;}","{margin:0;}"],za),co=Pe.a.form.withConfig({displayName:"style__Card",componentId:"sc-40j4i2-1"})(["position:relative;width:",";max-width:100%;border-radius:8px;background-color:#000000;display:flex;flex-direction:column;align-items:center;margin:0;",""],oo(453),(function(e){return e.isConfirm?"padding: ".concat(oo(56)," ").concat(oo(20)," ").concat(oo(32),";"):"padding: ".concat(oo(56)," ").concat(oo(32)," ").concat(oo(40),";")})),so=Pe.a.div.withConfig({displayName:"style__Title",componentId:"sc-40j4i2-2"})(["font-size:",";font-weight:bold;",""],oo(24),(function(e){var t=e.isSpecial;return"margin-bottom: ".concat(oo(t?16:32),";")})),lo=Pe.a.div.withConfig({displayName:"style__Description",componentId:"sc-40j4i2-3"})(["font-size:",";text-align:center;"],oo(18)),uo=Pe.a.div.withConfig({displayName:"style__GroupButton",componentId:"sc-40j4i2-4"})(["display:flex;align-items:center;width:100%;margin:"," 0 0;",""],oo(32),(function(e){return e.isSpecial?"justify-content: center;":"justify-content: space-between;"})),po=Pe.a.button.withConfig({displayName:"style__Button",componentId:"sc-40j4i2-5"})(["width:",";max-width:100%;box-shadow:none;height:",";display:flex;justify-content:center;align-items:center;color:#a9aaad;background:transparent;font-size:",";border-radius:50px;cursor:pointer;border:1px solid #a9aaad;transition-duration:500ms;&:hover{background:#ffffff;border:1px solid #ffffff;color:#1d1d1d;}&:disabled{pointer-events:none;opacity:0.5;}&.primary{font-weight:bold;border:1px solid #ffffff;background:#ffffff;color:#1d1d1d;}@media (max-width:576px){font-size:",";height:",";width:",";}"],oo(196),oo(56),oo(18),oo(16),oo(48),oo(110)),ho=Pe.a.div.withConfig({displayName:"style__Close",componentId:"sc-40j4i2-6"})(["cursor:pointer;position:absolute;top:",";right:",";svg{width:",";height:",";path{fill:#f1f6f9;}}"],oo(16),oo(16),oo(24),oo(24)),fo=Pe.a.div.withConfig({displayName:"style__MessageError",componentId:"sc-40j4i2-7"})(["font-size:",";color:#ff5151;width:100%;text-align:center;"," @media(max-width:576px){font-size:",";}"],oo(14),(function(e){return e.special?"\n          height: 0;\n          padding-top: 0;\n          padding-bottom: 0;\n        ":"\n          position: absolute;\n          top: calc(100% + ".concat(oo(8),");\n          left: 0;\n        ")}),oo(12));function mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mo(Object(n),!0).forEach((function(t){go(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function go(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yo(e,t,n,i,a,o,r){try{var c=e[o](r),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(i,a)}function vo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Oo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var wo=function(e){var t=e.notification,n=e.setNotification,i=e.authContext,a=e.isLogin,c=e.callOffer,l=vo(Object(r.k)(""),2),u=l[0],d=l[1],p=vo(Object(r.k)(!1),2),h=p[0],f=p[1],m=Object(s.g)(),b=vo(Object(r.k)({status:!1,content:""}),2),g=b[0],y=b[1],v=Object(Ve.useTracking)().trackEvent,O=vo(Object(r.k)(null),2),w=O[0],j=O[1],x=function(){var e,o=(e=regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a?(n({status:!0,description:"Đăng nhập thành công",type:"success"}),o&&o.addonName?i.setLogin(!0,"redeem",o):i.setLogin(!0,"login")):(o&&o.addonName&&m.push({pathname:"/subs/redeem",state:{addonName:o.addonName,description:o.description}}),n(bo(bo({},t),{},{type:"",status:!1})));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function r(e){yo(o,i,a,r,c,"next",e)}function c(e){yo(o,i,a,r,c,"throw",e)}r(void 0)}))});return function(e){return o.apply(this,arguments)}}(),k=function(e){e.preventDefault(),v({on_screen:"home",event_action:"click",direct_object_type:"promotion_input",direct_object_id:u}),z.activeCode({code:u,force:"true"},(function(e,t){e?n({status:!0,description:t.data&&t.data.message,type:"error"}):_((function(){if(n({status:!0,description:t.data&&t.data.message?t.data.message:"Bạn đã nhận được mã khuyến mãi!",type:"success"}),c){var e=search.get("type")?search.get("type"):"";c("momo",null,"mobile"==e?"mobile":"")}x(t.data.data[0]),setTimeout((function(){i.updateHasPackage()}),3e3)}))}))},_=function(e){var t=localStorage.getItem("__glxp_r_token");t&&z.refreshAccessToken((function(t,n){if(!t){var i=n.headers["x-fim-atoken"];localStorage.setItem("__glxp_token",i);var a=new Date;a.setTime(a.getTime()+2592e6);var o="expires="+a.toUTCString();document.cookie="__glxp_token=".concat(i,"; ").concat(o,"; path=/"),e&&e()}}))};return Object(r.d)((function(){v({event_action:"click",direct_object_type:"promotion",on_screen:"home",event_category:"browse"})}),[]),Object(r.d)((function(){g.status&&y(bo(bo({},g),{},{status:!1}))}),[u]),Object(o.h)(ro,null,h?Object(o.h)(co,{isConfirm:!0,onSubmit:k},Object(o.h)(ho,{onClick:x},Object(o.h)(Ue,null)),Object(o.h)(so,null,"Áp dụng mã"),Object(o.h)(lo,null,w.description),Object(o.h)(uo,null,Object(o.h)(po,{type:"button",onClick:x},"Huỷ"),Object(o.h)(po,{type:"submit",autoFocus:!0,onClick:k,className:"primary"},"Tiếp tục"))):Object(o.h)(co,{onSubmit:function(e){e.preventDefault(),v({on_screen:window.localStorage.on_screen&&window.localStorage.on_screen,direct_object_type:"promotion_input",direct_object_id:u,event_action:"click",event_category:"browse"}),u.length>0&&z.activeCode({code:u,force:"false"},(function(e,t){e?t&&t.data&&t.data.message?y({status:!0,content:t.data.message}):y({status:!0,content:"Đã có lỗi xảy ra, xin vui lòng thử lại sau ít phút"}):t.data&&(j(t.data.data[0]),f(!0))}))}},Object(o.h)(ho,{onClick:x},Object(o.h)(Ue,null)),Object(o.h)(so,null,"Mã khuyến mãi/Mã thẻ cào"),Object(o.h)(ao,{placeholder:"Nhập mã khuyễn mãi/mã thẻ cào",value:u,setValue:d,name:"gift-code",id:"gift-code"}),Object(o.h)(Ct.a,{in:g.status,appear:!0,classNames:"fadeInDownCheck",timeout:300},Object(o.h)(fo,{special:!0},g.content)),Object(o.h)(uo,{isSpecial:!0},Object(o.h)(po,{type:"submit",className:"primary",disabled:0===u.length},"Áp dụng"))))},jo=n(397),xo=n.n(jo),ko=n(398),_o=n.n(ko),So=n(399),Io=n.n(So);function No(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function To(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?No(Object(n),!0).forEach((function(t){Co(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):No(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Po=function(e){var t=e.setNotification,n=e.notification;return Object(o.h)("div",{className:"popup-notification full"},Object(o.h)("div",{className:"card partner-bg"},Object(o.h)("div",{className:"card-icon dark-icon",onClick:function(){t(To(To({},n),{},{status:!1}))}},Object(o.h)(be,null)),Object(o.h)("div",{className:"card-body card-partner"},!b.isMobile&&Object(o.h)("div",{className:"card-left"},Object(o.h)("img",{width:"230",src:xo.a})),Object(o.h)("div",{className:b.isMobile?"card-right mob":"card-right"},Object(o.h)("div",{className:"title",dangerouslySetInnerHTML:{__html:e.message}}),!b.isMobile&&Object(o.h)(o.b,null,Object(o.h)("p",{className:"text-bottom"},"Quét QR để tải ứng dụng"),Object(o.h)("img",{className:"qr-code",src:vn.a})),Object(o.h)("p",{className:"text-bottom"},"Hoặc tải ứng dụng tại"),Object(o.h)("div",{className:"links-app"},Object(o.h)("a",{className:"button-ios",href:"https://apps.apple.com/vn/app/fim/id1064825671?l=vi"},Object(o.h)("img",{src:_o.a})),Object(o.h)("a",{className:"button-andr",href:"https://play.google.com/store/apps/details?id=vn.fimplus.app.and&hl=vi"},Object(o.h)("img",{src:Io.a})))))))};n(800);function Ao(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Eo=Object(o.e)(),Do=function(e){var t=Ao(Object(r.k)({status:!1,description:"",type:"",pathname:"",callback:function(){},notTry:!1,isLogin:!1,message:""}),2),n=t[0],i=t[1],a=Ao(Object(r.k)(null),2),c=a[0],s=a[1],l=function(){document.body.style.pointerEvents="none",i({notTry:!0,status:!0,notCancel:!0,description:"Vui lòng kiểm tra kết nối internet và thử lại",type:"error",time:9999})},u=function(){document.body.style.pointerEvents="initial",z.getIp((function(e,t){e||window.localStorage.setItem("ip",t.data)})),i({notTry:!0,status:!1,notCancel:!0,description:"Vui lòng kiểm tra kết nối internet và thử lại",type:"error",time:9999})};Object(r.d)((function(){window.addEventListener("offline",l),window.addEventListener("online",u)}),[]),Object(r.d)((function(){if(n.status)return document.body.style.overflow="hidden",void(document.body.style.height="100%");document.body.style.overflow=""}),[n.status]);var d=n.time||1e3;return Object(o.h)(Eo.Provider,{value:{notification:n,setNotification:i,setAuthContext:s}},Object(o.h)(Ct.a,{in:n.status&&"comeback"===n.type,timeout:d,classNames:"comeback",unmountOnExit:!0},Object(o.h)(Dt,{time:d,notification:n,setNotification:i})),Object(o.h)(Ct.a,{in:n.status&&"buyPackage"===n.type,timeout:d,classNames:"comeback",unmountOnExit:!0},Object(o.h)(Ln,{time:d,notification:n,setNotification:i})),Object(o.h)(Ct.a,{in:n.status&&"visit"===n.type,timeout:d,classNames:"comeback",unmountOnExit:!0},Object(o.h)(Vn,{time:d,notification:n,setNotification:i})),Object(o.h)(Ct.a,{in:n.status&&"message"===n.type,timeout:d,classNames:"message",unmountOnExit:!0},Object(o.h)(pn,{time:d,notification:n,setNotification:i})),Object(o.h)(Ct.a,{in:n.status&&"error"===n.type,timeout:d,classNames:"no",unmountOnExit:!0},Object(o.h)(nn,{notification:n,time:d,setNotification:i})),Object(o.h)(Ct.a,{in:n.status&&"success"===n.type,timeout:d,classNames:"no",unmountOnExit:!0},Object(o.h)(sn,{time:d,notification:n,setNotification:i})),Object(o.h)(Ct.a,{in:n.status&&"warning"===n.type,timeout:d,classNames:"no",unmountOnExit:!0},Object(o.h)(hn,{time:d,notification:n,setNotification:i})),Object(o.h)(Ct.a,{in:n.status&&"platform"===n.type,timeout:d,classNames:"comeback",unmountOnExit:!0},Object(o.h)(xn,{time:d,notification:n,setNotification:i})),Object(o.h)(Ct.a,{in:n.status&&"confirm"===n.type,timeout:d,classNames:"comeback",unmountOnExit:!0},Object(o.h)(Bi,{time:d,notification:n,setNotification:i})),Object(o.h)(Ct.a,{in:n.status&&"TVOD"===n.type,timeout:d,classNames:"comeback",unmountOnExit:!0},Object(o.h)(qn,{time:d,notification:n,setNotification:i})),Object(o.h)(Ct.a,{in:n.status&&"TVOD_MOBILE"===n.type,timeout:d,classNames:"comeback",unmountOnExit:!0},Object(o.h)($n,{time:d,notification:n,setNotification:i})),Object(o.h)(Ct.a,{in:n.status&&"upgrade"===n.type,timeout:d,classNames:"comeback",unmountOnExit:!0},Object(o.h)(mi,{time:d,notification:n,setNotification:i})),Object(o.h)(Ct.a,{in:n.status&&"blockCountry"===n.type,timeout:d,classNames:"comeback",unmountOnExit:!0},Object(o.h)(Zn,{time:d,notification:n,setNotification:i})),Object(o.h)(Ct.a,{in:n.status&&"PINProfile"===n.type,timeout:d,classNames:"comeback",unmountOnExit:!0,typeUI:n.typeUI,setPINAgain:n.setPINAgain,itemProfile:n.itemProfile,submitPIN:n.submitPIN,submitPINAgain:n.submitPINAgain,onCloseForgot:n.onCloseForgot,resetInput:n.resetInput,getPIN:n.getPIN},Object(o.h)(oi,{time:d,notification:n,setNotification:i})),Object(o.h)(Ct.a,{in:n.status&&"quickLogin"===n.type,unmountOnExit:!0},Object(o.h)(Gi,{notification:n,setNotification:i})),Object(o.h)(Ct.a,{in:n.status&&"setPassProfile"===n.type,timeout:d,classNames:"comeback",unmountOnExit:!0,confirmPass:n.confirmPass,typeUI:n.typeUI,forgotPIN:n.forgotPIN,onCloseForgot:n.onCloseForgot,getItemProfile:n.getItemProfile,itemProfile:n.itemProfile,backHome:n.backHome},Object(o.h)(di,{time:d,notification:n,setNotification:i})),Object(o.h)(Ct.a,{in:n.status&&"popup"===n.type,unmountOnExit:!0},Object(o.h)(wa,{dataOffer:n.dataOffer,slug:n.slug,image:n.image,titleName:n.titleName,notification:n,setNotification:i,buttonClose:n.buttonClose,location:n.location,infoMovie:n.infoMovie,callAgain:n.callAgain})),Object(o.h)(Ct.a,{in:n.status&&"redeem"===n.type,classNames:"fadein",unmountOnExit:!0},Object(o.h)(wo,{notification:n,setNotification:i,authContext:c,isLogin:n.isLogin,callOffer:n.callOffer})),Object(o.h)(Ct.a,{in:n.status&&"delete-profile"===n.type,unmountOnExit:!0},Object(o.h)(gn,{callBack:n.callBack,time:d,notification:n,setNotification:i})),Object(o.h)(Ct.a,{in:n.status&&"voucher"===n.type,classNames:"comeback",unmountOnExit:!0},Object(o.h)(Ma,{notification:n,setNotification:i,authContext:c,isLogin:n.isLogin,callOffer:n.callOffer})),Object(o.h)(Ct.a,{in:n.status&&"partner-ship"===n.type,classNames:"comeback",unmountOnExit:!0},Object(o.h)(Po,{message:n.message,notification:n,setNotification:i})),Object(o.h)(Ct.a,{in:n.status&&"referral"===n.type,classNames:"comeback",unmountOnExit:!0},Object(o.h)(Ci,{notification:n,setNotification:i})),e.children)},Lo=function(e){Object(s.g)(),Object(Ve.useTracking)().trackEvent;var t=Object(r.b)(Eo),n=function(n){var i={titleId:e.dataMovie.titleId,rating:n};e.dataMovie.season&&e.dataMovie.season.seasonId&&(i.seasonId=e.dataMovie.season.seasonId),e.dataMovie.episode&&e.dataMovie.episode.episodeId&&(i.episodeId=e.dataMovie.episode.episodeId),z.submitRating(i,(function(e,n){!e&&n&&t.setNotification({status:!0,description:n.data.message,type:"success"})})),e.closeRating()};return Object(o.h)(Ot,null,Object(o.h)(wt,null,Object(o.h)(jt,null,"Bạn hài lòng về phim này chứ?"),Object(o.h)("p",{className:"close",title:"Đóng"},Object(o.h)(Ue,{onClick:function(){e.closeRating()}})),Object(o.h)(xt,null,Object(o.h)(kt,null,Object(o.h)(_t,{src:It.a,onClick:function(){n(1)}})),Object(o.h)(kt,{className:"icon-rating"},Object(o.h)(_t,{src:Tt.a,onClick:function(){n(2)}})))))},Ro=Pe.a.div.withConfig({displayName:"style__WrapOverlay",componentId:"sc-1i7ny0l-0"})(["width:100vw;height:100vh;position:fixed;top:0;left:0;padding:0 4%;box-sizing:border-box;display:flex;align-items:center;justify-content:center;z-index:9999;*{box-sizing:border-box;}&:before{position:absolute;top:0;left:0;width:100%;height:100%;content:'';backdrop-filter:blur(20px);background-color:rgba(0,0,0,0.5);}"]),zo=Pe.a.div.withConfig({displayName:"style__Card",componentId:"sc-1i7ny0l-1"})(["width:",";max-width:100%;border-radius:",";background:#1f2325;padding:",";position:relative;"],C(474),C(16),C(40)),Uo=Pe.a.div.withConfig({displayName:"style__Close",componentId:"sc-1i7ny0l-2"})(["position:absolute;top:",";right:",";cursor:pointer;svg{width:",";fill:#fff;}"],C(16),C(16),C(24)),Vo=Pe.a.div.withConfig({displayName:"style__Title",componentId:"sc-1i7ny0l-3"})(["font-weight:bold;font-size:",";color:#fff;margin-bottom:",";"],C(24),C(8)),Bo=Pe.a.div.withConfig({displayName:"style__Subtitle",componentId:"sc-1i7ny0l-4"})(["font-size:",";margin-bottom:",";color:#a9aaad;"],C(14),C(32)),Ho=Pe.a.div.withConfig({displayName:"style__InputGroup",componentId:"sc-1i7ny0l-5"})(["display:flex;align-items:center;&:not(:last-child){margin-bottom:",";}"],C(24)),Fo=Pe.a.div.withConfig({displayName:"style__InputContent",componentId:"sc-1i7ny0l-6"})(["font-size:",";color:#fff;margin-left:",";user-select:none;"],C(16),C(12)),qo=Pe.a.label.withConfig({displayName:"style__WrapInput",componentId:"sc-1i7ny0l-7"})(["position:relative;display:flex;align-items:center;cursor:pointer;"]),Wo=Pe.a.div.withConfig({displayName:"style__CheckBox",componentId:"sc-1i7ny0l-8"})(["position:absolute;width:",";height:",";border-radius:",";border:1px solid #fff;background:transparent;transition:0.3s ease;cursor:pointer;top:0;left:0;svg{opacity:0;transition:0.3s ease;width:",";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);}"],C(24),C(24),C(2),C(18)),Ko=Pe.a.input.withConfig({displayName:"style__Input",componentId:"sc-1i7ny0l-9"})(["width:",";height:",";border-radius:",";opacity:0;margin:0;&:checked{& ~ ","{border:1px solid #0a75ff;background:#0a75ff;svg{opacity:1;}}}"],C(24),C(24),C(2),Wo),Go=Pe.a.label.withConfig({displayName:"style__WrapTextArea",componentId:"sc-1i7ny0l-10"})(["position:relative;display:block;height:",";margin-top:",";background-color:rgba(95,99,102,0.35);border:solid 1px transparent;transition:300ms ease;border-radius:",";animation:fadeIn 0.3s;padding:"," "," ",";&:focus-within{border:solid 1px #fff;}"],C(120),C(16),C(8),C(12),C(12),C(32)),$o=Pe.a.textarea.withConfig({displayName:"style__TextArea",componentId:"sc-1i7ny0l-11"})(["width:100%;height:100%;color:#fff;font-size:",";background:transparent;border:none;outline:none;resize:none;"],C(16)),Xo=Pe.a.div.withConfig({displayName:"style__RangeText",componentId:"sc-1i7ny0l-12"})(["position:absolute;bottom:",";right:",";color:#a9aaad;font-size:",";"],C(8),C(12),C(14)),Yo=Pe.a.button.withConfig({displayName:"style__Button",componentId:"sc-1i7ny0l-13"})(["cursor:pointer;width:100%;height:",";margin-top:",";background:#ffffff;color:#1d1d1d;font-weight:bold;font-size:",";text-align:center;display:flex;align-items:center;justify-content:center;border-radius:50px;transition:0.3s ease;border:none;&:disabled{background:#9ca1a3;color:#1d1d1d;cursor:not-allowed;}"],C(48),C(32),C(16)),Zo=Pe.a.div.withConfig({displayName:"style__ButtonInPopup",componentId:"sc-1i7ny0l-14"})(["width:50%;padding:0 ",";"],C(10)),Qo=Pe.a.div.withConfig({displayName:"style__PopupComplete",componentId:"sc-1i7ny0l-15"})(["position:fixed;width:100%;height:100%;top:0;left:0;display:flex;align-items:center;z-index:10;justify-content:center;padding:0 4%;background-color:rgba(5,5,5,0.9);","{padding:"," ",";width:",";}","{margin:0 auto ",";text-align:center;max-width:",";}","{&:first-child{","{background:#404446;color:#ffffff;transition:0.3s ease;&:hover{background:#ffffff;color:#1d1d1d;}}}}"],zo,C(40),C(60),C(548),Vo,C(24),C(305),Zo,Yo),Jo=Pe.a.div.withConfig({displayName:"style__WrapButton",componentId:"sc-1i7ny0l-16"})(["display:flex;align-items:center;justify-content:center;margin:0 ",";"],C(-10)),er=Pe.a.div.withConfig({displayName:"style__Description",componentId:"sc-1i7ny0l-17"})(["color:#a9aaad;text-align:center;font-size:",";max-width:",";"],C(16),C(370));function tr(){return(tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var nr=function(e){return Object(o.h)("svg",tr({width:18,height:13,xmlns:"http://www.w3.org/2000/svg"},e),Object(o.h)("path",{d:"M15.116 1.116a1.25 1.25 0 011.859 1.666l-.091.102-9.625 9.625a1.25 1.25 0 01-1.666.091l-.102-.091-4.375-4.375a1.25 1.25 0 011.666-1.859l.102.091 3.491 3.492 8.741-8.742z",fill:"#FFF"}))};function ir(e){return function(e){if(Array.isArray(e))return rr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||or(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ar(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||or(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function or(e,t){if(e){if("string"==typeof e)return rr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rr(e,t):void 0}}function rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var cr=function(e){var t=e.clickShowErrorFeedback,n=e.dataMovie,i=e.getContextValue,a=Object(Ve.useTracking)().trackEvent,c=ar(Object(r.k)([]),2),s=c[0],l=c[1],u=ar(Object(r.k)(""),2),d=u[0],p=u[1],h=ar(Object(r.k)(!1),2),f=h[0],m=h[1],b=ar(Object(r.k)(!1),2),g=b[0],y=b[1],v=[{name:"Sai tựa phim",value:"UF-01"},{name:"Không chọn được tập phim",value:"UF-02"},{name:"Vấn đề về hình ảnh",value:"UF-03"},{name:"Vấn đề về âm thanh",value:"UF-04"},{name:"Phụ đề",value:"UF-05"},{name:"Vấn đề khác",value:"UF-21",isOtherFeedback:!0}],O=function(e,t){return function(n){var i=ir(s);n.target.checked?(i.push(v[t]),e&&m(!0)):(i=i.filter((function(e){return e.value!==n.target.value})),e&&(m(!1),n.target.value="")),l(i)}};return Object(o.h)(Ro,null,g&&Object(o.h)(Qo,null,Object(o.h)(zo,null,Object(o.h)(Uo,{onClick:function(){return t(!1)}},Object(o.h)(Ue,null)),Object(o.h)(Vo,null,"Cảm ơn bạn đã phản hồi, chúng tôi sẽ kiểm tra ngay."),Object(o.h)(er,null,"Chúng tôi rất tiếc về vấn đề bạn đã gặp khi đang xem phim, hãy liên hệ Bộ Phận Hỗ Trợ nếu bạn cần thêm sự giúp đỡ nhé."),Object(o.h)(Jo,null,Object(o.h)(Zo,null,Object(o.h)("a",{className:"link",href:"/help",target:"_blank"},Object(o.h)(Yo,{onClick:function(){t(!1,!0),a({event_category:"feedback",on_screen:"movie_feedback",from_screen:"movie_player",event_action:"click",direct_object_type:"button",direct_object_id:"support_connect",indirect_object_type:"film",indirect_object_id:n.titleId,indirect_object_property:n.alternateName})}},"Liên hệ hỗ trợ"))),Object(o.h)(Zo,null,Object(o.h)(Yo,{onClick:function(){t(!1),a({event_category:"feedback",on_screen:"movie_feedback",from_screen:"movie_player",event_action:"click",direct_object_type:"button",direct_object_id:"finish_feedback",indirect_object_type:"film",indirect_object_id:n.titleId,indirect_object_property:n.alternateName})}},"Hoàn tất"))))),Object(o.h)(zo,null,Object(o.h)(Uo,{onClick:function(){t(!1),a({event_category:"feedback",on_screen:"movie_feedback",from_screen:"movie_player",event_action:"click",direct_object_type:"button",direct_object_id:"close",indirect_object_type:"film",indirect_object_id:n.titleId,indirect_object_property:n.alternateName})}},Object(o.h)(Ue,null)),Object(o.h)(Vo,null,"Bạn đang gặp vấn đề gì?"),Object(o.h)(Bo,null,"Vui lòng chọn các mục liên quan."),Object(o.h)("div",null,v.map((function(e,t){return Object(o.h)(Ho,null,Object(o.h)(qo,{for:e.value},Object(o.h)(Ko,{type:"checkbox",id:e.value,value:e.value,onChange:O(e.isOtherFeedback,t)}),Object(o.h)(Wo,null,Object(o.h)(nr,null)),Object(o.h)(Fo,{for:e.value},e.name)))}))),f&&Object(o.h)(Go,null,Object(o.h)($o,{autoFocus:!0,maxLength:300,onChange:function(e){p(e.target.value)}}),Object(o.h)(Xo,null,d.length,"/300")),Object(o.h)(Yo,{onClick:function(){y(!0),s.forEach((function(e){var t=i();e.isOtherFeedback&&(t.other_content=d),a({event_category:"feedback",on_screen:"movie_feedback",from_screen:"movie_player",event_action:"submit",direct_object_type:"feedback",direct_object_id:e.value,direct_object_property:e.name,indirect_object_type:"film",indirect_object_id:n.titleId,indirect_object_property:n.alternateName,context_value:t})}))},disabled:!(s.length>0)},"Gửi phản hồi")))},sr=n(41),lr=n.n(sr),ur={signupsigninGmailSSO:1,signupsigninVoiceOTP:1,signupsigninSMSOTP:1,accountReferral:0,paymentVISA:1,paymentMOMO:1,paymentZalopay:0,paymentShopeepay:0,refreshGtoken:1,serverMaintenance:0,paymentSvod:1,paymentSvodVisa:1,paymentSvodMomo:1,paymentSvodZalopay:1,paymentSvodMoca:0,paymentSvodShopeepay:1,paymentTvod:1,paymentTvodVisa:1,paymentTvodMomo:1,paymentTvodZalopay:1,paymentTvodMoca:0,paymentTvodShopeepay:0,signupsigninQuickLogin:0,playerLikeMarker:1,errorFeedback:1,notification:0,tagPoster:{web:{dubbing:"https://assets.glxplay.io/static/web_dubbing.png",exclusive:"https://assets.glxplay.io/static/web_exclusive.png",fullEpisode:"https://assets.glxplay.io/static/web_full_episode.png",logoOriginal:"https://assets.glxplay.io/static/web_logo_original.png",narration:"https://assets.glxplay.io/static/web_narration.png",newEpisode:"https://assets.glxplay.io/static/web_new_episode.png",paid:"https://assets.glxplay.io/static/web_paid.png",parallel:"https://assets.glxplay.io/static/web_parallel.png"},webMob:{dubbing:"https://assets.glxplay.io/static/web_mob_dubbing.png",exclusive:"https://assets.glxplay.io/static/web_mob_exclusive.png",fullEpisode:"https://assets.glxplay.io/static/web_mob_full_episode.png",logoOriginal:"https://assets.glxplay.io/static/web_mob_logo_original.png",narration:"https://assets.glxplay.io/static/web_mob_narration.png",newEpisode:"https://assets.glxplay.io/static/web_mob_new_episode.png",paid:"https://assets.glxplay.io/static/web_mob_paid.png",parallel:"https://assets.glxplay.io/static/web_mob_parallel.png"}}},dr=n(36),pr=n.n(dr),hr=function(e){return e/16+"rem"},fr=Pe.a.div.withConfig({displayName:"style__Overlay",componentId:"sc-1lv36v7-0"})(["position:fixed;width:100vw;height:100vh;top:0;left:0;background:#1c1d1d;animation:fadeIn 0.5s;z-index:99999;"]),mr=Pe.a.div.withConfig({displayName:"style__Container",componentId:"sc-1lv36v7-1"})(["width:",";max-width:100%;padding:0 4%;text-align:center;color:#ffffff;margin:10vw auto 0;@media (max-width:576px){margin-top:23vh;}"],hr(980)),br=Pe.a.img.withConfig({displayName:"style__Image",componentId:"sc-1lv36v7-2"})(["display:block;margin:0 auto ",";width:",";max-width:100%;@media (max-width:576px){width:",";}"],hr(24),hr(500),hr(240)),gr=Pe.a.div.withConfig({displayName:"style__Title",componentId:"sc-1lv36v7-3"})(["font-weight:bold;font-size:",";margin-bottom:",";"," @media (max-width:576px){font-size:",";margin-bottom:",";}"],hr(32),hr(8),(function(e){return e.isPrimary?"color: #3f93ff;":""}),hr(16),hr(4)),yr=(Pe.a.div.withConfig({displayName:"style__SubTitle",componentId:"sc-1lv36v7-4"})(["font-weight:bold;font-size:",";margin-bottom:",";@media (max-width:576px){font-size:",";margin-bottom:",";}"],hr(24),hr(8),hr(14),hr(4)),Pe.a.div.withConfig({displayName:"style__Description",componentId:"sc-1lv36v7-5"})(["font-size:",";@media (max-width:576px){font-size:",";}"],hr(24),hr(14))),vr=n(400),Or=n.n(vr),wr=function(e){return Object(o.h)(fr,null,Object(o.h)(mr,null,Object(o.h)(br,{src:Or.a}),Object(o.h)(gr,null,"THÔNG BÁO"),Object(o.h)(gr,{isPrimary:!0},"Galaxy Play đang tiến hành bảo trì hệ thống"),Object(o.h)(yr,null,"Các bạn vui lòng quay lại sau nhé!")))};function jr(e,t,n,i,a,o,r){try{var c=e[o](r),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(i,a)}function xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xr(Object(n),!0).forEach((function(t){_r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ir(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Nr=Object(o.e)(),Tr=function(e){var t=Object(r.j)(),n=Object(r.j)(),i=Object(r.j)(ur),a=Sr(Object(r.k)(null),2),c=a[0],s=a[1],l=function(){z.getConfigApp((function(e,a){if(t.current&&(clearTimeout(t.current),n.current&&n.current.close()),!e&&a&&a.data){var o=kr(kr({},i.current),a.data);pr()(o,i.current)||(s(o),i.current=o)}u()}))},u=function e(){n.current=new lr.a.EventSourcePolyfill("".concat(d.hub,"appcfg/2.0.0/web/update"),{headers:{"Access-Token":localStorage.getItem("__glxp_device_token")},heartbeatTimeout:3e5}),n.current.onmessage=function(e){var t=JSON.parse(e.data),n=kr(kr({},i.current),t);pr()(n,i.current)||(s(n),i.current=n)},n.current.onerror=function(){var t,i=(t=regeneratorRuntime.mark((function t(i){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.current.close(),!i||!i.status||401!==i.status){t.next=4;break}return t.next=4,new Promise((function(e,t){var n={os:b.osName,partner:b.isMobile?"mobile":"pc",modelId:b.browserName,modelName:b.browserVersion,app_version:"2.0.0",os_version:b.osVersion,platform:"web"};b.browserName.includes("messenger")&&(n.modelId="Messenger"),z.getToken(n,(function(t,n){return t?e(!1):(n&&n.headers&&n.headers["x-fim-gtoken"]&&(window.localStorage.__glxp_device_token=n.headers["x-fim-gtoken"]),e(n.headers["x-fim-gtoken"]))}))}));case 4:return a=function(e){return new Promise((function(t){return setTimeout(t,e)}))},t.next=7,a(1e3);case 7:e();case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(i,a){var o=t.apply(e,n);function r(e){jr(o,i,a,r,c,"next",e)}function c(e){jr(o,i,a,r,c,"throw",e)}r(void 0)}))});return function(e){return i.apply(this,arguments)}}()};return Object(r.d)((function(){if(window.localStorage.__glxp_device_token)l();else{var e={os:b.osName,partner:b.isMobile?"mobile":"pc",modelId:b.browserName,modelName:b.browserVersion,app_version:"2.0.0",os_version:b.osVersion,platform:"web"};b.browserName.includes("messenger")&&(e.modelId="Messenger"),z.getToken(e,(function(e,t){e||t&&t.headers&&t.headers["x-fim-gtoken"]&&(window.localStorage.__glxp_device_token=t.headers["x-fim-gtoken"],l())}))}var i=b.isIOS?"pagehide":"beforeunload";window.addEventListener(i,(function(){n.current&&n.current.close()})),t.current=setTimeout((function(){s(ur),u()}),2e3)}),[]),Object(o.h)(Nr.Provider,{value:c},c?c.serverMaintenance&&1===c.serverMaintenance?Object(o.h)(wr,null):e.children:"")},Cr=n(401),Pr=n.n(Cr),Ar=Pe.a.div.withConfig({displayName:"style__Overlay",componentId:"sc-14gty61-0"})(["width:100vw;height:100vh;position:fixed;top:0;padding:0 4%;z-index:9999;left:0;display:flex;align-items:center;justify-content:center;background-color:rgba(0,0,0,0.7);box-sizing:border-box;*{box-sizing:border-box;}"]),Mr=Pe.a.div.withConfig({displayName:"style__Card",componentId:"sc-14gty61-1"})(["border-radius:",";width:",";max-width:100%;box-shadow:0 2px 8px 0 rgba(0,0,0,0.4);background-color:#1e1e1e;padding:"," "," ",";"],C(16),C(482),C(24),C(30),C(26)),Er=Pe.a.img.withConfig({displayName:"style__Icon",componentId:"sc-14gty61-2"})(["width:",";margin:0 auto ",";display:block;"],C(80),C(14)),Dr=Pe.a.div.withConfig({displayName:"style__Title",componentId:"sc-14gty61-3"})(["font-size:",";margin-bottom:",";color:#ffffff;text-align:center;width:100%;font-style:italic;"],C(14),C(28)),Lr=Pe.a.div.withConfig({displayName:"style__Description",componentId:"sc-14gty61-4"})(["font-size:",";line-height:",";text-align:center;width:100%;color:#ffffff;margin-bottom:",";a{text-decoration:underline;color:#5899ef;}"],C(16),C(24),C(16)),Rr=Pe.a.div.withConfig({displayName:"style__WrapButton",componentId:"sc-14gty61-5"})(["display:flex;flex-wrap:wrap;align-items:center;justify-content:center;"]),zr=Pe.a.button.withConfig({displayName:"style__Button",componentId:"sc-14gty61-6"})(["width:",";height:",";color:#1d1d1d;font-weight:bold;cursor:pointer;font-size:",";display:flex;align-items:center;justify-content:center;border:none;box-shadow:none;border-radius:50px;transition:0.3s ease;"," &:hover{background:#ffffff;}"],C(185),C(48),C(16),(function(e){return e.primary?"background: #ffffff;":"background: #9ca1a3; margin-right: ".concat(C(24),";")})),Ur=function(e){var t=e.data,n=e.retry,i=e.close;return Object(o.h)(Ar,null,Object(o.h)(Mr,null,Object(o.h)(Er,{src:Pr.a}),t.hideCode?Object(o.h)(Lr,null,t.title):Object(o.h)(o.b,null,Object(o.h)(Lr,{dangerouslySetInnerHTML:{__html:t.description}}),Object(o.h)(Dr,null,t.title)),Object(o.h)(Rr,null,Object(o.h)(zr,{onClick:i},"Đóng"),Object(o.h)(zr,{onClick:n,primary:!0},"Thử lại"))))};function Vr(e,t,n,i,a,o,r){try{var c=e[o](r),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(i,a)}function Br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(n),!0).forEach((function(t){Fr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Kr,Gr={},$r=(Kr=null,null),Xr=null,Yr=null,Zr=0,Qr="",Jr="",ec="",tc=!1,nc=null,ic=null,ac=null,oc="off",rc="",cc=0,sc="https://lic.drmtoday.com",lc=!1,uc=!1,dc=function(e){var t=qr(Object(r.k)(10),2),n=t[0],i=t[1];return Object(r.g)((function(){return $r=setInterval((function(){n>0&&i((function(t){return t<=1?(clearInterval($r),e.watchNextMovie(e.data),t):t-1}))}),1e3),function(){clearInterval($r)}}),[]),Object(o.h)("div",{className:"next-episode"},Object(o.h)("div",{className:"close-popup",onClick:function(){clearInterval($r),e.close()}},Object(o.h)(be,null)),Object(o.h)("div",{className:"title-episode"},"Đang chuyển qua Tập ",e.data.episodeNumber," trong ",Object(o.h)("span",null,n,"s")),Object(o.h)(Q,{className:"img-next-episode",src:"//assets.glxplay.io/images/w300/".concat(e.data.image),placeholder:ee.a}),Object(o.h)(me,{content:"Xem ngay",onClick:function(){e.watchNextMovie(e.data),clearInterval($r)}}))},pc=Object(s.k)((function(e){var t=qr(Object(r.k)(!1),2),n=t[0],i=t[1],a=qr(Object(r.k)(!1),2),c=a[0],s=a[1],l=qr(Object(r.k)(!1),2),u=l[0],d=l[1],p=Object(r.b)(Nr),h=qr(Object(r.k)({source:null,sessionId:null,info:null,thumbnail:[],markers:{}}),2),f=h[0],b=h[1],g=qr(Object(r.k)({status:!1,data:null,lastErrorCode:null,tracking:!0}),2),y=g[0],v=g[1],O=Object(Ve.useTracking)().trackEvent,w=!1,j=qr(Object(r.k)({status:!1,data:null}),2),x=j[0],_=j[1],S=qr(Object(r.k)(!1),2),I=S[0],N=S[1],T=qr(Object(r.k)({status:!1,data:null}),2),C=T[0],P=T[1],A=qr(Object(r.k)({status:!1}),2),M=A[0],E=A[1],D=qr(Object(r.k)(null),2),L=D[0],R=D[1],U=qr(Object(r.k)(!1),2),V=U[0],B=U[1],H=Object(r.j)(!1),F=Object(r.j)(e),q=!1;F.current.info.season&&F.current.info.season.episode.length>0&&(F.current.info.cntWatching=F.current.info.episode.cntWatching);var W=e.authContext,K=e.locationHistory,X=(e.location,e.history),Z=e.notifi,Q={userId:W.data.infoUser&&W.data.infoUser.id,category:"watch",event:"",sessionId:"",directObject:{type:"title",property:F.current.info.alternateName,id:F.current.info.titleId},indirectObject:{type:"",property:"",id:""}},J=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!w){if(w=!0,localStorage.removeItem("plyr"),cc=0,!1,lc=!1,!1,uc=!1,t&&z.revokeSessionPlayId(t,(function(e,t){})),n&&(i&&1008===i?Z.setNotification({status:!0,description:window.localStorage.lang&&"en"==window.localStorage.lang?e.image.titleDetailEn:e.image.titleDetailVn,type:"platform"}):!i||1009!==i&&1002!==i?Z.setNotification({status:!0,description:n,type:"comeback",pathname:window.location.pathname+window.location.search}):Z.setNotification({status:!0,description:n,type:"buyPackage",pathname:"/subs/plan/premium",linkWatching:{pathname:X.location.pathname,search:X.location.search}})),"trailer"!==e.type||e.isPage)if(1===K.history.length){if("trailer"===e.type)return void(window.location.href="/title/"+e.info.slug);X.push("/browse")}else"/subs/confirm"==window.localStorage.lastpage||"/rent/confirm"==window.localStorage.lastpage?X.push("/browse"):X.push(window.localStorage.getItem("lastpage"));else e.closePopup();Yr&&(clearInterval(Yr),Yr=null)}};function ee(){var e=document.getElementById("player-wraper");e&&(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT))}var te=function(e){switch(e.keyCode){case 70:H.current||ee()}},ae=function(){var e;y.tracking&&((e=Se()).other_content="".concat(y.lastErrorCode," - ").concat(y.data.descriptionEn),O({event_category:"feedback",on_screen:"movie_player",from_screen:"movie_player",event_action:"submit",direct_object_type:"feedback",direct_object_id:"UF-21",direct_object_property:"Vấn đề khác",indirect_object_type:"film",indirect_object_id:F.current.info.titleId,indirect_object_property:F.current.info.alternateName,context_value:e})),v(Hr(Hr({},y),{},{data:null,status:!1}))},oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ic=null,ac=null,uc=!1,ye.a&&ye.a.ua&&-1!==ye.a.ua.toUpperCase().indexOf("MAC")&&ye.a.name&&-1!==ye.a.name.toUpperCase().indexOf("SAFARI")&&(q=!0),!1,rc=e,"watchInPlayer"==t&&(e+="?inPlayer=1"),z.getLinkplay(e,(function(n,i){if(n)if(i&&i.data)w=!1,J(null,i.data.message,i.data.errorCode);else{J(null,"Kết nối đến hệ thống bị gián đoạn vui lòng Thử lại hoặc liên hệ 18009090 để được hỗ trợ.")}else i.data&&i.data.licenseServer&&(sc=i.data.licenseServer),b(Hr(Hr({},f),{},{source:i.data.playLinks[cc].playlist,sessionId:i.data.sessionPlayId,markers:i.data.markers,info:i.data.info,data:i.data})),Q.sessionId=i.data.sessionPlayId,q?"watchInPlayer"==t?ue(i.data,e):le(i.data,e):"watchInPlayer"==t?ue(i.data,e):se(i.data,e)}))},re=function(e,t,n){var i,a,o,r,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(playerP&&playerP.currentTime>=playerP.duration-20&&(null===(i=nc)||void 0===i?void 0:i.episodeID)!==(null===(a=F.current.info)||void 0===a||null===(o=a.episode)||void 0===o?void 0:o.episodeID))return _e(),void(nc?xe(nc):J());if(7e3!==e||0!==(null===(r=playerP)||void 0===r?void 0:r.currentTime)){if(0==e.toString().indexOf("6007")&&sc.indexOf("lic.drmtoday.com")<0)return sc="https://lic.drmtoday.com",void("watchInPlayer"==c?ue(t,n):q?le(t,n):se(t,n));Yr&&clearInterval(Yr);var s=Oe(e);Q.event="exception",Q.indirectObject.type=s.name,Q.indirectObject.id=s.code.toString(),Q.indirectObject.property=s.description,k.userBehaviors(Q);var l=je(e),u={data:{descriptionEn:s.description},status:!0,lastErrorCode:e,tracking:!0};y.lastErrorCode===e&&(u.tracking=!1),l.hideCode?(u.data.title=l.message,u.data.hideCode=!0):(u.data.title="Mã lỗi: ".concat(e),u.data.description='Xin lỗi bạn vì sự gián đoạn này. Vui lòng thử lại.<br />\n      Hoặc liên hệ hỗ trợ <b>1800 9090</b>, email <a href="mailto:play@galaxy.com.vn">play@galaxy.com.vn</a> để được hỗ trợ.'),v(u)}},ce=function(e){var t=e.code,n=Oe(t);Q.event="exception",Q.indirectObject.type=n.name,Q.indirectObject.id=n.code.toString(),Q.indirectObject.property=n.description,k.userBehaviors(Q);var i=je(t),a={data:{descriptionEn:n.description},status:!0,lastErrorCode:t,tracking:!0};y.lastErrorCode===t&&(a.tracking=!1),i.hideCode?(a.data.title=i.message,a.data.hideCode=!0):(a.data.title="Mã lỗi: ".concat(t),a.data.description=i.message),v(a)},se=function(t,n){var a=t.playLinks[cc]||t.playLinks[0],o=a.playlist,r=a.thumbnails,c=document.querySelector("video");window.video=c;var l=new Ce(t,W.data.infoUser?W.data.infoUser.id:null);window.glxpShaka=l,l.registerFailureCallback(ce),l.installAll(),shakaInstance.addEventListener("error",(function(e){e&&e.detail&&1001==e.detail.code&&e.detail.data&&e.detail.data.length>0&&410==e.detail.data[1]||re(e.detail.code,t,n)}));var u=!1;if(F.current.info.cntWatching||t.markers.skipIntro&&0!=t.markers.skipIntro.duration||"trailer"===e.type){i(!0),de(c,r,t.sessionPlayId);var p=0;t.markers&&t.markers.skipIntro&&t.markers.skipIntro.duration>0?p=F.current.info.cntWatching&&F.current.info.cntWatching.continueAt>0&&F.current.info.cntWatching.continueAt>t.markers.skipIntro.duration?F.current.info.cntWatching.continueAt:t.markers.skipIntro.duration:F.current.info.cntWatching&&F.current.info.cntWatching.continueAt>0&&(p=F.current.info.cntWatching.continueAt),shakaInstance.load(o,p).then((function(){ge(o,t.sessionPlayId,t.markers)})).catch((function(e){re(e.code,t,n)}))}else u=!0,d(!0),shakaInstance.load("https://assets.glxplay.io/web/clips/glxplay_intro_warning_8s.mp4").then((function(){c.addEventListener("pause",(function(){s(!0)})),setTimeout((function(){c.paused&&s(!0)}),1e3),c.addEventListener("ended",(function(e){i(!0),u&&(de(c,r,t.sessionPlayId),shakaInstance.unload(),setTimeout((function(){shakaInstance.load(o).then((function(){ge(o,t.sessionPlayId,t.markers)})).catch((function(e){re(e.code,t,n)}))}),100)),u=!1,d(!1)}))}))},le=function(){var t,n=(t=regeneratorRuntime.mark((function t(n,a){var o,r,c,l,u,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.playLinks[cc].playlist,r="https://assets.glxplay.io/web/clips/glxplay_intro_warning_8s.mp4",c=n.playLinks[cc].thumbnails,l=document.querySelector("video"),window.video=l,lc=!1,window.glxpShaka=new Ce(n,W.data.infoUser.id),glxpShaka.registerFailureCallback(ce),t.next=10,glxpShaka.installAll("safari");case 10:shakaInstance.addEventListener("error",(function(e){e&&e.detail&&1001==e.detail.code&&e.detail.data&&e.detail.data.length>0&&410==e.detail.data[1]||re(e.detail.code,n,a)})),u=!1,F.current.info.cntWatching||n.markers.skipIntro&&0!=n.markers.skipIntro.duration||"trailer"===e.type?(i(!0),de(l,c,n.sessionPlayId),p=0,n.markers&&n.markers.skipIntro&&n.markers.skipIntro.duration>0?p=F.current.info.cntWatching&&F.current.info.cntWatching.continueAt>0&&F.current.info.cntWatching.continueAt>n.markers.skipIntro.duration?F.current.info.cntWatching.continueAt:n.markers.skipIntro.duration:F.current.info.cntWatching&&F.current.info.cntWatching.continueAt>0&&(p=F.current.info.cntWatching.continueAt),shakaInstance.load(o,p).then((function(){ve(o,n.sessionPlayId,n.markers)})).catch((function(e){re(e.code,n,a)}))):(u=!0,d(!0),shakaInstance.load(r).then((function(){l.addEventListener("pause",(function(){s(!0)})),setTimeout((function(){l.paused&&s(!0)}),1e3),l.addEventListener("ended",(function(e){i(!0),u&&(de(l,c,n.sessionPlayId),shakaInstance.unload(),setTimeout((function(){shakaInstance.load(o).then((function(){ve(o,n.sessionPlayId,n.markers)})).catch((function(e){re(e.code,n,a)}))}),100)),u=!1,d(!1)}))})));case 13:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(i,a){var o=t.apply(e,n);function r(e){Vr(o,i,a,r,c,"next",e)}function c(e){Vr(o,i,a,r,c,"throw",e)}r(void 0)}))});return function(e,t){return n.apply(this,arguments)}}(),ue=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0;lc=!1;var o=e.playLinks[cc].playlist;Q.context_value&&(Q.context_value.alid=t,Q.context_value.request=o);var r=e.playLinks[cc].thumbnails;$("#options").remove(),$("#season").remove(),F.current.info.season&&(window.localStorage.lang&&"en"==window.localStorage.lang?($(".title-movie").text(F.current.info.season.name),$(".sub-title-movie").text(F.current.info.episode.name)):($(".title-movie").text(F.current.info.season.alternateName),$(".sub-title-movie").text(F.current.info.episode.alternateName))),i(!0),glxpShaka.reSetupDRM(e),shakaInstance.addEventListener("error",(function(n){n&&n.detail&&1001==n.detail.code&&n.detail.data&&n.detail.data.length>0&&410==n.detail.data[1]||re(n.detail.code,e,t,"watchInPlayer")})),de(video,r,e.sessionPlayId,"watchInPlayer"),shakaInstance.unload(),setTimeout((function(){var i=0;"retry"===a?i=n:e.markers&&e.markers.skipIntro&&e.markers.skipIntro.duration>0?i=F.current.info.cntWatching&&F.current.info.cntWatching.continueAt>0&&F.current.info.cntWatching.continueAt>e.markers.skipIntro.duration?F.current.info.cntWatching.continueAt:e.markers.skipIntro.duration:F.current.info.cntWatching&&F.current.info.cntWatching.continueAt>0&&(i=F.current.info.cntWatching.continueAt),shakaInstance.load(o,i).then((function(){q?ve(o,e.sessionPlayId,e.markers):ge(o,e.sessionPlayId,e.markers)})).catch((function(n){re(n.code,e,t,"watchInPlayer")}))}),100)},de=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;window.goBackX=function(){if(cc=0,!1,lc=!1,!1,uc=!1,i&&z.revokeSessionPlayId(i,(function(e,t){})),Yr&&(clearInterval(Yr),Yr=null),localStorage.removeItem("plyr"),"trailer"!==e.type||e.isPage)if(1===K.history.length){if("trailer"===e.type)return void(window.location.href="/title/"+e.info.slug);X.push("/browse")}else"/subs/confirm"==window.localStorage.lastpage||"/rent/confirm"==window.localStorage.lastpage?X.push("/browse"):X.push(window.localStorage.getItem("lastpage"));else e.closePopup();window.playerP&&l.pause()};var o="";1!=F.current.info.hasLogo&&"trailer"!==e.type&&(o=0==F.current.info.hasLogo?'<img id="logo" src="'+ne.a+'" class="logo-player-high" alt=""/>':'<img id="logo" src="'+ne.a+'" class="logo-player-low" alt=""/>');var r='\n      <div class="info-movie-group">\n        <div class="close-popup" onclick="goBackX()">\n          <img src="'.concat(Y.a,'">\n        </div>\n      </div>\n    '),c='<div class="title-movie">\n        '.concat(window.localStorage.lang&&"en"==window.localStorage.lang?F.current.info.name:F.current.info.alternateName,"\n      </div>");F.current.info.season&&F.current.info.season.episode.length>0&&(c='<div class="title-movie">\n        '.concat(window.localStorage.lang&&"en"==window.localStorage.lang?F.current.info.season.name:F.current.info.season.alternateName,'\n      </div>\n      <div class="sub-title-movie">\n        ').concat(window.localStorage.lang&&"en"==window.localStorage.lang?F.current.info.episode.name:F.current.info.episode.alternateName,"\n      </div>"));var s=o+'<div class="plyr__controls">\n    '+r+'\n    <div class="controls-mask"></div>\n    <div class="controls-time-progress">\n        <div class="plyr__time plyr__time--current" aria-label="Current time">00:00</div>\n        <div class="plyr__progress">\n            <input data-plyr="seek" type="range" min="0" max="100" step="0.01" value="0" aria-label="Seek">\n            <progress class="plyr__progress__buffer" min="0" max="100" value="0">% buffered</progress>\n        </div>\n        <div class="plyr__time plyr__time--duration" aria-label="Duration">00:00</div>\n    </div>\n    <div class="controls-under">\n        <div class="controls-play-seek">\n            <button type="button" class="plyr__control" data-plyr="rewind">\n                <svg role="presentation">\n                    <path d="M9.76249 11.6689H11.428C11.4782 11.6689 11.5083 11.689 11.5484 11.7191C11.5785 11.7492 11.5986 11.7893 11.5986 11.8395V21.1505C11.5986 21.2007 11.5785 21.2308 11.5484 21.2709C11.5183 21.301 11.4782 21.3211 11.428 21.3211H9.81266C9.76249 21.3211 9.73239 21.301 9.69226 21.2709C9.66216 21.2408 9.64209 21.2007 9.64209 21.1505V13.6053C9.64209 13.5853 9.63206 13.5652 9.61199 13.5552C9.59192 13.5351 9.57186 13.5351 9.56182 13.5451L8.19727 13.9164L8.14711 13.9264C8.06684 13.9264 8.02671 13.8762 8.02671 13.7759L7.98657 12.592C7.98657 12.5017 8.02671 12.4314 8.10697 12.4013L9.55179 11.7291C9.60196 11.6789 9.67219 11.6689 9.76249 11.6689Z" fill="white"/>\n                    <path fill-rule="evenodd" clip-rule="evenodd" d="M13.0033 18.301C13.0033 19.2743 13.2943 20.0468 13.8862 20.6087C14.4682 21.1706 15.2709 21.4515 16.2842 21.4515C17.2876 21.4515 18.0903 21.1706 18.6822 20.6087C19.2742 20.0468 19.5752 19.2743 19.5752 18.301V14.6689C19.5752 13.7157 19.2742 12.9632 18.6822 12.4013C18.0903 11.8395 17.2976 11.5585 16.2842 11.5585C15.2709 11.5585 14.4782 11.8395 13.8862 12.4013C13.2943 12.9532 13.0033 13.7157 13.0033 14.6689V18.301ZM17.6187 18.3913C17.6187 18.8127 17.4983 19.1539 17.2575 19.4047C17.0167 19.6656 16.6956 19.786 16.2742 19.786C15.8628 19.786 15.5418 19.6555 15.301 19.4047C15.0602 19.1539 14.9398 18.8127 14.9398 18.3913V14.6087C14.9398 14.1873 15.0602 13.8462 15.301 13.5953C15.5418 13.3445 15.8729 13.2141 16.2742 13.2141C16.6856 13.2141 17.0167 13.3445 17.2575 13.5953C17.4983 13.8462 17.6187 14.1873 17.6187 14.6087V18.3913Z" fill="white"/>\n                    <path d="M8.58862 4.05349C8.58862 4.2642 8.76923 4.40466 8.76923 4.40466L13.9164 7.9866C14.2876 8.26754 14.5987 8.05684 14.5987 7.5351V0.581922C14.5987 0.060183 14.2876 -0.150519 13.9164 0.130417L8.77926 3.71236C8.77926 3.71236 8.58862 3.86286 8.58862 4.05349Z" fill="white"/>\n                    <path d="M0.0501709 16.2441C0.0501709 23.8194 6.20067 29.9699 13.7759 29.9699C21.3512 29.9699 27.5017 23.8194 27.5017 16.2441C27.5017 8.66887 21.3512 2.51837 13.7759 2.51837V5.41804C19.7559 5.41804 24.602 10.2642 24.602 16.2441C24.602 22.2241 19.7559 27.0702 13.7759 27.0702C7.79599 27.0702 2.94984 22.2241 2.94984 16.2441H0.0501709Z" fill="white"/>\n                </svg>\n            </button>\n            <button type="button" class="plyr__control" aria-label="Play, {title}" data-plyr="play">\n                <svg class="icon--pressed" role="presentation" viewBox="0 -3 15 25"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 20H3.66667V0H0V20Z" fill="white"/>\n                    <path fill-rule="evenodd" clip-rule="evenodd" d="M10 20H13.6667V0H10V20Z" fill="white"/></svg>\n                <svg class="icon--not-pressed" role="presentation" viewBox="0 -3 15 25"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 0V10.0008V20L15.8889 10.0008L0 0Z" fill="white"/></svg>\n            </button>\n            <button type="button" class="plyr__control" data-plyr="fast-forward">\n                <svg role="presentation">\n                    <path d="M18.71 3.79003L13.59 0.220027C13.22 -0.0599727 12.91 0.150027 12.91 0.670027V7.60003C12.91 8.12003 13.22 8.33003 13.59 8.05003L18.72 4.48003C18.72 4.48003 18.9 4.34003 18.9 4.13003C18.9 3.94003 18.71 3.79003 18.71 3.79003Z" fill="white"/>\n                    <path d="M24.52 16.28C24.52 22.24 19.69 27.07 13.73 27.07C7.77005 27.07 2.94005 22.24 2.94005 16.28C2.94005 10.32 7.77005 5.48998 13.73 5.48998V2.59998C6.18005 2.59998 0.0500488 8.72998 0.0500488 16.28C0.0500488 23.83 6.18005 29.96 13.73 29.96C21.28 29.96 27.41 23.83 27.41 16.28H24.52Z" fill="white"/>\n                    <path d="M9.73008 11.52H11.3901C11.4401 11.52 11.4701 11.54 11.5101 11.57C11.5401 11.6 11.5601 11.64 11.5601 11.69V20.97C11.5601 21.02 11.5401 21.05 11.5101 21.09C11.4801 21.12 11.4401 21.14 11.3901 21.14H9.78008C9.73008 21.14 9.70008 21.12 9.66008 21.09C9.63008 21.06 9.61008 21.02 9.61008 20.97V13.45C9.61008 13.43 9.60008 13.41 9.58008 13.4C9.56008 13.38 9.54008 13.38 9.53008 13.39L8.17008 13.76L8.12008 13.77C8.04008 13.77 8.00008 13.72 8.00008 13.62L7.96008 12.44C7.96008 12.35 8.00008 12.28 8.08008 12.25L9.52008 11.58C9.57008 11.53 9.64008 11.52 9.73008 11.52Z" fill="white"/>\n                    <path fill-rule="evenodd" clip-rule="evenodd" d="M12.9601 18.13C12.9601 19.1 13.2501 19.87 13.8401 20.43C14.4201 20.99 15.2201 21.27 16.2301 21.27C17.2301 21.27 18.0301 20.99 18.6201 20.43C19.2101 19.87 19.5101 19.1 19.5101 18.13V14.51C19.5101 13.56 19.2101 12.81 18.6201 12.25C18.0301 11.69 17.2401 11.41 16.2301 11.41C15.2201 11.41 14.4301 11.69 13.8401 12.25C13.2501 12.8 12.9601 13.56 12.9601 14.51V18.13ZM17.5601 18.22C17.5601 18.64 17.4401 18.98 17.2001 19.23C16.9601 19.49 16.6401 19.61 16.2201 19.61C15.8101 19.61 15.4901 19.48 15.2501 19.23C15.0101 18.98 14.8901 18.64 14.8901 18.22V14.45C14.8901 14.03 15.0101 13.69 15.2501 13.44C15.4901 13.19 15.8201 13.06 16.2201 13.06C16.6301 13.06 16.9601 13.19 17.2001 13.44C17.4401 13.69 17.5601 14.03 17.5601 14.45V18.22Z" fill="white"/>\n                </svg>\n            </button>\n            <div id=\'volume\'>\n              <button type="button" class="plyr__control" aria-label="Mute" data-plyr="mute">\n                  <svg class="icon--pressed" role="presentation" viewBox="0 -3 20 25"><path d="M10.9745564,5.32907052e-14 C11.2449358,5.32907052e-14 11.4785695,0.0989352989 11.6761671,0.296259896 C11.8734371,0.493693694 11.9722086,0.727709528 11.9722086,0.997870598 L11.9722086,17.958504 C11.9722086,18.2285558 11.8734371,18.4626263 11.6759487,18.6599509 C11.4785149,18.8571117 11.2447174,18.9561016 10.974338,18.9561016 C10.7042315,18.9561016 10.4703795,18.8570571 10.2728911,18.6599509 L5.08184548,13.4686869 L0.997870598,13.4686869 C0.727709528,13.4686869 0.493857494,13.3698608 0.296259896,13.1723724 C0.0987714988,12.9749932 6.92779167e-14,12.7410865 6.92779167e-14,12.4708709 L6.92779167e-14,6.48506689 C6.92779167e-14,6.21490581 0.0987714988,5.98094458 0.296259896,5.78351078 C0.493693694,5.58629539 0.727491127,5.48736009 0.997870598,5.48736009 L5.08206388,5.48736009 L10.2731095,0.296259896 C10.4706525,0.0989352989 10.7045045,5.32907052e-14 10.9745564,5.32907052e-14 Z M18.9507882,9.99994835 L21.8030822,12.8522457 C22.0656393,13.1148031 22.0656393,13.5404541 21.8030822,13.8030115 C21.5405251,14.0655689 21.114837,14.0655689 20.8523175,13.8030115 L17.9999859,10.9506766 L15.1476543,13.8030115 C14.8850972,14.0655689 14.4594467,14.0655689 14.1968896,13.8030115 C13.9343701,13.5404917 13.9343701,13.1148031 14.1968896,12.8522457 L17.0492212,9.99991079 L14.1968896,7.14761341 C13.9343701,6.88509358 13.9343701,6.45940502 14.1968896,6.19684762 C14.4594467,5.93429022 14.8850972,5.93429022 15.1476543,6.19684762 L17.9999859,9.04922012 L20.8523175,6.19688518 C21.1148746,5.93432778 21.5405251,5.93432778 21.8030822,6.19688518 C22.0656393,6.45940502 22.0656393,6.88509358 21.8030822,7.14765098 L18.9507882,9.99994835 Z" fill="white"/></svg>\n                  <svg class="icon--not-pressed" id="icon-volume-medium" role="presentation" viewBox="0 -3 20 25"><path d="M10.9746 0C10.7045 0 10.4707 0.0989353 10.2731 0.29626L5.08206 5.48736H0.997871C0.727491 5.48736 0.493694 5.5863 0.29626 5.78351C0.0987715 5.98094 0 6.21491 0 6.48507V12.4709C0 12.7411 0.0987715 12.975 0.29626 13.1724C0.493858 13.3699 0.72771 13.4687 0.997871 13.4687H5.08185L10.2729 18.66C10.4704 18.8571 10.7042 18.9561 10.9743 18.9561C11.2447 18.9561 11.4785 18.8571 11.6759 18.66C11.8734 18.4626 11.9722 18.2286 11.9722 17.9585V0.997871C11.9722 0.72771 11.8734 0.493694 11.6762 0.29626C11.4786 0.0989353 11.2449 0 10.9746 0Z" fill="white"/>\n                      <path d="M17.2957 11.6836C17.7375 11.0029 17.9582 10.2678 17.9582 9.47798C17.9582 8.68819 17.7375 7.94962 17.2957 7.26362C16.8537 6.57774 16.2697 6.09464 15.5418 5.81394C15.438 5.76212 15.3079 5.73602 15.1521 5.73602C14.8821 5.73602 14.648 5.83223 14.4506 6.02442C14.2535 6.21667 14.1543 6.45314 14.1543 6.73368C14.1543 6.95191 14.2167 7.13641 14.3417 7.28716C14.4663 7.43796 14.6169 7.56791 14.7939 7.67695C14.9702 7.78604 15.147 7.90561 15.3239 8.0355C15.5007 8.16545 15.6513 8.34989 15.7759 8.58888C15.9002 8.82802 15.963 9.12417 15.963 9.4776C15.963 9.83092 15.9006 10.1271 15.7759 10.3663C15.6513 10.6055 15.5007 10.7897 15.3239 10.9199C15.147 11.0498 14.9702 11.1694 14.7939 11.2785C14.6169 11.3872 14.4663 11.5175 14.3417 11.6679C14.2171 11.8189 14.1543 12.0033 14.1543 12.2215C14.1543 12.5024 14.2535 12.7386 14.4506 12.9308C14.6479 13.123 14.8821 13.2195 15.1521 13.2195C15.3079 13.2195 15.4379 13.1934 15.5418 13.1418C16.2697 12.8502 16.8539 12.3643 17.2957 11.6836Z" fill="white"/></svg>\n                  <svg class="icon--not-pressed" id="icon-volume-on" role="presentation" viewBox="0 -3 20 25"><path d="M10.9746 0C10.7045 0 10.4707 0.0989353 10.2731 0.29626L5.08206 5.48736H0.997871C0.727491 5.48736 0.493694 5.5863 0.29626 5.78351C0.0987715 5.98094 0 6.21491 0 6.48507V12.4709C0 12.7411 0.0987715 12.975 0.29626 13.1724C0.493858 13.3699 0.72771 13.4687 0.997871 13.4687H5.08185L10.2729 18.66C10.4704 18.8571 10.7042 18.9561 10.9743 18.9561C11.2447 18.9561 11.4785 18.8571 11.6759 18.66C11.8734 18.4626 11.9722 18.2286 11.9722 17.9585V0.997871C11.9722 0.72771 11.8734 0.493694 11.6762 0.29626C11.4786 0.0989353 11.2449 0 10.9746 0Z" fill="white"/>\n                      <path d="M17.2957 11.6836C17.7375 11.0029 17.9582 10.2678 17.9582 9.47798C17.9582 8.68819 17.7375 7.94962 17.2957 7.26362C16.8537 6.57774 16.2697 6.09464 15.5418 5.81394C15.438 5.76212 15.3079 5.73602 15.1521 5.73602C14.8821 5.73602 14.648 5.83223 14.4506 6.02442C14.2535 6.21667 14.1543 6.45314 14.1543 6.73368C14.1543 6.95191 14.2167 7.13641 14.3417 7.28716C14.4663 7.43796 14.6169 7.56791 14.7939 7.67695C14.9702 7.78604 15.147 7.90561 15.3239 8.0355C15.5007 8.16545 15.6513 8.34989 15.7759 8.58888C15.9002 8.82802 15.963 9.12417 15.963 9.4776C15.963 9.83092 15.9006 10.1271 15.7759 10.3663C15.6513 10.6055 15.5007 10.7897 15.3239 10.9199C15.147 11.0498 14.9702 11.1694 14.7939 11.2785C14.6169 11.3872 14.4663 11.5175 14.3417 11.6679C14.2171 11.8189 14.1543 12.0033 14.1543 12.2215C14.1543 12.5024 14.2535 12.7386 14.4506 12.9308C14.6479 13.123 14.8821 13.2195 15.1521 13.2195C15.3079 13.2195 15.4379 13.1934 15.5418 13.1418C16.2697 12.8502 16.8539 12.3643 17.2957 11.6836Z" fill="white"/>\n                      <path d="M20.624 13.8816C21.5074 12.5359 21.9493 11.068 21.9493 9.4779C21.9493 7.88772 21.5073 6.42002 20.624 5.07353C19.7407 3.72791 18.571 2.74849 17.1164 2.13523C16.9815 2.08336 16.8462 2.05731 16.7115 2.05731C16.4413 2.05731 16.2072 2.15608 16.0097 2.35357C15.8124 2.55101 15.7135 2.7848 15.7135 3.05502C15.7135 3.46037 15.9162 3.76695 16.3217 3.97498C16.9036 4.27626 17.2984 4.50487 17.5061 4.6607C18.2754 5.22199 18.8753 5.92594 19.3066 6.77295C19.7379 7.62002 19.9535 8.52158 19.9535 9.47768C19.9535 10.4338 19.7379 11.3353 19.3066 12.1823C18.8754 13.0295 18.275 13.7334 17.5061 14.2945C17.2983 14.4505 16.9036 14.679 16.3217 14.9804C15.9162 15.1884 15.7135 15.495 15.7135 15.9003C15.7135 16.1704 15.8124 16.4046 16.0097 16.6017C16.2071 16.7994 16.446 16.8983 16.7266 16.8983C16.8514 16.8983 16.9815 16.8719 17.1164 16.8203C18.571 16.207 19.7407 15.2275 20.624 13.8816Z" fill="white"/></svg>\n              </button>\n              <div id="input-volume" class="plyr__volume">\n                  <input data-plyr="volume" type="range" min="0" max="1" step="0.05" value="1" autocomplete="off" aria-label="Volume">\n              </div>\n            </div>\n            '.concat(c,'\n        </div>\n        <div class="controls-subtitle">\n            <button type="button" class="plyr__control" onclick="fullscreenClick()">\n              <svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><g fill="#FFF" fill-rule="nonzero"><path d="M4.167 28.456h6.582c.46 0 .833.373.833.834v6.318c0 .46.373.833.833.833h1.8c.46 0 .834-.373.834-.833V25.56a.833.833 0 0 0-.834-.834H4.167a.833.833 0 0 0-.834.834v2.063c0 .46.373.833.834.833zM10.79 11.292l-6.663.32a.833.833 0 0 0-.794.833v1.77c0 .46.373.834.834.834h10.048c.46 0 .834-.374.834-.834V4.167a.833.833 0 0 0-.834-.834h-1.799a.833.833 0 0 0-.833.834v6.293c0 .445-.35.81-.794.832zM28.406 10.693V4.167a.833.833 0 0 0-.834-.834h-1.739a.833.833 0 0 0-.833.834v10.048c0 .46.373.834.833.834h10.049c.46 0 .833-.374.833-.834V12.36a.833.833 0 0 0-.833-.833h-6.643a.833.833 0 0 1-.833-.834zM25.833 36.441h1.739c.46 0 .833-.373.833-.833v-6.544c0-.46.373-.833.833-.833h6.644c.46 0 .833-.373.833-.834V25.56a.833.833 0 0 0-.833-.834H25.833a.833.833 0 0 0-.833.834v10.048c0 .46.373.833.833.833z"/></g></svg>\n            </button>\n        </div>\n    </div>\n</div>');if("watchInPlayer"==a)$(".plyr__preview-thumb").removeClass("plyr__preview-thumb--is-shown"),window.playerP.config.previewThumbnails.src=n,window.playerP.previewThumbnails&&(window.playerP.previewThumbnails.load(),window.playerP.previewThumbnails.thumbnails=[]);else{var l=new G.a(t,{controls:s,fullscreen:{enabled:!1},keyboard:{focused:!0,global:!0},previewThumbnails:{enabled:!0,src:n},captions:{update:!0},speed:{selected:1}});window.playerP=l,document.querySelector(".plyr__video-wrapper").ondblclick=ee,document.addEventListener("keydown",te),p.errorFeedback&&pe()}},pe=function(){$(".controls-subtitle").prepend('<div id="error-feedback">\n        <button button type="button" class="plyr__control" data-plyr="options" onclick="clickShowErrorFeedback(true);">\n          <div class="tooltip">Báo lỗi</div>\n          <svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><path d="M20 3.333c1.573 0 3.033.854 3.852 2.257L37.73 29.652c.8 1.44.805 3.21.013 4.654-.793 1.444-2.263 2.342-3.876 2.36H6.118c-1.6-.018-3.07-.916-3.862-2.36a4.841 4.841 0 0 1 .023-4.671l13.87-24.05c.817-1.398 2.277-2.252 3.85-2.252zm0 2.551c-.716 0-1.38.388-1.747 1.017L4.396 30.928a2.197 2.197 0 0 0-.006 2.115c.36.656 1.028 1.065 1.742 1.073h27.721a2.035 2.035 0 0 0 1.756-1.073 2.19 2.19 0 0 0 .004-2.098L21.75 6.907A2.032 2.032 0 0 0 20 5.884zm0 20.783A1.667 1.667 0 1 1 20 30a1.667 1.667 0 0 1 0-3.333zm0-12.223c.92 0 1.667.692 1.667 1.544l-.005.066-.009.064h.009l-.665 7.477c-.048.474-.473.85-.997.85-.483 0-.882-.32-.975-.743l-.017-.107h-.005l-.665-7.477c.005-.043-.005-.085-.005-.13 0-.852.747-1.544 1.666-1.544z" fill="#FFF" fill-rule="evenodd"/></svg>\n        </button>\n      </div>')},he=function(){Jr=shakaInstance.getAudioLanguages(),Qr=shakaInstance.getTextLanguages(),$(".controls-subtitle").prepend('<div id="options">\n                <div id="optionSelect" style="display: none">\n                    <div class="optionWrap">\n                      <div class="selectItem">\n                        <span class="title-select">ÂM THANH</span>\n                        <ul id="audio-ul"> </ul>\n                      </div>\n                      <div class="selectItem">\n                        <span class="title-select">PHỤ ĐỀ</span>\n                        <ul id="subtitle-ul"> </ul>\n                      </div>\n                    </div>\n                </div>\n                <button type="button" class="plyr__control" data-plyr="options">\n                  <svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><g><path d="M0 0h40v40H0z"/><circle fill="#000" fill-rule="nonzero" cx="30.05" cy="20.05" r="1"/><circle fill="#000" fill-rule="nonzero" cx="20.05" cy="20.05" r="1"/><circle fill="#000" fill-rule="nonzero" cx="10.05" cy="20.05" r="1"/></g><path d="M31.966 3.333a4.7 4.7 0 0 1 4.7 4.701v17.094a4.7 4.7 0 0 1-4.7 4.701H11.983l-6.461 6.462c-.765.765-2.045.292-2.177-.73l-.012-.176V8.035a4.7 4.7 0 0 1 4.701-4.702zm0 2.564H8.034c-1.18 0-2.137.957-2.137 2.137V32.29l4.65-4.649c.192-.192.439-.317.704-.36l.202-.015h20.513c1.18 0 2.137-.957 2.137-2.137V8.034c0-1.18-.957-2.137-2.137-2.137zM20.459 17.436c.69 0 1.25.56 1.25 1.25v.064c0 .69-.56 1.25-1.25 1.25h-9.465c-.69 0-1.25-.56-1.25-1.25v-.064c0-.69.56-1.25 1.25-1.25h9.465zm8.547-6.838c.69 0 1.25.56 1.25 1.25v.064c0 .69-.56 1.25-1.25 1.25H10.994c-.69 0-1.25-.56-1.25-1.25v-.064c0-.69.56-1.25 1.25-1.25h18.012z" fill="#FFF"/></g></svg>\n                </button>\n            </div>');for(var e=0;e<Jr.length;e++)Jr.length>1&&Jr.indexOf("und")>-1?Jr.splice(Jr.indexOf("und"),1):Jr[0].indexOf("und")>-1&&(Jr[0]="en"),$("#options").find("#audio-ul").append('\n        <li class="audio-li" name="'+Jr[e]+'" onclick="audioClick(\''+Jr[e]+'\', this)">\n          <svg role="presentation"><path d="M19.6687 0.331219C19.279 -0.058567 18.6471 -0.058567 18.2573 0.331219L6.29998 12.2886L1.7038 7.69243C1.31405 7.30264 0.682164 7.30268 0.292339 7.69243C-0.0974464 8.08217 -0.0974464 8.71406 0.292339 9.10385L5.59425 14.4057C5.98388 14.7954 6.61624 14.7952 7.00571 14.4057L19.6687 1.74268C20.0585 1.35293 20.0585 0.721004 19.6687 0.331219Z" fill="white"/></svg>\n          <span>'+ke(Jr[e],"audio")+"</span>\n        </li>");for(var t=0;t<Qr.length+1;t++)t==Qr.length?$("#options").find("#subtitle-ul").append('\n        <li class="subtitle-li" name=\'off\' onclick="subClick(\'off\', this)">\n          <svg role="presentation"><path d="M19.6687 0.331219C19.279 -0.058567 18.6471 -0.058567 18.2573 0.331219L6.29998 12.2886L1.7038 7.69243C1.31405 7.30264 0.682164 7.30268 0.292339 7.69243C-0.0974464 8.08217 -0.0974464 8.71406 0.292339 9.10385L5.59425 14.4057C5.98388 14.7954 6.61624 14.7952 7.00571 14.4057L19.6687 1.74268C20.0585 1.35293 20.0585 0.721004 19.6687 0.331219Z" fill="white"/></svg>\n          <span>Tắt</span>\n        </li>'):"und"!=Qr[t]&&"timemarker"!=Qr[t]&&$("#options").find("#subtitle-ul").append('\n          <li class="subtitle-li" name=\''+Qr[t]+"' onclick=\"subClick('"+Qr[t]+'\', this)" class="active">\n            <svg role="presentation"><path d="M19.6687 0.331219C19.279 -0.058567 18.6471 -0.058567 18.2573 0.331219L6.29998 12.2886L1.7038 7.69243C1.31405 7.30264 0.682164 7.30268 0.292339 7.69243C-0.0974464 8.08217 -0.0974464 8.71406 0.292339 9.10385L5.59425 14.4057C5.98388 14.7954 6.61624 14.7952 7.00571 14.4057L19.6687 1.74268C20.0585 1.35293 20.0585 0.721004 19.6687 0.331219Z" fill="white"/></svg>\n            <span>'+ke(Qr[t],"text")+"</span>\n          </li>");document.getElementById("options").onmouseenter=function(){$("#optionSelect").show()},document.getElementById("options").onmouseleave=function(){$("#optionSelect").hide()},document.getElementById("volume").onmouseenter=function(){$("#input-volume").show()},document.getElementById("volume").onmouseleave=function(){$("#input-volume").hide()},window.subClick=function(e,t){$(".subtitle-li").removeClass("active"),t.className="subtitle-li active","off"===e?($(".plyr__captions").hide(),playerP.captions.currentTrack=-1,oc="off"):($(".plyr__captions").html(""),$(".plyr__captions").show(),playerP.captions.currentTrack=0,window.shakaInstance.selectTextLanguage(e),q&&(playerP.language=e),oc=e)},window.audioClick=function(e,t){$(".audio-li").removeClass("active"),t.className="audio-li active",window.shakaInstance.selectAudioLanguage(e),ec=e}};window.fullscreenClick=ee;var fe=function(e,t){"watchInPlayer"!==t&&(e?video.pause():video.play()),N(e)};window.clickShowSeason=fe;var me=function(){$(".controls-subtitle").prepend('<div id="season">\n        <button type="button" class="plyr__control" data-plyr="options" onclick="clickShowSeason(true)">\n          <div class="tooltip">Tập phim</div>\n          <svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><path d="m36.464 27.096.08.136c.263.526.09 1.157-.384 1.48l-.136.08-15.504 7.752c-.273.136-.586.159-.872.068l-.168-.068-15.504-7.752a1.163 1.163 0 0 1 .894-2.141l.146.06L20 34.204l14.984-7.491a1.163 1.163 0 0 1 1.48.384zm0-7.752.08.136c.263.527.09 1.157-.384 1.48l-.136.08-15.504 7.752c-.273.136-.586.16-.872.068l-.168-.068L3.976 21.04a1.163 1.163 0 0 1 .894-2.141l.146.061L20 26.451l14.984-7.491a1.163 1.163 0 0 1 1.48.384zM19.48 3.456a1.163 1.163 0 0 1 1.04 0l15.504 7.752a1.163 1.163 0 0 1 0 2.08L20.52 21.04a1.163 1.163 0 0 1-1.04 0L3.976 13.288a1.163 1.163 0 0 1 0-2.08zm.52 2.34L7.095 12.247 20 18.7l12.904-6.45L20 5.794z" fill="#FFF" fill-rule="evenodd"/></svg>\n        </button>\n    </div>')},be=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(video.pause(),O({event_category:"feedback",on_screen:"movie_player",event_action:"click",direct_object_type:"button",direct_object_id:"feedback",indirect_object_type:"film",indirect_object_id:F.current.info.titleId,indirect_object_property:F.current.info.alternateName})):t||video.play(),H.current=e,B(e)};window.clickShowErrorFeedback=be;var ge=function(t,n,a){_({status:!1,data:null}),tc=!1,"trailer"!==e.type&&(he(),F.current.info.season&&F.current.info.season.episode.length>0&&me()),ic=a&&a.nextMovie?a.nextMovie:null,ac=a&&a.reaction?a.reaction:null,nc=a&&a.nextEpisode?a.nextEpisode:null,F.current.info.cntWatching&&F.current.info.cntWatching.subtitleLang?("off"===F.current.info.cntWatching.subtitleLang?($(".plyr__captions").hide(),playerP.captions.currentTrack=-1,oc="off"):(window.shakaInstance.selectTextLanguage(F.current.info.cntWatching.subtitleLang),oc=F.current.info.cntWatching.subtitleLang),$("#subtitle-ul").find("li[name='".concat(oc,"']")).addClass("active")):window.localStorage.subTitle&&"off"===window.localStorage.subTitle?($(".plyr__captions").hide(),playerP.captions.currentTrack=-1,oc="off",$("#subtitle-ul").find("li[name='off']").addClass("active")):Qr.length>0?window.localStorage.subTitle&&"null"!==window.localStorage.subTitle&&Qr.findIndex((function(e){return e==window.localStorage.subTitle}))>-1?(window.shakaInstance.selectTextLanguage(window.localStorage.subTitle),oc=window.localStorage.subTitle,$("#subtitle-ul").find("li[name='".concat(oc,"']")).addClass("active")):(window.shakaInstance.selectTextLanguage(Qr[0]),oc=Qr[0],$("#subtitle-ul").find("li[name='".concat(oc,"']")).addClass("active")):(playerP.captions.currentTrack=-1,oc="off",$("#subtitle-ul").find("li").first().addClass("active")),F.current.info.cntWatching&&F.current.info.cntWatching.language?(window.shakaInstance.selectAudioLanguage(F.current.info.cntWatching.language),ec=F.current.info.cntWatching.language,$("#audio-ul").find("li[name='".concat(F.current.info.cntWatching.language,"']")).addClass("active")):Jr.length>0?(window.shakaInstance.selectAudioLanguage(Jr[0]),ec=Jr[0],$("#audio-ul").find("li[name='".concat(Jr[0],"']")).addClass("active")):$("#audio-ul").find("li").first().addClass("active"),playerP.once("loadedmetadata",(function(a){i(!1),playerP.play(),playerP.toggleCaptions(!0),window.shakaInstance.setTextTrackVisibility(1),Q.event="playing",Q.context_value={price_type:F.current.info.priceType,request:t,trailer:"trailer"===e.type?"1":"0",title_id:F.current.info.titleId,alid:rc,sub_state:oc||(F.current.info.cntWatching?F.current.info.cntWatching.subtitleLang:"off"),audio_lang:ec||(F.current.info.cntWatching?F.current.info.cntWatching.language:"und"),time_at:""+parseInt(playerP.currentTime),duration:""+parseInt(playerP.duration),sum_tov:""+Zr,played_session_id:n,title_type:F.current.info.season&&F.current.info.season.episode.length>0?"tvseries":"movie"},F.current.info.season&&F.current.info.season.episode.length>0&&(Q.context_value.price_type=F.current.info.episode.priceType),k.userBehaviors(Q)})),playerP.on("playing",(function(e){i(!1),k.ga("Play","Watch",Q.directObject.property),Yr&&clearInterval(Yr),Yr=setInterval((function(){"playing"==Q.event&&(Zr+=4),Q.context_value.alid=rc,Q.context_value.sum_tov=""+Zr,Q.context_value.time_at=""+parseInt(playerP.currentTime+4),Q.context_value.sub_state=oc||(F.current.info.cntWatching?F.current.info.cntWatching.subtitleLang:"off"),Q.context_value.audio_lang=ec||(F.current.info.cntWatching?F.current.info.cntWatching.language:"und"),k.userBehaviors(Q)}),4e3)}));var o=!1,r=!1,c=!1,s=!1;playerP.on("timeupdate",(function(e){var t={status:!1,data:null};ic&&playerP.currentTime>=ic.start&&!o&&(o=!0,t={status:!0,data:ic.movies}),ic&&playerP.currentTime<ic.start&&(o=!1,t={status:!1,data:null}),r!==o&&(r=o,setTimeout((function(){P(t),t.status&&O({event_category:"browse",on_screen:"watch",event_action:"view",direct_object_type:"marker",direct_object_id:"recommendation",context_value:{watching_title_id:F.current.info.titleId,watching_title_name:F.current.info.alternateName}})}),100));var n={status:!1};ac&&playerP.currentTime>=ac.start&&!c&&(c=!0,n={status:!0}),ac&&playerP.currentTime<ac.start&&(c=!1,n={status:!1}),(!p.playerLikeMarker||F.current.info.reaction||F.current.info.episode&&F.current.info.episode.reaction||uc)&&(c=!1,n={status:!1}),s!==c&&(s=c,setTimeout((function(){E(n),n.status&&O({event_category:"browse",on_screen:"watch",event_action:"view",direct_object_type:"marker",direct_object_id:"rating",context_value:{watching_title_id:F.current.info.titleId,watching_title_name:F.current.info.alternateName}})}),100)),nc&&!tc&&!lc&&playerP.currentTime>nc.start&&(Xr=setTimeout((function(){we(nc),clearTimeout(Xr)}),1e3)),Q.event="playing"})),playerP.on("pause",(function(e){k.ga("pause","Pause","Watch"),Q.event="pausing",k.userBehaviors(Q)})),playerP.on("canplay",(function(e){i(!1),Q.event="playing"})),playerP.on("waiting",(function(e){i(!0),Q.event="buffering",k.userBehaviors(Q)})),playerP.on("ended",(function(e){_e(),nc?xe(nc):J()}))},ve=function(t,n,a){_({status:!1,data:null}),tc=!1;playerP.toggleCaptions(!0),window.shakaInstance.setTextTrackVisibility(1),playerP.once("loadeddata",(function(o){a&&a.skipIntro&&a.skipIntro.duration>0?F.current.info.cntWatching&&F.current.info.cntWatching.continueAt>0&&F.current.info.cntWatching.continueAt>a.skipIntro.duration?playerP.currentTime=F.current.info.cntWatching.continueAt:playerP.currentTime=a.skipIntro.duration:F.current.info.cntWatching&&F.current.info.cntWatching.continueAt>0&&(playerP.currentTime=F.current.info.cntWatching.continueAt),"trailer"!==e.type&&(he(),F.current.info.season&&F.current.info.season.episode.length>0&&me()),ic=a&&a.nextMovie?a.nextMovie:null,ac=a&&a.reaction?a.reaction:null,nc=a&&a.nextEpisode?a.nextEpisode:null,nc=a&&a.nextEpisode?a.nextEpisode:null,F.current.info.cntWatching&&F.current.info.cntWatching.subtitleLang?("off"===F.current.info.cntWatching.subtitleLang?($(".plyr__captions").hide(),playerP.captions.currentTrack=-1,oc="off"):(window.shakaInstance.selectTextLanguage(F.current.info.cntWatching.subtitleLang),playerP.language=F.current.info.cntWatching.subtitleLang,oc=F.current.info.cntWatching.subtitleLang),$("#subtitle-ul").find("li[name='".concat(oc,"']")).addClass("active")):window.localStorage.subTitle&&"off"===window.localStorage.subTitle?($(".plyr__captions").hide(),playerP.captions.currentTrack=-1,oc="off",$("#subtitle-ul").find("li[name='off']").addClass("active")):Qr.length>0?window.localStorage.subTitle&&"null"!==window.localStorage.subTitle&&Qr.findIndex((function(e){return e==window.localStorage.subTitle}))>-1?(window.shakaInstance.selectTextLanguage(window.localStorage.subTitle),playerP.language=window.localStorage.subTitle,oc=window.localStorage.subTitle,$("#subtitle-ul").find("li[name='".concat(oc,"']")).addClass("active")):(playerP.captions.currentTrack=-1,oc="off",$("#subtitle-ul").find("li[name='off']").addClass("active")):(playerP.captions.currentTrack=-1,oc="off",$("#subtitle-ul").find("li").first().addClass("active")),F.current.info.cntWatching&&F.current.info.cntWatching.language?(window.shakaInstance.selectAudioLanguage(F.current.info.cntWatching.language),ec=F.current.info.cntWatching.language,$("#audio-ul").find("li[name='".concat(F.current.info.cntWatching.language,"']")).addClass("active")):Jr.length>0?(window.shakaInstance.selectAudioLanguage(Jr[0]),ec=Jr[0],$("#audio-ul").find("li[name='".concat(Jr[0],"']")).addClass("active")):$("#audio-ul").find("li").first().addClass("active"),i(!1),playerP.play(),Q.event="playing",Q.context_value={price_type:F.current.info.priceType,request:t,trailer:"trailer"===e.type?"1":"0",title_id:F.current.info.titleId,alid:rc,sub_state:oc||(F.current.info.cntWatching?F.current.info.cntWatching.subtitleLang:"off"),audio_lang:ec||(F.current.info.cntWatching?F.current.info.cntWatching.language:"und"),time_at:""+parseInt(playerP.currentTime),duration:""+parseInt(playerP.duration),sum_tov:""+Zr,played_session_id:n,title_type:F.current.info.season&&F.current.info.season.episode.length>0?"tvseries":"movie"},F.current.info.season&&F.current.info.season.episode.length>0&&(Q.context_value.price_type=F.current.info.episode.priceType),k.userBehaviors(Q)})),playerP.on("canplay",(function(e){i(!1),Q.event="playing"})),playerP.on("playing",(function(e){i(!1),Yr&&clearInterval(Yr),Yr=setInterval((function(){"playing"==Q.event&&(Zr+=4),Q.context_value.alid=rc,Q.context_value.sum_tov=""+Zr,Q.context_value.time_at=""+parseInt(playerP.currentTime+4),Q.context_value.sub_state=oc||(F.current.info.cntWatching?F.current.info.cntWatching.subtitleLang:"off"),Q.context_value.audio_lang=ec||(F.current.info.cntWatching?F.current.info.cntWatching.language:"und"),k.userBehaviors(Q)}),4e3)}));var o=!1,r=!1,c=!1,s=!1;playerP.on("timeupdate",(function(e){var t={status:!1,data:null};ic&&playerP.currentTime>=ic.start&&!o&&(o=!0,t={status:!0,data:ic.movies}),ic&&playerP.currentTime<ic.start&&(o=!1,t={status:!1,data:null}),r!==o&&(r=o,setTimeout((function(){P(t),t.status&&O({event_category:"browse",on_screen:"watch",event_action:"view",direct_object_type:"marker",direct_object_id:"recommendation",context_value:{watching_title_id:F.current.info.titleId,watching_title_name:F.current.info.alternateName}})}),100));var n={status:!1};ac&&playerP.currentTime>=ac.start&&!c&&(c=!0,n={status:!0}),ac&&playerP.currentTime<ac.start&&(c=!1,n={status:!1}),(!p.playerLikeMarker||F.current.info.reaction||F.current.info.episode&&F.current.info.episode.reaction||uc)&&(c=!1,n={status:!1}),s!==c&&(s=c,setTimeout((function(){E(n),n.status&&O({event_category:"browse",on_screen:"watch",event_action:"view",direct_object_type:"marker",direct_object_id:"rating",context_value:{watching_title_id:F.current.info.titleId,watching_title_name:F.current.info.alternateName}})}),100)),nc&&!tc&&!lc&&playerP.currentTime>nc.start&&(Xr=setTimeout((function(){we(nc),clearTimeout(Xr)}),1e3)),Q.event="playing"})),playerP.on("pause",(function(e){Q.event="pausing",k.userBehaviors(Q)})),playerP.on("waiting",(function(e){i(!0),Q.event="buffering",k.userBehaviors(Q)})),playerP.on("ended",(function(e){_e(),nc?xe(nc):J()})),playerP.on("error",(function(){}))},we=function(e){tc||_({status:!0,data:e}),tc=!0},xe=function(t){tc=!1;var n=0,i=m.a.findIndex(e.season,(function(e){return e.seasonId==t.seasonID}));i>=0&&(n=i);var a=e.season[n];t.alternateName=t.episodeNameVi,t.name=t.episodeNameEn;var o;o={season:a,episode:{episodeId:t.episodeID},titleId:e.info.titleId},R(o);var r={titleId:t.titleID,seasonId:t.seasonID,episodeId:t.episodeID};z.checkRating(r,(function(n,i){!n&&i&&i.data&&1==i.data.resultCode?F.current=Hr(Hr({},e),{},{data:F.current.data,info:{season:a,episode:t,hasLogo:e.info.hasLogo,alternateName:e.info.alternateName,name:e.info.name,reaction:1}}):F.current=Hr(Hr({},e),{},{data:F.current.data,info:{season:a,episode:t,hasLogo:e.info.hasLogo,alternateName:e.info.alternateName,name:e.info.name}})}));var c=m.a.findIndex(a.episode,(function(e){return e.episodeId===t.episodeID})),s=a.episode[c];c=-1===c?1:c;var l="/watch/".concat(e.slug,"?ss=").concat(a.seasonNumber,"&ep=").concat(s.episodeNumber);X.push(l),cc=0,f.source&&b({source:null,sessionId:null,info:null,thumbnail:[],markers:{}}),oe(t.alid,"watchInPlayer"),_e()},_e=function(){lc=!0,tc=!0,clearTimeout(Xr),_(Hr(Hr({},x),{},{status:!1}))},Se=function(){var t={alid:rc,sub_state:oc||(F.current.info.cntWatching?F.current.info.cntWatching.subtitleLang:"off"),audio_lang:ec||(F.current.info.cntWatching?F.current.info.cntWatching.language:"und"),trailer:"trailer"===e.type?"1":"0",time_at:""+parseInt(playerP.currentTime),title_type:F.current.info.type,price_type:"AVOD"===F.current.info.priceType?"free":F.current.info.priceType,played_session_id:f.sessionId};if("trailer"===e.type&&(t.price_type="free"),e.season&&f.info.seasonID&&f.info.episodeID){var n=f.info,i=n.seasonID,a=n.episodeID,o=e.season.find((function(e){return e.seasonId===i}));if(o){var r=o.episode.find((function(e){return e.episodeId===a}));r&&(t.price_type="AVOD"===r.priceType?"free":r.priceType)}}return t};return Object(r.d)((function(){return localStorage.removeItem("plyr"),F.current.data&&(rc=F.current.data.videoItems[0].ALID),oe(rc),function(){lc=!1,!1,uc=!1,Yr&&clearInterval(Yr),null!==$r&&clearInterval($r),null!==Xr&&clearTimeout(Xr),window.shakaInstance&&(shakaInstance.unload(),shakaInstance.destroy()),window.playerP&&playerP.pause(),document.removeEventListener("keydown",te)}}),[]),Object(r.d)((function(){if(x.status&&!n){var e=document.createElement("div"),t=document.createAttribute("id");t.value="nextEpisode",e.setAttributeNode(t),document.querySelector(".plyr__video-wrapper").appendChild(e),document.querySelector("#nextEpisode").style.zIndex=1e3,Object(o.k)(Object(o.h)(dc,{close:_e,watchNextMovie:xe,data:x.data}),document.querySelector("#nextEpisode"))}else{var i=$("#nextEpisode")[0];_(Hr(Hr({},x),{},{status:!1})),tc=!1,i&&i.remove(),null!==$r&&clearInterval($r),null!==Xr&&clearTimeout(Xr)}}),[x.status]),Object(r.d)((function(){C.status?$(".controls-mask, .controls-time-progress, .controls-under").addClass("force-hide"):$(".controls-mask, .controls-time-progress, .controls-under").removeClass("force-hide")}),[C.status]),Object(r.d)((function(){var e=document.getElementById("error-feedback");p.errorFeedback?e&&(e.style.display="block"):e&&(e.style.display="none")}),[p.errorFeedback]),Object(o.h)("div",null,Object(o.h)("div",{id:"player-wraper"},Object(o.h)("div",null,Object(o.h)("video",{id:"player",width:"100%",height:"100%",crossOrigin:"anonymous",playsinline:!0,autoPlay:!0})),n&&Object(o.h)("div",{className:"player-loading"},Object(o.h)("div",{className:"player-spinner"})),c&&u&&Object(o.h)("div",{onClick:function(){video.play(),s(!1)},className:"player-playicon"},Object(o.h)(ie,null)),I&&Object(o.h)(vt,{season:e.season,watchInPlayer:function(t,n,i){if(window.localStorage.__glxp_token){var a="",o={titleId:i,seasonId:n.seasonId,episodeId:t.episodeId};z.checkRating(o,(function(i,a){!i&&a&&a.data&&1==a.data.resultCode?F.current=Hr(Hr({},F.current),{},{data:t.video,info:{season:n,episode:t,hasLogo:e.info.hasLogo,alternateName:e.info.alternateName,name:e.info.name,reaction:1}}):F.current=Hr(Hr({},F.current),{},{data:t.video,info:{season:n,episode:t,hasLogo:e.info.hasLogo,alternateName:e.info.alternateName,name:e.info.name}})}));var r="/watch/".concat(e.slug,"?ss=").concat(n.seasonNumber,"&ep=").concat(t.episodeNumber);t.video&&(a=t.video.videoItems[0].ALID,X.push(r)),cc=0,f.source&&b({source:null,sessionId:null,info:null,thumbnail:[],markers:{}}),oe(a,"watchInPlayer")}else W.reLogin()},titleId:F.current.info.titleId,clickShowSeason:fe,title:window.localStorage.lang&&"en"==window.localStorage.lang?F.current.info.name:F.current.info.alternateName}),C.status&&Object(o.h)(He,{slug:e.slug,titleId:F.current.info.titleId,alternateName:F.current.info.alternateName,closeNextMovie:function(){P(Hr(Hr({},C),{},{status:!1}))},data:C.data}),M.status&&Object(o.h)(Lo,{slug:e.slug,dataMovie:L||F.current.info,alternateName:F.current.info.alternateName,closeRating:function(){uc=!0,E(Hr(Hr({},M),{},{status:!1}))}}),V&&Object(o.h)(cr,{clickShowErrorFeedback:be,dataMovie:F.current.info,getContextValue:Se}),y.status&&Object(o.h)(Ur,{retry:function(){var e;f.source?ue(f.data,rc,null===(e=playerP)||void 0===e?void 0:e.currentTime):oe(rc);ae()},close:ae,data:y.data})))}));function hc(e,t,n,i,a,o,r){try{var c=e[o](r),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(i,a)}function fc(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function r(e){hc(o,i,a,r,c,"next",e)}function c(e){hc(o,i,a,r,c,"throw",e)}r(void 0)}))}}function mc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function bc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mc(Object(n),!0).forEach((function(t){gc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Oc=Object(o.e)(),wc=function(){var e=Object(r.b)(Oc);if(void 0===e)throw new Error("Need auth context");return e},jc=function(e){var t=new URLSearchParams(window.location.search).get("partner"),i=yc(Object(r.k)(!0),2),a=i[0],c=i[1],l=yc(Object(r.k)(!1),2),d=l[0],p=l[1],h=yc(Object(r.k)({method:null,channel:null}),2),f=h[0],m=h[1],g=Object(Ve.useTracking)().trackEvent,y=q(),v=Object(r.j)(y);Object(r.d)((function(){v.current=y}),[y]);var O=Object(r.b)(Eo),w=yc(Object(r.k)({data:null,loaded:!1}),2),j=w[0],x=w[1],_=yc(Object(r.k)({status:!1,description:"",notCancel:!1,notClose:!1,tryAgain:!1,callback:function(){}}),2),S=_[0],I=_[1],N=yc(Object(r.k)({hasBasic:!1,hasPremium:!1,hasMobile:!1,loaded:!1,namePremium:"",nameBasic:"",nameMobile:""}),2),T=N[0],C=N[1],P=yc(Object(r.k)({getProfile:null}),2),A=P[0],M=P[1],E=Object(s.g)(),D=yc(Object(r.k)({infoUser:null,setLoading:function(e){e?p(e):($(".loading-page").css({opacity:"0"}),setTimeout((function(){p(e)}),300))}}),2),L=D[0],R=D[1],U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;window.localStorage.__glxp_token?z.getInfoUser((function(i,a){i?c(!1):(window.localStorage.setItem("id_user",a.data.id),R(bc(bc({},L),{},{infoUser:a.data})),n&&n(a.data),("redeem"!==e||"redeem"===e&&null!==t)&&X(!0),Q(e,t))})):(X(!1),c(!1))},V=function(){var e=JSON.parse(localStorage.getItem("profile"))||{},t=e&&e.profileId,n=e&&e.profileName;g({on_screen:window.localStorage.on_screen&&window.localStorage.on_screen,from_screen:v.current.history.length>1&&v.current.history[v.current.history.length-2]||"",event_action:"click",direct_object_type:"logout",profile_id:t,profile_name:n,profile_kid_mode:"true"==localStorage.getItem("profileKidMode")?"1":"0"}),c(!1),window.localStorage.__glxp_token?z.logout((function(e,t){window.localStorage.removeItem("popupTvod"),window.localStorage.removeItem("__glxp_token"),window.localStorage.removeItem("__glxp_r_token"),window.localStorage.removeItem("timeCurrent"),window.localStorage.removeItem("mktSource"),window.localStorage.removeItem("mktCampaign"),window.localStorage.removeItem("profile"),window.localStorage.removeItem("profileId"),window.localStorage.removeItem("lockProfile"),window.localStorage.removeItem("profileName"),window.localStorage.removeItem("profileKidMode"),window.localStorage.removeItem("__pfid"),window.localStorage.removeItem("justRegistered"),window.sessionStorage.removeItem("historyPage"),window.sessionStorage.removeItem("isPartner");for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var a=n[i],o=a.indexOf("="),r=o>-1?a.substr(0,o):a;document.cookie=r+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/"}R(bc(bc({},L),{},{infoUser:null})),setTimeout((function(){window.location.assign("/")}),0),window.sessionStorage.setItem("isLogout","true")})):(setTimeout((function(){window.location.assign("/")}),0),window.sessionStorage.setItem("isLogout","true")),window.localStorage.id_user&&window.localStorage.removeItem("id_user")},B=function(e,t,n,i,a){e?ne(t,n,i,a):X(!1)},H=yc(Object(r.k)({status:!1,video:null,name:null,alternateName:null,trailerId:null,priceType:null}),2),F=H[0],W=H[1],K=yc(Object(r.k)(!1),2),G=K[0],X=K[1],Y=function(){z.getChannelAndMethod({platform:"web",version:1.3},(function(e,t){t&&t.data&&t.data.data&&m(t.data.data)}))},Z=function(){z.getAccountViewer((function(e,t){!e&&t&&M(bc(bc({},A),{},{getProfile:t.data}))}))},Q=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,o=JSON.parse(localStorage.getItem("profile")),r=o&&o.profileId,s="sha1$",l=s+localStorage.__pfid,u=n(111),d=u.verify(r,l);C(bc(bc({},T),{},{loaded:!1})),z.getSubscriptionInfo((function(n,o){if(!n){var r=o.data.data;x({data:r,loaded:!0});var s=!1,l=!1,u=!1,h=[],f=[],m=[],b="",g="",v="",w=Date.parse(new Date);if(r.map((function(e){var t=Date.parse(e.expireAt);"premium"==e.planId&&w<t?(h.push(e),b=e):"basic"==e.planId&&w<t?(f.push(e),g=e):"mobile"==e.planId&&w<t&&(m.push(e),v=e)})),h.length>0&&(s=!0),f.length>0&&(l=!0),m.length>0&&(u=!0),t)switch(window.localStorage.setItem("timeCurrent",Date.parse(new Date)/1e3),t){case"login-partner":E.push({pathname:"/lobby"});break;case"login":if(d){if(s&&sessionStorage.getItem("isPartner")&&(d?E.push({pathname:"/browse"}):E.push({pathname:"/lobby",state:bc(bc({},i),{},{params:i})})),""!==y.nextPage.next){p(!1),C({hasPremium:s,hasBasic:l,hasMobile:u,loaded:!0,namePremium:b,nameBasic:g,nameMobile:v}),d?E.push("/browse"):E.push({pathname:"/lobby"});break}if(s){var j=E.location;if(j.state&&j.state.isEdit){var k={pathname:"/browse"};d?E.replace(k):E.push({pathname:"/lobby",state:bc(bc({},i),{},{params:i})})}else if(j.state&&j.state.from){var _={from:{pathname:j.state.from.pathname}}.from;d?E.replace(_):E.push({pathname:"/lobby",state:bc(bc({},i),{},{params:i})})}else{var S={pathname:"/browse"};d?E.replace(S):E.push({pathname:"/lobby",state:bc(bc({},i),{},{params:i})})}}else null!==i?d?E.push("/browse"):E.push({pathname:"/lobby",state:bc(bc({},i),{},{params:i})}):u?d?(E.push({pathname:"/browse"}),J(u)):E.push({pathname:"/lobby",state:bc(bc({},i),{},{params:i})}):E.push({pathname:"/subs/plan"})}else i&&i.from&&i.from.pathname&&i.from.pathname.includes("/account/referral/")?E.replace(i.from):E.push({pathname:"/lobby",state:bc(bc({},i),{},{params:i})});break;case"register":var I=E.location;if(null!==i){var N="";i.package&&(N="?type="+i.package),E.push({pathname:"/subs/pay",search:N,state:bc(bc({},i),{},{type:"register"})}),sessionStorage.getItem("isPartner")&&!s&&E.push({pathname:"/subs/pay"})}else E.push({pathname:"/subs/plan"});break;case"referral":E.push({pathname:i});break;case"redeem":null!==i?E.push({pathname:"/subs/redeem",state:{addonName:i.addonName,description:i.description}}):O.setNotification({type:"redeem",status:!0,isLogin:!0});break;case"forgot":d?E.push({pathname:"/browse"}):E.push({pathname:"/lobby"});break;case"rent":E.push({pathname:"/lobby",state:{rent:"/title/"+i}});break;case"subs":d?E.push({pathname:"/subs/pay",state:{type:"register"}}):E.push({pathname:"/lobby",state:bc(bc({},i),{},{params:i})});case"isKid":d?E.push({pathname:"/browse"}):E.push({pathname:"/lobby",state:bc(bc({},i),{},{params:i})});break;case"promo":d?z.pullOfferByAtoken({eventPage:"homepage"},(function(e,t){if(!e)if(t.data.data.promotions&&t.data.data.promotions.find((function(e){return 1==e.campaignType})))E.push({pathname:"/subs/pay",state:{campaign:!0,location:I.pathname,campaignMB:!0}});else{var n=fromTo||{from:{pathname:"/browse"}};d?E.replace(n):E.push({pathname:"/lobby",state:bc(bc({},i),{},{params:i})})}})):E.push({pathname:"/lobby",state:bc(bc({},i),{},{params:i})})}else if(!d){var T=E.location;T.pathname.includes("subs")||T.pathname.includes("account")||T.pathname.includes("emailConfirm")||E.push({pathname:"/lobby",state:bc(bc({},i),{},{params:i})})}C({hasPremium:s,hasBasic:l,hasMobile:u,loaded:!0,namePremium:b,nameBasic:g,nameMobile:v}),O.setAuthContext({setLogin:B,updateHasPackage:e,hasPremium:s,hasBasic:l,hasMobile:u,namePremium:b,nameBasic:g,nameMobile:v}),a&&a({hasPremium:s,hasBasic:l,hasMobile:u}),p(!1)}c(!1)}))},J=function(e){var t=function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var a=n[i];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""}("popupUpgrade"),n=Object(r.b)(Eo);""==t&&window.localStorage.isVisited1&&e&&n.setNotification({notTry:!0,status:!0,notCancel:!0,type:"upgrade",time:500})},ee=function(){c(!1),p(!1),X(!1),window.localStorage.removeItem("__glxp_token"),window.localStorage.removeItem("__glxp_r_token"),window.localStorage.removeItem("profile");for(var e=document.cookie.split(";"),t=0;t<e.length;t++){var n=e[t],i=n.indexOf("="),a=i>-1?n.substr(0,i):n;document.cookie=a+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/"}R(bc(bc({},L),{},{infoUser:null})),window.sessionStorage.setItem("isLogout","true"),O.setNotification({status:!0,description:"Vui lòng đăng nhập lại",type:"error"}),sessionStorage.getItem("loginFromApp")&&Android.paymentSuccess("expiredToken")},te=function(e){e&&2009===e.data.code?localStorage.getItem("__glxp_r_token")&&z.refreshAccessToken((function(e,t){if(e)ee();else{var n=t.headers["x-fim-atoken"];localStorage.setItem("__glxp_token",n);var i=new Date;i.setTime(i.getTime()+2592e6);var a="expires="+i.toUTCString();document.cookie="__glxp_token=".concat(n,"; ").concat(a,"; path=/"),window.location.reload()}})):ee()},ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;window.localStorage.profile||(window.localStorage.setItem("profile",JSON.stringify({isKid:!1,profileId:"",profileName:""})),window.localStorage.setItem("profileKidMode",!1)),U(e,t,n,i)},ie=null,ae=function(e){if(window.localStorage.setItem("__glxp_token",e),e){c(!1);var t=new Date;t.setTime(t.getTime()+2592e6);var n="expires="+t.toUTCString();document.cookie="__glxp_token=".concat(e,"; ").concat(n,"; path=/"),"true"===window.sessionStorage.getItem("isLogout")&&window.sessionStorage.setItem("sessionId",k.generateSessionId()),X(!0),E.push(sessionStorage.getItem("historyPage"))}};return Object(r.d)((function(){var e;(e=new URLSearchParams(window.location.search).get("aToken"))&&(sessionStorage.setItem("loginFromApp",!0),O.setNotification({status:!0,description:"Đăng nhập thành công",type:"success"}),setTimeout((function(){ae(e)}),1e3));var t=!1,n=[];O.setAuthContext({setLogin:B,updateHasPackage:Q});var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n.forEach((function(n){e?n.reject(e):n.resolve(t)})),n=[]};u.a.interceptors.response.use(void 0,(function(e){if(e.response.config.url.includes("/account/refreshToken/extend")||499===e.response.status)return ee();if(e.response.config.url.includes("/account/refreshToken/extend"))return ie&&(i(!0,null),ie(!0)),Promise.reject(e);if(window.localStorage.errAuth||(window.localStorage.errAuth=0),(e.response.config.url.includes("/account/login")||e.response.config.url.includes("/account/phone/register")||e.response.config.url.includes("/account/phone/forgot")||e.response.config.url.includes("/account/momoLogin"))&&401!==e.response.status)return Promise.reject(e);if(403!==e.response.status&&401!==e.response.status&&498!==e.response.status&&e.response.config.url.includes("/content/page"))I({status:!0,notCancel:!0,notClose:!0,description:"Kết nối đến hệ thống bị gián đoạn vui lòng Thử lại hoặc liên hệ 18009090 để được hỗ trợ.",callback:function(){window.location.reload()}});else if(e.response.config.url.includes("/billing/subscription/getSubscriptionInfo")&&400===e.response.status&&e.response.data&&e.response.data.errorCode&&495===e.response.data.errorCode)O.setNotification({notTry:!0,status:!0,notCancel:!0,type:"blockCountry",time:500});else if(e.response.status>=500&&(e.response.config.url.includes("/content/ribbon")||e.response.config.url.includes("/account/info")||e.response.config.url.includes("/billing/subscription/getSubscriptionInfo")))I({status:!0,notCancel:!0,notClose:!0,description:"Kết nối đến hệ thống bị gián đoạn vui lòng Thử lại hoặc liên hệ 18009090 để được hỗ trợ.",callback:function(){window.location.reload()}});else{if(403===e.response.status&&2009!==e.response.data.code)return te(e.response);var a=!1;if(401!==e.response.status&&498!==e.response.status&&403!==e.response.status||(a=!0),!a)return Promise.reject(e);var o=localStorage.getItem("__glxp_r_token");if(!e.response.config.url.includes("/account/device/new")||window.localStorage.__glxp_device_token){if((e.response.config.url.includes("/account/login")||e.response.config.url.includes("/account/phone/register")||e.response.config.url.includes("/account/phone/forgot")||e.response.config.url.includes("/promotion/v2/packageDisplay")||e.response.config.url.includes("/account/momoLogin"))&&!G){var r=e.config;if(!r._retry)return t?new Promise((function(t,i){n.push({resolve:t,reject:i,url:e.config.url})})).then((function(e){return r.headers["access-token"]=e,u()(r)})).catch((function(e){return Promise.reject(e)})):(r._retry=!0,t=!0,new Promise((function(e,n){var a={os:b.osName,partner:b.isMobile?"mobile":"pc",modelId:b.browserName,modelName:b.browserVersion,app_version:"2.0.0",os_version:b.osVersion,platform:"web"};z.getToken(a,(function(a,o){if(a)window.localStorage.removeItem("__glxp_device_token"),i(a,null),n(a),I({status:!0,notCancel:!0,notClose:!0,description:"Kết nối đến hệ thống bị gián đoạn vui lòng Thử lại hoặc liên hệ 18009090 để được hỗ trợ.",callback:function(){window.location.reload()}});else{var c=o.headers["x-fim-gtoken"];localStorage.setItem("__glxp_device_token",c),setTimeout((function(){i(null,c),e(u()(r))}),2e3)}t=!1}))})))}if(!o||e.response.config.url.includes("/account/validToken"))return window.localStorage.removeItem("__glxp_r_token"),ie&&(i(!0,null),ie(!0)),void ee();var s=e.config;return s._retry?void 0:t?new Promise((function(t,i){n.push({resolve:t,reject:i,url:e.config.url})})).then((function(e){return s.headers["access-token"]=e,u()(s)})).catch((function(e){return Promise.reject(e)})):(s._retry=!0,t=!0,new Promise((function(e,n){z.refreshAccessToken((function(a,o){if(a)window.localStorage.removeItem("__glxp_r_token"),te(),c(!1),i(a,null),ie=n(a);else{var r=o.headers["x-fim-atoken"];localStorage.setItem("__glxp_token",r);var l=new Date;l.setTime(l.getTime()+2592e6);var d="expires="+l.toUTCString();document.cookie="__glxp_token=".concat(r,"; ").concat(d,"; path=/"),i(null,r),e(u()(s))}t=!1}))})))}5==window.localStorage.errAuth?I({status:!0,notTry:!0,notCancel:!0,notClose:!0,description:"Kết nối đến hệ thống bị gián đoạn vui lòng Thử lại hoặc liên hệ 18009090 để được hỗ trợ.",callback:function(){window.localStorage.removeItem("errAuth"),window.location.reload()}}):(window.localStorage.errAuth=parseInt(window.localStorage.errAuth)+1,window.location.reload())}}))}),[]),Object(r.d)(fc(regeneratorRuntime.mark((function e(){var n,i,a,o,r,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.localStorage.__glxp_device_token){e.next=5;break}return n={os:b.osName,partner:b.isMobile?"mobile":"pc",modelId:b.browserName,modelName:b.browserVersion,app_version:"2.0.0",os_version:b.osVersion,platform:"web"},b.browserName.includes("messenger")&&(n.modelId="Messenger"),e.next=5,new Promise((function(e,t){z.getToken(n,(function(t,n){return t?(I({status:!0,notCancel:!0,notClose:!0,description:"Kết nối đến hệ thống bị gián đoạn vui lòng Thử lại hoặc liên hệ 18009090 để được hỗ trợ.",callback:function(){window.localStorage.removeItem("errAuth"),window.location.reload()}}),e(!1)):(n&&n.headers&&n.headers["x-fim-gtoken"]&&(window.localStorage.__glxp_device_token=n.headers["x-fim-gtoken"]),e(n.headers["x-fim-gtoken"]))}))}));case 5:window.localStorage.__glxp_token&&window.localStorage.__glxp_r_token&&window.localStorage.timeCurrent?(i=window.localStorage.timeCurrent,a=Date.parse(new Date)/1e3,(a-i)/3600>24?(o={old_refresh_token:window.localStorage.__glxp_r_token},z.extendRefreshToken(o,(function(e,t){e?I({status:!0,notCancel:!0,notClose:!0,description:"Kết nối đến hệ thống bị gián đoạn vui lòng Thử lại hoặc liên hệ 18009090 để được hỗ trợ.",callback:function(){window.location.reload()}}):(window.localStorage.__glxp_r_token=t.data.x_fim_rtoken,window.localStorage.timeCurrent=a,ne())}))):ne(),window.localStorage.profile&&(r=window.localStorage.timeCurrentLobby,c=Date.parse(new Date)/1e3,(c-r)/60>5&&localStorage.removeItem("profile"))):ne(),t&&window.localStorage.setItem("partner",t),z.getIp((function(e,t){e||window.localStorage.setItem("ip",t.data)})),window.sessionStorage.sessionId||window.sessionStorage.setItem("sessionId",k.generateSessionId()),window.localStorage.__glxp_token&&window.localStorage.__glxp_r_token&&!window.localStorage.timeCurrent&&(s=Date.parse(new Date)/1e3,window.localStorage.setItem("timeCurrent",s)),window.localStorage.lang||(window.localStorage.lang="vi"),window.localStorage.subTitle||(window.localStorage.subTitle="vi");case 13:case"end":return e.stop()}}),e)}))),[]),Object(r.d)((function(){F.status&&W({status:!1,video:null,name:null,trailerId:null,priceType:null})}),[location.href]),Object(o.h)(Oc.Provider,{value:{isLogin:G,data:L,setLoading:L.setLoading,setLogin:B,setLoadingPage:p,loadingPage:d,logout:V,updateInfo:U,showWatchTrailer:W,hasBasic:T.hasBasic,hasPremium:T.hasPremium,hasMobile:T.hasMobile,packageLoaded:T.loaded,namePremium:T.namePremium,nameBasic:T.nameBasic,nameMobile:T.nameMobile,updateHasPackage:Q,getChannelAndMethod:Y,subcription:j,updateProfile:Z,getProfile:A.getProfile,methods:f.method,channels:f.channel,reLogin:te}},Object(o.h)(o.b,null,S.status?Object(o.h)(pn,{time:2e3,notCancel:S.notCancel,notClose:S.notClose,tryAgain:S.tryAgain,notification:S,setNotification:I}):a?Object(o.h)("div",{className:"loading-page"},Object(o.h)("div",{className:"nb-spinner"})):Object(o.h)(o.b,null,F.status&&Object(o.h)("div",{className:"player"},Object(o.h)(pc,{type:"trailer",data:F.video,info:{alternateName:F.alternateName,titleId:F.trailerId,priceType:F.priceType,name:F.name},notifi:O,authContext:{isLogin:G,data:L,setLoading:L.setLoading,setLogin:B,logout:V,updateInfo:U,showWatchTrailer:W,hasBasic:T.hasBasic,hasPremium:T.hasPremium,hasMobile:T.hasMobile,packageLoaded:T.loaded,namePremium:T.namePremium,nameBasic:T.nameBasic,nameMobile:T.nameMobile,updateHasPackage:Q,getChannelAndMethod:Y,subcription:j,updateProfile:Z,getProfile:A.getProfile,methods:f.method,channels:f.channel,reLogin:te},closePopup:function(){return W({status:!1,video:null,name:null,trailerId:null,priceType:null})}})),d&&Object(o.h)("div",{className:"loading-page"}),e.children)))},xc=n(84),kc=n.n(xc),_c=function(e){return Object(o.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 492.004 492.004",width:"30px",height:"30px",className:"arrow-up"},Object(o.h)("g",null,Object(o.h)("g",null,Object(o.h)("g",null,Object(o.h)("path",{d:"M382.678,226.804L163.73,7.86C158.666,2.792,151.906,0,144.698,0s-13.968,2.792-19.032,7.86l-16.124,16.12    c-10.492,10.504-10.492,27.576,0,38.064L293.398,245.9l-184.06,184.06c-5.064,5.068-7.86,11.824-7.86,19.028    c0,7.212,2.796,13.968,7.86,19.04l16.124,16.116c5.068,5.068,11.824,7.86,19.032,7.86s13.968-2.792,19.032-7.86L382.678,265    c5.076-5.084,7.864-11.872,7.848-19.088C390.542,238.668,387.754,231.884,382.678,226.804z","data-original":"#000000",class:"active-path","data-old_color":"#000000",fill:"white"}))))," ")},Sc=function(){return Object(o.h)("svg",{viewBox:"0 0 492 492",width:"30px",id:"arrow-left"},Object(o.h)("path",{d:"M198.608,246.104L382.664,62.04c5.068-5.056,7.856-11.816,7.856-19.024c0-7.212-2.788-13.968-7.856-19.032l-16.128-16.12    C361.476,2.792,354.712,0,347.504,0s-13.964,2.792-19.028,7.864L109.328,227.008c-5.084,5.08-7.868,11.868-7.848,19.084    c-0.02,7.248,2.76,14.028,7.848,19.112l218.944,218.932c5.064,5.072,11.82,7.864,19.032,7.864c7.208,0,13.964-2.792,19.032-7.864    l16.124-16.12c10.492-10.492,10.492-27.572,0-38.06L198.608,246.104z","data-original":"#000000",class:"active-path","data-old_color":"#000000"}))};n(862);function Ic(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Tc=function(e){var t,n=Ic(Object(r.k)({arrCategory:[]}),2),i=n[0],a=n[1],s=Object(Ve.useTracking)().trackEvent,l=Ic(Object(r.k)(!1),2),u=l[0],d=l[1],p=Ic(Object(r.k)("Chọn thể loại"),2),h=p[0],f=p[1],m=Object(o.g)();switch(e.type){case"TVOD":t="Phim Thuê";break;case"SVOD":t="Phim Gói";break;case"movie":t="Phim Điện Ảnh";break;case"tvseries":t="Phim Bộ";break;default:t="Thể loại"}return Object(r.d)((function(){var t={};switch(e.type){case"movie":case"tvseries":case"TVOD":case"SVOD":t.type=e.type}z.getCategory(t,(function(t,n){if(!t&&(a({arrCategory:n.data}),e.active)){var i=n.data.find((function(t){return t.slug===e.active}));f(i.display)}}));var n=m.current;return $(document).on("click",(function(e){n&&e.target!==n&&e.target!==n.children[0]&&d(!1)})),function(){$(document).unbind()}}),[]),Object(r.d)((function(){if(i.arrCategory&&i.arrCategory.length>0){var t=i.arrCategory.find((function(t){return t.slug===e.active}));f(t.display)}}),[e.active]),i.arrCategory&&i.arrCategory.length>0?Object(o.h)("div",{class:"category-all"},Object(o.h)("div",{className:"name-title"},e.active&&Object(o.h)("div",{className:"go-back"},Object(o.h)(c.b,{to:"TVOD"==e.type?"/browse/rental":"/browse/movie"},Object(o.h)(Sc,null))),t),Object(o.h)("div",{class:"dropdown"},Object(o.h)("button",{onClick:function(){return d(!u)},type:"button",class:"dropbtn",ref:m},h," ",Object(o.h)(_c,null)),Object(o.h)("div",{id:"myDropdown",class:u?"dropdown-content show":"dropdown-content"},Object(o.h)("ul",{className:"ul-category"},i.arrCategory&&i.arrCategory.map((function(t){return Object(o.h)("li",{className:"genre"},Object(o.h)(c.b,{to:(n=t.slug,function(){var t="";switch(e.type){case"movie":t="/browse/movie/"+n;break;case"tvseries":t="/browse/series/"+n;break;case"TVOD":t="/browse/rental/"+n;break;case"SVOD":t="/browse/library/"+n}return t}),onClick:function(){return e=t,d(!1),function(t){s({event_action:"click",direct_object_id:e.slug,direct_object_type:"collection",direct_object_property:e.display})};var e}},t.display));var n})))))):""},Cc=function(){return Object(o.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 492.004 492.004",width:"30px",height:"30px",className:"arrow-right"},Object(o.h)("path",{d:"M382.678,226.804L163.73,7.86C158.666,2.792,151.906,0,144.698,0s-13.968,2.792-19.032,7.86l-16.124,16.12    c-10.492,10.504-10.492,27.576,0,38.064L293.398,245.9l-184.06,184.06c-5.064,5.068-7.86,11.824-7.86,19.028    c0,7.212,2.796,13.968,7.86,19.04l16.124,16.116c5.068,5.068,11.824,7.86,19.032,7.86s13.968-2.792,19.032-7.86L382.678,265    c5.076-5.084,7.864-11.872,7.848-19.088C390.542,238.668,387.754,231.884,382.678,226.804z","data-original":"#000000",class:"active-path","data-old_color":"#000000"}))};function Pc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ac(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pc(Object(n),!0).forEach((function(t){Mc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ec(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Dc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Lc=Object(o.e)(),Rc=function(e){var t=wc(),n=Ec(Object(r.k)({data:null}),2),i=n[0],a=n[1],c=function(){z.getFilmFavorite({output:"med_info"},(function(e,t){e||a(Ac(Ac({},i),{},{data:t.data.docs}))}))};return Object(r.d)((function(){t.isLogin&&c()}),[t.isLogin]),Object(o.h)(Lc.Provider,{value:{state:i,addMyList:function(e){z.addFilmFavorite({titleId:e},(function(e,t){e||c()}))},deleteMyList:function(e){z.delFilmFavorite({titleId:e},(function(e,t){e||c()}))},getDataMyList:c}},e.children)},zc=Pe.a.div.withConfig({displayName:"style__ContentMobile",componentId:"sucgiq-0"})(["position:absolute;bottom:38px;width:100%;box-sizing:border-box;padding:0 4%;z-index:1;.list-detail{display:flex;font-size:14px;line-height:22px;align-items:center;justify-content:center;padding-bottom:2rem;flex-wrap:wrap;.list-item{padding:0 15px 0 0;position:relative;&:last-child{padding-right:0;}&:not(:last-child){&:before{content:'';position:absolute;width:5px;height:5px;border-radius:50%;background:#fff;right:5px;top:50%;transform:translateY(-50%);}}}}"]),Uc=Pe.a.div.withConfig({displayName:"style__ListAction",componentId:"sucgiq-1"})(["display:flex;justify-content:space-between;align-items:center;.btn-primary{max-height:45px;min-width:159px;text-align:center;display:flex;justify-content:center;align-items:center;@media (max-width:320px){padding:10px 3vw;}@media (max-width:280px){min-width:100px;}}"]),Vc=Pe.a.div.withConfig({displayName:"style__IconMylistMobile",componentId:"sucgiq-2"})(["border:2px solid rgba(255,255,255,0.7);width:23px;height:23px;border-radius:50%;display:flex;justify-content:center;align-items:center;margin-bottom:5px;font-size:14px;#add-list-icon,#icon-minus,#icon-tick{width:11px;path{fill:rgba(255,255,255,0.7);}}"]),Bc=Pe.a.div.withConfig({displayName:"style__ButtonAddMyList",componentId:"sucgiq-3"})(["display:flex;width:70px;flex-direction:column;align-items:center;color:rgba(255,255,255,0.7);font-size:14px;justify-content:center;line-height:initial;",";text-align:center;.sk-chase{margin-bottom:12px;}"],(function(e){return e.disabled&&"pointer-events: none"})),Hc=Pe.a.img.withConfig({displayName:"style__TitleImage",componentId:"sucgiq-4"})(["max-width:100%;height:99px;display:block;margin:0 auto;padding-bottom:12px;"]),Fc=Pe.a.div.withConfig({displayName:"style__WrapActionSlide",componentId:"sucgiq-5"})(["position:absolute;bottom:calc(20vh + 55px);right:4%;z-index:1;display:flex;align-items:center;@media (max-width:1200px){bottom:calc(10vh + 10px);right:50%;transform:translateX(50%);}@media (max-height:700px){bottom:2vh;}@media (max-width:576px),(max-width:900px) and (max-height:576px) and (orientation:landscape){bottom:2.667vw;}"]),qc=Pe.a.div.withConfig({displayName:"style__Arrow",componentId:"sucgiq-6"})(["width:3rem;height:3rem;border-radius:50%;background:rgba(29,29,31,0.4);transition:0.3s ease-in-out;display:flex;align-items:center;justify-content:center;cursor:pointer;&.next{margin-left:0.5rem;}&.prev{margin-left:1.25rem;}svg{transition:0.3s ease-in-out;width:2rem;height:2rem;}&:hover{background:#fff;svg{fill:#333333;}}"]),Wc=Pe.a.div.withConfig({displayName:"style__WrapDots",componentId:"sucgiq-7"})(["display:flex;align-items:center;"]),Kc=Pe.a.div.withConfig({displayName:"style__Dot",componentId:"sucgiq-8"})(["width:0.5rem;height:0.5rem;border-radius:50px;box-shadow:0 2px 8px 0 rgba(29,29,31,0.72);background-color:#9b9b9b;transition:0.3s;cursor:pointer;&:not(:last-child){margin:0 0.5rem 0 0;}&.active{width:3rem;background-color:#ebebeb;}@media (max-width:576px){&.active{width:20px;}}"]);function Gc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Xc=Object(o.e)(),Yc={isMobile:b.isMobile,isTablet:b.isTablet,isMobileOnly:b.isMobileOnly,isSquare:!1},Zc=!1,Qc=function(e){var t=Gc(Object(r.k)({isMobile:b.isMobile,isTablet:b.isTablet,isMobileOnly:b.isMobileOnly,isSquare:!1}),2),n=t[0],i=t[1],a=Object(s.g)(),c=Object(r.b)(Oc),l="";c&&c.data&&c.data.infoUser&&(l=c.data.infoUser.id);return Object(r.d)((function(){var e=n.isMobile,t=n.isTablet,o=n.isMobileOnly,r=n.isSquare;function c(){e=window.innerWidth<=1024,o=window.innerWidth<=576,t=window.innerWidth<=1024&&window.innerWidth>=768,r=window.innerWidth/window.innerHeight>.75&&window.innerWidth/window.innerHeight<2.7,e===Yc.isMobile&&t===Yc.isTablet&&o===Yc.isMobileOnly&&r===Yc.isSquare||(i({isMobile:e,isTablet:t,isMobileOnly:o,isSquare:r}),Yc={isMobile:e,isTablet:t,isMobileOnly:o,isSquare:r},Zc=r,a.location.pathname.includes("/account")&&a.push("/account"))}return b.isMobile&&Zc||(c(),window.addEventListener("resize",c)),function(){b.isMobile||window.removeEventListener("resize",c)}}),[]),Object(o.h)(Jc,{user_id:l},Object(o.h)(Xc.Provider,{value:{state:n}},e.children))},Jc=Be()((function(e){return{user_id:e.user_id}}))((function(e){return e.children}));function es(e,t,n,i,a,o,r){try{var c=e[o](r),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(i,a)}function ts(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ns(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ts(Object(n),!0).forEach((function(t){is(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ts(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function is(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function as(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return os(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return os(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function os(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var rs=function(e){var t=Object(Ve.useTracking)().trackEvent,n=Object(r.b)(F),i=Object(r.b)(Lc),a=as(Object(r.k)({isAdd:!0,loading:!1}),2),c=a[0],s=a[1],l=as(Object(r.k)(!1),2),u=l[0],d=l[1],p=function(a){return function(o){t({from_screen:n.history.length>1&&n.history[n.history.length-2]||"",event_action:"click",direct_object_type:"button",direct_object_id:"add_mylist",indirect_object_type:"film",indirect_object_id:a,indirect_object_property:e.name}),s(ns(ns({},c),{},{loading:!0})),i.addMyList(a)}},h=function(a){return function(o){t({from_screen:n.history.length>1&&n.history[n.history.length-2]||"",event_action:"click",direct_object_type:"button",direct_object_id:"add_mylist",indirect_object_type:"film",indirect_object_id:a,indirect_object_property:e.name}),s(ns(ns({},c),{},{loading:!0})),i.deleteMyList(a)}};return Object(r.d)((function(){if(u)!function(e,t){if(e){var n=e.some((function(e){return e.titleId===t}));setTimeout((function(){s({isAdd:!n,loading:!1})}),1e3)}}(i.state.data,e.titleId);else{if(i&&i.state&&i.state.data){var t=i.state.data.some((function(t){return t.titleId===e.titleId}));s({isAdd:!t,loading:!1})}d(!0)}}),[i.state.data]),b.isMobileOnly?c.isAdd?Object(o.h)(Bc,{disabled:c.loading,onClick:p(e.titleId)},c.loading?Object(o.h)(re,null):Object(o.h)(Vc,null,Object(o.h)(ae,null)),"Danh sách của tôi"):Object(o.h)(Bc,{disabled:c.loading,onClick:h(e.titleId)},c.loading?Object(o.h)(re,null):Object(o.h)(Vc,null,Object(o.h)(oe,null)),"Danh sách của tôi"):c.isAdd?Object(o.h)(me,{content:"Danh sách của tôi",className:c.loading?"btn-watch-movie disabled":"btn-watch-movie",type:c.loading?"loadingIcon":"addList",onClick:p(e.titleId)}):Object(o.h)(me,{content:"Danh sách của tôi",className:c.loading?"btn-watch-movie disabled":"btn-watch-movie",type:c.loading?"loadingIcon":"deleteList",onClick:h(e.titleId)})},cs=function(e){var t=as(Object(r.k)({loaded:!1,imgTitle:null,titleMovie:null,textPlay:"Xem ngay",tvod:{status:!1,price:null,dataOffer:null},buttonPriceFree:!1,data:null}),2),n=t[0],i=t[1],a=Object(r.b)(F),l=Object(r.b)(Xc).state.isSquare,u=Object(r.b)(Eo),d=Object(r.b)(Oc),p=Object(s.g)(),h=Object(Ve.useTracking)().trackEvent,f=function(){var t,i;h({from_screen:a.history.length>1&&a.history[a.history.length-2]||"",event_action:"click",direct_object_type:"film",direct_object_id:n.data.titleId,direct_object_property:n.data.alternateName,indirect_object_type:"ribbon",indirect_object_id:e.data.slug,indirect_object_property:e.displayTitle,context_value:(t=n.data,i={movie_type:t.type,price_type:t.priceType},t.comingSoon&&(i.comingSoon={message:t.comingSoon.message,hasSource:!!t.comingSoon.hasSource}),i)})},m=function(e){h({from_screen:a.history.length>1&&a.history[a.history.length-2]||"",event_category:"payment",event_action:"click",direct_object_type:"price",direct_object_id:e||n.tvod.price.toString(),direct_object_property:"HD",indirect_object_type:"movie",indirect_object_id:n.data.titleId,indirect_object_property:n.data.alternateName})},g=function(){f(),"SVOD"===n.data.priceType?n.data.pricePackage.includes("BASIC")&&n.data.pricePackage.includes("PREMIUM")?d.hasPremium||d.hasBasic?I("glxplays://watch/".concat(n.data.slug)):p.push({pathname:"/subs/pay",state:{infoMovie:n.data,location:location.pathname}}):n.data.pricePackage.includes("PREMIUM")&&(d.hasPremium?I("glxplays://watch/".concat(n.data.slug)):p.push({pathname:"/subs/pay",state:{infoMovie:n.data,location:location.pathname}})):I("glxplays://watch/".concat(n.data.slug))},y=function(){i(ns(ns({},n),{},{tvod:ns(ns({},n.tvod),{},{status:!1})}))},v=function(){var e={eventPage:"detail",titleId:n.data.titleId};z.pullOfferByAtoken(e,(function(e,t){if(t&&!e){var i=t.data.data.packageDisplay.tvod.find((function(e){return"10"==e.profileCode})).price;m(i),f();var a=t;a&&a.data.data.nonPromotionOffers.PROMOTION&&a.data.data.nonPromotionOffers.PROMOTION.length>0?a.data.data.nonPromotionOffers.PROMOTION.map((function(e,t){0==e.totalPriceOffer?u.setNotification({status:!0,type:"popup",dataOffer:a,slug:n.data.slug,titleName:n.data.alternateName,location:location.pathname,infoMovie:n.data,callAgain:y,image:n.data.image.posterPortrait}):p.push({pathname:"/rent/"+n.data.titleId+"/pay",state:{location:location.pathname,infoMovie:n.data}})})):p.push({pathname:"/rent/"+n.data.titleId+"/pay",state:{location:location.pathname,infoMovie:n.data}})}}))},O=function(){f(),m();var e={eventPage:"detail",titleId:n.data.titleId};z.pullOfferByAtoken(e,(function(e,t){t&&!e&&(t.data.data.nonPromotionOffers.tvod.PROMOTION.length>0?t.data.data.nonPromotionOffers.tvod.PROMOTION.map((function(e,i){0==e.totalPriceOffer?u.setNotification({status:!0,type:"popup",dataOffer:t,slug:n.data.slug,titleName:n.data.alternateName,infoMovie:n.data,location:location.pathname,callAgain:y,image:n.data.image.posterPortrait}):p.push({pathname:"/rent/"+n.data.titleId+"/pay",state:{infoMovie:n.data,location:location.pathname}})})):p.push({pathname:"/rent/"+n.data.titleId+"/pay",state:{infoMovie:n.data,location:location.pathname}}))}))};return Object(r.d)((function(){if(d.packageLoaded){var t={loaded:!1,imgTitle:null,titleMovie:null,textPlay:"Xem ngay",tvod:{status:!1,price:null,dataOffer:null},buttonPriceFree:!1,data:null};z.getDetailMovieBySlug(e.slug,{getBy:"slug"},function(){var e,a=(e=regeneratorRuntime.mark((function e(a,o){var r,c,s,l,u,p,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=44;break}if(r=o.data,t.loaded=!0,window.localStorage.lang&&"vi"==window.localStorage.lang&&r.image.titleSpotlightVn?t.imgTitle=r.image.titleSpotlightVn:window.localStorage.lang&&"en"==window.localStorage.lang&&r.image.titleSpotlightEn?t.imgTitle=r.image.titleSpotlightEn:window.localStorage.lang&&"en"==window.localStorage.lang&&r.name?t.titleMovie=r.name:t.titleMovie=r.alternateName,t.data=r,"TVOD"!=r.priceType){e.next=9;break}r.rentals?(c=Math.round((new Date).getTime()/1e3),r.rentals.expireAt>=c&&(t.tvod={status:!1,price:null},r.cntWatching&&(t.textPlay="Xem tiếp"),i(t))):(s={eventPage:"detail",titleId:r.titleId},z.pullOfferByAtoken(s,(function(e,a){if(a&&!e){var o=a.data.data.packageDisplay.tvod.find((function(e){return"10"==e.profileCode}));a.data.data.nonPromotionOffers.tvod.PROMOTION.length>0&&a.data.data.nonPromotionOffers.tvod.PROMOTION.map((function(e,i){0==e.totalPriceOffer&&(t.tvod=ns(ns({},n.tvod),{},{dataOffer:a,price:e.totalPriceOffer,status:!0}),t.buttonPriceFree=!0)})),t.tvod={dataOffer:a,status:!0,price:o.price},i(t)}}))),e.next=44;break;case 9:if("SVOD"!=r.priceType){e.next=42;break}if(!r.cntWatching){e.next=27;break}if(!r.cntWatching.goto){e.next=23;break}if(l=_.findIndex(r.containsSeason,(function(e){return e.seasonId==r.cntWatching.goto.seasonId})),u=_.findIndex(r.containsSeason[l].episode,(function(e){return e.episodeId==r.cntWatching.goto.episodeId})),p=r.containsSeason[l].episode[u],"inReview"!=r.status){e.next=20;break}return t.textPlay="Xem ngay",d.setLoading(!1),i(t),e.abrupt("return");case 20:"SVOD"===p.priceType?p.pricePackage.includes("BASIC")&&p.pricePackage.includes("PREMIUM")?d.hasPremium||d.hasBasic?t.textPlay="Xem tiếp":d.hasMobile?t.textPlay="Nâng cấp gói":t.textPlay="Mua gói":p.pricePackage.includes("PREMIUM")&&(d.hasPremium?t.textPlay="Xem tiếp":d.hasBasic||d.hasMobile?t.textPlay="Nâng cấp gói":t.textPlay="Mua gói"):t.textPlay="Xem tiếp",e.next=24;break;case 23:t.textPlay="Xem tiếp";case 24:return d.setLoading(!1),i(t),e.abrupt("return");case 27:if("inReview"!=r.status){e.next=32;break}return t.textPlay="Xem ngay",d.setLoading(!1),i(t),e.abrupt("return");case 32:if(!(r.containsSeason&&r.containsSeason.length>0)){e.next=38;break}return"SVOD"===(h=r.containsSeason[0].episode[0]).priceType?h.pricePackage.includes("BASIC")&&h.pricePackage.includes("PREMIUM")?d.hasPremium||d.hasBasic?t.textPlay="Xem ngay":d.hasMobile?t.textPlay="Nâng cấp gói":t.textPlay="Mua gói":h.pricePackage.includes("PREMIUM")&&(d.hasPremium?t.textPlay="Xem ngay":d.hasBasic||d.hasMobile?t.textPlay="Nâng cấp gói":t.textPlay="Mua gói"):t.textPlay="Xem ngay",d.setLoading(!1),i(t),e.abrupt("return");case 38:r.pricePackage.includes("BASIC")&&r.pricePackage.includes("PREMIUM")?d.hasPremium||d.hasBasic?t.textPlay="Xem ngay":d.hasMobile?t.textPlay="Nâng cấp gói":t.textPlay="Mua gói":r.pricePackage.includes("PREMIUM")&&(d.hasPremium?t.textPlay="Xem ngay":d.hasBasic||d.hasMobile?t.textPlay="Nâng cấp gói":t.textPlay="Mua gói"),i(t),e.next=44;break;case 42:r.cntWatching?t.textPlay="Xem tiếp":t.textPlay="Xem ngay",i(t);case 44:d.setLoading(!1);case 45:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function r(e){es(o,i,a,r,c,"next",e)}function c(e){es(o,i,a,r,c,"throw",e)}r(void 0)}))});return function(e,t){return a.apply(this,arguments)}}())}}),[d.packageLoaded]),Object(o.h)(Ct.a,{in:n.loaded,appear:!0,classNames:"fadeInUp",timeout:300},n.data?b.isMobile?b.isMobileOnly&&!l?Object(o.h)(zc,null,Object(o.h)(Hc,{src:"//assets.glxplay.io/images/w400/".concat(n.imgTitle),onTouchStart:e.onTouchStart,onTouchEnd:e.onTouchEnd}),Object(o.h)("div",{className:"list-detail",onTouchStart:e.onTouchStart,onTouchEnd:e.onTouchEnd},n.data.datePublished&&Object(o.h)("div",{className:"list-item"},n.data.datePublished),n.data.contentRating&&"Mọi lứa tuổi"!==n.data.contentRating?Object(o.h)("div",{className:"list-item"},n.data.contentRating):"",n.data.duration&&Object(o.h)("div",{className:"list-item"},n.data.duration),n.data.videoQuality&&Object(o.h)("div",{className:"list-item"},"FULLHD"===n.data.videoQuality||"4K"===n.data.videoQuality||"DV"===n.data.videoQuality?"HD":n.data.videoQuality),n.data.priceType&&"TVOD"==n.data.priceType&&Object(o.h)("div",{className:"list-item"},"Phim thuê"),n.data.pricePackage&&"SVOD"==n.data.priceType&&n.data.pricePackage.includes("PREMIUM")&&!n.data.pricePackage.includes("BASIC")&&Object(o.h)("div",{className:"list-item"},"Cao cấp"),n.data.voiceOver&&n.data.voiceOver.map((function(e){return Object(o.h)("div",{className:"list-item"},e)}))),Object(o.h)(Uc,null,Object(o.h)(rs,{titleId:n.data.titleId,name:n.data.alternateName}),n.tvod.status?n.buttonPriceFree?Object(o.h)("button",{className:"btn-primary",onClick:O},"Thuê phim  ",Object(o.h)("span",{className:"line-through-price"},k.parseVND(n.tvod.price)),Object(o.h)("span",{className:"price"}," 0đ")):Object(o.h)(me,{content:"Thuê phim ".concat(k.parseVND(n.tvod.price)),onClick:O,type:"watch"}):Object(o.h)(me,{content:n.textPlay,type:"watch",onClick:g}),Object(o.h)(c.b,{className:"link",to:"/title/"+n.data.slug,onClick:f},Object(o.h)(Bc,null,Object(o.h)(Vc,null,"i"),Object(o.h)("span",null,"Chi tiết"))))):Object(o.h)("div",{className:"square-mb"},Object(o.h)("div",{className:"title-image",onTouchStart:e.onTouchStart,onTouchEnd:e.onTouchEnd},n.data.image.titleSpotlightVn?Object(o.h)("img",{src:"//assets.glxplay.io/images/w400/".concat(n.data.image.titleSpotlightVn)}):Object(o.h)("div",{className:"title-banner"},n.data.alternateName)),!b.isIOS&&Object(o.h)("div",{className:"description-movie"}," ",n.data.disambiguatingDescription," "),Object(o.h)("div",{className:"link-action"},n.tvod.status?n.buttonPriceFree?Object(o.h)("button",{className:"btn-primary",onClick:O},"Thuê phim  ",Object(o.h)("span",{className:"line-through-price"},k.parseVND(n.tvod.price)),Object(o.h)("span",{className:"price"}," 0đ")):Object(o.h)(me,{content:"Thuê phim ".concat(k.parseVND(n.tvod.price)),onClick:O,type:"watch"}):Object(o.h)(me,{content:n.textPlay,type:"watch",onClick:g}),Object(o.h)(rs,{titleId:n.data.titleId,name:n.data.alternateName}),Object(o.h)(c.b,{className:"link",to:"/title/"+n.data.slug,onClick:f},Object(o.h)(Bc,null,Object(o.h)(Vc,null,"i"),Object(o.h)("span",null,"Chi tiết"))))):Object(o.h)("div",{className:"ribbon-content"},e.category?Object(o.h)(Tc,{type:e.type}):"",Object(o.h)("div",{className:"title-movie"},n.imgTitle?Object(o.h)("img",{src:"//assets.glxplay.io/images/w400/".concat(n.imgTitle)}):n.titleMovie&&n.titleMovie),Object(o.h)("div",{className:"link-action"},n.tvod.status?n.buttonPriceFree?Object(o.h)("button",{className:"btn-primary",onClick:O},"Thuê phim  ",Object(o.h)("span",{className:"line-through-price"},k.parseVND(n.tvod.price)),Object(o.h)("span",{className:"price"}," 0đ")):Object(o.h)(me,{content:"Thuê phim ".concat(k.parseVND(n.tvod.price)),className:"btn-watch-movie",type:"watch",onClick:O}):Object(o.h)(me,{content:n.textPlay,className:"btn-watch-movie",type:"watch",onClick:function e(t){return function(n){if(window.localStorage.__glxp_token){f();z.getDetailMovieBySlug(t,{getBy:"slug"},(function(t,n){if(!t){var i=n.data,a=i.slug;if(i.cntWatching&&i.cntWatching.goto){var o=_.findIndex(i.containsSeason,(function(e){return e.seasonId==i.cntWatching.goto.seasonId})),r=i.containsSeason[o];if(o<0)return void u.setNotification({status:!0,description:"Không thể kết nối với máy chủ. Thử lại hoặc liên hệ hotline 1800 9090 để được hỗ trợ ",type:"message",callback:e(titleId)});var c=_.findIndex(r.episode,(function(e){return e.episodeId==i.cntWatching.goto.episodeId})),s=r.episode[c];return a="".concat(i.slug,"?ss=").concat(r.seasonNumber,"&ep=").concat(s.episodeNumber),"inReview"==i.status?(N(),void setTimeout((function(){p.push({pathname:"/watch/"+a,state:{status:!0}})}),850)):void("SVOD"===s.priceType?s.pricePackage.includes("BASIC")&&s.pricePackage.includes("PREMIUM")?d.hasPremium||d.hasBasic?(N(),setTimeout((function(){p.push({pathname:"/watch/"+a})}),850)):p.push({pathname:"/subs/pay",state:{infoMovie:i,location:location.pathname}}):s.pricePackage.includes("PREMIUM")&&(d.hasPremium?(N(),setTimeout((function(){p.push({pathname:"/watch/"+a})}),850)):p.push({pathname:"/subs/pay",state:{infoMovie:i,location:location.pathname}})):(N(),setTimeout((function(){p.push({pathname:"/watch/"+a})}),850)))}if("inReview"==i.status)return N(),void setTimeout((function(){p.push({pathname:"/watch/"+a,state:{status:!0}})}),850);if(i.containsSeason&&i.containsSeason.length>0){var l=i.containsSeason[0].episode[0];return void("SVOD"===l.priceType?l.pricePackage.includes("BASIC")&&l.pricePackage.includes("PREMIUM")?d.hasPremium||d.hasBasic?(N(),setTimeout((function(){p.push({pathname:"/watch/"+i.slug})}),850)):p.push({pathname:"/subs/pay",state:{infoMovie:i,location:location.pathname}}):l.pricePackage.includes("PREMIUM")&&(d.hasPremium?(N(),setTimeout((function(){p.push({pathname:"/watch/"+i.slug})}),850)):p.push({pathname:"/subs/pay",state:{infoMovie:i,location:location.pathname}})):(N(),setTimeout((function(){p.push({pathname:"/watch/"+i.slug})}),850)))}if("SVOD"===i.priceType)i.pricePackage.includes("BASIC")&&i.pricePackage.includes("PREMIUM")?d.hasPremium||d.hasBasic?(N(),setTimeout((function(){p.push({pathname:"/watch/"+a,state:{status:!0}})}),850)):p.push({pathname:"/subs/pay",state:{infoMovie:n.data,location:location.pathname}}):i.pricePackage.includes("PREMIUM")&&(d.hasPremium?(N(),setTimeout((function(){p.push({pathname:"/watch/"+a,state:{status:!0}})}),850)):p.push({pathname:"/subs/pay",state:{infoMovie:n.data,location:location.pathname}}));else if("TVOD"===i.priceType)if(i.rentals)if(i.rentals.ALID&&i.rentals.ALID.includes("@MOB"))u.setNotification({status:!0,type:"TVOD_MOBILE",onSubmit:v});else{var h=Math.round((new Date).getTime()/1e3);i.rentals.expireAt>=h&&(N(),setTimeout((function(){p.push("/watch/"+i.slug)}),850))}else{var f={eventPage:"detail",titleId:titleId};z.pullOfferByAtoken(f,(function(e,t){t&&!e&&(t.data.data.nonPromotionOffers.tvod.PROMOTION.length>0?t.data.data.nonPromotionOffers.tvod.PROMOTION.map((function(e,n){0==e.totalPriceOffer?u.setNotification({status:!0,type:"popup",dataOffer:t,slug:i.slug,titleName:i.alternateName,infoMovie:i,location:location.pathname}):p.push({pathname:"/rent/"+i.titleId+"/pay",state:{infoMovie:i,location:location.pathname}})})):p.push({pathname:"/rent/"+i.titleId+"/pay",state:{infoMovie:i,location:location.pathname}}))}))}else N(),setTimeout((function(){p.push("/watch/"+i.slug)}),850)}}))}else d.reLogin()}}(n.data.slug)}),Object(o.h)(rs,{titleId:n.data.titleId,name:n.data.alternateName})),Object(o.h)("div",{className:"description-movie"},n.data.disambiguatingDescription,Object(o.h)(c.b,{className:"show-detail-movie",to:"/title/"+n.data.slug,onClick:f},"Xem chi tiết",Object(o.h)(Cc,null))),n.data.comingSoon&&Object(o.h)("p",{className:"coming-soon-title"},n.data.comingSoon.message)):Object(o.h)("div",null))};function ss(){return(ss=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var ls=function(e){return Object(o.h)("svg",ss({xmlns:"http://www.w3.org/2000/svg",fill:"#F2F2F2",width:36,height:36,viewBox:"0 0 36 36"},e),Object(o.h)("path",{d:"M18 1.875c8.906 0 16.125 7.22 16.125 16.125 0 8.906-7.22 16.125-16.125 16.125-8.906 0-16.125-7.22-16.125-16.125C1.875 9.094 9.095 1.875 18 1.875zm0 2.25C10.337 4.125 4.125 10.337 4.125 18S10.337 31.875 18 31.875 31.875 25.663 31.875 18 25.663 4.125 18 4.125zm.67 6.97l.125.11 6 6 .018.018c.016.016.03.032.045.05l-.063-.068c.038.037.072.077.104.118l.026.036c.014.02.027.04.04.062l.033.06.02.04a.538.538 0 01.024.055 1.185 1.185 0 01.07.252l.005.04c.005.043.008.087.008.132l-.002.065c0 .016-.002.032-.004.048l.006-.113c0 .06-.005.12-.014.177l-.01.051a1.034 1.034 0 01-.15.374c-.014.021-.027.041-.042.06l-.005.007-.01.015a1.3 1.3 0 01-.083.096l-.016.015-6 6a1.125 1.125 0 01-1.7-1.464l.11-.126 4.078-4.08H12a1.125 1.125 0 01-.153-2.24l.153-.01h9.283l-4.078-4.08a1.125 1.125 0 01-.11-1.464l.11-.126a1.125 1.125 0 011.464-.11z",fillRule:"evenodd"}))};function us(){return(us=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var ds=function(e){return Object(o.h)("svg",us({fill:"#F2F2F2",xmlns:"http://www.w3.org/2000/svg",width:36,height:36,viewBox:"0 0 36 36"},e),Object(o.h)("path",{d:"M18 1.875c8.906 0 16.125 7.22 16.125 16.125 0 8.906-7.22 16.125-16.125 16.125-8.906 0-16.125-7.22-16.125-16.125C1.875 9.094 9.095 1.875 18 1.875zm0 2.25C10.337 4.125 4.125 10.337 4.125 18S10.337 31.875 18 31.875 31.875 25.663 31.875 18 25.663 4.125 18 4.125zM10.875 18v-.036l.006-.078-.006.114c0-.06.005-.12.014-.177l.01-.051c.024-.118.066-.23.124-.33l.026-.044.043-.063.004-.004.01-.015a1.3 1.3 0 01.083-.096l.016-.015 6-6a1.125 1.125 0 011.7 1.464l-.11.126-4.079 4.08H24a1.125 1.125 0 01.153 2.24l-.153.01h-9.284l4.08 4.08c.399.399.435 1.024.108 1.464l-.109.126c-.399.4-1.024.436-1.464.11l-.126-.11-6-6-.018-.018a.725.725 0 01-.045-.05l.063.068a1.155 1.155 0 01-.104-.118l-.026-.036a.943.943 0 01-.04-.062l-.033-.06-.02-.04a.538.538 0 01-.024-.055.983.983 0 01-.07-.252l-.005-.04a.62.62 0 01-.006-.062l-.002-.052V18z",fillRule:"evenodd"}))};function ps(e){return function(e){if(Array.isArray(e))return vs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ys(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hs(){return(hs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function fs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ms(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fs(Object(n),!0).forEach((function(t){bs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||ys(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ys(e,t){if(e){if("string"==typeof e)return vs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vs(e,t):void 0}}function vs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Os=Be()((function(e,t){return{indirect_object_type:"ribbon",indirect_object_id:e.data.slug,indirect_object_property:e.data.ribbonType}}))((function(e){var t=gs(Object(r.k)({data:null,total:0}),2),n=t[0],i=t[1],a=Object(Ve.useTracking)().trackEvent,c=Object(s.g)(),l=Object(r.b)(F),u=Object(r.b)(Xc).state.isSquare,d=gs(Object(r.k)({current:0,animated:!1,list:[{index:0,status:!0,key:"0"}]}),2),p=d[0],h=d[1],m=Object(r.b)(Oc),g=Object(r.j)(),y=Object(r.j)(),v=Object(r.j)();Object(r.d)((function(){if(m.packageLoaded){var t={output:"med_info",rbtype:"Spotlight"};b.isTablet&&(t.isTablet=!0);var n=e.data.slug;z.getRibbon(n,t,(function(e,t){if(e)m.setLoading(!1);else{var n=t.data.docs;i({data:n,total:n.length}),h({current:0,list:[{index:0,status:!0,key:n[0].titleId}]})}}))}}),[m.packageLoaded]);var O=function(e){if(!(p.animated||n.total<2)){y.current=void 0,g.current=void 0;var t=p.current,i=n.total,a=[ms(ms({},p.list[0]),{},{status:!1})];switch(e){case"next":g.current=t+1,t+1===i&&(g.current=0);break;case"prev":g.current=t-1,0===t&&(g.current=i-1)}void 0!==g.current&&(a.push({index:g.current,status:!0,key:n.data[g.current].titleId}),h({current:g.current,animated:!0,list:a}),setTimeout((function(){a.shift(),h({current:g.current,animated:!1,list:a})}),500))}},w=function(e){if(e!==p.current){var t=[ms(ms({},p.list[0]),{},{status:!1})];t.push({index:e,status:!0,key:n.data[e].titleId}),h({current:e,list:t}),setTimeout((function(){t.shift(),h({current:e,list:t})}),500)}},j=Object(f.throttle)((function(e){var t=e.deltaX;t>20&&O("next"),t<-20&&O("prev")}),300),x=function(e){e.preventDefault();var t=e.changedTouches[0].clientX;y.current=t},k=function(t){t.preventDefault();var i,o,r=t.changedTouches[0].clientX;r===y.current&&b.isTablet&&(c.push("/title/"+n.data[p.current].slug),a({from_screen:l.history.length>1&&l.history[l.history.length-2]||"",event_action:"click",direct_object_type:"film",direct_object_id:n.data[p.current].titleId,direct_object_property:n.data[p.current].alternateName,indirect_object_type:"ribbon",indirect_object_id:e.data.slug,indirect_object_property:e.displayTitle,context_value:(i=n.data[p.current],o={movie_type:i.type,price_type:i.priceType},i.comingSoon&&(o.comingSoon={message:i.comingSoon.message,hasSource:!!i.comingSoon.hasSource}),o)})),void 0!==y.current&&(r-y.current>50&&O("prev"),r-y.current<-50&&O("next"))};return Object(r.d)((function(){return n.data&&!p.animated&&n.total>1&&(v.current&&(clearTimeout(v.current),v.current=void 0),v.current=setTimeout((function(){O("next")}),3e4)),function(){v.current&&(clearTimeout(v.current),v.current=void 0)}}),[p.animated,n.data]),n.data&&n.data.length>0?Object(o.h)("div",{className:"ribbon-banner",onWheel:function(e){0!==e.deltaX&&e.preventDefault(),j(e)}},b.isMobile?b.isMobileOnly&&!u?Object(o.h)("div",{className:"banner-mb"},Object(o.h)("div",{className:"ratio-portrait"},p.list.map((function(t){return Object(o.h)(o.b,{key:t.key},Object(o.h)(Ct.a,{in:t.status,appear:!0,classNames:"fadeIn",timeout:500},Object(o.h)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}},Object(o.h)(Q,{className:"img-banner fadeIn",src:"//assets.glxplay.io/images/w500/".concat(n.data[t.index].image.spotlight),placeholder:kc.a}),Object(o.h)(cs,hs({slug:n.data[t.index].slug,onTouchStart:x,onTouchEnd:k},e)))))})),n.total>1&&Object(o.h)(Fc,null,Object(o.h)(Wc,null,ps(Array(n.total)).map((function(e,t){return Object(o.h)(Kc,{onClick:function(){return w(t)},className:t===p.current?"active":""})})))),Object(o.h)("div",{className:"overlay-portrait",onTouchStart:x,onTouchEnd:k}))):Object(o.h)("div",{className:"banner-mb"},Object(o.h)("div",{className:"ratio-landscape"},p.list.map((function(t){return Object(o.h)(o.b,{key:t.key},Object(o.h)(Ct.a,{in:t.status,appear:!0,classNames:"fadeIn",timeout:500},Object(o.h)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}},Object(o.h)(Q,{className:"img-banner fadeIn",src:"//assets.glxplay.io/images/w800/".concat(n.data[t.index].image.spotlightLandscape?n.data[t.index].image.spotlightLandscape:n.data[t.index].image.spotlight),placeholder:kc.a}),Object(o.h)("div",{className:"layout-bottom",onTouchStart:x,onTouchEnd:k}),Object(o.h)(cs,hs({slug:n.data[t.index].slug,onTouchStart:x,onTouchEnd:k},e)))))})),n.total>1&&Object(o.h)(Fc,null,Object(o.h)(Wc,null,ps(Array(n.total)).map((function(e,t){return Object(o.h)(Kc,{onClick:function(){return w(t)},className:t===p.current?"active":""})})))))):Object(o.h)("div",{className:"container"},p.list.map((function(t){return Object(o.h)(o.b,{key:t.key},Object(o.h)(Ct.a,{in:t.status,appear:!0,classNames:"fadeIn",timeout:500},Object(o.h)("div",{style:{position:"absolute",top:0,left:0,width:"100%"}},Object(o.h)(Q,{className:"ribbon-image fadeIn",src:"//assets.glxplay.io/images/w1600/".concat(n.data[t.index].image.spotlight),placeholder:kc.a}),Object(o.h)(cs,hs({slug:n.data[t.index].slug},e)))))})),Object(o.h)("div",{className:"layout-bottom"}),n.total>1&&Object(o.h)(Fc,null,Object(o.h)(Wc,null,ps(Array(n.total)).map((function(e,t){return Object(o.h)(Kc,{onClick:function(){return w(t)},className:t===p.current?"active":""})}))),Object(o.h)(qc,{className:"prev",onClick:function(){return O("prev")}},Object(o.h)(ds,null)),Object(o.h)(qc,{className:"next",onClick:function(){return O("next")}},Object(o.h)(ls,null))))):Object(o.h)("div",{className:"ribbon-banner"})})),ws=n(54),js=n.n(ws),xs=function(){var e=Object(r.b)(Nr);if(void 0===e)throw new Error("Need config app context");return e.tagPoster},ks=Pe.a.div.withConfig({displayName:"style__RowContainer",componentId:"jfvctl-0"})(["position:relative;z-index:0;animation:fadeIn 1s;"]),_s=Pe.a.div.withConfig({displayName:"style__Container",componentId:"jfvctl-1"})([""]),Ss=Pe.a.div.withConfig({displayName:"style__RowContent",componentId:"jfvctl-2"})(["padding:0;box-sizing:border-box;"]),Is=Pe.a.div.withConfig({displayName:"style__Slider",componentId:"jfvctl-3"})(["position:relative;margin:0;padding:0 4%;@media (min-width:1400px){&:hover{.slide-dots{opacity:1;}}}"]),Ns=Pe.a.div.withConfig({displayName:"style__SliderMask",componentId:"jfvctl-4"})(["overflow-x:visible;position:relative;top:0;left:0;"]),Ts=Pe.a.div.withConfig({displayName:"style__SliderContent",componentId:"jfvctl-5"})(["white-space:nowrap;"," transform:translate3d(","%,0,0);",""],(function(e){return e.animate?" transition: transform ".concat(e.duration,"ms ease ;"):""}),(function(e){return e.translate}),(function(e){return!e.clickArrow&&"pointer-events: none;"})),Cs=Pe.a.div.withConfig({displayName:"style__SliderItem",componentId:"jfvctl-6"})(["box-sizing:border-box;z-index:1;display:inline-block;position:relative;white-space:normal;vertical-align:top;padding-right:",";width:",";"],(function(e){return"TopTen"==e.typeRibbon?"20px":"10px"}),(function(e){return e.slideShow?"".concat(100/e.slideShow,"%"):"20%"})),Ps=Pe.a.div.withConfig({displayName:"style__Arrow",componentId:"jfvctl-7"})(["cursor:pointer;position:absolute;top:50%;transform:translateY(-50%);height:100%;display:flex;justify-content:center;align-items:center;z-index:3;background:rgba(20,20,20,0.5);svg{width:20px;height:20px;fill:#fff;transition:0.2s ease-in-out;}&:hover{svg{transform:scale(1.4);}}"]),As=Object(Pe.a)(Ps).withConfig({displayName:"style__ArrowPrev",componentId:"jfvctl-8"})(["left:0;width:calc(4% - 10px);",""],(function(e){return!e.active&&"display: none;"})),Ms=Object(Pe.a)(Ps).withConfig({displayName:"style__ArrowNext",componentId:"jfvctl-9"})(["right:0;width:4%;",""],(function(e){return!e.active&&"display: none;"})),Es=Pe.a.div.withConfig({displayName:"style__Box",componentId:"jfvctl-10"})(["position:absolute;width:100%;height:100%;top:0;left:0;transition-duration:500ms;"," .img-original{width:100%;height:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);object-fit:cover;border-radius:4px;}.hover-img{border-radius:4px;width:100%;}"],(function(e){return e.isHover?e.original?"width: 120%; height: 120%; top: -10%; left: -10%;":"width: 150%; height: 150%; top: -25%; left: -25%;":""})),Ds=Pe.a.div.withConfig({displayName:"style__Card",componentId:"jfvctl-11"})(["position:relative;.img-placeholder{border-radius:4px;opacity:0;width:100%;}.placeholder-topten{position:relative;padding-top:44.224%;}"]),Ls=Pe.a.div.withConfig({displayName:"style__WrapDot",componentId:"jfvctl-12"})(["position:absolute;width:100%;display:flex;justify-content:flex-end;top:-15px;right:8px;opacity:0;transition:0.3s ease-in-out;"]),Rs=Pe.a.div.withConfig({displayName:"style__Dot",componentId:"jfvctl-13"})(["width:15px;height:2px;background:#c1c1c1;opacity:",";margin-left:3px;&:last-child{margin-right:5px;}"],(function(e){return e.active?"1":"0.25"})),zs=Pe.a.div.withConfig({displayName:"style__CardHover",componentId:"jfvctl-14"})(["position:relative;width:100%;border-radius:4px;"," &::before{content:'';background:url(",") no-repeat;background-size:cover;width:30%;height:100%;position:absolute;top:0;bottom:0;right:auto;left:0;overflow:hidden;}.rank-number{width:30%;height:100%;position:absolute;top:0;bottom:0;right:auto;left:0;overflow:hidden;}.topten-image{width:78%;height:100%;","}.hover-img-topten{border-bottom-right-radius:4px;border-top-right-radius:4px;width:100%;position:absolute;top:0;bottom:0;right:0;left:auto;height:100%;object-fit:cover;}.overlay{opacity:0;transition:opacity 500ms;display:block;&.overlay-enter-active{opacity:1;}&.overlay-enter-done{opacity:1;}&.overlay-exit{opacity:1;}&.overlay-exit-active{opacity:0;}}.action{opacity:0;display:flex;align-items:center;pointer-events:none;transition:500ms;"," .border-right{height:21px;width:2px;background:#fff;margin:0 25px;}.trailer-icon-coming{opacity:1 !important;width:32px;height:32px;background-color:rgba(255,255,255,0.1);border-radius:50%;display:flex;align-items:center;justify-content:center;svg{width:18px !important;height:18px !important;}}.trailer-icon{&.disabled{svg{pointer-events:none;opacity:0.4;}}}.add-icon,.add-icon-notifi,.trailer-icon,.play-icon{position:relative;.note-list{position:absolute;top:-5px;transform:translate(-50%,-100%);opacity:0;transition:0.3s all;left:50%;.clip-path{width:100%;height:100%;position:relative;display:flex;justify-content:center;align-items:center;.txt-path{min-width:100px;color:#333;position:relative;font-size:12px;font-weight:600;top:-3px;text-align:center;background:#fff;padding:5px 10px 10px;white-space:nowrap;clip-path:polygon(0% 0%,100% 0,100% 88%,55% 90%,50% 100%,45% 87%,0 87%);}}}&:hover{.note-list{opacity:1;}}}.play-icon{width:60px;height:60px;border:2px solid #fff;border-radius:50%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,0.5);cursor:pointer;transition:0.3s all;.note-list{width:135px;height:35px;.clip-path{.txt-path{font-size:14px;}}}#icon-play{width:25px;path{fill:#fff;transition:0.2s all;}}&:hover{#icon-play{path{fill:#0077c8;}}}}.trailer-icon{transition:0.3s all;cursor:pointer;#icon-trailer{width:32px;height:32px;path{fill:#fff;}}.note-list{top:0;}&:hover{transform:scale(1.2);-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2);}}.add-icon-notifi{width:32px;height:32px;background-color:rgba(255,255,255,0.1);display:flex;border-radius:50%;justify-content:center;align-items:center;transition:0.3s all;margin-left:20px;svg{width:18px;height:18px;}cursor:pointer;#add-list-icon,#icon-minus,#icon-tick{width:15px;path{fill:#fff;}}&:hover{transform:scale(1.2);-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2);.note-list{opacity:1;}}}.add-icon{width:30px;height:30px;border-radius:50%;border:3px solid #fff;display:flex;justify-content:center;align-items:center;transition:0.3s all;cursor:pointer;#add-list-icon,#icon-minus,#icon-tick{width:14px;path{fill:#fff;}}&:hover{transform:scale(1.2);-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2);.note-list{opacity:1;}}}}.action-enter-active{opacity:1;}.action-enter-done{opacity:1;pointer-events:auto;}.action-exit{opacity:1;}.action-exit-active{opacity:0;transform:scale(0.7);}"],(function(e){return function(e){var t="";switch("Collection"!==e&&(t="height: calc(100% - 1px);"),e){case"Collection":break;case"TVOD":t="height: calc(100% - 1px); background: #333333;";break;case"TopTen":b.isMobile&&(t="padding-top: 44.224%; height: initial;");break;default:t="height: calc(100% - 1px); background: #333333;"}return t}(e.typeRibbon)}),(function(e){return e.index&&function(e){switch(e){case"0":return"//assets.glxplay.io/web/images/1.svg";case"1":return"//assets.glxplay.io/web/images/2.svg";case"2":return"//assets.glxplay.io/web/images/3.svg";case"3":return"//assets.glxplay.io/web/images/4.svg";case"4":return"//assets.glxplay.io/web/images/5.svg"}}(e.index)}),(function(e){return e.topTen?"position: absolute; right: 0; top: 0":"position: relative; float: right;"}),(function(e){return e.topTen&&"display: flex; justify-content: center; align-items: center;"})),Us=Pe.a.div.withConfig({displayName:"style__ListAction",componentId:"jfvctl-15"})(["position:absolute;top:50%;",""],(function(e){return e.topTen?"width: 78%;right: 0;transform: translateY(-50%);":"left: 50%;transform: translate(-50%, -50%);"})),Vs=(Pe.a.div.withConfig({displayName:"style__ListActionBottom",componentId:"jfvctl-16"})(["position:absolute;bottom:0;right:0;"," .notifi-icon{cursor:pointer;}"],(function(e){return e.topTen?"width: 78%;right: 0;transform: translateY(-50%);":"transform: translate(-50%, -50%);"})),Pe.a.div.withConfig({displayName:"style__OverlayHover",componentId:"jfvctl-17"})(["position:absolute;background:linear-gradient(180deg,rgba(255,255,255,0),rgba(0,0,0,0.219608) 5%,#000);left:0;bottom:-1px;width:100%;height:100%;",""],(function(e){return e.topTen?"width: 78%; left: auto; right: 0; border-top-right-radius: 4px; border-bottom-right-radius: 4px;":"border-radius: 4px;"}))),Bs=Pe.a.div.withConfig({displayName:"style__SliderMobile",componentId:"jfvctl-18"})(["position:relative;margin:0;padding:0 4%;overflow-x:scroll;overflow-y:hidden;white-space:nowrap;&::-webkit-scrollbar{display:none;}.slide-item{width:",";"," display:inline-block;vertical-align:top;position:relative;cursor:pointer;box-sizing:border-box;padding-right:10px;.img-landscape{border-radius:4px;width:100%;}}.slide-item-square{width:40%;display:inline-block;vertical-align:top;position:relative;cursor:pointer;box-sizing:border-box;margin-right:10px;.img-landscape{border-radius:4px;width:100%;}}"],(function(e){return e.slideShow?"".concat(100/e.slideShow,"%"):"20%"}),(function(e){return e.topTen&&b.isMobile?b.isTablet?"width: 33%;":"width: 70%;":""})),Hs=Pe.a.div.withConfig({displayName:"style__TitleMovie",componentId:"jfvctl-19"})(["font-size:16px;color:#fff;font-weight:600;line-height:22px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;overflow:hidden;",""],(function(e){return e.center&&"text-align: center; padding: 0 1rem;"})),Fs=Pe.a.div.withConfig({displayName:"style__ListContent",componentId:"jfvctl-20"})(["margin:3.6px 0 0;padding:0;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;",""],(function(e){return e.center&&"display: flex;justify-content: center;align-items: center;"})),qs=Pe.a.div.withConfig({displayName:"style__ListItemContent",componentId:"jfvctl-21"})(["position:relative;list-style-type:none;font-size:14px;color:#fff;display:inline-block;&:not(:first-child){&:before{content:'';position:absolute;top:50%;z-index:10;left:-10px;transform:translate(-50%,-50%);width:4px;height:4px;border-radius:50%;background:#fff;}}&:not(:last-child){padding-right:20px;}"]),Ws=Pe.a.div.withConfig({displayName:"style__DetailMovie",componentId:"jfvctl-22"})(["position:absolute;opacity:0;box-sizing:border-box;"," "," .action{","}&.detail-enter-active{opacity:1;transition:opacity 500ms,transform 500ms;}&.detail-enter-done{opacity:1;pointer-events:auto;}&.detail-exit{opacity:1;}&.detail-exit-active{opacity:0;transition:opacity 500ms,transform 500ms;}"],(function(e){return e.topTen?"right: 0;width: 78%;":"left: 0;width: 100%;"}),(function(e){return e.tvod?"bottom: 20px;":"bottom: 0;padding: 11px 18px;"}),(function(e){return e.tvod&&"pointer-events: initial; opacity: 1; display: flex; justify-content: center; align-items: center; padding-bottom: 24px;"})),Ks=Pe.a.img.withConfig({displayName:"style__ImageOriginal",componentId:"jfvctl-23"})(["width:100%;height:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);object-fit:cover;border-radius:4px;"]),Gs=Pe.a.div.withConfig({displayName:"style__Progress",componentId:"jfvctl-24"})(["position:absolute;box-sizing:border-box;padding:0 1rem;top:calc(100% + 4px);left:50%;transform:translateX(-50%);width:100%;display:flex;align-items:center;pointer-events:none;"]),$s=Pe.a.div.withConfig({displayName:"style__ProgressBar",componentId:"jfvctl-25"})(["position:relative;display:block;background-color:#595a5b;height:4px;border-radius:5px;flex-grow:1;margin:0.5rem 0;"]),Xs=Pe.a.div.withConfig({displayName:"style__ProgressCompleted",componentId:"jfvctl-26"})(["position:absolute;height:4px;background-color:#0077c8;border-radius:5px;top:50%;transform:translateY(-50%);left:0;"]),Ys=Pe.a.span.withConfig({displayName:"style__Summary",componentId:"jfvctl-27"})(["margin:0;font-size:14px;color:#fff;line-height:","px;max-width:0px;text-align:right;overflow:hidden;margin:0 -1rem 0 1rem;white-space:nowrap;&.summary{&-enter-active{margin:0 -1rem 0 1rem;max-width:90px;transition-delay:0.5s;transition:max-width 0.6s,margin 0.6s;}&-enter-done{margin:0 -1rem 0 1rem;max-width:90px;}&-exit{margin:0 -1rem 0 1rem;max-width:90px;}&-exit-active{margin:0 -1rem 0 1rem;max-width:0px;transition:max-width 0.5s,margin 0.5s;}}"],21),Zs=Pe.a.div.withConfig({displayName:"style__Percentage",componentId:"jfvctl-28"})(["width:90%;margin:0 auto;position:relative;"]),Qs=Pe.a.div.withConfig({displayName:"style__PercentTageAll",componentId:"jfvctl-29"})(["width:100%;background-color:#595a5b;height:3px;border-radius:5px;"]),Js=Pe.a.div.withConfig({displayName:"style__PercentTageWatching",componentId:"jfvctl-30"})(["position:absolute;height:3px;background-color:#0077c8;border-radius:5px;top:50%;transform:translateY(-50%);left:0;"]),el=Pe.a.div.withConfig({displayName:"style__TextEpisode",componentId:"jfvctl-31"})(["font-size:16px;font-weight:500;margin-top:4px;color:#fff;"]),tl=Pe.a.img.withConfig({displayName:"style__TitleOriginal",componentId:"jfvctl-32"})(["position:absolute;width:90%;left:50%;transform:translateX(-50%);bottom:30px;transition-duration:500ms;",""],(function(e){return e.tvod&&e.isHover?"opacity: 0;":""})),nl=Pe.a.div.withConfig({displayName:"style__MaskTitleOriginal",componentId:"jfvctl-33"})(["position:absolute;width:calc(100% + 1.5px);height:41%;border-radius:4px;background-image:linear-gradient(to bottom,rgba(22,12,23,0),rgba(4,8,20,0.8));bottom:0;left:-0.5px;"]),il=Pe.a.div.withConfig({displayName:"style__PriceType",componentId:"jfvctl-34"})(["position:absolute;bottom:5px;color:#000;background:#e9cb00;font-weight:600;padding:3px 11px;font-size:12px;border-bottom-right-radius:3px;border-top-right-radius:3px;@media (max-width:576px){padding:2px 6px;font-size:10px;}"]),al=Pe.a.div.withConfig({displayName:"style__ItemOriginalMobile",componentId:"jfvctl-35"})(["padding:200% 0 0;position:relative;width:100%;"]),ol=Pe.a.div.withConfig({displayName:"style__TitleCollection",componentId:"jfvctl-36"})(["position:absolute;left:50%;top:50%;text-align:center;transform:translate(-50%,-50%);font-size:1.5rem;width:100%;color:#fff;white-space:pre-wrap;@media (max-width:1100px){font-size:1rem;}"]),rl=Pe.a.div.withConfig({displayName:"style__TitleShowAll",componentId:"jfvctl-37"})(["position:absolute;left:50%;top:50%;text-align:center;transform:translate(-50%,-50%);font-size:1.125rem;font-weight:bold;width:100%;color:#fff;@media (max-width:1100px){font-size:0.75rem;}"]),cl=Pe.a.div.withConfig({displayName:"style__PosterTagBottom",componentId:"jfvctl-38"})(["position:absolute;left:0;bottom:",";width:100%;height:1.389vw;display:flex;align-items:center;transition-duration:500ms;"," "," @media(max-width:1200px){height:20px;}@media (max-width:576px){height:12px;bottom:",";}"],C(4),(function(e){return e.center?"justify-content: center;":"justify-content: flex-start;"}),(function(e){return e.tvod&&e.isHover?"opacity: 0;":""}),C(2)),sl=Pe.a.img.withConfig({displayName:"style__ItemPosterTagBottom",componentId:"jfvctl-39"})(["width:auto;height:100%;"]),ll=Pe.a.img.withConfig({displayName:"style__ItemPosterTagTop",componentId:"jfvctl-40"})(["display:block;position:absolute;left:",";top:",";width:5.7%;@media (max-width:1200px){width:14px;}@media (max-width:576px){width:12px;left:",";top:",";}"],C(4),C(4),C(2),C(2)),ul=function(e){var t=function(t){t.target.src="Original"===e.type||"TVOD"===e.type?js.a:ee.a},n=Object(r.b)(F),i=xs(),a=[],c=[],s=e.data.value.posterTag;if(s&&s.length>0)for(var l=0;l<s.length;l++){var u={type:s[l]};switch(s[l]){case"tvod_paid":u.image=i.web.paid,a.push(u);break;case"tvod_dubbing":u.image=i.web.dubbing,a.push(u);break;case"tvod_narration":u.image=i.web.narration,a.push(u);break;case"tvod_exclusive":u.image=i.web.exclusive,c.push(u);break;case"svod_original":u.image=i.web.logoOriginal,c.push(u);break;case"svod_new_episode":u.image=i.web.newEpisode,a.push(u);break;case"svod_full_episode":u.image=i.web.fullEpisode,a.push(u);break;case"svod_exclusive":u.image=i.web.exclusive,c.push(u);break;case"svod_parallel":u.image=i.web.parallel,a.push(u);break;case"svod_dubbing":u.image=i.web.dubbing,a.push(u);break;case"svod_narration":u.image=i.web.narration,a.push(u)}}return Object(o.h)(Cs,{key:e.index,slideShow:e.slideShow,typeRibbon:e.type},Object(o.h)(Ds,{className:"card"},"TopTen"==e.type?Object(o.h)("div",{className:"placeholder-topten"}):Object(o.h)("img",{className:"img-placeholder",alt:e.data.value.alternateName,src:"Original"==e.type||"TVOD"==e.type?js.a:ee.a}),e.percent&&Object(o.h)(Zs,null,Object(o.h)(Qs,null),Object(o.h)(Js,{style:"width: ".concat(e.percent,"%")})),Object(o.h)(Es,null,function(){switch(e.type){case"Original":return Object(o.h)(o.b,null,Object(o.h)(Ks,{alt:e.data.value.alternateName,onError:t,className:"hover-img",src:"//assets.glxplay.io/images/w800/".concat(e.data.value.image.posterOriginal)}),Object(o.h)(nl,null),window.localStorage.lang&&"en"==window.localStorage.lang?e.data.value.image.titleOriginalEn&&Object(o.h)(tl,{src:"//assets.glxplay.io/images/w800/".concat(e.data.value.image.titleOriginalEn)}):e.data.value.image.titleOriginalVn&&Object(o.h)(tl,{src:"//assets.glxplay.io/images/w800/".concat(e.data.value.image.titleOriginalVn)}),"TVOD"===e.data.value.priceType&&Object(o.h)(il,null,"Phim thuê"));case"TVOD":return e.data.showAll?Object(o.h)(o.b,null,Object(o.h)(Ks,{className:"hover-img",src:e.data.value.image.posterOriginal,onError:t}),Object(o.h)(rl,null,"XEM TẤT CẢ")):Object(o.h)(o.b,null,Object(o.h)(Ks,{alt:e.data.value.alternateName,onError:t,className:"hover-img",src:"//assets.glxplay.io/images/poster/w400/h800/".concat(e.data.value.image.posterOriginal)}),Object(o.h)(nl,null),window.localStorage.lang&&"en"==window.localStorage.lang?e.data.value.image.titleOriginalEn&&Object(o.h)(tl,{src:"//assets.glxplay.io/images/w400/".concat(e.data.value.image.titleOriginalEn)}):e.data.value.image.titleOriginalVn&&Object(o.h)(tl,{src:"//assets.glxplay.io/images/w400/".concat(e.data.value.image.titleOriginalVn)}));case"TopTen":return Object(o.h)(zs,{index:e.defaultIndex.toString(),typeRibbon:e.type,topTen:!0},Object(o.h)(o.b,null,Object(o.h)("div",{className:"topten-image"},Object(o.h)("img",{alt:e.data.value.alternateName,className:"hover-img-topten",src:"//assets.glxplay.io/images/w400/".concat(e.data.value.image.posterLandscape),onError:t}),c.map((function(e){return Object(o.h)(ll,{key:e.type,src:e.image})})),Object(o.h)(cl,null,a.map((function(e){return Object(o.h)(sl,{key:e.type,src:e.image})}))))));case"Collection":return Object(o.h)(zs,null,Object(o.h)("img",{alt:e.data.value.alternateName,className:"hover-img",src:"//assets.glxplay.io/images/w400/".concat(e.data.value.posterLandscape),onError:t}),Object(o.h)(ol,null,e.data.value.alternateName));default:return e.data.showAll?Object(o.h)(o.b,null,Object(o.h)("img",{className:"hover-img",src:e.data.value.image.posterLandscape,onError:t}),Object(o.h)(rl,null,"XEM TẤT CẢ")):Object(o.h)(o.b,null,Object(o.h)("img",{alt:e.data.value.alternateName,className:"hover-img",src:"//assets.glxplay.io/images/w400/".concat(e.data.value.image.posterLandscape),onError:t}),c.map((function(e){return Object(o.h)(ll,{key:e.type,src:e.image})})),Object(o.h)(cl,null,a.map((function(t){if("tvod_paid"!==t.type||!("Rentals"===e.type||"movie_rental"===n.lastpage||localStorage.lastpage.indexOf("tvod-rental")>=0))return Object(o.h)(sl,{key:t.type,src:t.image})}))))}}())))};function dl(){return(dl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var pl=function(e){return Object(o.h)("svg",dl({width:24,height:24,id:"icon-trailer",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),Object(o.h)("path",{d:"M21 2c1.103 0 2 .896 2 2v16c0 1.103-.897 2-2 2H3c-1.103 0-2-.897-2-2V4c0-1.104.897-2 2-2zm.5 1.5h-19v17h19.001l-.001-17zM7 17v2H5v-2h2zm4 0v2H9v-2h2zm4 0v2h-2v-2h2zm4 0v2h-2v-2h2zm-9-8l6 3-6 3V9zM7 5v2H5V5h2zm4 0v2H9V5h2zm4 0v2h-2V5h2zm4 0v2h-2V5h2z",fill:"#1F2325",fillRule:"evenodd"}))},hl=function(e){var t=Object(r.b)(Oc),n=Object(r.b)(Eo);return Object(o.h)("div",{className:"".concat(e.hasTrailer?"trailer-icon":"trailer-icon disabled"," ").concat(e.hasComingSoon?"trailer-icon-coming":""," "),onClick:function(){z.getDetailMovie({id:e.titleId},(function(e,i){if(!e&&i.data&&i.data.trailer&&i.data.trailer[0]){var a=i.data.trailer[0];return N(),setTimeout((function(){t.showWatchTrailer({status:!0,video:a.video,name:a.name,alternateName:a.alternateName,trailerId:a.trailerId,priceType:a.priceType})}),850),null}n.setNotification({status:!0,description:"Chưa có trailer",type:"error"})}))}},Object(o.h)(pl,null),Object(o.h)("div",{className:"note-list"},Object(o.h)("div",{className:"clip-path"},Object(o.h)("div",{className:"path"}),Object(o.h)("div",{className:"txt-path"},"Xem trailer"))))};function fl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ml(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fl(Object(n),!0).forEach((function(t){bl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var vl=function(e){var t=Object(r.b)(Lc),n=(Object(Ve.useTracking)().trackEvent,gl(Object(r.k)({isAdd:!0,loading:!1}),2)),i=n[0],a=n[1],c=gl(Object(r.k)(!1),2),s=c[0],l=c[1];return Object(r.d)((function(){if(s)!function(e,t){if(e){var n=e.some((function(e){return e.titleId===t}));setTimeout((function(){a({isAdd:!n,loading:!1})}),700)}}(t.state.data,e.titleId);else{if(t&&t.state&&t.state.data){var n=t.state.data.some((function(t){return t.titleId===e.titleId}));a({isAdd:!n,loading:!1})}l(!0)}}),[t.state.data]),i.isAdd?Object(o.h)("div",{className:"add-icon",onClick:!i.loading&&function(e){return function(n){a(ml(ml({},i),{},{loading:!0})),t.addMyList(e)}}(e.titleId)},Object(o.h)(ae,null),Object(o.h)("div",{className:"note-list"},Object(o.h)("div",{className:"clip-path"},Object(o.h)("div",{className:"txt-path"},i.loading?"Đang thêm..":"Danh sách của tôi")))):Object(o.h)("div",{className:"add-icon",onClick:!i.loading&&function(e){return function(n){a(ml(ml({},i),{},{loading:!0})),t.deleteMyList(e)}}(e.titleId)},Object(o.h)(oe,null),Object(o.h)("div",{className:"note-list"},Object(o.h)("div",{className:"clip-path"},Object(o.h)("div",{className:"txt-path"},i.loading?"Đang xoá..":"Danh sách của tôi"))))};function Ol(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var jl=function(e){e.target.src=ee.a},xl=function(e){var t=Object(s.g)(),n=Object(r.b)(Oc),i=Object(r.b)(Lc),a=Object(r.b)(Eo),l=Object(r.b)(F),u=xs(),d=Object(Ve.useTracking)().trackEvent,p=Ol(Object(r.k)({showBtnWatching:!(e.data.value&&e.data.value.comingSoon&&!e.data.value.comingSoon.hasSource)}),2),h=p[0],f=(p[1],function(){var t={movie_type:e.data.value.type,price_type:e.data.value.priceType};return e.data.value&&e.data.value.comingSoon&&(t.comingSoon={message:e.data.value&&e.data.value.comingSoon&&e.data.value.comingSoon.message,hasSource:e.data.value&&e.data.value.comingSoon&&h.showBtnWatching}),t}),m=function(){d({from_screen:l.history.length>1&&l.history[l.history.length-2]||"",context_value:f()?f():"",direct_object_type:"film",direct_object_property:e.data.value.alternateName,direct_object_id:e.data.value._id,event_action:"click",indirect_object_type:"collection"===localStorage.on_screen?"rbcollection":"ribbon",indirect_object_id:e.slug,indirect_object_property:e.displayNameVi}),d({from_screen:l.history.length>1&&l.history[l.history.length-2]||"",event_action:"click",direct_object_type:"price",direct_object_id:e.data.value.slug,direct_object_property:"HD",indirect_object_type:"movie",indirect_object_id:e.data.value._id,indirect_object_property:e.data.value.alternateName})},b=function n(){var i={eventPage:"detail",titleId:e.data.value.titleId};z.pullOfferByAtoken(i,(function(i,o){if(o&&!i){var r=o.data.data.packageDisplay.tvod.find((function(e){return"10"==e.profileCode})).price;d({event_category:"payment",on_screen:"home",event_action:"click",direct_object_type:"button",direct_object_id:r.toString(),direct_object_property:"HD",indirect_object_type:"movie",indirect_object_id:e.data.value.titleId,indirect_object_property:e.data.value.alternateName}),d({event_category:"browse",direct_object_type:"film",on_screen:"home",event_action:"click",indirect_object_type:"ribbon",indirect_object_id:e.data.value.slug,direct_object_id:e.data.value.titleId,direct_object_property:e.data.value.alternateName,indirect_object_property:e.displayNameVi});var c=o;c&&c.data.data.nonPromotionOffers.PROMOTION&&c.data.data.nonPromotionOffers.PROMOTION.length>0?c.data.data.nonPromotionOffers.PROMOTION.map((function(i,o){0==i.totalPriceOffer?a.setNotification({status:!0,type:"popup",dataOffer:c,slug:e.data.value.slug,titleName:e.data.value.alternateName,location:location.pathname,infoMovie:e.data.value,callAgain:n,image:e.data.value.image.posterPortrait}):t.push({pathname:"/rent/"+e.data.value.titleId+"/pay",state:{location:location.pathname,infoMovie:e.data.value}})})):t.push({pathname:"/rent/"+e.data.value.titleId+"/pay",state:{location:location.pathname,infoMovie:e.data.value}})}}))},g=Object(r.j)(),y=[],v=[],O=e.data.value.posterTag;if(O&&O.length>0)for(var w=0;w<O.length;w++){var j={type:O[w]};switch(O[w]){case"tvod_paid":j.image=u.web.paid,y.push(j);break;case"tvod_dubbing":j.image=u.web.dubbing,y.push(j);break;case"tvod_narration":j.image=u.web.narration,y.push(j);break;case"tvod_exclusive":j.image=u.web.exclusive,v.push(j);break;case"svod_original":j.image=u.web.logoOriginal,v.push(j);break;case"svod_new_episode":j.image=u.web.newEpisode,y.push(j);break;case"svod_full_episode":j.image=u.web.fullEpisode,y.push(j);break;case"svod_exclusive":j.image=u.web.exclusive,v.push(j);break;case"svod_parallel":j.image=u.web.parallel,y.push(j);break;case"svod_dubbing":j.image=u.web.dubbing,y.push(j);break;case"svod_narration":j.image=u.web.narration,y.push(j)}}return Object(o.h)(Es,{isHover:e.data.isHover,ref:g},e.data.showAll?Object(o.h)(zs,{typeRibbon:e.typeRibbon},Object(o.h)(c.b,{to:{pathname:"/browse/ribbon/"+e.slug,state:{prevPath:location.pathname}}},Object(o.h)("img",{onError:jl,className:"hover-img",src:e.data.value.image.posterLandscape}),Object(o.h)(rl,null,"XEM TẤT CẢ"))):Object(o.h)(zs,{typeRibbon:e.typeRibbon},Object(o.h)(c.b,{to:"/title/"+e.data.value.slug,onClick:m},Object(o.h)("img",{alt:e.data.value.alternateName,onError:jl,className:"hover-img",src:"//assets.glxplay.io/images/w400/".concat(e.data.value.image.posterLandscape)})),v.map((function(e){return Object(o.h)(ll,{key:e.type,src:e.image})})),Object(o.h)(cl,null,y.map((function(t){if("tvod_paid"!==t.type||!("Rentals"===e.typeRibbon||"movie_rental"===l.lastpage||localStorage.lastpage.indexOf("tvod-rental")>=0))return Object(o.h)(sl,{key:t.type,src:t.image})}))),Object(o.h)(Ct.a,{in:e.data.isHover,timeout:500,classNames:"overlay",unmountOnExit:!0},Object(o.h)(c.b,{to:"/title/"+e.data.value.slug,className:"overlay",onClick:m},Object(o.h)(Vs,null))),Object(o.h)(c.b,{to:"/title/"+e.data.value.slug,onClick:m},Object(o.h)(Ct.a,{in:e.data.isHover,timeout:500,classNames:"detail",unmountOnExit:!0},Object(o.h)(Ws,null,Object(o.h)(Hs,null,window.localStorage.lang&&"en"==window.localStorage.lang?e.data.value.name:e.data.value.alternateName),e.percent?e.textEpisode&&Object(o.h)(el,null,e.textEpisode):Object(o.h)(Fs,null,e.data.value.genre.map((function(e){return Object(o.h)(qs,null,e)})),e.data.value.duration&&Object(o.h)(qs,null,e.data.value.duration),e.data.value.contentRating&&Object(o.h)(qs,null,e.data.value.contentRating),"TVOD"===e.data.value.priceType&&Object(o.h)(qs,null,"Phim thuê"),e.data.value.pricePackage&&"SVOD"==e.data.value.priceType&&e.data.value.pricePackage.includes("PREMIUM")&&!e.data.value.pricePackage.includes("BASIC")&&Object(o.h)(qs,null,"Cao cấp"))))),Object(o.h)(Us,null,Object(o.h)(Ct.a,{in:e.data.isHover,timeout:500,classNames:"action",unmountOnExit:!0},Object(o.h)("div",{className:"action"},Object(o.h)(hl,{titleId:e.data.value.titleId,hasTrailer:e.data.value.hasTrailer}),h.showBtnWatching&&Object(o.h)(o.b,null,Object(o.h)("div",{className:"border-right"}),Object(o.h)("div",{className:"play-icon",onClick:function i(o){return function(r){if(window.localStorage.__glxp_token){var c={id:o};m(),z.getDetailMovie(c,(function(r,c){if(!r){var s=c.data,l=s.slug;if(s.cntWatching&&s.cntWatching.goto){var u=_.findIndex(s.containsSeason,(function(e){return e.seasonId==s.cntWatching.goto.seasonId})),d=s.containsSeason[u];if(u<0)return void a.setNotification({status:!0,description:"Không thể kết nối với máy chủ. Thử lại hoặc liên hệ hotline 1800 9090 để được hỗ trợ ",type:"message",callback:i(o)});var p=_.findIndex(d.episode,(function(e){return e.episodeId==s.cntWatching.goto.episodeId})),h=d.episode[p];return l="".concat(s.slug,"?ss=").concat(d.seasonNumber,"&ep=").concat(h.episodeNumber),"inReview"==s.status?(N(),void setTimeout((function(){t.push({pathname:"/watch/"+l,state:{status:!0}})}),850)):void("SVOD"===h.priceType?h.pricePackage.includes("BASIC")&&h.pricePackage.includes("PREMIUM")?n.hasPremium||n.hasBasic?(N(),setTimeout((function(){t.push({pathname:"/watch/"+l})}),850)):t.push({pathname:"/subs/pay",state:{infoMovie:s,location:location.pathname}}):h.pricePackage.includes("PREMIUM")&&(n.hasPremium?(N(),setTimeout((function(){t.push({pathname:"/watch/"+l})}),850)):t.push({pathname:"/subs/pay",state:{infoMovie:s,location:location.pathname}})):(N(),setTimeout((function(){t.push({pathname:"/watch/"+l})}),850)))}if("inReview"==s.status)return N(),void setTimeout((function(){t.push({pathname:"/watch/"+l,state:{status:!0}})}),850);if(s.containsSeason&&s.containsSeason.length>0){var f=s.containsSeason[0].episode[0];return void("SVOD"===f.priceType?f.pricePackage.includes("BASIC")&&f.pricePackage.includes("PREMIUM")?n.hasPremium||n.hasBasic?(N(),setTimeout((function(){t.push({pathname:"/watch/"+s.slug})}),850)):t.push({pathname:"/subs/pay",state:{infoMovie:s,location:location.pathname}}):f.pricePackage.includes("PREMIUM")&&(n.hasPremium?(N(),setTimeout((function(){t.push({pathname:"/watch/"+s.slug})}),850)):t.push({pathname:"/subs/pay",state:{infoMovie:s,location:location.pathname}})):(N(),setTimeout((function(){t.push({pathname:"/watch/"+s.slug})}),850)))}if("SVOD"===s.priceType)s.pricePackage.includes("BASIC")&&s.pricePackage.includes("PREMIUM")?n.hasPremium||n.hasBasic?(N(),setTimeout((function(){t.push({pathname:"/watch/"+l,state:{status:!0}})}),850)):t.push({pathname:"/subs/pay",state:{infoMovie:c.data,location:location.pathname}}):s.pricePackage.includes("PREMIUM")&&(n.hasPremium?(N(),setTimeout((function(){t.push({pathname:"/watch/"+l,state:{status:!0}})}),850)):t.push({pathname:"/subs/pay",state:{infoMovie:c.data,location:location.pathname}}));else if("TVOD"===s.priceType)if(s.rentals)if(s.rentals.ALID&&s.rentals.ALID.includes("@MOB"))a.setNotification({status:!0,type:"TVOD_MOBILE",onSubmit:b});else{var m=Math.round((new Date).getTime()/1e3);s.rentals.expireAt>=m&&(N(),setTimeout((function(){t.push("/watch/"+s.slug)}),850))}else{var g={eventPage:"detail",titleId:o};z.pullOfferByAtoken(g,(function(n,i){i&&!n&&(i.data.data.nonPromotionOffers.tvod.PROMOTION.length>0?i.data.data.nonPromotionOffers.tvod.PROMOTION.map((function(n,o){var r,c,l;0==n.totalPriceOffer?a.setNotification((r={image:e.data.value.image.posterPortrait,status:!0,type:"popup",dataOffer:i,slug:s.slug,titleName:s.alternateName,infoMovie:s,location:location.pathname},c="image",l=e.data.value.image.posterPortrait,c in r?Object.defineProperty(r,c,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[c]=l,r)):t.push({pathname:"/rent/"+s.titleId+"/pay",state:{infoMovie:s,location:location.pathname}})})):t.push({pathname:"/rent/"+s.titleId+"/pay",state:{infoMovie:s,location:location.pathname}}))}))}else N(),setTimeout((function(){t.push("/watch/"+s.slug)}),850)}}))}else n.reLogin()}}(e.data.value.titleId)},Object(o.h)(ie,{onClick:m}),Object(o.h)("div",{className:"note-list"},Object(o.h)("div",{className:"clip-path"},Object(o.h)("div",{className:"path"}),Object(o.h)("div",{className:"txt-path"},"Xem phim"))))),Object(o.h)("div",{className:"border-right"}),"Mylist"==e.typeRibbon?Object(o.h)("div",{className:"add-icon",onClick:function(e){return function(t){g.current.setAttribute("style","transition-duration: 0ms"),setTimeout((function(){g.current&&g.current.setAttribute("style","")}),700),i.deleteMyList(e)}}(e.data.value.titleId)},Object(o.h)(oe,null),Object(o.h)("div",{className:"note-list"},Object(o.h)("div",{className:"clip-path"},Object(o.h)("div",{className:"path"}),Object(o.h)("div",{className:"txt-path"},"Danh sách của tôi")))):Object(o.h)(vl,{titleId:e.data.value.titleId,id:e.data.value._id})))),e.percent&&Object(o.h)(Gs,null,Object(o.h)($s,null,Object(o.h)(Xs,{style:"width: ".concat(e.percent,"%")})),Object(o.h)(Ct.a,{in:e.data.isHover,timeout:500,classNames:"summary"},Object(o.h)(Ys,null,e.textTimeRemain)))))};var kl=function(e){e.target.src=js.a},_l=function(e){var t=Object(s.g)(),n=Object(r.b)(Oc),i=Object(r.b)(Lc),a=Object(Ve.useTracking)().trackEvent,l=function(){a({from_screen:localStorage.getItem("on_screen"),direct_object_type:"film",direct_object_property:e.data.value.alternateName,direct_object_id:e.data.value._id,event_action:"click",on_screen:"movie_detail",indirect_object_type:"ribbon",indirect_object_id:e.slug,indirect_object_property:e.displayNameVi}),a({from_screen:localStorage.getItem("on_screen"),event_action:"click",direct_object_type:"price",direct_object_id:e.data.value.slug,direct_object_property:"HD",indirect_object_type:"movie",indirect_object_id:e.data.value._id,indirect_object_property:e.data.value.alternateName})},u=Object(r.j)();return Object(o.h)(Es,{isHover:e.data.isHover,ref:u,original:!0},Object(o.h)(zs,{typeRibbon:e.typeRibbon},Object(o.h)(c.b,{to:"/title/"+e.data.value.slug,onClick:l},Object(o.h)("div",null,Object(o.h)(Ks,{alt:e.data.value.alternateName,onError:kl,className:"hover-img",src:"//assets.glxplay.io/images/w800/".concat(e.data.value.image.posterOriginal)}),Object(o.h)(nl,null),window.localStorage.lang&&"en"==window.localStorage.lang?e.data.value.image.titleOriginalEn&&Object(o.h)(tl,{src:"//assets.glxplay.io/images/w800/".concat(e.data.value.image.titleOriginalEn)}):e.data.value.image.titleOriginalVn&&Object(o.h)(tl,{src:"//assets.glxplay.io/images/w800/".concat(e.data.value.image.titleOriginalVn)}),"TVOD"===e.data.value.priceType&&Object(o.h)(il,null,"Phim thuê"))),Object(o.h)(Ct.a,{in:e.data.isHover,timeout:500,classNames:"overlay",unmountOnExit:!0},Object(o.h)(c.b,{to:"/title/"+e.data.value.slug,className:"overlay",onClick:l},Object(o.h)(Vs,null))),Object(o.h)(c.b,{to:"/title/"+e.data.value.slug,onClick:l},Object(o.h)(Ct.a,{in:e.data.isHover,timeout:500,classNames:"detail",unmountOnExit:!0},Object(o.h)(Ws,null,Object(o.h)(Hs,null,window.localStorage.lang&&"en"==window.localStorage.lang?e.data.value.name:e.data.value.alternateName),Object(o.h)(Fs,null,e.data.value.genre.map((function(e){return Object(o.h)(qs,null,e)})),e.data.value.duration&&Object(o.h)(qs,null,e.data.value.duration),e.data.value.contentRating&&Object(o.h)(qs,null,e.data.value.contentRating),"TVOD"===e.data.value.priceType&&Object(o.h)(qs,null,"Phim thuê"),e.data.value.pricePackage&&"SVOD"==e.data.value.priceType&&e.data.value.pricePackage.includes("PREMIUM")&&!e.data.value.pricePackage.includes("BASIC")&&Object(o.h)(qs,null,"Cao cấp"))))),Object(o.h)(Us,null,Object(o.h)(Ct.a,{in:e.data.isHover,timeout:500,classNames:"action",unmountOnExit:!0},Object(o.h)("div",{className:"action"},Object(o.h)(hl,{titleId:e.data.value.titleId,hasTrailer:e.data.value.hasTrailer}),Object(o.h)("div",{className:"border-right"}),Object(o.h)("div",{className:"play-icon",onClick:function i(a){return function(o){if(window.localStorage.__glxp_token){var r={id:a};l(),z.getDetailMovie(r,(function(o,r){if(!o){var c=r.data,s=c.slug;if(c.cntWatching&&c.cntWatching.goto){var l=_.findIndex(c.containsSeason,(function(e){return e.seasonId==c.cntWatching.goto.seasonId})),u=c.containsSeason[l];if(l<0)return void Notifi.setNotification({status:!0,description:"Không thể kết nối với máy chủ. Thử lại hoặc liên hệ hotline 1800 9090 để được hỗ trợ ",type:"message",callback:i(a)});var d=_.findIndex(u.episode,(function(e){return e.episodeId==c.cntWatching.goto.episodeId})),p=u.episode[d];return s="".concat(c.slug,"?ss=").concat(u.seasonNumber,"&ep=").concat(p.episodeNumber),"inReview"==c.status?(N(),void setTimeout((function(){t.push({pathname:"/watch/"+s,state:{status:!0}})}),850)):void("SVOD"===p.priceType?p.pricePackage.includes("BASIC")&&p.pricePackage.includes("PREMIUM")?n.hasPremium||n.hasBasic?(N(),setTimeout((function(){t.push({pathname:"/watch/"+s})}),850)):t.push({pathname:"/subs/pay",state:{infoMovie:c,location:location.pathname}}):p.pricePackage.includes("PREMIUM")&&(n.hasPremium?(N(),setTimeout((function(){t.push({pathname:"/watch/"+s})}),850)):t.push({pathname:"/subs/pay",state:{infoMovie:c,location:location.pathname}})):(N(),setTimeout((function(){t.push({pathname:"/watch/"+s})}),850)))}if("inReview"==c.status)return N(),void setTimeout((function(){t.push({pathname:"/watch/"+s,state:{status:!0}})}),850);if(c.containsSeason&&c.containsSeason.length>0){var h=c.containsSeason[0].episode[0];return void("SVOD"===h.priceType?h.pricePackage.includes("BASIC")&&h.pricePackage.includes("PREMIUM")?n.hasPremium||n.hasBasic?(N(),setTimeout((function(){t.push({pathname:"/watch/"+c.slug})}),850)):t.push({pathname:"/subs/pay",state:{infoMovie:c,location:location.pathname}}):h.pricePackage.includes("PREMIUM")&&(n.hasPremium?(N(),setTimeout((function(){t.push({pathname:"/watch/"+c.slug})}),850)):t.push({pathname:"/subs/pay",state:{infoMovie:c,location:location.pathname}})):(N(),setTimeout((function(){t.push({pathname:"/watch/"+c.slug})}),850)))}if("SVOD"===c.priceType)c.pricePackage.includes("BASIC")&&c.pricePackage.includes("PREMIUM")?n.hasPremium||n.hasBasic?(N(),setTimeout((function(){t.push({pathname:"/watch/"+s,state:{status:!0}})}),850)):t.push({pathname:"/subs/pay",state:{infoMovie:r.data,location:location.pathname}}):c.pricePackage.includes("PREMIUM")&&(n.hasPremium?(N(),setTimeout((function(){t.push({pathname:"/watch/"+s,state:{status:!0}})}),850)):t.push({pathname:"/subs/pay",state:{infoMovie:r.data,location:location.pathname}}));else if("TVOD"===c.priceType)if(c.rentals){var f=Math.round((new Date).getTime()/1e3);c.rentals.expireAt>=f&&(N(),setTimeout((function(){t.push("/watch/"+c.slug)}),850))}else{var m={eventPage:"detail",titleId:a};z.pullOfferByAtoken(m,(function(n,i){i&&!n&&(i.data.data.nonPromotionOffers.tvod.PROMOTION.length>0?i.data.data.nonPromotionOffers.tvod.PROMOTION.map((function(n,a){var o,r,s;0==n.totalPriceOffer?Notifi.setNotification((o={image:e.data.value.image.posterPortrait,status:!0,type:"popup",dataOffer:i,slug:c.slug,titleName:c.alternateName,infoMovie:c,location:location.pathname},r="image",s=e.data.value.image.posterPortrait,r in o?Object.defineProperty(o,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[r]=s,o)):t.push({pathname:"/rent/"+c.titleId+"/pay",state:{infoMovie:c,location:location.pathname}})})):t.push({pathname:"/rent/"+c.titleId+"/pay",state:{infoMovie:c,location:location.pathname}}))}))}else N(),setTimeout((function(){t.push("/watch/"+c.slug)}),850)}}))}else n.reLogin()}}(e.data.value.titleId)},Object(o.h)(ie,null),Object(o.h)("div",{className:"note-list"},Object(o.h)("div",{className:"clip-path"},Object(o.h)("div",{className:"path"}),Object(o.h)("div",{className:"txt-path"},"Xem phim")))),Object(o.h)("div",{className:"border-right"}),"Mylist"==e.typeRibbon?Object(o.h)("div",{className:"add-icon",onClick:function(t){return function(n){u.current.setAttribute("style","transition-duration: 0ms"),e.setClickArrow(!1),setTimeout((function(){e.setClickArrow(!0),u.current&&u.current.setAttribute("style","")}),700),i.deleteMyList(t)}}(e.data.value.titleId)},Object(o.h)(oe,null),Object(o.h)("div",{className:"note-list"},Object(o.h)("div",{className:"clip-path"},Object(o.h)("div",{className:"path"}),Object(o.h)("div",{className:"txt-path"},"Danh sách của tôi")))):Object(o.h)(vl,{titleId:e.data.value.titleId,id:e.data.value._id}))))))};function Sl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Il(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Il(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Il(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Nl=function(e){e.target.src=ee.a},Tl=function(e){var t=Object(s.g)(),n=Object(r.b)(Oc),i=Object(r.b)(Lc),a=Object(r.b)(Eo),l=Object(r.b)(F),u=xs(),d=Object(Ve.useTracking)().trackEvent,p=Sl(Object(r.k)({name:null,link:null}),2),h=(p[0],p[1],Sl(Object(r.k)({showBtnWatching:!(e.data.value&&e.data.value.comingSoon&&!e.data.value.comingSoon.hasSource)}),2)),f=h[0],m=(h[1],function(){var t;d({from_screen:l.history.length>1&&l.history[l.history.length-2]||"",context_value:(t={movie_type:e.data.value.type,price_type:e.data.value.priceType},e.data.value&&e.data.value.comingSoon&&(t.comingSoon={message:e.data.value&&e.data.value.comingSoon&&e.data.value.comingSoon.message,hasSource:e.data.value&&e.data.value.comingSoon&&f.showBtnWatching}),t),direct_object_type:"film",direct_object_property:e.data.value.alternateName,direct_object_id:e.data.value._id,event_action:"click",indirect_object_type:"ribbon",indirect_object_id:e.slug,indirect_object_property:e.displayNameVi}),d({from_screen:l.history.length>1&&l.history[l.history.length-2]||"",event_action:"click",direct_object_type:"price",direct_object_id:e.data.value.slug,direct_object_property:"HD",indirect_object_type:"movie",indirect_object_id:e.data.value._id,indirect_object_property:e.data.value.alternateName})}),b=Object(r.j)(),g=[],y=[],v=e.data.value.posterTag;if(v&&v.length>0)for(var O=0;O<v.length;O++){var w={type:v[O]};switch(v[O]){case"tvod_paid":w.image=u.web.paid,g.push(w);break;case"tvod_dubbing":w.image=u.web.dubbing,g.push(w);break;case"tvod_narration":w.image=u.web.narration,g.push(w);break;case"tvod_exclusive":w.image=u.web.exclusive,y.push(w);break;case"svod_original":w.image=u.web.logoOriginal,y.push(w);break;case"svod_new_episode":w.image=u.web.newEpisode,g.push(w);break;case"svod_full_episode":w.image=u.web.fullEpisode,g.push(w);break;case"svod_exclusive":w.image=u.web.exclusive,y.push(w);break;case"svod_parallel":w.image=u.web.parallel,g.push(w);break;case"svod_dubbing":w.image=u.web.dubbing,g.push(w);break;case"svod_narration":w.image=u.web.narration,g.push(w)}}return Object(o.h)(Es,{isHover:e.data.isHover,ref:b},Object(o.h)(zs,{index:e.defaultIndex.toString(),topTen:!0,typeRibbon:"TopTen"},Object(o.h)(c.b,{to:"/title/"+e.data.value.slug,onClick:m},Object(o.h)("div",{className:"topten-image"},Object(o.h)("img",{alt:e.data.value.alternateName,onError:Nl,className:"hover-img-topten",src:"//assets.glxplay.io/images/w400/".concat(e.data.value.image.posterLandscape)}),y.map((function(e){return Object(o.h)(ll,{key:e.type,src:e.image})})),Object(o.h)(cl,null,g.map((function(e){return Object(o.h)(sl,{key:e.type,src:e.image})}))))),Object(o.h)(Ct.a,{in:e.data.isHover,timeout:500,classNames:"overlay",unmountOnExit:!0},Object(o.h)(c.b,{to:"/title/"+e.data.value.slug,className:"overlay",onClick:m},Object(o.h)(Vs,{topTen:!0}))),Object(o.h)(c.b,{to:"/title/"+e.data.value.slug,onClick:m},Object(o.h)(Ct.a,{in:e.data.isHover,timeout:500,classNames:"detail",unmountOnExit:!0},Object(o.h)(Ws,{topTen:!0},Object(o.h)(Hs,null,window.localStorage.lang&&"en"==window.localStorage.lang?e.data.value.name:e.data.value.alternateName),Object(o.h)(Fs,null,e.data.value.genre.map((function(e){return Object(o.h)(qs,null,e)})),e.data.value.duration&&Object(o.h)(qs,null,e.data.value.duration),e.data.value.contentRating&&Object(o.h)(qs,null,e.data.value.contentRating),"TVOD"===e.data.value.priceType&&Object(o.h)(qs,null,"Phim thuê"),e.data.value.pricePackage&&"SVOD"==e.data.value.priceType&&e.data.value.pricePackage.includes("PREMIUM")&&!e.data.value.pricePackage.includes("BASIC")&&Object(o.h)(qs,null,"Cao cấp"))))),Object(o.h)(Us,{topTen:!0},Object(o.h)(Ct.a,{in:e.data.isHover,timeout:500,classNames:"action",unmountOnExit:!0},Object(o.h)("div",{className:"action"},Object(o.h)(hl,{titleId:e.data.value.titleId,hasTrailer:e.data.value.hasTrailer}),f.showBtnWatching&&Object(o.h)(o.b,null,Object(o.h)("div",{className:"border-right"}),Object(o.h)("div",{className:"play-icon",onClick:function i(o){return function(r){if(window.localStorage.__glxp_token){var c={id:o};m(),z.getDetailMovie(c,(function(r,c){if(!r){var s=c.data,l=s.slug;if(s.cntWatching&&s.cntWatching.goto){var u=_.findIndex(s.containsSeason,(function(e){return e.seasonId==s.cntWatching.goto.seasonId})),d=s.containsSeason[u];if(u<0)return void a.setNotification({status:!0,description:"Không thể kết nối với máy chủ. Thử lại hoặc liên hệ hotline 1800 9090 để được hỗ trợ ",type:"message",callback:i(o)});var p=_.findIndex(d.episode,(function(e){return e.episodeId==s.cntWatching.goto.episodeId})),h=d.episode[p];return l="".concat(s.slug,"?ss=").concat(d.seasonNumber,"&ep=").concat(h.episodeNumber),"inReview"==s.status?(N(),void setTimeout((function(){t.push({pathname:"/watch/"+l,state:{status:!0}})}),850)):void("SVOD"===h.priceType?h.pricePackage.includes("BASIC")&&h.pricePackage.includes("PREMIUM")?n.hasPremium||n.hasBasic?(N(),setTimeout((function(){t.push({pathname:"/watch/"+l})}),850)):t.push({pathname:"/subs/pay",state:{infoMovie:s,location:location.pathname}}):h.pricePackage.includes("PREMIUM")&&(n.hasPremium?(N(),setTimeout((function(){t.push({pathname:"/watch/"+l})}),850)):t.push({pathname:"/subs/pay",state:{infoMovie:s,location:location.pathname}})):(N(),setTimeout((function(){t.push({pathname:"/watch/"+l})}),850)))}if("inReview"==s.status)return N(),void setTimeout((function(){t.push({pathname:"/watch/"+l,state:{status:!0}})}),850);if(s.containsSeason&&s.containsSeason.length>0){var f=s.containsSeason[0].episode[0];return void("SVOD"===f.priceType?f.pricePackage.includes("BASIC")&&f.pricePackage.includes("PREMIUM")?n.hasPremium||n.hasBasic?(N(),setTimeout((function(){t.push({pathname:"/watch/"+s.slug})}),850)):t.push({pathname:"/subs/pay",state:{infoMovie:s,location:location.pathname}}):f.pricePackage.includes("PREMIUM")&&(n.hasPremium?(N(),setTimeout((function(){t.push({pathname:"/watch/"+s.slug})}),850)):t.push({pathname:"/subs/pay",state:{infoMovie:s,location:location.pathname}})):(N(),setTimeout((function(){t.push({pathname:"/watch/"+s.slug})}),850)))}if("SVOD"===s.priceType)s.pricePackage.includes("BASIC")&&s.pricePackage.includes("PREMIUM")?n.hasPremium||n.hasBasic?(N(),setTimeout((function(){t.push({pathname:"/watch/"+l,state:{status:!0}})}),850)):t.push({pathname:"/subs/pay",state:{infoMovie:c.data,location:location.pathname}}):s.pricePackage.includes("PREMIUM")&&(n.hasPremium?(N(),setTimeout((function(){t.push({pathname:"/watch/"+l,state:{status:!0}})}),850)):t.push({pathname:"/subs/pay",state:{infoMovie:c.data,location:location.pathname}}));else if("TVOD"===s.priceType)if(s.rentals){var m=Math.round((new Date).getTime()/1e3);s.rentals.expireAt>=m&&(N(),setTimeout((function(){t.push("/watch/"+s.slug)}),850))}else{var b={eventPage:"detail",titleId:o};z.pullOfferByAtoken(b,(function(n,i){i&&!n&&(i.data.data.nonPromotionOffers.tvod.PROMOTION.length>0?i.data.data.nonPromotionOffers.tvod.PROMOTION.map((function(n,o){0==n.totalPriceOffer?a.setNotification({image:e.data.value.image.posterPortrait,status:!0,type:"popup",dataOffer:i,slug:s.slug,titleName:s.alternateName,infoMovie:s,location:location.pathname}):t.push({pathname:"/rent/"+s.titleId+"/pay",state:{infoMovie:s,location:location.pathname}})})):t.push({pathname:"/rent/"+s.titleId+"/pay",state:{infoMovie:s,location:location.pathname}}))}))}else N(),setTimeout((function(){t.push("/watch/"+s.slug)}),850)}}))}else n.reLogin()}}(e.data.value.titleId)},Object(o.h)(ie,{onClick:m}),Object(o.h)("div",{className:"note-list"},Object(o.h)("div",{className:"clip-path"},Object(o.h)("div",{className:"path"}),Object(o.h)("div",{className:"txt-path"},"Xem phim"))))),Object(o.h)("div",{className:"border-right"}),"Mylist"==e.typeRibbon?Object(o.h)("div",{className:"add-icon",onClick:function(e){return function(t){b.current.setAttribute("style","transition-duration: 0ms"),setTimeout((function(){b.current&&b.current.setAttribute("style","")}),700),i.deleteMyList(e)}}(e.data.value.titleId)},Object(o.h)(oe,null),Object(o.h)("div",{className:"note-list"},Object(o.h)("div",{className:"clip-path"},Object(o.h)("div",{className:"path"}),Object(o.h)("div",{className:"txt-path"},"Danh sách của tôi")))):Object(o.h)(vl,{titleId:e.data.value.titleId,id:e.data.value._id}))))))};function Cl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Al=function(e){e.target.src=js.a},Ml=function(e){var t=Object(s.g)(),n=Object(r.b)(Oc),i=Object(r.b)(Lc),a=Object(r.b)(Eo),l=Object(r.b)(F),u=xs(),d=Object(Ve.useTracking)().trackEvent,p=Cl(Object(r.k)({showBtnWatching:!(e.data.value&&e.data.value.comingSoon&&!e.data.value.comingSoon.hasSource)}),2),h=p[0],f=(p[1],function(){var t;d({from_screen:l.history.length>1&&l.history[l.history.length-2]||"",context_value:(t={movie_type:e.data.value.type,price_type:e.data.value.priceType},e.data.value&&e.data.value.comingSoon&&(t.comingSoon={message:e.data.value&&e.data.value.comingSoon&&e.data.value.comingSoon.message,hasSource:e.data.value&&e.data.value.comingSoon&&h.showBtnWatching}),t),direct_object_type:"film",direct_object_property:e.data.value.alternateName,direct_object_id:e.data.value._id,event_action:"click",indirect_object_type:"ribbon",indirect_object_id:e.slug,indirect_object_property:e.displayNameVi}),d({from_screen:l.history.length>1&&l.history[l.history.length-2]||"",event_action:"click",direct_object_type:"price",direct_object_id:e.data.value.slug,direct_object_property:"HD",indirect_object_type:"movie",indirect_object_id:e.data.value._id,indirect_object_property:e.data.value.alternateName})}),m=function n(){var i={eventPage:"detail",titleId:e.data.value.titleId};z.pullOfferByAtoken(i,(function(i,o){if(o&&!i){var r=o.data.data.packageDisplay.tvod.find((function(e){return"10"==e.profileCode})).price;d({event_category:"payment",on_screen:"home",event_action:"click",direct_object_type:"button",direct_object_id:r.toString(),direct_object_property:"HD",indirect_object_type:"movie",indirect_object_id:e.data.value.titleId,indirect_object_property:e.data.value.alternateName}),d({event_category:"browse",direct_object_type:"film",on_screen:"home",event_action:"click",indirect_object_type:"ribbon",indirect_object_id:e.data.value.slug,direct_object_id:e.data.value.titleId,direct_object_property:e.data.value.alternateName,indirect_object_property:e.displayNameVi});var c=o;c&&c.data.data.nonPromotionOffers.PROMOTION&&c.data.data.nonPromotionOffers.PROMOTION.length>0?c.data.data.nonPromotionOffers.PROMOTION.map((function(i,o){0==i.totalPriceOffer?a.setNotification({status:!0,type:"popup",dataOffer:c,slug:e.data.value.slug,titleName:e.data.value.alternateName,location:location.pathname,infoMovie:e.data.value,callAgain:n,image:e.data.value.image.posterPortrait}):t.push({pathname:"/rent/"+e.data.value.titleId+"/pay",state:{location:location.pathname,infoMovie:e.data.value}})})):t.push({pathname:"/rent/"+e.data.value.titleId+"/pay",state:{location:location.pathname,infoMovie:e.data.value}})}}))},b=Object(r.j)(),g=[],y=[],v=e.data.value.posterTag;if(v&&v.length>0)for(var O=0;O<v.length;O++){var w={type:v[O]};switch(v[O]){case"tvod_paid":break;case"tvod_dubbing":w.image=u.web.dubbing,g.push(w);break;case"tvod_narration":w.image=u.web.narration,g.push(w);break;case"tvod_exclusive":w.image=u.web.exclusive,y.push(w);break;case"svod_original":w.image=u.web.logoOriginal,y.push(w);break;case"svod_new_episode":w.image=u.web.newEpisode,g.push(w);break;case"svod_full_episode":w.image=u.web.fullEpisode,g.push(w);break;case"svod_exclusive":w.image=u.web.exclusive,y.push(w);break;case"svod_parallel":w.image=u.web.parallel,g.push(w);break;case"svod_dubbing":w.image=u.web.dubbing,g.push(w);break;case"svod_narration":w.image=u.web.narration,g.push(w)}}return Object(o.h)(Es,{isHover:e.data.isHover,ref:b,original:!0},e.data.showAll?Object(o.h)(zs,{typeRibbon:e.typeRibbon},Object(o.h)(c.b,{to:"/browse/rental"},Object(o.h)(Ks,{onError:Al,className:"hover-img",src:e.data.value.image.posterOriginal}),Object(o.h)(rl,null,"XEM TẤT CẢ"))):Object(o.h)(zs,{typeRibbon:e.typeRibbon},Object(o.h)(c.b,{to:"/title/"+e.data.value.slug,onClick:f},Object(o.h)(Ks,{alt:e.data.value.alternateName,onError:Al,className:"hover-img",src:"//assets.glxplay.io/images/poster/w400/h800/".concat(e.data.value.image.posterOriginal)}),Object(o.h)(nl,null),window.localStorage.lang&&"en"==window.localStorage.lang?e.data.value.image.titleOriginalEn&&Object(o.h)(tl,{isHover:e.data.isHover,tvod:!0,src:"//assets.glxplay.io/images/w400/".concat(e.data.value.image.titleOriginalEn)}):e.data.value.image.titleOriginalVn&&Object(o.h)(tl,{isHover:e.data.isHover,tvod:!0,src:"//assets.glxplay.io/images/w400/".concat(e.data.value.image.titleOriginalVn)})),Object(o.h)(Ct.a,{in:e.data.isHover,timeout:500,classNames:"detail",unmountOnExit:!0},Object(o.h)(Ws,{tvod:!0},Object(o.h)("div",{className:"action"},Object(o.h)(hl,{titleId:e.data.value.titleId,hasTrailer:e.data.value.hasTrailer}),h.showBtnWatching&&Object(o.h)(o.b,null,Object(o.h)("div",{className:"border-right"}),Object(o.h)("div",{className:"play-icon ".concat(h.showBtnWatching?"":"disabled"),onClick:function i(o){return function(r){if(window.localStorage.__glxp_token){var c={id:o};f(),z.getDetailMovie(c,(function(r,c){if(!r){var s=c.data,l=s.slug;if(s.cntWatching&&s.cntWatching.goto){var u=_.findIndex(s.containsSeason,(function(e){return e.seasonId==s.cntWatching.goto.seasonId})),d=s.containsSeason[u];if(u<0)return void a.setNotification({status:!0,description:"Không thể kết nối với máy chủ. Thử lại hoặc liên hệ hotline 1800 9090 để được hỗ trợ ",type:"message",callback:i(o)});var p=_.findIndex(d.episode,(function(e){return e.episodeId==s.cntWatching.goto.episodeId})),h=d.episode[p];return l="".concat(s.slug,"?ss=").concat(d.seasonNumber,"&ep=").concat(h.episodeNumber),"inReview"==s.status?(N(),void setTimeout((function(){t.push({pathname:"/watch/"+l,state:{status:!0}})}),850)):void("SVOD"===h.priceType?h.pricePackage.includes("BASIC")&&h.pricePackage.includes("PREMIUM")?n.hasPremium||n.hasBasic?(N(),setTimeout((function(){t.push({pathname:"/watch/"+l})}),850)):t.push({pathname:"/subs/pay",state:{infoMovie:s,location:location.pathname}}):h.pricePackage.includes("PREMIUM")&&(n.hasPremium?(N(),setTimeout((function(){t.push({pathname:"/watch/"+l})}),850)):t.push({pathname:"/subs/pay",state:{infoMovie:s,location:location.pathname}})):(N(),setTimeout((function(){t.push({pathname:"/watch/"+l})}),850)))}if("inReview"==s.status)return N(),void setTimeout((function(){t.push({pathname:"/watch/"+l,state:{status:!0}})}),850);if(s.containsSeason&&s.containsSeason.length>0){var f=s.containsSeason[0].episode[0];return void("SVOD"===f.priceType?f.pricePackage.includes("BASIC")&&f.pricePackage.includes("PREMIUM")?n.hasPremium||n.hasBasic?(N(),setTimeout((function(){t.push({pathname:"/watch/"+s.slug})}),850)):t.push({pathname:"/subs/pay",state:{infoMovie:s,location:location.pathname}}):f.pricePackage.includes("PREMIUM")&&(n.hasPremium?(N(),setTimeout((function(){t.push({pathname:"/watch/"+s.slug})}),850)):t.push({pathname:"/subs/pay",state:{infoMovie:s,location:location.pathname}})):(N(),setTimeout((function(){t.push({pathname:"/watch/"+s.slug})}),850)))}if("SVOD"===s.priceType)s.pricePackage.includes("BASIC")&&s.pricePackage.includes("PREMIUM")?n.hasPremium||n.hasBasic?(N(),setTimeout((function(){t.push({pathname:"/watch/"+l,state:{status:!0}})}),850)):t.push({pathname:"/subs/pay",state:{infoMovie:c.data,location:location.pathname}}):s.pricePackage.includes("PREMIUM")&&(n.hasPremium?(N(),setTimeout((function(){t.push({pathname:"/watch/"+l,state:{status:!0}})}),850)):t.push({pathname:"/subs/pay",state:{infoMovie:c.data,location:location.pathname}}));else if("TVOD"===s.priceType)if(s.rentals)if(s.rentals.ALID&&s.rentals.ALID.includes("@MOB"))a.setNotification({status:!0,type:"TVOD_MOBILE",onSubmit:m});else{var b=Math.round((new Date).getTime()/1e3);s.rentals.expireAt>=b&&(N(),setTimeout((function(){t.push("/watch/"+s.slug)}),850))}else{var g={eventPage:"detail",titleId:o};z.pullOfferByAtoken(g,(function(n,i){i&&!n&&(i.data.data.nonPromotionOffers.tvod.PROMOTION.length>0?i.data.data.nonPromotionOffers.tvod.PROMOTION.map((function(n,o){var r,c,l;0==n.totalPriceOffer?a.setNotification((r={image:e.data.value.image.posterPortrait,status:!0,type:"popup",dataOffer:i,slug:s.slug,titleName:s.alternateName,infoMovie:s,location:location.pathname},c="image",l=e.data.value.image.posterPortrait,c in r?Object.defineProperty(r,c,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[c]=l,r)):t.push({pathname:"/rent/"+s.titleId+"/pay",state:{infoMovie:s,location:location.pathname}})})):t.push({pathname:"/rent/"+s.titleId+"/pay",state:{infoMovie:s,location:location.pathname}}))}))}else N(),setTimeout((function(){t.push("/watch/"+s.slug)}),850)}}))}else n.reLogin()}}(e.data.value.titleId)},Object(o.h)(ie,null),Object(o.h)("div",{className:"note-list"},Object(o.h)("div",{className:"clip-path"},Object(o.h)("div",{className:"path"}),Object(o.h)("div",{className:"txt-path"},"Xem phim"))))),Object(o.h)("div",{className:"border-right"}),"Mylist"==e.typeRibbon?Object(o.h)("div",{className:"add-icon",onClick:function(t){return function(n){b.current.setAttribute("style","transition-duration: 0ms"),e.setClickArrow(!1),setTimeout((function(){e.setClickArrow(!0),b.current&&b.current.setAttribute("style","")}),700),i.deleteMyList(t)}}(e.data.value.titleId)},Object(o.h)(oe,null),Object(o.h)("div",{className:"note-list"},Object(o.h)("div",{className:"clip-path"},Object(o.h)("div",{className:"path"}),Object(o.h)("div",{className:"txt-path"},"Danh sách của tôi")))):Object(o.h)(vl,{titleId:e.data.value.titleId,id:e.data.value._id})),Object(o.h)(c.b,{className:"link",to:"/title/"+e.data.value.slug,onClick:f},Object(o.h)(Hs,{center:!0},window.localStorage.lang&&"en"==window.localStorage.lang?e.data.value.name:e.data.value.alternateName),Object(o.h)(Fs,{center:!0},e.data.value.genre.map((function(e){return Object(o.h)(qs,null,e)})),e.data.value.duration&&Object(o.h)(qs,null,e.data.value.duration),e.data.value.contentRating&&Object(o.h)(qs,null,e.data.value.contentRating),"TVOD"===e.data.value.priceType&&Object(o.h)(qs,null,"Phim thuê"),e.data.value.pricePackage&&"SVOD"==e.data.value.priceType&&e.data.value.pricePackage.includes("PREMIUM")&&!e.data.value.pricePackage.includes("BASIC")&&Object(o.h)(qs,null,"Cao cấp")))))))},El=function(e){e.target.src=ee.a},Dl=function(e){var t=Object(Ve.useTracking)().trackEvent,n=Object(r.b)(F),i=e.data.value.url||"";i=i.replace("search","");var a=Object(r.j)();return Object(o.h)(Es,{isHover:e.data.isHover,ref:a},Object(o.h)(zs,{typeRibbon:e.typeRibbon},Object(o.h)(c.b,{to:"/browse/collection"+i+"&title="+e.data.value.alternateName,onClick:function(){t({from_screen:n.history.length>1&&n.history[n.history.length-2]||"",direct_object_type:"rbcollection",direct_object_id:e.data.value._id,direct_object_property:e.data.value.alternateName,event_action:"click",indirect_object_type:"ribbon",indirect_object_id:e.slug,indirect_object_property:e.displayNameVi})}},Object(o.h)("img",{alt:e.data.value.alternateName,onError:El,className:"hover-img",src:"//assets.glxplay.io/images/w400/".concat(e.data.value.posterLandscape)}),Object(o.h)(ol,null,e.data.value.alternateName))))};function Ll(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var zl=function(e){e.target.src=ee.a},Ul=function(e){Object(s.g)();var t=xs(),n=(Object(r.b)(Oc),Object(r.b)(Lc)),i=Object(r.b)(F),a=(Object(r.b)(Eo),Object(Ve.useTracking)().trackEvent),l=Ll(Object(r.k)({showBtnWatching:!(e.data.value&&e.data.value.comingSoon&&!e.data.value.comingSoon.hasSource)}),2),u=l[0],d=(l[1],function(){var t;a({from_screen:i.history.length>1&&i.history[i.history.length-2]||"",context_value:(t={movie_type:e.data.value.type,price_type:e.data.value.priceType},e.data.value&&e.data.value.comingSoon&&(t.comingSoon={message:e.data.value&&e.data.value.comingSoon&&e.data.value.comingSoon.message,hasSource:e.data.value&&e.data.value.comingSoon&&u.showBtnWatching}),t),direct_object_type:"film",direct_object_property:e.data.value.alternateName,direct_object_id:e.data.value._id,event_action:"click",indirect_object_type:"ribbon",indirect_object_id:e.slug,indirect_object_property:e.displayNameVi}),a({from_screen:i.history.length>1&&i.history[i.history.length-2]||"",event_action:"click",direct_object_type:"price",direct_object_id:e.data.value.slug,direct_object_property:"HD",indirect_object_type:"movie",indirect_object_id:e.data.value._id,indirect_object_property:e.data.value.alternateName})}),p=Object(r.j)(),h=[],f=[],m=e.data.value.posterTag;if(m&&m.length>0)for(var b=0;b<m.length;b++){var g={type:m[b]};switch(m[b]){case"tvod_paid":g.image=t.web.paid,h.push(g);break;case"tvod_dubbing":g.image=t.web.dubbing,h.push(g);break;case"tvod_narration":g.image=t.web.narration,h.push(g);break;case"tvod_exclusive":g.image=t.web.exclusive,f.push(g);break;case"svod_original":g.image=t.web.logoOriginal,f.push(g);break;case"svod_new_episode":g.image=t.web.newEpisode,h.push(g);break;case"svod_full_episode":g.image=t.web.fullEpisode,h.push(g);break;case"svod_exclusive":g.image=t.web.exclusive,f.push(g);break;case"svod_parallel":g.image=t.web.parallel,h.push(g);break;case"svod_dubbing":g.image=t.web.dubbing,h.push(g);break;case"svod_narration":g.image=t.web.narration,h.push(g)}}return Object(o.h)(Es,{isHover:e.data.isHover,ref:p},Object(o.h)(zs,{typeRibbon:e.typeRibbon},Object(o.h)(c.b,{to:"/title/"+e.data.value.slug,onClick:d},Object(o.h)("img",{alt:e.data.value.alternateName,onError:zl,className:"hover-img",src:"//assets.glxplay.io/images/w400/".concat(e.data.value.image.posterLandscape)})),f.map((function(e){return Object(o.h)(ll,{key:e.type,src:e.image})})),Object(o.h)(cl,null,h.map((function(e){return Object(o.h)(sl,{key:e.type,src:e.image})}))),Object(o.h)(Ct.a,{in:e.data.isHover,timeout:500,classNames:"overlay",unmountOnExit:!0},Object(o.h)(c.b,{to:"/title/"+e.data.value.slug,className:"overlay",onClick:d},Object(o.h)(Vs,null))),Object(o.h)(c.b,{to:"/title/"+e.data.value.slug,onClick:d},Object(o.h)(Ct.a,{in:e.data.isHover,timeout:500,classNames:"detail",unmountOnExit:!0},Object(o.h)(Ws,null,Object(o.h)(Hs,null,window.localStorage.lang&&"en"==window.localStorage.lang?e.data.value.name:e.data.value.alternateName),Object(o.h)(Fs,null,e.data.value.genre.map((function(e){return Object(o.h)(qs,null,e)})),e.data.value.duration&&Object(o.h)(qs,null,e.data.value.duration),e.data.value.contentRating&&Object(o.h)(qs,null,e.data.value.contentRating),"TVOD"===e.data.value.priceType&&Object(o.h)(qs,null,"Phim thuê"),e.data.value.pricePackage&&"SVOD"==e.data.value.priceType&&e.data.value.pricePackage.includes("PREMIUM")&&!e.data.value.pricePackage.includes("BASIC")&&Object(o.h)(qs,null,"Cao cấp"))))),Object(o.h)(Us,null,Object(o.h)(Ct.a,{in:e.data.isHover,timeout:500,classNames:"action",unmountOnExit:!0},Object(o.h)("div",{className:"action"},Object(o.h)(hl,{titleId:e.data.value.titleId,hasTrailer:e.data.value.hasTrailer}),Object(o.h)("div",{className:"border-right"}),"Mylist"==e.typeRibbon?Object(o.h)("div",{className:"add-icon",onClick:function(e){return function(t){p.current.setAttribute("style","transition-duration: 0ms"),setTimeout((function(){p.current&&p.current.setAttribute("style","")}),700),n.deleteMyList(e)}}(e.data.value.titleId)},Object(o.h)(oe,null),Object(o.h)("div",{className:"note-list"},Object(o.h)("div",{className:"clip-path"},Object(o.h)("div",{className:"path"}),Object(o.h)("div",{className:"txt-path"},"Danh sách của tôi")))):Object(o.h)(vl,{titleId:e.data.value.titleId,id:e.data.value._id}))))))};function Vl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vl(Object(n),!0).forEach((function(t){Hl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ql(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ql(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ql(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Wl=!0,Kl=function(e){var t,n=e.data,i=150;"Original"!=e.typeRibbon&&"TVOD"!=e.typeRibbon||(i=120);var a=Fl(Object(r.k)(0),2),c=a[0],s=a[1],l=Object(r.j)(),u=function(){var t,n=[];e.listActive.map((function(i,a){var o;"first"==e.type?t=a==e.index?{"z-index":4,transform:"translate3d(".concat(c/2,"px, 0, 0)"),"transition-duration":"500ms"}:a>e.index?{"z-index":4,transform:"translate3d(".concat(c,"px, 0, 0)"),"transition-duration":"500ms"}:{"transition-duration":"500ms"}:"last"==e.type?t=a==e.index?{"z-index":4,transform:"translate3d(-".concat(c/2,"px, 0, 0)"),"transition-duration":"500ms"}:a<e.index?{"z-index":4,transform:"translate3d(-".concat(c,"px, 0, 0)"),"transition-duration":"500ms"}:{"transition-duration":"500ms"}:a==e.index?t={"z-index":4,transform:"translate3d(0px, 0, 0)","transition-duration":"500ms"}:a<e.index?t={"z-index":4,transform:"translate3d(-".concat(c/2,"px, 0, 0)"),"transition-duration":"500ms"}:a>e.index&&(t={"z-index":4,transform:"translate3d(".concat(c/2,"px, 0, 0)"),"transition-duration":"500ms"}),o=Bl(Bl({},i),{},{animation:t,isHover:a==e.index}),n.push(o)})),e.setItemHover(n)},d=function(){if(Wl){clearTimeout(t);var n=[],i={"z-index":4,transform:"translate3d(0px, 0, 0)","transition-duration":"500ms"};e.listActive.map((function(e,t){var a=Bl(Bl({},e),{},{animation:i,isHover:!1});n.push(a)})),e.setItemHover(n)}},p=function(){setTimeout((function(){if(l&&l.current){var e=l.current.clientWidth;s(e/100*i-e)}}),100)};return Object(r.d)((function(){var e=l.current.clientWidth;return s(e/100*i-e),$(window).on("resize",m.a.debounce(p,500)),function(){$(window).off("resize",m.a.debounce(p,500)),Wl=!1}}),[]),Object(o.h)(Cs,{className:"slide-active",ref:l,style:n.animation?n.animation:"",slideShow:e.slideShow,typeRibbon:e.typeRibbon},Object(o.h)(Ds,{onMouseEnter:(e.index,function(n){Wl=!0,e.hoverActive?u():t=setTimeout((function(){e.setHoverActive(!0),u()}),500)}),onMouseLeave:d},"TopTen"==e.typeRibbon?Object(o.h)("div",{className:"placeholder-topten"}):Object(o.h)("img",{className:"img-placeholder",alt:n.value.alternateName,src:"Original"==e.typeRibbon||"TVOD"==e.typeRibbon?js.a:ee.a}),function(){switch(e.typeRibbon){case"Original":return Object(o.h)(_l,{slug:e.slug,data:n,typeRibbon:e.typeRibbon,displayNameVi:e.displayNameVi});case"TVOD":return Object(o.h)(Ml,{slug:e.slug,data:n,typeRibbon:e.typeRibbon,displayNameVi:e.displayNameVi});case"ComingSoon":return Object(o.h)(Ul,{slug:e.slug,data:n,typeRibbon:e.typeRibbon,displayNameVi:e.displayNameVi});case"TopTen":return Object(o.h)(Tl,{slug:e.slug,displayNameVi:e.displayNameVi,data:n,index:e.index,unHoverSlideItem:d,typeRibbon:e.typeRibbon,defaultIndex:e.defaultIndex});case"Collection":return Object(o.h)(Dl,{slug:e.slug,displayNameVi:e.displayNameVi,data:n,unHoverSlideItem:d,typeRibbon:e.typeRibbon});default:return Object(o.h)(xl,{slug:e.slug,displayNameVi:e.displayNameVi,data:n,unHoverSlideItem:d,typeRibbon:e.typeRibbon,percent:e.percent,textTimeRemain:e.textTimeRemain,textEpisode:e.textEpisode})}}()))};function Gl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Xl=function(e){var t=Object(Ve.useTracking)().trackEvent,n=Object(r.b)(F),i=Object(r.b)(Xc).state.isSquare,a=xs(),s=e.item,l=function(t){t.target.src="Original"===e.typeRibbon?js.a:ee.a},u=Gl(Object(r.k)({showBtnWatching:!(e.item&&e.item.comingSoon&&!e.item.comingSoon.hasSource)}),2),d=u[0],p=(u[1],[]),h=[],f=e.item.posterTag;if(f&&f.length>0)for(var m=0;m<f.length;m++){var g={type:f[m]};switch(f[m]){case"tvod_paid":g.image=a.webMob.paid,p.push(g);break;case"tvod_dubbing":g.image=a.webMob.dubbing,p.push(g);break;case"tvod_narration":g.image=a.webMob.narration,p.push(g);break;case"tvod_exclusive":g.image=a.webMob.exclusive,h.push(g);break;case"svod_original":g.image=a.webMob.logoOriginal,h.push(g);break;case"svod_new_episode":g.image=a.webMob.newEpisode,p.push(g);break;case"svod_full_episode":g.image=a.webMob.fullEpisode,p.push(g);break;case"svod_exclusive":g.image=a.webMob.exclusive,h.push(g);break;case"svod_parallel":g.image=a.webMob.parallel,p.push(g);break;case"svod_dubbing":g.image=a.webMob.dubbing,p.push(g);break;case"svod_narration":g.image=a.webMob.narration,p.push(g)}}var y=function(){return Object(o.h)(al,null,s.showAll?Object(o.h)(o.b,null,Object(o.h)(Ks,{onError:l,className:"hover-img",src:s.image.posterOriginal}),Object(o.h)(rl,null,"XEM TẤT CẢ")):Object(o.h)(o.b,null,Object(o.h)(Ks,{alt:s.alternateName,onError:l,className:"hover-img",src:"//assets.glxplay.io/images/poster/w400/h800/".concat(s.image.posterOriginal)}),Object(o.h)(nl,null),window.localStorage.lang&&"en"==window.localStorage.lang?s.image.titleOriginalEn&&Object(o.h)(tl,{src:"//assets.glxplay.io/images/w400/".concat(s.image.titleOriginalEn)}):s.image.titleOriginalVn&&Object(o.h)(tl,{src:"//assets.glxplay.io/images/w400/".concat(s.image.titleOriginalVn)})))},v=function(){switch(e.typeRibbon){case"TVOD":case"Original":return y();case"TopTen":return Object(o.h)(zs,{index:e.defaultIndex.toString(),topTen:!0,typeRibbon:e.typeRibbon},Object(o.h)("div",{className:"topten-image"},Object(o.h)("img",{alt:s.alternateName,onError:l,className:"hover-img-topten",src:"//assets.glxplay.io/images/w400/".concat(s.image.posterLandscape)}),h.map((function(e){return Object(o.h)(ll,{key:e.type,src:e.image})})),Object(o.h)(cl,null,p.map((function(e){return Object(o.h)(sl,{key:e.type,src:e.image})})))));case"Collection":return Object(o.h)(zs,{collection:!0,typeRibbon:e.typeRibbon},Object(o.h)("img",{alt:s.alternateName,className:"hover-img",src:"//assets.glxplay.io/images/w400/".concat(s.posterLandscape),onError:l}),Object(o.h)(ol,null,s.alternateName));default:return s.showAll?Object(o.h)(o.b,null,Object(o.h)("img",{className:"img-landscape",onError:l,src:s.image.posterLandscape}),Object(o.h)(rl,null,"XEM TẤT CẢ")):Object(o.h)(o.b,null,Object(o.h)("img",{className:"img-landscape",onError:l,src:"//assets.glxplay.io/images/w400/".concat(s.image.posterLandscape)}),h.map((function(e){return Object(o.h)(ll,{key:e.type,src:e.image})})),Object(o.h)(cl,null,p.map((function(t){if("tvod_paid"!==t.type||!("Rentals"===e.typeRibbon||"movie_rental"===n.lastpage||localStorage.lastpage.indexOf("tvod-rental")>=0))return Object(o.h)(sl,{key:t.type,src:t.image})}))))}},O=s.url||"";return O=O.replace("search",""),s.showAll?Object(o.h)(c.b,{to:"TVOD"===e.typeRibbon?"/browse/rental":"/browse/ribbon/"+e.slug,className:"slide-item"},v()):Object(o.h)(c.b,{to:"Collection"===e.typeRibbon?"/browse/collection"+O+"&title="+s.alternateName:"/title/"+s.slug,className:i&&!b.isTablet?"slide-item-square":"slide-item",onClick:function(){var i;t({from_screen:n.history.length>1&&n.history[n.history.length-2]||"",context_value:(i={movie_type:e.item.type,price_type:e.item.priceType},e.item&&e.item.comingSoon&&(i.comingSoon={message:e.item&&e.item.comingSoon&&e.item.comingSoon.message,hasSource:e.item&&e.item.comingSoon&&d.showBtnWatching}),i),direct_object_type:"Collection"===e.typeRibbon?"rbcollection":"film",direct_object_id:"Collection"===e.typeRibbon?s.id:s.titleId,direct_object_property:s.alternateName,event_action:"click",indirect_object_type:"ribbon",indirect_object_id:e.slug,indirect_object_property:e.displayNameVi})}},v(),e.percent&&Object(o.h)(Zs,null,Object(o.h)(Qs,null),Object(o.h)(Js,{style:"width: ".concat(e.percent,"%")})))};function Yl(e){return function(e){if(Array.isArray(e))return Zl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Zl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zl(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ql=function(e){var t=e[0],n=e.length>1?Yl(e[1]):[];return e[2]&&n.push(e[2][0]),{prev:[],active:t,next:n}},Jl=function(e,t){return!(e.length<=t)&&!b.isMobile};function eu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||ou(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function nu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tu(Object(n),!0).forEach((function(t){iu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function au(e){return function(e){if(Array.isArray(e))return ru(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ou(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ou(e,t){if(e){if("string"==typeof e)return ru(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ru(e,t):void 0}}function ru(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var cu=Be()((function(e){return{indirect_object_type:"ribbon",indirect_object_id:e.slug,indirect_object_property:e.ribbonType,event_action:"click"}}))((function(e){var t=!!(e.showAll&&e.size&&e.data.length>e.size-1),n="TVOD"===e.ribbonType?au(e.data).splice(0,40):au(e.data).splice(0,19);b.isMobile&&t&&n.push({image:{posterLandscape:"//assets.glxplay.io/web/responsive/w400/poster-landscape-see-more.png",posterOriginal:"//assets.glxplay.io/web/responsive/w400/poster-original-see-more.png"},showAll:!0});var i=function(){for(var n=[],i=0;i<e.data.length;i++){var a={value:e.data[i],index:i,animation:null,isHover:!1};if(t&&(i===e.size-1&&(a=nu(nu({},a),{},{value:{image:{posterLandscape:"//assets.glxplay.io/web/responsive/w400/poster-landscape-see-more.png",posterOriginal:"//assets.glxplay.io/web/responsive/w400/poster-original-see-more.png"}},showAll:!0})),i>e.size-1))break;n.push(a)}return n},a=Object(r.j)(i()),c=eu(Object(r.k)(function(e){if(b.isMobile)return b.isTablet?4:2;var t=window.innerWidth,n=5;switch("TopTen"==e&&(n=4),!0){case t<576:n=2;break;case t<768:n=3;break;case t<1200:n=4}return n}(e.ribbonType)),2),s=c[0],l=c[1],u=Object(r.j)(m.a.chunk(a.current,s)),d=Object(r.j)(),p=eu(Object(r.k)(!1),2),h=p[0],f=p[1],g=eu(Object(r.k)(Jl(a.current,s)),2),y=g[0],v=g[1],O=eu(Object(r.k)(!0),2),w=O[0],j=O[1],x=eu(Object(r.k)({translate:0,active:!0,list:Ql(u.current),currentSlide:0,duration:1e3}),2),k=x[0],_=x[1],S=eu(Object(r.k)(!1),2),I=S[0],N=S[1],T=Object(r.j)(Math.ceil(a.current.length/s)),C=function(e){e=e||"next",h||f(!0);var t=k.list,n=k.currentSlide,i=function(e,t,n){return"next"===n?e.next.length>t?-100/t*(e.next.length-1):-100/t*e.next.length:e.prev.length>t?100/t*(e.prev.length-1):100/t*e.prev.length}(t,s,e),o=n;"next"===e?o+=1:o-=1,_(nu(nu({},k),{},{currentSlide:o,active:!0,translate:k.translate+i})),setTimeout((function(){if(0===o&&u.current[0].length<s&&(u.current=m.a.chunk(a.current,s)),o===T.current-1&&u.current[T.current-1].length<s){var e=au(a.current),t=s,n=e.length%t;u.current=n?[e.slice(0,n)].concat(au(m.a.chunk(e.slice(n),t))):m.a.chunk(e,t)}var i=function(e,t){var n=[],i=[],a=e[t];switch(t){case 0:i=Yl(e[t+1]),e[t+2]&&i.push(e[t+2][0]);break;case e.length-1:n=Yl(e[t-1]),e[t-2]&&n.unshift(e[t-2][e[t-2].length-1]);break;default:i=Yl(e[t+1]),e[t+2]&&i.push(e[t+2][0]),n=Yl(e[t-1]),e[t-2]&&n.unshift(e[t-2][e[t-2].length-1])}return{prev:n,active:a,next:i}}(u.current,o),r=function(e,t){var n=0;return 0===e.prev.length?n:-(n=100/t*e.prev.length)}(i,s);_(nu(nu({},k),{},{currentSlide:o,active:!1,translate:r,list:i}))}),k.duration)},P=function(e){_(nu(nu({},k),{},{list:nu(nu({},k.list),{},{active:e})}))},A=Object(r.j)(),M=function(){var t=window.innerWidth,n=5;switch("TopTen"==e.ribbonType&&(n=4),!0){case t<=576:n=2;break;case t<=768&&t>576:n=3;break;case t<=1200&&t>768:n=4}l(n)};Object(r.d)((function(){if(!b.isMobile)return $(window).on("resize",m.a.debounce(M,500)),function(){$(window).off("resize",m.a.debounce(M,500))}}),[]),Object(r.d)((function(){b.isMobile&&(A.current.scrollLeft=0),a.current=i(),u.current=m.a.chunk(a.current,s),T.current=Math.ceil(a.current.length/s),f(!1),v(Jl(a.current,s)),_({translate:0,active:!0,list:Ql(u.current),currentSlide:0,duration:1e3})}),[e.data,s]);var E=k.list,D=k.currentSlide;return Object(o.h)(ks,{ref:d,className:"row-container","data-list":e.slug,id:"row-".concat(e.index)},Object(o.h)(_s,null,Object(o.h)(Ss,null,b.isMobile?Object(o.h)(Bs,{slideShow:s,ref:A,topTen:"TopTen"===e.ribbonType},n.map((function(t,n){var i=null;return t.extra&&"CntWatching"==e.ribbonType&&(i=t.extra.continueAt/t.extra.duration*100),Object(o.h)(Xl,{typeRibbon:e.ribbonType,item:t,defaultIndex:n,percent:i,slug:e.slug,displayNameVi:e.displayNameVi})}))):Object(o.h)(Is,{onMouseLeave:function(){N(!1)}},y&&Object(o.h)(As,{active:D>0,onClick:function(){w&&(j(!1),C("prev"),setTimeout((function(){j(!0)}),k.duration))},onMouseEnter:function(){return N(!1)}},Object(o.h)(Sc,null)),Object(o.h)(Ns,null,T.current>1&&Object(o.h)(Ls,{className:"slide-dots"},au(Array(T.current)).map((function(e,t){return Object(o.h)(Rs,{key:t,active:D===t})}))),Object(o.h)(Ts,{swiped:h,animate:k.active,translate:k.translate,duration:k.duration,clickArrow:w},E.prev.map((function(t,n){var i=null;t.value.extra&&"CntWatching"==e.ribbonType&&(i=t.value.extra.continueAt/t.value.extra.duration*100);var r=m.a.findIndex(a.current,{value:{titleId:t.value.titleId}});return Object(o.h)(ul,{index:n,data:t,slideShow:s,type:e.ribbonType,percent:i,titleOriginal:e.titleOriginal,defaultIndex:r})})),E.active.map((function(t,n){var i,r=E.active.length-1;i=0==n?"first":n==r?"last":"center";var c=null,l=null,u=null;if(t.value.extra&&"CntWatching"==e.ribbonType){c=t.value.extra.continueAt/t.value.extra.duration*100;var d=Math.floor((t.value.extra.duration-t.value.extra.continueAt)/60);l="Còn ".concat(d," phút"),t.value.extra.goto&&t.value.extra.goto.message&&(u=t.value.extra.goto.message)}var p=m.a.findIndex(a.current,{value:{titleId:t.value.titleId}});return Object(o.h)(Kl,{key:t.value._id,setHoverActive:N,hoverActive:I,index:n,data:t,type:i,setItemHover:P,listActive:E.active,slideShow:s,typeRibbon:e.ribbonType,setClickArrow:j,textTimeRemain:l,textEpisode:u,percent:c,titleOriginal:e.titleOriginal,hasTrailer:t.value.hasTrailer,defaultIndex:p,displayNameVi:e.displayNameVi,slug:e.slug})})),E.next.map((function(t,n){var i=null;t.value.extra&&"CntWatching"==e.ribbonType&&(i=t.value.extra.continueAt/t.value.extra.duration*100);var r=m.a.findIndex(a.current,{value:{titleId:t.value.titleId}});return Object(o.h)(ul,{index:n,data:t,slideShow:s,type:e.ribbonType,percent:i,titleOriginal:e.titleOriginal,defaultIndex:r})})))),y&&Object(o.h)(Ms,{active:D<T.current-1,onClick:function(){w&&(j(!1),C("next"),setTimeout((function(){j(!0)}),k.duration))},onMouseEnter:function(){return N(!1)}},Object(o.h)(Cc,null))))))}));function su(){return(su=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var lu=function(e){return Object(o.h)("svg",su({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:24,height:24,viewBox:"0 0 24 24"},e),Object(o.h)("defs",null,Object(o.h)("path",{id:"prefix__a",d:"M0 0h24v24H0z"})),Object(o.h)("g",{fill:"none",fillRule:"evenodd"},Object(o.h)("mask",{id:"prefix__b",fill:"#fff"},Object(o.h)("use",{xlinkHref:"#prefix__a"})),Object(o.h)("path",{fill:"#FFF",d:"M7.973 0l-2.83 2.83 9.17 9.17-9.17 9.17L7.973 24l12-12z",mask:"url(#prefix__b)"})))},uu=Pe.a.div.withConfig({displayName:"style__WrapTitle",componentId:"sc-19ylk1h-0"})(["display:flex;align-items:center;margin:0 4% 1.111vw;"]),du=Pe.a.div.withConfig({displayName:"style__Title",componentId:"sc-19ylk1h-1"})(["font-size:1.389vw;font-weight:bold;position:relative;color:#fff;text-decoration:none;box-sizing:initial;@media (max-width:768px){font-size:14px;}svg{width:1.667vw;height:1.667vw;position:absolute;top:50%;left:100%;padding-left:0.833vw;transform:translateY(-50%);transition:300ms;cursor:pointer;box-sizing:initial;@media (max-width:768px){padding-left:10px;width:14px;height:14px;}}&:hover{svg{padding-left:1.667vw;}}"]);function pu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var fu=function(e){var t,n=Object(Ve.useTracking)().trackEvent,i=q(),a=pu(Object(r.k)(null),2),s=a[0],l=a[1];Object(r.d)((function(){var t;t=e.data.slug,z.getRibbon(t,{output:"med_info",size:30},(function(e,t){var n=t&&t.data&&t.data.docs&&t.data.docs.slice(0,20);l(n)}))}),[]);return s&&s.length>0&&Object(o.h)("div",{className:"ribbon-landscape"},Object(o.h)(uu,null,e.data.hideViewMore?Object(o.h)(du,null,e.data.displayNameVi):Object(o.h)(c.b,{to:{pathname:"/browse/ribbon/"+e.data.slug,state:{prevPath:location.pathname}},className:"link",onClick:function(){n({from_screen:i.history.length>1&&i.history[i.history.length-2]||"",event_action:"click",direct_object_type:"button",direct_object_id:"explore_all",indirect_object_type:"ribbon",indirect_object_id:e.data.slug,indirect_object_property:e.data.displayNameVi})}},Object(o.h)(du,null,e.data.displayNameVi,Object(o.h)(lu,null)))),Object(o.h)(cu,{displayNameVi:null===(t=e.data)||void 0===t?void 0:t.displayNameVi,data:s,slug:e.data.slug,index:e.index,ribbonType:e.type,size:20,showAll:!0}))};function mu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var gu=function(e){var t=mu(Object(r.k)(null),2),n=t[0],i=t[1];return Object(r.d)((function(){var t;t=e.data.slug,z.getRibbon(t,{output:"med_info"},(function(e,t){var n=t&&t.data&&t.data;i(n)}))}),[]),n&&n.length>0&&Object(o.h)("div",{className:"ribbon-collection"},Object(o.h)(uu,null,Object(o.h)(du,null,e.data.displayNameVi)),Object(o.h)(cu,{displayNameVi:e.displayTitle,data:n,slug:e.data.slug,index:e.index,ribbonType:e.type}))};function yu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ou=function(e){var t=yu(Object(r.k)(null),2),n=t[0],i=t[1];return Object(r.d)((function(){var t;t=e.data.slug,z.getRibbon(t,{output:"med_info",size:40},(function(e,t){if(!e){var n=t&&t.data&&t.data.docs&&t.data.docs.slice(0,5);i(n)}}))}),[]),n&&n.length>0&&Object(o.h)("div",{className:"ribbon-top-ten"},Object(o.h)(uu,null,Object(o.h)(du,null,e.data.displayNameVi)),Object(o.h)(cu,{displayNameVi:e.data.displayNameVi,data:n,slug:e.data.slug,index:e.index,ribbonType:e.type}))};function wu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ju(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ju(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ju(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var xu=function(e){var t=wu(Object(r.k)({data:null}),2),n=t[0],i=t[1];return Object(r.d)((function(){var t;t=e.data.slug,z.getRibbon(t,{output:"med_info",size:40,rbtype:"Original"},(function(e,t){if(!e){var n=t.data.docs;i({data:n.slice(0,40)})}}))}),[]),n.data&&n.data.length>0&&Object(o.h)("div",{className:"ribbon-original"},Object(o.h)(uu,null,Object(o.h)(du,null,e.data.displayNameVi,Object(o.h)(lu,null))),Object(o.h)(cu,{displayNameVi:e.displayTitle,data:n.data,slug:e.data.slug,index:e.index,ribbonType:e.type}))};n(863);function ku(e){return(ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Su(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Iu(e,t){return(Iu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Cu(e);if(t){var a=Cu(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Tu(this,n)}}function Tu(e,t){return!t||"object"!==ku(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cu(e){return(Cu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Iu(e,t)}(r,e);var t,n,i,a=Nu(r);function r(){return _u(this,r),a.apply(this,arguments)}return t=r,(n=[{key:"render",value:function(e){return null==e.type?Object(o.h)("div",{className:"description text-light"},e.content):Object(o.h)("div",{className:"description "+e.type},e.content)}}])&&Su(t.prototype,n),i&&Su(t,i),r}(o.a);n(864);function Au(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Mu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Au(Object(n),!0).forEach((function(t){Eu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Au(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Eu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Du(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Lu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ru=function(e){var t=Object(r.b)(Lc),n=(Object(Ve.useTracking)().trackEvent,Du(Object(r.k)({isAdd:!0,loading:!1}),2)),i=n[0],a=n[1];return Object(r.d)((function(){!function(e,t){if(e){var n=e.some((function(e){return e.titleId===t}));a({isAdd:!n,loading:!1})}}(t.state.data,e.titleId)}),[t.state.data]),i.isAdd?Object(o.h)(me,{content:i.loading?"Đang thêm..":"Danh sách của tôi",className:i.loading?"btn-watch-movie disabled":"btn-watch-movie",type:"addList",onClick:function(e){return function(n){a(Mu(Mu({},i),{},{loading:!0})),t.addMyList(e)}}(e.titleId)}):Object(o.h)(me,{content:i.loading?"Đang xoá..":"Danh sách của tôi",className:i.loading?"btn-watch-movie disabled":"btn-watch-movie",type:"deleteList",onClick:function(e){return function(n){a(Mu(Mu({},i),{},{loading:!0})),t.deleteMyList(e)}}(e.titleId)})},zu=Be()((function(e){return{indirect_object_type:"ribbon",indirect_object_id:e.slug,indirect_object_property:e.ribbonType,event_action:"click"}}))((function(e){var t=Object(r.b)(Eo),n=Du(Object(r.k)({data:null,logined:!1,showOfferTvod:!1,isLoading:!1}),2),i=n[0],a=n[1],l=Du(Object(r.k)({tvod:{status:!1,price:null,dataOffer:null}}),2),u=l[0],d=l[1],p=Object(Ve.useTracking)().trackEvent,h=Du(Object(r.k)({statusPopupFree:!1}),2),f=(h[0],h[1],Du(Object(r.k)(null),2)),m=f[0],b=f[1],g=Du(Object(r.k)(null),2),y=g[0],v=g[1],O=Object(r.b)(Oc),w=Object(s.g)();Object(r.d)((function(){var t;t=e.slug,z.getRibbon(t,{output:"med_info",size:1},(function(e,t){if(!e){if(t.data.docs.length<1)return;var n=t.data.docs[0];window.localStorage.lang&&"vi"==window.localStorage.lang&&n.image.titleDetailVn?b(n.image.titleDetailVn):window.localStorage.lang&&"en"==window.localStorage.lang&&n.image.titleDetailEn?b(n.image.titleDetailEn):window.localStorage.lang&&"en"==window.localStorage.lang&&n.name?v(n.name):v(n.alternateName),a(Mu(Mu({},i),{},{data:n})),"TVOD"===n.priceType&&z.getDetailMovie({id:n.titleId},(function(e,t){if("TVOD"==t.data.priceType)if(t.data.rentals){var n=Math.round((new Date).getTime()/1e3);t.data.rentals.expireAt>=n&&d({tvod:{status:!1,price:null}})}else{var i={eventPage:"detail",titleId:t.data.titleId};z.pullOfferByAtoken(i,(function(e,t){if(t&&!e){var n=t.data.data.packageDisplay.tvod.find((function(e){return"10"==e.profileCode})).price;d({tvod:{status:!0,price:n,dataOffer:t}})}}))}}))}}))}),[]);var j=function(){p({event_category:"browse",direct_object_type:"film",on_screen:"home",event_action:"click",indirect_object_type:"ribbon",indirect_object_id:i.data.slug,direct_object_id:i.data._id,direct_object_property:i.data.alternateName,indirect_object_property:e.displayNameVi})},x=function(){p({event_category:"payment",on_screen:"movie_detail",event_action:"click",direct_object_type:"price",direct_object_id:u.tvod.price.toString(),direct_object_property:"HD",indirect_object_type:"movie",indirect_object_id:i.data._id,indirect_object_property:i.data.alternateName})};return i.data&&Object(o.h)("div",{className:"ribbon-sponsor"},Object(o.h)("div",{className:"row"},Object(o.h)("div",{className:"content-left"},Object(o.h)(c.b,{className:"link",to:"/title/"+i.data.slug,onClick:j},Object(o.h)("div",{className:"ratio-sponsor"},Object(o.h)("img",{src:ee.a,className:"thump-img"}),Object(o.h)(Q,{className:"bg-sponsor",src:"//assets.glxplay.io/images/w1000/"+i.data.image.posterSponsor,placeholder:ee.a})))),Object(o.h)("div",{className:"content-right"},Object(o.h)("div",{className:"content-sponsor"},Object(o.h)(c.b,{className:"link",to:"/title/"+i.data.slug,onClick:j},m?Object(o.h)("img",{className:"title-image",src:"//assets.glxplay.io/images/w400/"+m}):Object(o.h)("h1",{className:"title-content"},y)),Object(o.h)("div",{className:"list-detail"},i.data.datePublished&&Object(o.h)("div",{className:"list-item date-public"},i.data.datePublished),i.data.contentRating&&"Mọi lứa tuổi"!==i.data.contentRating?Object(o.h)("div",{className:"list-item content-rating"},i.data.contentRating):"",i.data.duration&&Object(o.h)("div",{className:"list-item duration"},i.data.duration),i.data.videoQuality&&Object(o.h)("div",{className:"list-item resolution"},"FULLHD"==i.data.videoQuality||"4K"==i.data.videoQuality?"HD":i.data.videoQuality),i.data.priceType&&"TVOD"==i.data.priceType&&Object(o.h)("div",{className:"list-item tvod"},"Phim thuê"),i.data.pricePackage&&"SVOD"==i.data.priceType&&i.data.pricePackage.includes("PREMIUM")&&!i.data.pricePackage.includes("BASIC")&&Object(o.h)("div",{className:"list-item premium"},"Cao cấp"),i.data.voiceOver&&i.data.voiceOver.map((function(e){return Object(o.h)("div",{className:"list-item voice"},e)}))),Object(o.h)("div",{className:"list-genre"},i.data.genre.map((function(e,t){return Object(o.h)(c.b,{to:"/search?genre="+e,className:"genre"},e)}))),Object(o.h)(Pu,{content:i.data.disambiguatingDescription}),i.data.spotlight&&i.data.spotlight.image&&Object(o.h)("div",{className:"spotlight"},Object(o.h)("img",{className:"img-prize",src:"//assets.glxplay.io/images/w200/".concat(i.data.spotlight.image)}),Object(o.h)("div",{className:"prize"},i.data.spotlight.description)),Object(o.h)("div",{className:"link-action"},u.tvod.status?Object(o.h)(me,{onClick:function(){x(),j(),u.tvod.dataOffer&&u.tvod.status&&(u.tvod.dataOffer.data.data.nonPromotionOffers.tvod.PROMOTION.length>0?u.tvod.dataOffer.data.data.nonPromotionOffers.tvod.PROMOTION.map((function(e,n){0==e.totalPriceOffer?t.setNotification({status:!0,type:"popup",dataOffer:u.tvod.dataOffer,slug:i.data.slug,titleName:i.data.alternateName,infoMovie:i.data,location:location.pathname,image:i.data.image.posterPortrait}):w.push({pathname:"/rent/"+i.data.titleId+"/pay",state:{infoMovie:i.data,location:location.pathname}})})):w.push({pathname:"/rent/"+i.data.titleId+"/pay",state:{infoMovie:i.data,location:location.pathname}}))},content:"Thuê phim ".concat(k.parseVND(u.tvod.price)),className:"btn-watch-movie",type:"watch"}):Object(o.h)(me,{content:"Xem phim",type:"watch",onClick:function e(n){return function(i){if(window.localStorage.__glxp_token){j();var a={id:n};z.getDetailMovie(a,(function(i,a){if(!i){var o=a.data,r=o.slug;if(o.cntWatching&&o.cntWatching.goto){var c=_.findIndex(o.containsSeason,(function(e){return e.seasonId==o.cntWatching.goto.seasonId})),s=o.containsSeason[c];if(c<0)return void t.setNotification({status:!0,description:"Không thể kết nối với máy chủ. Thử lại hoặc liên hệ hotline 1800 9090 để được hỗ trợ ",type:"message",callback:e(n)});var l=_.findIndex(s.episode,(function(e){return e.episodeId==o.cntWatching.goto.episodeId})),u=s.episode[l];return r="".concat(o.slug,"?ss=").concat(s.seasonNumber,"&ep=").concat(u.episodeNumber),"inReview"==o.status?void w.push({pathname:"/watch/"+r,state:{status:!0}}):void("SVOD"===u.priceType?u.pricePackage.includes("BASIC")&&u.pricePackage.includes("PREMIUM")?O.hasPremium||O.hasBasic?w.push({pathname:"/watch/"+r}):w.push({pathname:"/subs/pay",state:{infoMovie:o,location:location.pathname}}):u.pricePackage.includes("PREMIUM")&&(O.hasPremium?w.push({pathname:"/watch/"+r}):w.push({pathname:"/subs/pay",state:{infoMovie:o,location:location.pathname}})):w.push({pathname:"/watch/"+r}))}if("inReview"==o.status)return void w.push({pathname:"/watch/"+r,state:{status:!0}});if(o.containsSeason&&o.containsSeason.length>0){var d=o.containsSeason[0].episode[0];return void("SVOD"===d.priceType?d.pricePackage.includes("BASIC")&&d.pricePackage.includes("PREMIUM")?O.hasPremium||O.hasBasic?w.push({pathname:"/watch/"+o.slug}):w.push({pathname:"/subs/pay",state:{infoMovie:o,location:location.pathname}}):d.pricePackage.includes("PREMIUM")&&(O.hasPremium?w.push({pathname:"/watch/"+o.slug}):w.push({pathname:"/subs/pay",state:{infoMovie:o,location:location.pathname}})):w.push({pathname:"/watch/"+o.slug}))}if("SVOD"===o.priceType)o.pricePackage.includes("BASIC")&&o.pricePackage.includes("PREMIUM")?O.hasPremium||O.hasBasic?w.push({pathname:"/watch/"+r,state:{status:!0}}):w.push({pathname:"/subs/pay",state:{infoMovie:a.data,location:location.pathname}}):o.pricePackage.includes("PREMIUM")&&(O.hasPremium?w.push({pathname:"/watch/"+r,state:{status:!0}}):w.push({pathname:"/subs/pay",state:{infoMovie:a.data,location:location.pathname}}));else if("TVOD"===o.priceType)if(o.rentals){var p=Math.round((new Date).getTime()/1e3);o.rentals.expireAt>=p&&w.push("/watch/"+o.slug)}else{var h={eventPage:"detail",titleId:n};z.pullOfferByAtoken(h,(function(e,n){n&&!e&&(n.data.data.nonPromotionOffers.tvod.PROMOTION.length>0?n.data.data.nonPromotionOffers.tvod.PROMOTION.map((function(e,i){0==e.totalPriceOffer?t.setNotification({status:!0,type:"popup",dataOffer:n,slug:o.slug,titleName:o.alternateName,infoMovie:o,location:location.pathname}):w.push({pathname:"/rent/"+o.titleId+"/pay",state:{infoMovie:o,location:location.pathname}})})):w.push({pathname:"/rent/"+o.titleId+"/pay",state:{infoMovie:o,location:location.pathname}}))}))}else w.push("/watch/"+o.slug)}}))}else O.reLogin()}}(i.data.titleId)}),Object(o.h)(Ru,{titleId:i.data.titleId,id:i.data._id}))))))})),Uu=function(e){var t=Object(r.b)(Lc);return t.state.data&&t.state.data.length>0?Object(o.h)("div",{className:"ribbon-landscape"},Object(o.h)(uu,null,Object(o.h)(du,null,e.data&&e.data.displayNameVi?e.data.displayNameVi:"Danh sách phim của bạn")),Object(o.h)(cu,{displayNameVi:e.displayTitle,data:t.state.data.slice(0,40),slug:e.data&&e.data.slug?e.data.slug:"mylist",index:e.data&&e.index?e.index:0,ribbonType:e.data&&e.type?e.type:"Mylist"})):""};function Vu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Bu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Hu=function(e){var t=Vu(Object(r.k)({data:null}),2),n=t[0],i=t[1];return Object(r.d)((function(){var t;t=e.data.slug,z.getRibbon(t,{output:"med_info",size:45},(function(e,t){if(!e){var n=t.data.docs;i({data:n.slice(0,41)})}}))}),[]),n.data&&n.data.length>0&&Object(o.h)("div",{className:"ribbon-tvod"},Object(o.h)(uu,null,e.data.hideViewMore?Object(o.h)(du,null,e.data.displayNameVi):Object(o.h)(c.b,{to:"/browse/rental",className:"link"},Object(o.h)(du,null,e.data.displayNameVi,Object(o.h)(lu,null)))),Object(o.h)(cu,{displayNameVi:e.displayTitle,data:n.data,slug:e.data.slug,index:e.index,size:41,ribbonType:e.type,showAll:!0}))},Fu=n(8),qu=n.n(Fu),Wu=function(){return Object(o.h)("div",{className:"ribbon-loading"},Object(o.h)("div",{className:"title-loading"}),Object(o.h)("div",{className:"ribbon-landscape"},Object(o.h)("img",{src:ee.a,className:"img-loading"}),Object(o.h)("img",{src:ee.a,className:"img-loading"}),Object(o.h)("img",{src:ee.a,className:"img-loading"}),Object(o.h)("img",{src:ee.a,className:"img-loading"}),Object(o.h)("img",{src:ee.a,className:"img-loading"}),Object(o.h)("img",{src:ee.a,className:"img-loading"})))};function Ku(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Gu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ku(Object(n),!0).forEach((function(t){$u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ku(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Zu=function(e){var t=Object(r.b)(Oc).setLoading,n=Xu(Object(r.k)({data:null,showOfferTvod:!1,dataTvod:null,promotions:null}),2),i=n[0],a=n[1],c=Object(s.h)(),l=function(e,t){setSvod({status:e,data:t})};return Object(r.d)((function(){if(!b.isMobile)return $(".nav-all").css({position:"fixed",background:"linear-gradient(to bottom, rgba(16, 16, 16, 1), rgba(16, 16, 16, 0))"}),$(window).scroll((function(e){$(window).scrollTop()>80?$(".nav-all").css({background:"#101010",transition:"all .3s ease 0s"}):$(".nav-all").css({background:"linear-gradient(to bottom, rgba(16, 16, 16, 1), rgba(16, 16, 16, 0))",transition:"all .3s ease 0s"})})),function(){$(".nav-all").css({position:"sticky",background:"#101010"}),$(window).unbind()}}),[]),Object(r.d)((function(){var e,n;window.scrollTo(0,0),e=JSON.parse(localStorage.getItem("profile")),n=e&&e.isKid?"kids":"home",z.getHome(n,(function(e,t){e||a(Gu(Gu({},i),{},{data:t.data.widgets}))})),t(!0),a({data:null,showOfferTvod:!1,dataTvod:null,promotions:null})}),[c.state]),Object(o.h)("div",{className:"library-movies"},i.data&&i.data.map((function(e,t){switch(e.ribbonType){case"Spotlight":return Object(o.h)(Os,{displayTitle:e.displayNameVi,type:"home",showPopupSvod:l,data:e,category:!1,index:t});case"Sponsor":return!b.isMobile&&Object(o.h)(qu.a,{key:t,once:!0,offset:b.isMobile?100:250,height:b.isMobile?100:250,placeholder:Object(o.h)(Wu,null)},Object(o.h)(zu,{displayTitle:e.displayNameVi,slug:e.slug,ribbonType:e.ribbonType,index:t}));case"Mylist":return!b.isMobile&&Object(o.h)(qu.a,{key:t,once:!0,offset:b.isMobile?100:250,height:b.isMobile?100:250,placeholder:Object(o.h)(Wu,null)},Object(o.h)(Uu,{displayTitle:e.displayNameVi,data:e,type:e.ribbonType,index:t}));case"TopTen":return Object(o.h)(qu.a,{key:t,once:!0,offset:b.isMobile?100:250,height:b.isMobile?100:250,placeholder:Object(o.h)(Wu,null)},Object(o.h)(Ou,{displayTitle:e.displayNameVi,data:e,type:e.ribbonType,index:t}));case"Original":return!b.isMobile&&Object(o.h)(qu.a,{key:t,once:!0,offset:b.isMobile?100:250,height:b.isMobile?100:250,placeholder:Object(o.h)(Wu,null)},Object(o.h)(xu,{displayTitle:e.displayNameVi,data:e,type:e.ribbonType,index:t}));case"TVOD":return Object(o.h)(qu.a,{key:t,once:!0,offset:b.isMobile?100:250,height:b.isMobile?100:250,placeholder:Object(o.h)(Wu,null)},Object(o.h)(Hu,{displayTitle:e.displayNameVi,data:e,type:e.ribbonType,index:t}));case"Collection":return Object(o.h)(qu.a,{key:t,once:!0,offset:b.isMobile?100:250,height:b.isMobile?100:250,placeholder:Object(o.h)(Wu,null)},Object(o.h)(gu,{displayTitle:e.displayNameVi,data:e,type:e.ribbonType,index:t}));default:if("Portrait"!==e.ribbonType)return Object(o.h)(qu.a,{key:t,once:!0,offset:b.isMobile?100:250,height:b.isMobile?100:250,placeholder:Object(o.h)(Wu,null)},Object(o.h)(fu,{displayTitle:e.displayNameVi,data:e,type:e.ribbonType,index:t}))}})))};function Qu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ju(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qu(Object(n),!0).forEach((function(t){ed(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ed(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function td(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var id=function(e){var t=Object(r.b)(Oc).setLoading,n=Object(s.g)(),i=td(Object(r.k)({data:null,showOfferTvod:!1,dataTvod:null}),2),a=i[0],c=i[1],l=td(Object(r.k)({status:!1,msg:null}),2);l[0],l[1];return Object(r.d)((function(){window.localStorage.profileKidMode&&"true"===window.localStorage.profileKidMode?n.push("/browse"):(window.scrollTo(0,0),z.getHome("tvseries",(function(e,t){e||c(Ju(Ju({},a),{},{data:t.data.widgets}))})),t(!0))}),[]),Object(r.d)((function(){if(!b.isMobile)return $(".nav-all").css({position:"fixed",background:"linear-gradient(to bottom, rgba(16, 16, 16, 1), rgba(16, 16, 16, 0))"}),$(window).scroll((function(e){$(window).scrollTop()>80?$(".nav-all").css({background:"#101010",transition:"all .3s ease 0s"}):$(".nav-all").css({background:"linear-gradient(to bottom, rgba(16, 16, 16, 1), rgba(16, 16, 16, 0))",transition:"all .3s ease 0s"})})),function(){$(".nav-all").css({position:"sticky",background:"#101010"}),$(window).unbind()}}),[]),Object(o.h)("div",{className:"library-movies"},a.data&&a.data.map((function(e,t){switch(e.ribbonType){case"Spotlight":return Object(o.h)(Os,{data:e,type:"tvseries",category:!0,index:t});case"Sponsor":return!b.isMobile&&Object(o.h)(qu.a,{key:t,once:!0,offset:b.isMobile?100:250,height:b.isMobile?100:250,placeholder:Object(o.h)(Wu,null)},Object(o.h)(zu,{slug:e.slug,ribbonType:e.ribbonType,index:t}));case"Mylist":return!b.isMobile&&Object(o.h)(qu.a,{key:t,once:!0,offset:b.isMobile?100:250,height:b.isMobile?100:250,placeholder:Object(o.h)(Wu,null)},Object(o.h)(Uu,{data:e,type:e.ribbonType,index:t}));case"TopTen":return!b.isMobile&&Object(o.h)(qu.a,{key:t,once:!0,offset:b.isMobile?100:250,height:b.isMobile?100:250,placeholder:Object(o.h)(Wu,null)},Object(o.h)(RibbonTopTen,{data:e,type:e.ribbonType,index:t}));case"Original":return!b.isMobile&&Object(o.h)(qu.a,{key:t,once:!0,offset:b.isMobile?100:250,height:b.isMobile?100:250,placeholder:Object(o.h)(Wu,null)},Object(o.h)(xu,{data:e,type:e.ribbonType,index:t}));default:if("Portrait"!==e.ribbonType)return Object(o.h)(qu.a,{key:t,once:!0,offset:b.isMobile?100:250,height:b.isMobile?100:250,placeholder:Object(o.h)(Wu,null)},Object(o.h)(fu,{data:e,type:e.ribbonType,index:t}))}})))};function ad(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function od(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ad(Object(n),!0).forEach((function(t){rd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ad(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return sd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ld=function(e){var t=Object(r.b)(Oc).setLoading,n=Object(s.g)(),i=cd(Object(r.k)({data:null,showOfferTvod:!1,dataTvod:null}),2),a=i[0],c=i[1];return Object(r.d)((function(){window.localStorage.profileKidMode&&"true"===window.localStorage.profileKidMode?n.push("/browse"):(window.scrollTo(0,0),z.getHome("movie",(function(e,t){e||c(od(od({},a),{},{data:t.data.widgets}))})),t(!0))}),[]),Object(r.d)((function(){if(!b.isMobile)return $(".nav-all").css({position:"fixed",background:"linear-gradient(to bottom, rgba(16, 16, 16, 1), rgba(16, 16, 16, 0))"}),$(window).scroll((function(e){$(window).scrollTop()>80?$(".nav-all").css({background:"#101010",transition:"all .3s ease 0s"}):$(".nav-all").css({background:"linear-gradient(to bottom, rgba(16, 16, 16, 1), rgba(16, 16, 16, 0))",transition:"all .3s ease 0s"})})),function(){$(".nav-all").css({position:"sticky",background:"#101010"}),$(window).unbind()}}),[]),Object(o.h)("div",{className:"library-movies"},a.data&&a.data.map((function(e,t){switch(e.ribbonType){case"Spotlight":return Object(o.h)(Os,{data:e,type:"movie",category:!0,index:t});case"Sponsor":return!b.isMobile&&Object(o.h)(qu.a,{key:t,once:!0,offset:b.isMobile?100:250,height:b.isMobile?100:250,placeholder:Object(o.h)(Wu,null)},Object(o.h)(zu,{slug:e.slug,ribbonType:e.ribbonType,index:t}));case"Mylist":return!b.isMobile&&Object(o.h)(qu.a,{key:t,once:!0,offset:b.isMobile?100:250,height:b.isMobile?100:250,placeholder:Object(o.h)(Wu,null)},Object(o.h)(Uu,{data:e,type:e.ribbonType,index:t}));case"TopTen":return!b.isMobile&&Object(o.h)(qu.a,{key:t,once:!0,offset:b.isMobile?100:250,height:b.isMobile?100:250,placeholder:Object(o.h)(Wu,null)},Object(o.h)(RibbonTopTen,{data:e,type:e.ribbonType,index:t}));case"Original":return!b.isMobile&&Object(o.h)(qu.a,{key:t,once:!0,offset:b.isMobile?100:250,height:b.isMobile?100:250,placeholder:Object(o.h)(Wu,null)},Object(o.h)(xu,{data:e,type:e.ribbonType,index:t}));default:if("Portrait"!==e.ribbonType)return Object(o.h)(qu.a,{key:t,once:!0,offset:b.isMobile?100:250,height:b.isMobile?100:250,placeholder:Object(o.h)(Wu,null)},Object(o.h)(fu,{data:e,type:e.ribbonType,index:t}))}})))};function ud(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function dd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ud(Object(n),!0).forEach((function(t){pd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ud(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var md=function(e){var t=Object(r.b)(Oc).setLoading,n=Object(s.g)(),i=hd(Object(r.k)({data:null,showOfferTvod:!1,dataTvod:null}),2),a=i[0],c=i[1];return Object(r.d)((function(){window.localStorage.profileKidMode&&"true"===window.localStorage.profileKidMode?n.push("/browse"):(window.scrollTo(0,0),z.getHome("tvod",(function(e,t){e||c(dd(dd({},a),{},{data:t.data.widgets}))})),t(!0))}),[]),Object(r.d)((function(){if(!b.isMobile)return $(".nav-all").css({position:"fixed",background:"linear-gradient(to bottom, rgba(16, 16, 16, 1), rgba(16, 16, 16, 0))"}),$(window).scroll((function(e){$(window).scrollTop()>80?$(".nav-all").css({background:"#101010",transition:"all .3s ease 0s"}):$(".nav-all").css({background:"linear-gradient(to bottom, rgba(16, 16, 16, 1), rgba(16, 16, 16, 0))",transition:"all .3s ease 0s"})})),function(){$(".nav-all").css({position:"sticky",background:"#101010"}),$(window).unbind()}}),[]),Object(o.h)("div",{className:"library-movies"},a.data&&a.data.map((function(e,t){return"Spotlight"===e.ribbonType?Object(o.h)("div",null,Object(o.h)(Os,{data:e,type:"TVOD",category:!0,index:t})):"Original"===e.ribbonType?Object(o.h)(qu.a,{key:t,once:!0,offset:b.isMobile?100:250,height:b.isMobile?100:250,placeholder:Object(o.h)(Wu,null)},Object(o.h)(xu,{data:e,type:e.ribbonType,index:t})):"Sponsor"===e.ribbonType?!b.isMobile&&Object(o.h)(qu.a,{key:t,once:!0,offset:b.isMobile?100:250,height:b.isMobile?100:250,placeholder:Object(o.h)(Wu,null)},Object(o.h)(zu,{slug:e.slug,ribbonType:e.ribbonType,index:t})):"Mylist"===e.ribbonType?!b.isMobile&&Object(o.h)(qu.a,{key:t,once:!0,offset:b.isMobile?100:250,height:b.isMobile?100:250,placeholder:Object(o.h)(Wu,null)},Object(o.h)(Uu,{data:e,type:e.ribbonType,index:t})):"Portrait"!==e.ribbonType?Object(o.h)(qu.a,{key:t,once:!0,offset:b.isMobile?100:250,height:b.isMobile?100:250,placeholder:Object(o.h)(Wu,null)},Object(o.h)(fu,{data:e,type:e.ribbonType,index:t})):void 0})))};function bd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function gd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bd(Object(n),!0).forEach((function(t){yd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Od(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Od(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Od(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var wd=function(e){var t=Object(r.b)(Oc).setLoading,n=vd(Object(r.k)({data:null,showOfferTvod:!1,dataTvod:null}),2),i=n[0],a=n[1],c=vd(Object(r.k)({status:!1,msg:null}),2),s=(c[0],c[1]),l=function(e,t){s({status:e,data:t})};return Object(r.d)((function(){window.scrollTo(0,0),z.getHome("kids",(function(e,t){e||a(gd(gd({},i),{},{data:t.data.widgets}))})),t(!0)}),[]),Object(r.d)((function(){if(!b.isMobile)return $(".nav-all").css({position:"fixed",background:"linear-gradient(to bottom, rgba(16, 16, 16, 1), rgba(16, 16, 16, 0))"}),$(window).scroll((function(e){$(window).scrollTop()>80?$(".nav-all").css({background:"#101010",transition:"all .3s ease 0s"}):$(".nav-all").css({background:"linear-gradient(to bottom, rgba(16, 16, 16, 1), rgba(16, 16, 16, 0))",transition:"all .3s ease 0s"})})),function(){$(".nav-all").css({position:"sticky",background:"#101010"}),$(window).unbind()}}),[]),Object(o.h)("div",{className:"library-movies"},i.data&&i.data.map((function(e,t){return"Spotlight"===e.ribbonType?Object(o.h)("div",null,Object(o.h)(Os,{showPopupSvod:l,data:e,category:!1,index:t})):"Original"===e.ribbonType?Object(o.h)(qu.a,{key:t,once:!0,offset:b.isMobile?100:250,height:b.isMobile?100:250,placeholder:Object(o.h)(Wu,null)},Object(o.h)(xu,{data:e,type:e.ribbonType,index:t})):"Sponsor"===e.ribbonType?!b.isMobile&&Object(o.h)(qu.a,{key:t,once:!0,offset:b.isMobile?100:250,height:b.isMobile?100:250,placeholder:Object(o.h)(Wu,null)},Object(o.h)(zu,{slug:e.slug,ribbonType:e.ribbonType,index:t})):"Mylist"===e.ribbonType?!b.isMobile&&Object(o.h)(qu.a,{key:t,once:!0,offset:b.isMobile?100:250,height:b.isMobile?100:250,placeholder:Object(o.h)(Wu,null)},Object(o.h)(RibbonWatchLater,{data:e,type:e.ribbonType,index:t})):"Portrait"!==e.ribbonType?Object(o.h)(qu.a,{key:t,once:!0,offset:b.isMobile?100:250,height:b.isMobile?100:250,placeholder:Object(o.h)(Wu,null)},Object(o.h)(fu,{data:e,type:e.ribbonType,index:t})):void 0})))},jd=Pe.a.div.withConfig({displayName:"style__Container",componentId:"xubu1a-0"})(["padding:35px 0;.category-all{padding:0 4% 53px;@media (max-width:576px){position:relative;.dropdown{position:initial;.dropdown-content{left:0;min-width:auto;}}}}.row-container{padding-bottom:3.611vw;@media (max-width:768px){padding-bottom:2rem;}}.description{color:rgba(255,255,255,0.55);padding:0 4%;}.subtitle{padding:0 4% 3.5rem;}.content-mb{margin:0 -5px;padding:0 4%;.card{display:inline-block;padding:0 5px;box-sizing:border-box;width:50%;margin-bottom:10px;@media (min-width:768px){width:33.3333333%;}@media (min-width:1200px){width:25%;}.card-body{position:relative;}.tvod-movie{position:absolute;bottom:10px;left:0;background:#e9cb00;color:#000;font-size:12px;font-weight:600;padding:3px 11px;z-index:1;p{margin:0;}}}}"]),xd=Pe.a.div.withConfig({displayName:"style__Wrap",componentId:"xubu1a-1"})(["margin:0;padding:0 4%;@media (min-width:1200px){padding:0 0 3.25rem;}.card{outline:none;display:inline-block;width:20%;padding:0 5px;box-sizing:border-box;transition:0.4s all;@media (max-width:1100px){width:25%;padding:0 5px 20px;}@media (max-width:576px){width:50%;}.card-body{position:relative;}.tvod-movie{position:absolute;bottom:10px;left:0;background:#e9cb00;color:#000;font-size:12px;font-weight:600;padding:3px 11px;z-index:1;p{margin:0;}}.card-body{position:relative;padding-top:56.25%;background:#333333;.link-redirect{position:absolute;width:100%;height:100%;left:0;top:0;a{width:100%;height:100%;display:block;}}.ratio-original{padding:200% 0 0;background:#343434;position:relative;.img-original{width:100%;height:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);object-fit:cover;}.title-original{position:absolute;width:90%;left:50%;transform:translateX(-50%);bottom:1rem;z-index:1;}.overlay-bottom{position:absolute;width:100%;height:100%;opacity:0.9;background:-webkit-gradient( linear,left top,left bottom,color-stop(20%,rgba(255,255,255,0)),color-stop(rgba(0,0,0,0.219608)),to(#000) );background:-webkit-linear-gradient(top,rgba(255,255,255,0) 20%,rgba(0,0,0,0.219608),#000);background:-o-linear-gradient(top,rgba(255,255,255,0) 20%,rgba(0,0,0,0.219608),#000);background:linear-gradient(180deg,rgba(255,255,255,0) 20%,rgba(0,0,0,0.219608),#000);bottom:0;left:0;}}.card-img{width:100%;position:absolute;height:100%;object-fit:cover;left:0;top:0;}.card-hover{position:absolute;width:100%;height:100%;top:50%;left:50%;transform:translate(-50%,-50%);transition:0.4s all;z-index:1;.image-original{position:relative;width:100%;height:100%;.image-hover{width:100%;height:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);object-fit:cover;}.title-image{position:absolute;width:90%;left:50%;transform:translateX(-50%);bottom:30px;z-index:1;}.mask-black{position:absolute;width:100%;height:100%;opacity:0.9;background:-webkit-gradient( linear,left top,left bottom,color-stop(20%,rgba(255,255,255,0)),color-stop(rgba(0,0,0,0.219608)),to(#000) );background:-webkit-linear-gradient(top,rgba(255,255,255,0) 20%,rgba(0,0,0,0.219608),#000);background:-o-linear-gradient(top,rgba(255,255,255,0) 20%,rgba(0,0,0,0.219608),#000);background:linear-gradient(180deg,rgba(255,255,255,0) 20%,rgba(0,0,0,0.219608),#000);bottom:0;left:0;}}.content-hover{position:relative;width:100%;height:100%;.list-action{position:absolute;opacity:0;z-index:1;left:50%;top:50%;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transition:0s;display:flex;align-items:center;z-index:3;.border-right{height:21px;width:2px;background:#fff;margin:0 25px;}.add-icon,.trailer-icon,.play-icon{position:relative;&.disabled{pointer-events:none;opacity:0.4;}.note-list{position:absolute;top:-5px;width:120px;height:30px;transform:translate(-50%,-100%);opacity:0;transition:0.3s all;left:50%;.clip-path{width:100%;height:100%;position:relative;display:flex;justify-content:center;align-items:center;.path{position:absolute;width:100%;height:100%;left:0;background:#fff;clip-path:polygon(0% 0%,100% 0,100% 88%,55% 90%,50% 100%,45% 87%,0 87%);}.txt-path{color:#333;position:relative;font-size:12px;font-weight:600;top:-3px;}}}&:hover{.note-list{opacity:1;}}}.play-icon{width:60px;height:60px;border:2px solid #fff;border-radius:50%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,0.5);cursor:pointer;transition:0.3s all;.note-list{width:135px;height:35px;.clip-path{.txt-path{font-size:14px;}}}#icon-play{width:25px;path{fill:#fff;transition:0.2s all;}}&:hover{#icon-play{path{fill:#0077c8;}}}}.trailer-icon{transition:0.3s all;cursor:pointer;#icon-trailer{width:32px;height:32px;path{fill:#fff;}}.note-list{top:0;}&:hover{transform:scale(1.2);-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2);}}.add-icon{width:25px;height:25px;border-radius:50%;border:3px solid #fff;display:flex;justify-content:center;align-items:center;transition:0.3s all;cursor:pointer;#add-list-icon,#icon-minus,#icon-tick{width:15px;path{fill:#fff;}}&:hover{transform:scale(1.2);-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2);.note-list{opacity:1;}}}}.layout-hover{position:absolute;opacity:0;background:-webkit-gradient( linear,left top,left bottom,from(rgba(255,255,255,0)),color-stop(rgba(0,0,0,0.219608) 5%),to(black) );background:-webkit-linear-gradient(top,rgba(255,255,255,0),rgba(0,0,0,0.219608) 5%,#000);background:-o-linear-gradient(top,rgba(255,255,255,0),rgba(0,0,0,0.219608) 5%,#000);background:linear-gradient(180deg,rgba(255,255,255,0),rgba(0,0,0,0.219608) 5%,#000);left:0;bottom:-1px;width:100%;height:100%;transition:0.4s all;z-index:2;a{width:100%;height:100%;display:block;}}.hover-img{width:100%;border-radius:4px;}.content-movie{position:absolute;bottom:0;z-index:3;.detail-movie{padding:11px 18px;opacity:0;transition:0s;.title-movie{font-size:16px;font-weight:600;line-height:22px;color:#fff;}.movie-genre{padding:0;margin:3.6px 0 0;display:flex;.genre{list-style-type:none;font-size:14px;color:#fff;padding-right:20px;position:relative;&:not(:first-child){&:before{content:'';position:absolute;top:50%;left:-10px;transform:translate(-50%,-50%);width:4px;height:4px;border-radius:50%;background:#fff;}}}}}}}}}&:hover{.card-body{.card-hover{.content-hover{.layout-hover{opacity:1;transition:0.4s all 0.5s;}.list-action{opacity:1;transition:0.4s all 0.8s;}.content-movie{.detail-movie{opacity:1;transition:0.4s all 0.8s;}}}}}}}"]),kd=(Pe.a.div.withConfig({displayName:"style__Card",componentId:"xubu1a-2"})(["flex:0 0 20%;max-width:20%;padding:0 5px;box-sizing:border-box;"]),Pe.a.div.withConfig({displayName:"style__BoxTitle",componentId:"xubu1a-3"})(["display:flex;align-items:center;padding:0 4% 1.6875rem;@media (max-width:576px){padding-bottom:1.5rem;}"])),_d=Pe.a.div.withConfig({displayName:"style__Title",componentId:"xubu1a-4"})(["font-size:1.25rem;font-weight:bold;"]),Sd=Pe.a.div.withConfig({displayName:"style__GoBack",componentId:"xubu1a-5"})(["margin-right:15px;cursor:pointer;svg{fill:#fff;width:20px;}"]),Id=Pe.a.div.withConfig({displayName:"style__Container",componentId:"j9scdb-0"})(["padding:0 4% 3.25rem;"]),Nd=Pe.a.div.withConfig({displayName:"style__Row",componentId:"j9scdb-1"})(["display:flex;margin:0 -5px;"]),Td=Pe.a.div.withConfig({displayName:"style__Card",componentId:"j9scdb-2"})(["flex:0 0 20%;max-width:20%;padding:0 5px;box-sizing:border-box;@media(max-width:576px){flex:0 0 50%;max-width:50%;}img{width:100%;}"]),Cd=function(e){return Object(o.h)(Id,null,Object(o.h)(Nd,null,Object(o.h)(Td,null,Object(o.h)("img",{src:ee.a})),Object(o.h)(Td,null,Object(o.h)("img",{src:ee.a})),Object(o.h)(Td,null,Object(o.h)("img",{src:ee.a})),Object(o.h)(Td,null,Object(o.h)("img",{src:ee.a})),Object(o.h)(Td,null,Object(o.h)("img",{src:ee.a}))))},Pd=Pe.a.div.withConfig({displayName:"style__Container",componentId:"ekkh31-0"})(["padding:0 4% 3.25rem;"]),Ad=Pe.a.div.withConfig({displayName:"style__Row",componentId:"ekkh31-1"})(["display:flex;margin:0 -5px;"]),Md=Pe.a.div.withConfig({displayName:"style__Card",componentId:"ekkh31-2"})(["flex:0 0 20%;max-width:20%;padding:0 5px;box-sizing:border-box;@media(max-width:576px){flex:0 0 50%;max-width:50%;}img{width:100%;}"]),Ed=function(e){return Object(o.h)(Pd,null,Object(o.h)(Ad,null,Object(o.h)(Md,null,Object(o.h)("img",{src:ee.a})),Object(o.h)(Md,null,Object(o.h)("img",{src:ee.a})),Object(o.h)(Md,null,Object(o.h)("img",{src:ee.a})),Object(o.h)(Md,null,Object(o.h)("img",{src:ee.a})),Object(o.h)(Md,null,Object(o.h)("img",{src:ee.a}))))};function Dd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ld(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ld(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ld(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Rd=function(e){var t=Dd(Object(r.k)([]),2),n=t[0],i=t[1],a=e.page;return Object(r.d)((function(){var t;a.current!==e.index||e.isStop||(t={size:20,page:e.index-1,output:"med_info"},z.getRibbon(e.slug,t,(function(t,n){if(!t)if(n.data&&n.data.docs&&n.data.docs.length>0){if(b.isMobile)i(n.data.docs);else{var o=_.chunk(n.data.docs,5);if(o&&o.length>0&&n.data.docs.length%5!=0){var r=o[o.length-1];e.setDataResidual(r),o.splice(o.length-1,1)}i(o)}e.setPage({total:a.total+1,current:a.current+1})}else e.setStop(!0)})))}),[e.page]),e.page.total>1&&n.length>0&&n.map((function(t,n){return Object(o.h)(qu.a,{key:n,offset:300,placeholder:Object(o.h)(Ed,null),once:!0},b.isMobile?Object(o.h)("div",{className:"card"},Object(o.h)("div",{className:"card-body"},Object(o.h)("img",{className:"card-img",src:"//assets.glxplay.io/images/w400/".concat(t.image.posterLandscape)}),e.renderTagPoster(t),Object(o.h)("div",{className:"link-redirect"},Object(o.h)(c.b,{to:"/title/"+t.slug,onClick:e.tracking(t)})))):Object(o.h)(cu,{data:t,displayNameVi:e.title,slug:e.slug,index:n,ribbonType:"Category"}))}))};function zd(e){return function(e){if(Array.isArray(e))return Hd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Bd(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ud(e,t,n,i,a,o,r){try{var c=e[o](r),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(i,a)}function Vd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||Bd(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bd(e,t){if(e){if("string"==typeof e)return Hd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hd(e,t):void 0}}function Hd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Fd=function(e){var t=Object(s.i)().slug,n=Object(s.g)(),i=q(),a=xs(),l=Object(Ve.useTracking)().trackEvent,u=n.location.state&&n.location.state.prevPath,d=Vd(Object(r.k)(!1),2),p=d[0],h=d[1],f=Vd(Object(r.k)(null),2),g=f[0],y=f[1],v=Vd(Object(r.k)({listItem:[],listRibbon:[]}),2),O=v[0],w=v[1],j=Vd(Object(r.k)(null),2),x=j[0],k=j[1],_=Vd(Object(r.k)({total:2,current:2}),2),S=_[0],I=_[1],N=Vd(Object(r.k)(null),2),T=N[0],C=N[1],P=Vd(Object(r.k)(null),2),A=P[0],E=P[1],D=Vd(Object(r.k)(!0),2),L=D[0],R=D[1];Object(r.d)((function(){document.body.classList.add("disabled"),setTimeout((function(){document.body.classList.remove("disabled")}),1e3),C(null),h(!0);z.getRibbon(t,{output:"med_info",size:20,page:0},function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=16;break}if(window.criteo_q.push({event:"viewList",item:[n.data.docs[0]?n.data.docs[0].titleId:"",n.data.docs[1]?n.data.docs[1].titleId:"",n.data.docs[2]?n.data.docs[2].titleId:""]}),!(n.data.docs.length>0)){e.next=13;break}return(i=m.a.chunk(n.data.docs,5))&&i.length>1&&n.data.docs.length%5!=0&&(a=i[i.length-1],w({listItem:a,listRibbon:[a]}),i.splice(i.length-1,1)),k(n.data.ribbonName),e.next=8,R(!1);case 8:y(i),I({current:2,total:2}),E(n.data.docs),e.next=15;break;case 13:y(null),E(null);case 15:h(!1);case 16:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function r(e){Ud(o,i,a,r,c,"next",e)}function c(e){Ud(o,i,a,r,c,"throw",e)}r(void 0)}))});return function(e,n){return t.apply(this,arguments)}}())}),[t]),Object(r.d)((function(){S.total>1&&function(){var e,t=[];for(e=2;e<=S.total;e++)t.push(e);C(t)}()}),[S.total,t]);var U=function(e){var t=[].concat(zd(O.listItem),zd(e)),n=m.a.chunk(t,5);w({listItem:t,listRibbon:n})},V=function(e){var t={movie_type:e.type,price_type:e.priceType};return e.comingSoon&&(t.comingSoon={message:e.comingSoon.message,hasSource:!!e.comingSoon.hasSource}),t},B=function(e){return function(){l({from_screen:i.history.length>1&&i.history[i.history.length-2]||"",context_value:V(e),event_action:"click",direct_object_type:"film",direct_object_id:e.titleId,direct_object_property:e.alternateName,indirect_object_type:"ribbon",indirect_object_id:t,indirect_object_property:x})}},H=function(t){var n=M(t.posterTag,a);if(n){var r=n.posterTagTop,c=n.posterTagBottom;return Object(o.h)(o.b,null,r.map((function(e){return Object(o.h)(ll,{key:e.type,src:e.image})})),Object(o.h)(cl,null,c.map((function(t){if("tvod_paid"!==t.type||!("Rentals"===e.typeRibbon||"movie_rental"===i.lastpage||localStorage.lastpage.indexOf("tvod-rental")>=0))return Object(o.h)(sl,{key:t.type,src:t.image})}))))}};return Object(o.h)(jd,null,Object(o.h)(kd,null,Object(o.h)(Sd,{onClick:function(){u&&(u.includes("/browse/movie")||u.includes("/browse/tvseries")||u.includes("/browse/rental"))?n.push(u):n.push("/browse")}},Object(o.h)(Sc,null)),Object(o.h)(_d,null,x||"")),p?"":b.isMobile?Object(o.h)(xd,null,A?Object(o.h)("div",null,A.map((function(e,t){return Object(o.h)(qu.a,{key:t,offset:100,once:!0},Object(o.h)("div",{className:"card"},Object(o.h)("div",{className:"card-body"},Object(o.h)("img",{className:"card-img",src:"//assets.glxplay.io/images/w400/".concat(e.image.posterLandscape)}),H(e),Object(o.h)("div",{className:"link-redirect"},Object(o.h)(c.b,{to:"/title/"+e.slug,onClick:B(e)})))))})),S.total>1&&T&&T.length>0?T.map((function(n,i){return Object(o.h)(qu.a,{scrollContainer:document.querySelector("#home"),key:i,offset:100,once:!0},Object(o.h)(Rd,{key:i,index:n,displayNameVi:x,slug:t,type:e.type,page:S,setPage:I,isStop:L,setStop:R,setDataResidual:U,tracking:B,renderTagPoster:H}))})):""):Object(o.h)("div",null)):g?Object(o.h)("div",null,g.map((function(e,n){return Object(o.h)(qu.a,{key:n,offset:100,placeholder:Object(o.h)(Cd,null),once:!0},Object(o.h)(cu,{data:e,slug:t,displayNameVi:x,index:n,ribbonType:"Category"}))})),S.total>1&&T&&T.length>0?T.map((function(n,i){return Object(o.h)(qu.a,{scrollContainer:document.querySelector("#home"),key:i,offset:100,placeholder:Object(o.h)(Cd,null),once:!0},Object(o.h)(Rd,{key:i,index:n,slug:t,displayNameVi:x,type:e.type,page:S,setPage:I,isStop:L,setStop:R,setDataResidual:U,renderTagPoster:H}))})):"",O&&O.listRibbon&&O.listRibbon.length>0&&O.listRibbon.map((function(e,n){return Object(o.h)(qu.a,{key:n,offset:100,placeholder:Object(o.h)(Cd,null),once:!0},Object(o.h)(cu,{data:e,slug:t,displayNameVi:x,index:n,ribbonType:"Category"}))}))):Object(o.h)("div",null))},qd=Pe.a.div.withConfig({displayName:"style__Container",componentId:"sc-1xh94rz-0"})(["padding:35px 0;.category-all{padding:0 4% 53px;@media(max-width:576px){position:relative;.dropdown{position:initial;.dropdown-content{left:0;min-width:auto;}}}}.row-container{padding-bottom:3.611vw;@media (max-width:768px){padding-bottom:2rem;}}.description{color:rgba(255,255,255,.55);padding:0 4%;}.subtitle{padding:0 4% 3.5rem;}.content-mb{margin:0 -5px;padding:0 4%;.card{display:inline-block;padding:0 5px;box-sizing:border-box;width:50%;margin-bottom:10px;@media(min-width:768px){width:33.3333333%;}@media(min-width:1200px){width:25%;}.card-body{position:relative;}.tvod-movie{position:absolute;bottom:10px;left:0;background:#E9CB00;color:#000;font-size:12px;font-weight:600;padding:3px 11px;z-index:1;p{margin:0;}}}}"]),Wd=Pe.a.div.withConfig({displayName:"style__Wrap",componentId:"sc-1xh94rz-1"})(['margin:0;padding:0 4%;@media(min-width:1200px){padding:0 0 3.25rem;}.card{outline:none;display:inline-block;width:20%;padding:0 5px;box-sizing:border-box;transition:.4s all;@media(max-width:1100px){width:25%;padding:0 5px 20px;}@media(max-width:576px){width:50%;}.card-body{position:relative;}.tvod-movie{position:absolute;bottom:10px;left:0;background:#E9CB00;color:#000;font-size:12px;font-weight:600;padding:3px 11px;z-index:1;p{margin:0;}}.card-body{.link-redirect{position:absolute;width:100%;height:100%;left:0;top:0;a{width:100%;height:100%;display:block;}}.ratio-original{padding:200% 0 0;background:#343434;position:relative;.img-original{width:100%;height:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);object-fit:cover;}.title-original{position:absolute;width:90%;left:50%;transform:translateX(-50%);bottom:1rem;z-index:1;}.overlay-bottom{position:absolute;width:100%;height:100%;opacity:0.9;background:-webkit-gradient(linear,left top,left bottom,color-stop(20%,rgba(255,255,255,0)),color-stop(rgba(0,0,0,0.219608)),to(#000));background:-webkit-linear-gradient(top,rgba(255,255,255,0) 20%,rgba(0,0,0,0.219608),#000);background:-o-linear-gradient(top,rgba(255,255,255,0) 20%,rgba(0,0,0,0.219608),#000);background:linear-gradient(180deg,rgba(255,255,255,0) 20%,rgba(0,0,0,0.219608),#000);bottom:0;left:0;}}.card-img{width:100%;}.card-hover{position:absolute;width:100%;height:100%;top:50%;left:50%;transform:translate(-50%,-50%);transition:0.4s all;z-index:1;.image-original{position:relative;width:100%;height:100%;.image-hover{width:100%;height:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);object-fit:cover;}.title-image{position:absolute;width:90%;left:50%;transform:translateX(-50%);bottom:30px;z-index:1;}.mask-black{position:absolute;width:100%;height:100%;opacity:0.9;background:-webkit-gradient(linear,left top,left bottom,color-stop(20%,rgba(255,255,255,0)),color-stop(rgba(0,0,0,0.219608)),to(#000));background:-webkit-linear-gradient(top,rgba(255,255,255,0) 20%,rgba(0,0,0,0.219608),#000);background:-o-linear-gradient(top,rgba(255,255,255,0) 20%,rgba(0,0,0,0.219608),#000);background:linear-gradient(180deg,rgba(255,255,255,0) 20%,rgba(0,0,0,0.219608),#000);bottom:0;left:0;}}.content-hover{position:relative;width:100%;height:100%;.list-action{position:absolute;opacity:0;z-index:1;left:50%;top:50%;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transition:0s;display:flex;align-items:center;z-index:3;.border-right{height:21px;width:2px;background:#fff;margin:0 25px;}.add-icon,.trailer-icon,.play-icon{position:relative;&.disabled{pointer-events:none;opacity:0.4;}.note-list{position:absolute;top:-5px;width:120px;height:30px;transform:translate(-50%,-100%);opacity:0;transition:0.3s all;left:50%;.clip-path{width:100%;height:100%;position:relative;display:flex;justify-content:center;align-items:center;.path{position:absolute;width:100%;height:100%;left:0;background:#fff;clip-path:polygon(0% 0%,100% 0,100% 88%,55% 90%,50% 100%,45% 87%,0 87%);}.txt-path{color:#333;position:relative;font-size:12px;font-weight:600;top:-3px;}}}&:hover{.note-list{opacity:1;}}}.play-icon{width:60px;height:60px;border:2px solid #fff;border-radius:50%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,0.5);cursor:pointer;transition:0.3s all;.note-list{width:135px;height:35px;.clip-path{.txt-path{font-size:14px;}}}#icon-play{width:25px;path{fill:#fff;transition:0.2s all;}}&:hover{#icon-play{path{fill:#0077c8;}}}}.trailer-icon{transition:0.3s all;cursor:pointer;#icon-trailer{width:32px;height:32px;path{fill:#fff;}}.note-list{top:0;}&:hover{transform:scale(1.2);-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2);}}.add-icon{width:25px;height:25px;border-radius:50%;border:3px solid #fff;display:flex;justify-content:center;align-items:center;transition:0.3s all;cursor:pointer;#add-list-icon,#icon-minus,#icon-tick{width:15px;path{fill:#fff;}}&:hover{transform:scale(1.2);-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2);.note-list{opacity:1;}}}}.layout-hover{position:absolute;opacity:0;background:-webkit-gradient(linear,left top,left bottom,from(rgba(255,255,255,0)),color-stop(rgba(0,0,0,0.219608) 5%),to(black));background:-webkit-linear-gradient(top,rgba(255,255,255,0),rgba(0,0,0,0.219608) 5%,#000);background:-o-linear-gradient(top,rgba(255,255,255,0),rgba(0,0,0,0.219608) 5%,#000);background:linear-gradient(180deg,rgba(255,255,255,0),rgba(0,0,0,0.219608) 5%,#000);left:0;bottom:-1px;width:100%;height:100%;transition:0.4s all;z-index:2;a{width:100%;height:100%;display:block;}}.hover-img{width:100%;border-radius:4px;}.content-movie{position:absolute;bottom:0;z-index:3;.detail-movie{padding:11px 18px;opacity:0;transition:0s;.title-movie{font-size:16px;font-weight:600;line-height:22px;color:#fff;}.movie-genre{padding:0;margin:3.6px 0 0;display:flex;.genre{list-style-type:none;font-size:14px;color:#fff;padding-right:20px;position:relative;&:not(:first-child){&:before{content:"";position:absolute;top:50%;left:-10px;transform:translate(-50%,-50%);width:4px;height:4px;border-radius:50%;background:#fff;}}}}}}}}}&:hover{.card-body{.card-hover{.content-hover{.layout-hover{opacity:1;transition:0.4s all 0.5s;}.list-action{opacity:1;transition:0.4s all 0.8s;}.content-movie{.detail-movie{opacity:1;transition:0.4s all 0.8s;}}}}}}}']),Kd=(Pe.a.div.withConfig({displayName:"style__Card",componentId:"sc-1xh94rz-2"})(["flex:0 0 20%;max-width:20%;padding:0 5px;box-sizing:border-box;"]),Be()({event_action:"click",indirect_object_type:"ribbon",indirect_object_id:"watch-later",indirect_object_property:"Landscape"})((function(e){var t=Object(r.b)(Lc).state.data,n=m.a.chunk(t,5),i=Object(Ve.useTracking)().trackEvent;Object(r.d)((function(){window.scrollTo(0,0),k.ga("view_list","ViewList","Pageview")}),[]);var a=function(t){return function(){i({direct_object_type:"film",direct_object_id:t._id,direct_object_property:t.alternateName,indirect_object_property:e.displayNameVi})}};return Object(o.h)(qd,null,Object(o.h)(ta,{content:"Danh sách phim của bạn"}),b.isMobile?Object(o.h)("div",{className:"content-mb"},t&&t.length>0?t.map((function(e,t){return Object(o.h)("div",{className:"card",onClick:a(e)},Object(o.h)(c.b,{to:"/title/".concat(e.slug)},Object(o.h)("div",{className:"card-body"},Object(o.h)("img",{className:"card-img",src:"//assets.glxplay.io/images/w400/".concat(e.image.posterLandscape)}),"TVOD"===e.priceType&&Object(o.h)("div",{className:"tvod-movie"},Object(o.h)("p",null,"Phim thuê")))))})):Object(o.h)("div",{className:"description"},"Bạn chưa lưu phim nào trong danh sách này. Thử ngay?")):n&&n.length>0?n.map((function(e,t){return Object(o.h)(qu.a,{key:t,offset:100,placeholder:Object(o.h)(Ed,null),once:!0},Object(o.h)(cu,{data:e,slug:"mylist",index:t,ribbonType:"Mylist"}))})):Object(o.h)("div",{className:"description"},"Bạn chưa lưu phim nào trong danh sách này. Thử ngay?"))}))),Gd=Pe.a.div.withConfig({displayName:"style__Container",componentId:"g2dq24-0"})(["padding:35px 0;.category-all{padding:0 4% 53px;@media (max-width:576px){position:relative;.dropdown{position:initial;.dropdown-content{left:0;min-width:auto;}}}}.row-container{padding-bottom:3.611vw;@media (max-width:768px){padding-bottom:2rem;}}.description{color:rgba(255,255,255,0.55);padding:0 4%;}.subtitle{padding:0 4% 3.5rem;}.content-mb{margin:0 -5px;padding:0 4%;.card{display:inline-block;padding:0 5px;box-sizing:border-box;width:50%;margin-bottom:10px;@media (min-width:768px){width:33.3333333%;}@media (min-width:1200px){width:25%;}.card-body{position:relative;}.tvod-movie{position:absolute;bottom:10px;left:0;background:#e9cb00;color:#000;font-size:12px;font-weight:600;padding:3px 11px;z-index:1;p{margin:0;}}}}"]),$d=Pe.a.div.withConfig({displayName:"style__Wrap",componentId:"g2dq24-1"})(["padding:0 4%;@media (min-width:1200px){padding:0 0 3.25rem;}.row-mobile{margin:0 -8px;}.card{outline:none;display:inline-block;width:20%;padding:0 8px;box-sizing:border-box;transition:0.4s all;@media (max-width:1100px){width:25%;padding:0 8px 20px;}@media (max-width:576px){width:50%;}.card-body{position:relative;}.tvod-movie{position:absolute;bottom:10px;left:0;background:#e9cb00;color:#000;font-size:12px;font-weight:600;padding:3px 11px;z-index:1;p{margin:0;}}.card-body{position:relative;padding-top:56.25%;background:#333333;.link-redirect{position:absolute;width:100%;height:100%;left:0;top:0;a{width:100%;height:100%;display:block;}}.ratio-original{padding:200% 0 0;background:#343434;position:relative;.img-original{width:100%;height:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);object-fit:cover;}.title-original{position:absolute;width:90%;left:50%;transform:translateX(-50%);bottom:1rem;z-index:1;}.overlay-bottom{position:absolute;width:100%;height:100%;opacity:0.9;background:-webkit-gradient( linear,left top,left bottom,color-stop(20%,rgba(255,255,255,0)),color-stop(rgba(0,0,0,0.219608)),to(#000) );background:-webkit-linear-gradient(top,rgba(255,255,255,0) 20%,rgba(0,0,0,0.219608),#000);background:-o-linear-gradient(top,rgba(255,255,255,0) 20%,rgba(0,0,0,0.219608),#000);background:linear-gradient(180deg,rgba(255,255,255,0) 20%,rgba(0,0,0,0.219608),#000);bottom:0;left:0;}}.card-img{width:100%;position:absolute;height:100%;object-fit:cover;left:0;top:0;}.card-hover{position:absolute;width:100%;height:100%;top:50%;left:50%;transform:translate(-50%,-50%);transition:0.4s all;z-index:1;.image-original{position:relative;width:100%;height:100%;.image-hover{width:100%;height:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);object-fit:cover;}.title-image{position:absolute;width:90%;left:50%;transform:translateX(-50%);bottom:30px;z-index:1;}.mask-black{position:absolute;width:100%;height:100%;opacity:0.9;background:-webkit-gradient( linear,left top,left bottom,color-stop(20%,rgba(255,255,255,0)),color-stop(rgba(0,0,0,0.219608)),to(#000) );background:-webkit-linear-gradient(top,rgba(255,255,255,0) 20%,rgba(0,0,0,0.219608),#000);background:-o-linear-gradient(top,rgba(255,255,255,0) 20%,rgba(0,0,0,0.219608),#000);background:linear-gradient(180deg,rgba(255,255,255,0) 20%,rgba(0,0,0,0.219608),#000);bottom:0;left:0;}}.content-hover{position:relative;width:100%;height:100%;.list-action{position:absolute;opacity:0;z-index:1;left:50%;top:50%;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transition:0s;display:flex;align-items:center;z-index:3;.border-right{height:21px;width:2px;background:#fff;margin:0 25px;}.add-icon,.trailer-icon,.play-icon{position:relative;&.disabled{pointer-events:none;opacity:0.4;}.note-list{position:absolute;top:-5px;width:120px;height:30px;transform:translate(-50%,-100%);opacity:0;transition:0.3s all;left:50%;.clip-path{width:100%;height:100%;position:relative;display:flex;justify-content:center;align-items:center;.path{position:absolute;width:100%;height:100%;left:0;background:#fff;clip-path:polygon(0% 0%,100% 0,100% 88%,55% 90%,50% 100%,45% 87%,0 87%);}.txt-path{color:#333;position:relative;font-size:12px;font-weight:600;top:-3px;}}}&:hover{.note-list{opacity:1;}}}.play-icon{width:60px;height:60px;border:2px solid #fff;border-radius:50%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,0.5);cursor:pointer;transition:0.3s all;.note-list{width:135px;height:35px;.clip-path{.txt-path{font-size:14px;}}}#icon-play{width:25px;path{fill:#fff;transition:0.2s all;}}&:hover{#icon-play{path{fill:#0077c8;}}}}.trailer-icon{transition:0.3s all;cursor:pointer;#icon-trailer{width:32px;height:32px;path{fill:#fff;}}.note-list{top:0;}&:hover{transform:scale(1.2);-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2);}}.add-icon{width:25px;height:25px;border-radius:50%;border:3px solid #fff;display:flex;justify-content:center;align-items:center;transition:0.3s all;cursor:pointer;#add-list-icon,#icon-minus,#icon-tick{width:15px;path{fill:#fff;}}&:hover{transform:scale(1.2);-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2);.note-list{opacity:1;}}}}.layout-hover{position:absolute;opacity:0;background:-webkit-gradient( linear,left top,left bottom,from(rgba(255,255,255,0)),color-stop(rgba(0,0,0,0.219608) 5%),to(black) );background:-webkit-linear-gradient(top,rgba(255,255,255,0),rgba(0,0,0,0.219608) 5%,#000);background:-o-linear-gradient(top,rgba(255,255,255,0),rgba(0,0,0,0.219608) 5%,#000);background:linear-gradient(180deg,rgba(255,255,255,0),rgba(0,0,0,0.219608) 5%,#000);left:0;bottom:-1px;width:100%;height:100%;transition:0.4s all;z-index:2;a{width:100%;height:100%;display:block;}}.hover-img{width:100%;border-radius:4px;}.content-movie{position:absolute;bottom:0;z-index:3;.detail-movie{padding:11px 18px;opacity:0;transition:0s;.title-movie{font-size:16px;font-weight:600;line-height:22px;color:#fff;}.movie-genre{padding:0;margin:3.6px 0 0;display:flex;.genre{list-style-type:none;font-size:14px;color:#fff;padding-right:20px;position:relative;&:not(:first-child){&:before{content:'';position:absolute;top:50%;left:-10px;transform:translate(-50%,-50%);width:4px;height:4px;border-radius:50%;background:#fff;}}}}}}}}}&:hover{.card-body{.card-hover{.content-hover{.layout-hover{opacity:1;transition:0.4s all 0.5s;}.list-action{opacity:1;transition:0.4s all 0.8s;}.content-movie{.detail-movie{opacity:1;transition:0.4s all 0.8s;}}}}}}}"]),Xd=(Pe.a.div.withConfig({displayName:"style__Card",componentId:"g2dq24-2"})(["flex:0 0 20%;max-width:20%;padding:0 5px;box-sizing:border-box;"]),Pe.a.div.withConfig({displayName:"style__BoxTitle",componentId:"g2dq24-3"})(["display:flex;align-items:center;padding:0 4% 3.625rem;@media (max-width:576px){padding-bottom:1.5rem;}"])),Yd=Pe.a.div.withConfig({displayName:"style__Title",componentId:"g2dq24-4"})(["font-size:1.25rem;font-weight:bold;"]),Zd=Pe.a.div.withConfig({displayName:"style__GoBack",componentId:"g2dq24-5"})(["margin-right:15px;cursor:pointer;svg{fill:#fff;width:20px;}"]),Qd=Pe.a.div.withConfig({displayName:"style__Container",componentId:"azzlw1-0"})(["padding:0 4% 3.25rem;"]),Jd=Pe.a.div.withConfig({displayName:"style__Row",componentId:"azzlw1-1"})(["display:flex;margin:0 -5px;"]),ep=Pe.a.div.withConfig({displayName:"style__Card",componentId:"azzlw1-2"})(["flex:0 0 20%;max-width:20%;padding:0 5px;box-sizing:border-box;@media(max-width:576px){flex:0 0 50%;max-width:50%;}img{width:100%;}"]),tp=function(e){return Object(o.h)(Qd,null,Object(o.h)(Jd,null,Object(o.h)(ep,null,Object(o.h)("img",{src:ee.a})),Object(o.h)(ep,null,Object(o.h)("img",{src:ee.a})),Object(o.h)(ep,null,Object(o.h)("img",{src:ee.a})),Object(o.h)(ep,null,Object(o.h)("img",{src:ee.a})),Object(o.h)(ep,null,Object(o.h)("img",{src:ee.a}))))};function np(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ip(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ip(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ip(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ap=function(e){var t=np(Object(r.k)([]),2),n=t[0],i=t[1],a=e.page,s=e.slug,l=e.isStop;return Object(r.d)((function(){var t;a.current!==e.index||l||(t={size:20,page:e.index-1,output:"med_info"},z.getSearchPath(s,t,(function(t,n){if(!t)if(n.data&&n.data.docs&&n.data.docs.length>0){if(b.isMobile)i(n.data.docs);else{var o=_.chunk(n.data.docs,5);if(o&&o.length>0&&n.data.docs.length%5!=0){var r=o[o.length-1];e.setDataResidual(r),o.splice(o.length-1,1)}i(o)}e.setPage({total:a.total+1,current:a.current+1})}else e.setStop(!0)})))}),[a]),a.total>1&&n.length>0&&n.map((function(t,n){return Object(o.h)(qu.a,{key:n,offset:300,placeholder:!b.isMobile&&Object(o.h)(Ed,null),once:!0},b.isMobile?Object(o.h)("div",{className:"card"},Object(o.h)("div",{className:"card-body"},Object(o.h)("img",{className:"card-img",src:"//assets.glxplay.io/images/w400/".concat(t.image.posterLandscape)}),e.renderTagPoster(t),Object(o.h)("div",{className:"link-redirect"},Object(o.h)(c.b,{to:"/title/"+t.slug,onClick:e.tracking(t)})))):Object(o.h)(cu,{data:t,slug:"",index:n,ribbonType:"Category",displayNameVi:e.displayNameVi}))}))};function op(e){return function(e){if(Array.isArray(e))return lp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||sp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rp(e,t,n,i,a,o,r){try{var c=e[o](r),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(i,a)}function cp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||sp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sp(e,t){if(e){if("string"==typeof e)return lp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lp(e,t):void 0}}function lp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var up=function(e){var t=Object(Ve.useTracking)().trackEvent,n=q(),i=new URLSearchParams(window.location.search).get("title"),a=cp(Object(r.k)(!1),2),l=a[0],u=a[1],d=cp(Object(r.k)(null),2),p=d[0],h=d[1],f=cp(Object(r.k)({listItem:[],listRibbon:[]}),2),g=f[0],y=f[1],v=cp(Object(r.k)({total:2,current:2}),2),O=v[0],w=v[1],j=cp(Object(r.k)(null),2),x=j[0],k=j[1],_=cp(Object(r.k)(null),2),S=_[0],I=_[1],N=cp(Object(r.k)(!0),2),T=N[0],C=N[1],P=xs();Object(r.d)((function(){document.body.classList.add("disabled"),setTimeout((function(){document.body.classList.remove("disabled")}),1e3),k(null),u(!0);var e=function(e,t){var n=e.split("?");if(n.length>=2){for(var i=encodeURIComponent(t)+"=",a=n[1].split(/[&;]/g),o=a.length;o-- >0;)-1!==a[o].lastIndexOf(i,0)&&a.splice(o,1);return n[0]+(a.length>0?"?"+a.join("&"):"")}return e}(window.location.search,"title");z.getSearchPath(e,{output:"med_info",size:20,page:0},function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=14;break}if(!(n.data.docs.length>0)){e.next=11;break}return(i=m.a.chunk(n.data.docs,5))&&i.length>1&&n.data.docs.length%5!=0&&(a=i[i.length-1],y({listItem:a,listRibbon:[a]}),i.splice(i.length-1,1)),e.next=6,C(!1);case 6:h(i),w({current:2,total:2}),I(n.data.docs),e.next=13;break;case 11:h(null),I(null);case 13:u(!1);case 14:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function r(e){rp(o,i,a,r,c,"next",e)}function c(e){rp(o,i,a,r,c,"throw",e)}r(void 0)}))});return function(e,n){return t.apply(this,arguments)}}())}),[window.location.search]),Object(r.d)((function(){O.total>1&&function(){var e,t=[];for(e=2;e<=O.total;e++)t.push(e);k(t)}()}),[O.total,window.location.search]);var A=function(e){var t=[].concat(op(g.listItem),op(e)),n=m.a.chunk(t,5);y({listItem:t,listRibbon:n})},E=function(e){var t={movie_type:e.type,price_type:e.priceType};return e.comingSoon&&(t.comingSoon={message:e.comingSoon.message,hasSource:!!e.comingSoon.hasSource}),t},D=function(e){return function(){t({on_screen:"collection",from_screen:n.history.length>1&&n.history[n.history.length-2]||"",context_value:E(e),event_action:"click",direct_object_type:"film",direct_object_id:e.titleId,direct_object_property:e.alternateName,indirect_object_type:"rbcollection",indirect_object_property:i})}},L=function(t){var i=M(t.posterTag,P);if(i){var a=i.posterTagTop,r=i.posterTagBottom;return Object(o.h)(o.b,null,a.map((function(e){return Object(o.h)(ll,{key:e.type,src:e.image})})),Object(o.h)(cl,null,r.map((function(t){if("tvod_paid"!==t.type||!("Rentals"===e.typeRibbon||"movie_rental"===n.lastpage||localStorage.lastpage.indexOf("tvod-rental")>=0))return Object(o.h)(sl,{key:t.type,src:t.image})}))))}};return""!==window.location.search?Object(o.h)(Gd,null,Object(o.h)(Xd,null,Object(o.h)(c.b,{to:"/browse"},Object(o.h)(Zd,null,Object(o.h)(Sc,null))),Object(o.h)(Yd,null,i||"")),l?"":b.isMobile?Object(o.h)($d,null,S?Object(o.h)("div",{className:"row-mobile"},S.map((function(e,t){return Object(o.h)(qu.a,{key:t,offset:100,once:!0},Object(o.h)("div",{className:"card"},Object(o.h)("div",{className:"card-body"},Object(o.h)("img",{className:"card-img",src:"//assets.glxplay.io/images/w400/".concat(e.image.posterLandscape)}),L(e),Object(o.h)("div",{className:"link-redirect"},Object(o.h)(c.b,{to:"/title/"+e.slug,onClick:D(e)})))))})),O.total>1&&x&&x.length>0?x.map((function(t,n){return Object(o.h)(qu.a,{scrollContainer:document.querySelector("#home"),key:n,offset:100,once:!0},Object(o.h)(ap,{key:n,index:t,slug:window.location.search,type:e.type,page:O,setPage:w,isStop:T,setStop:C,tracking:D,renderTagPoster:L}))})):""):Object(o.h)("div",null)):p?Object(o.h)("div",null,p.map((function(e,t){return Object(o.h)(qu.a,{key:t,offset:100,placeholder:Object(o.h)(tp,null),once:!0},Object(o.h)(cu,{data:e,slug:"",index:t,ribbonType:"Category",displayNameVi:i}))})),O.total>1&&x&&x.length>0?x.map((function(t,n){return Object(o.h)(qu.a,{scrollContainer:document.querySelector("#home"),key:n,offset:100,placeholder:Object(o.h)(tp,null),once:!0},Object(o.h)(ap,{key:n,index:t,slug:window.location.search,type:e.type,page:O,setPage:w,isStop:T,setStop:C,displayNameVi:i,setDataResidual:A,renderTagPoster:L}))})):"",g&&g.listRibbon&&g.listRibbon.length>0&&g.listRibbon.map((function(e,t){return Object(o.h)(qu.a,{key:t+"3r",offset:100,placeholder:Object(o.h)(tp,null),once:!0},Object(o.h)(cu,{data:e,slug:"",index:t,ribbonType:"Category",displayNameVi:i}))}))):Object(o.h)("div",null)):Object(o.h)(s.a,{to:"/browse"})};function dp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var hp=function(e){var t=dp(Object(r.k)([]),2),n=t[0],i=t[1],a=e.page;return Object(r.d)((function(){a.current!==e.index||e.isStop||function(){var t={size:20,page:e.index-1,output:"med_info"};switch(e.type){case"movie":case"tvseries":t.type=e.type;break;case"TVOD":case"SVOD":t.priceType=e.type}z.getMovieCategory(e.slug,t,(function(t,n){if(!t)if(n.data&&n.data.docs&&n.data.docs.length>0){if(b.isMobile)i(n.data.docs);else{var o=_.chunk(n.data.docs,5);if(o&&o.length>0&&n.data.docs.length%5!=0){var r=o[o.length-1];e.setDataResidual(r),o.splice(o.length-1,1)}i(o)}e.setPage({total:a.total+1,current:a.current+1})}else e.setStop(!0)}))}()}),[e.page]),e.page.total>1&&n.length>0&&n.map((function(e,t){return Object(o.h)(qu.a,{key:t,offset:300,placeholder:Object(o.h)(Ed,null),once:!0},Object(o.h)(cu,{data:e,slug:"category",index:t,ribbonType:"Category"}))}))};function fp(e){return function(e){if(Array.isArray(e))return yp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||gp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mp(e,t,n,i,a,o,r){try{var c=e[o](r),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(i,a)}function bp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||gp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gp(e,t){if(e){if("string"==typeof e)return yp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yp(e,t):void 0}}function yp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var vp=Be()({event_action:"click",indirect_object_type:"ribbon",indirect_object_id:"collection",indirect_object_property:"Landscape"})((function(e){var t=Object(s.i)().slug,n=bp(Object(r.k)(!1),2),i=n[0],a=n[1],l=bp(Object(r.k)(null),2),u=l[0],d=l[1],p=bp(Object(r.k)({listItem:[],listRibbon:[]}),2),h=p[0],f=p[1],g=bp(Object(r.k)({total:2,current:2}),2),y=g[0],v=g[1],O=xs(),w=bp(Object(r.k)(null),2),j=w[0],x=w[1],k=bp(Object(r.k)(null),2),_=k[0],S=k[1],I=bp(Object(r.k)(!0),2),N=I[0],T=I[1];Object(r.d)((function(){document.body.classList.add("disabled"),setTimeout((function(){document.body.classList.remove("disabled")}),1e3),x(null),a(!0);var n={output:"med_info",size:20,page:0};switch(e.type){case"movie":case"tvseries":n.type=e.type;break;case"TVOD":case"SVOD":n.priceType=e.type}z.getMovieCategory(t,n,function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=14;break}if(!(n.data.docs.length>0)){e.next=11;break}return(i=m.a.chunk(n.data.docs,5))&&i.length>1&&n.data.docs.length%5!=0&&(o=i[i.length-1],f({listItem:o,listRibbon:[o]}),i.splice(i.length-1,1)),e.next=6,T(!1);case 6:d(i),v({current:2,total:2}),S(n.data.docs),e.next=13;break;case 11:d(null),S(null);case 13:a(!1);case 14:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function r(e){mp(o,i,a,r,c,"next",e)}function c(e){mp(o,i,a,r,c,"throw",e)}r(void 0)}))});return function(e,n){return t.apply(this,arguments)}}())}),[t]),Object(r.d)((function(){y.total>1&&function(){var e,t=[];for(e=2;e<=y.total;e++)t.push(e);x(t)}()}),[y.total,t]);var C=function(e){var t=[].concat(fp(h.listItem),fp(e)),n=m.a.chunk(t,5);f({listItem:t,listRibbon:n})},P=function(t){var n=M(t.posterTag,O);if(n){var i=n.posterTagTop,a=n.posterTagBottom;return Object(o.h)(Fragment,null,i.map((function(e){return Object(o.h)(ll,{key:e.type,src:e.image})})),Object(o.h)(cl,null,a.map((function(t){if("tvod_paid"!==t.type||!("Rentals"===e.typeRibbon||"movie_rental"===historyPage.lastpage||localStorage.lastpage.indexOf("tvod-rental")>=0))return Object(o.h)(sl,{key:t.type,src:t.image})}))))}};return Object(o.h)(qd,null,Object(o.h)(Tc,{type:e.type,active:t}),i?"":b.isMobile?Object(o.h)(Wd,null,_?Object(o.h)("div",null,_.map((function(e,t){return Object(o.h)(qu.a,{key:t,offset:100,once:!0},Object(o.h)("div",{className:"card"},Object(o.h)("div",{className:"card-body"},Object(o.h)("img",{className:"card-img",src:"//assets.glxplay.io/images/w400/".concat(e.image.posterLandscape)}),P(e),Object(o.h)("div",{className:"link-redirect"},Object(o.h)(c.b,{to:"/title/"+e.slug})))))})),y.total>1&&j&&j.length>0?j.map((function(t,n){return Object(o.h)(qu.a,{scrollContainer:document.querySelector("#home"),key:n,offset:100,once:!0},Object(o.h)(hp,{key:n,index:t,slug:window.location.search,type:e.type,page:y,setPage:v,isStop:N,setStop:T,setDataResidual:C,renderTagPoster:P}))})):""):Object(o.h)("div",null)):u?Object(o.h)("div",null,u.map((function(e,t){return Object(o.h)(qu.a,{key:t,offset:100,placeholder:Object(o.h)(Ed,null),once:!0},Object(o.h)(cu,{data:e,slug:"category",index:t,ribbonType:"Category"}))})),y.total>1&&j&&j.length>0?j.map((function(n,i){return Object(o.h)(qu.a,{scrollContainer:document.querySelector("#home"),key:i,offset:100,placeholder:Object(o.h)(Ed,null),once:!0},Object(o.h)(hp,{key:i,index:n,slug:t,type:e.type,page:y,setPage:v,isStop:N,setStop:T,setDataResidual:C,renderTagPoster:P}))})):"",h&&h.listRibbon&&h.listRibbon.length>0&&h.listRibbon.map((function(e,t){return Object(o.h)(qu.a,{key:t,offset:100,placeholder:Object(o.h)(Ed,null),once:!0},Object(o.h)(cu,{data:e,slug:"category",index:t,ribbonType:"Category"}))}))):Object(o.h)("div",null))})),Op=Pe.a.div.withConfig({displayName:"style__Wrap",componentId:"sc-1sio5bt-0"})(["min-height:calc(100vh - 74px);background:#0d0d0d;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:",";"],b.isMobile?"50px 0px ":"0px"),wp=Pe.a.h4.withConfig({displayName:"style__Title",componentId:"sc-1sio5bt-1"})(["max-width:540px;margin:43px 20px 0px 20px;font-size:24px;font-weight:bold;font-stretch:normal;font-style:normal;line-height:2;letter-spacing:normal;text-align:center;color:#ffffff;"]),jp=Pe.a.img.withConfig({displayName:"style__Image",componentId:"sc-1sio5bt-2"})(["",""],b.isMobile&&"width: 80%"),xp=Object(Pe.a)(c.b).withConfig({displayName:"style__Button",componentId:"sc-1sio5bt-3"})(["color:#ffffff;font-weight:normal;font-size:16px;border-radius:24px;padding:13px 55px;background-color:#0077c8;border:none;cursor:pointer;margin-top:56px;text-decoration:none;transition:0.3s ease-in-out;&:hover{background:#0061a2;}&:focus{outline:none;}"]),kp=n(402),_p=n.n(kp),Sp=function(e){return Object(o.h)(Op,null,Object(o.h)(jp,{src:_p.a}),Object(o.h)(wp,null,"Rất tiếc, không thể tìm thấy trang bạn mong muốn. Vui lòng về lại Trang chủ Galaxy Play!"),Object(o.h)(xp,{to:"/browse"},"Về trang chủ"))};function Ip(){return(Ip=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Np(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Tp=Be()((function(e){var t={};return e.name&&(t.on_screen=e.name),e.category&&(t.event_category=e.category),t}))((function(e){var t=Object(r.h)((function(){return e})),n=t.children,i=Np(t,["children"]),a=Object(Ve.useTracking)().trackEvent,c=Object(r.b)(F),l=Object(r.b)(Oc),u=JSON.parse(localStorage.getItem("profile"));return Object(r.d)((function(){c.saveHistory(i.name)}),[i.name]),Object(r.d)((function(){var t="";e.path.indexOf("auth/")&&e.location.pathname.split("/auth/")[1]&&(t=e.location.pathname.split("/auth/")[1]),window.localStorage.setItem("on_screen",i.name?e.name:t);var n=c.history.length;a({event_action:"view",direct_object_type:"screen",from_screen:c.history[n-1]||"",direct_object_id:e.name,on_screen:e.name?e.name:t})}),[i.name]),Object(o.h)(s.b,Ip({},i,{render:function(e){var t=e.location;return l.isLogin?u&&u.profileId?Object(o.h)(s.a,{to:{pathname:"/browse",state:{from:t.state&&t.state.from?t.state.from:t.state}}}):Object(o.h)(s.a,{to:{pathname:"/lobby",state:{from:t.state&&t.state.from?t.state.from:t.state}}}):n}}))})),Cp=(n(869),n(870),n(871),Be()({event_category:"browse"})((function(e){var t=Object(r.b)(Eo),i=Object(r.b)(Oc),a=Object(s.h)(),c=Object(s.g)(),l=function(){""==function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var a=n[i];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""}("popupUpgrade")&&window.localStorage.isVisited1&&i&&1==i.hasMobile&&i&&0==i.hasPremium&&t.setNotification({notTry:!0,status:!0,notCancel:!0,type:"upgrade",time:500})};return Object(r.d)((function(){"/browse"==a.pathname&&window.criteo_q.push({event:"viewHome"}),e.theme(!1),l();var t=JSON.parse(localStorage.getItem("profile"));if(t){var o=t&&t.profileId,r="sha1$"+localStorage.__pfid;n(111).verify(o,r)||(c.push("/lobby"),setTimeout((function(){i.setLoadingPage(!1)}),300))}else{var s=JSON.parse(sessionStorage.getItem("historyPage"));i.setLogin(!0,"login",s||a.state)}}),[c.location.state]),Object(o.h)("div",{id:"home"},Object(o.h)(s.d,null,Object(o.h)(Tp,{name:"movie",exact:!0,path:"/browse/movie/:slug",component:function(){return Object(o.h)(vp,{type:"movie"})}}),Object(o.h)(Tp,{name:"tvseries",exact:!0,path:"/browse/tvseries/:slug",component:function(){return Object(o.h)(vp,{type:"tvseries"})}}),Object(o.h)(Tp,{name:"ribbon_explore",exact:!0,path:"/browse/ribbon/:slug",component:Fd}),Object(o.h)(Tp,{name:"mylist",exact:!0,path:"/browse/mylist",component:Kd}),Object(o.h)(Tp,{name:"collection",exact:!0,path:"/browse/collection",component:up}),Object(o.h)(Tp,{name:"movie_rental",exact:!0,path:"/browse/rental",component:md}),Object(o.h)(Tp,{name:"tvseries",exact:!0,path:"/browse/tvseries",component:id}),Object(o.h)(Tp,{name:"movie",exact:!0,path:"/browse/movie",component:ld}),Object(o.h)(Tp,{name:"kids",exact:!0,path:"/browse/kids",component:wd}),Object(o.h)(Tp,{name:"home",exact:!0,path:"/browse",component:Zu}),Object(o.h)(Tp,{path:"*",component:Sp})))})));n(872);function Pp(){return(Pp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var Ap=function(e){return Object(o.h)("div",Pp({className:"title-page"},e),Object(o.h)(ta,{type:"text-dark-color",content:e.content}))},Mp=n(403),Ep=n.n(Mp),Dp=n(55),Lp=n.n(Dp),Rp=n(81),zp=n.n(Rp),Up=n(82),Vp=n.n(Up);function Bp(e){return(Bp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.$=window.jQuery=a.a,function(){var e,t,n,i,a,o,r,c,s,l,u,d,p,h,f,m,b,g,y,v,O,w,j,x,k=[].slice,_=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};(e=window.jQuery||window.Zepto||window.$).payment={},e.payment.fn={},e.fn.payment=function(){var t,n;return n=arguments[0],t=2<=arguments.length?k.call(arguments,1):[],e.payment.fn[n].apply(this,t)},a=/(\d{1,4})/g,e.payment.cards=i=[{type:"maestro",patterns:[5018,502,503,506,56,58,639,6220,67],format:a,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"forbrugsforeningen",patterns:[600],format:a,length:[16],cvcLength:[3],luhn:!0},{type:"dankort",patterns:[5019],format:a,length:[16],cvcLength:[3],luhn:!0},{type:"visa",patterns:[4],format:a,length:[13,16],cvcLength:[3],luhn:!0},{type:"mastercard",patterns:[51,52,53,54,55,22,23,24,25,26,27],format:a,length:[16],cvcLength:[3],luhn:!0},{type:"amex",patterns:[34,37],format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"dinersclub",patterns:[30,36,38,39],format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,length:[14],cvcLength:[3],luhn:!0},{type:"discover",patterns:[60,64,65,622],format:a,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",patterns:[62,88],format:a,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"jcb",patterns:[35],format:a,length:[16],cvcLength:[3],luhn:!0}],t=function(e){var t,n,a,o,r,c,s;for(e=(e+"").replace(/\D/g,""),a=0,r=i.length;a<r;a++)for(o=0,c=(s=(t=i[a]).patterns).length;o<c;o++)if(n=s[o]+"",e.substr(0,n.length)===n)return t},n=function(e){var t,n,a;for(n=0,a=i.length;n<a;n++)if((t=i[n]).type===e)return t},p=function(e){var t,n,i,a,o,r;for(i=!0,a=0,o=0,r=(n=(e+"").split("").reverse()).length;o<r;o++)t=n[o],t=parseInt(t,10),(i=!i)&&(t*=2),t>9&&(t-=9),a+=t;return a%10==0},d=function(e){var t;return null!=e.prop("selectionStart")&&e.prop("selectionStart")!==e.prop("selectionEnd")||!(null==("undefined"!=typeof document&&null!==document&&null!=(t=document.selection)?t.createRange:void 0)||!document.selection.createRange().text)},j=function(e,t){var n,i,a,o,r;try{i=t.prop("selectionStart")}catch(e){e,i=null}if(o=t.val(),t.val(e),null!==i&&t.is(":focus"))return i===o.length&&(i=e.length),o!==e&&(r=o.slice(i-1,+i+1||9e9),n=e.slice(i-1,+i+1||9e9),a=e[i],/\d/.test(a)&&r===a+" "&&n===" "+a&&(i+=1)),t.prop("selectionStart",i),t.prop("selectionEnd",i)},g=function(e){var t,n,i,a,o,r;for(null==e&&(e=""),"０１２３４５６７８９","0123456789",a="",o=0,r=(t=e.split("")).length;o<r;o++)n=t[o],(i="０１２３４５６７８９".indexOf(n))>-1&&(n="0123456789"[i]),a+=n;return a},b=function(t){var n;return n=e(t.currentTarget),setTimeout((function(){var e;return e=n.val(),e=(e=g(e)).replace(/\D/g,""),j(e,n)}))},f=function(t){var n;return n=e(t.currentTarget),setTimeout((function(){var t;return t=n.val(),t=g(t),t=e.payment.formatCardNumber(t),j(t,n)}))},c=function(n){var i,a,o,r,c,s,l;if(o=String.fromCharCode(n.which),/^\d+$/.test(o)&&(i=e(n.currentTarget),l=i.val(),a=t(l+o),r=(l.replace(/\D/g,"")+o).length,s=16,a&&(s=a.length[a.length.length-1]),!(r>=s||null!=i.prop("selectionStart")&&i.prop("selectionStart")!==l.length)))return(c=a&&"amex"===a.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/).test(l)?(n.preventDefault(),setTimeout((function(){return i.val(l+" "+o)}))):c.test(l+o)?(n.preventDefault(),setTimeout((function(){return i.val(l+o+" ")}))):void 0},o=function(t){var n,i;if(n=e(t.currentTarget),i=n.val(),8===t.which&&(null==n.prop("selectionStart")||n.prop("selectionStart")===i.length))return/\d\s$/.test(i)?(t.preventDefault(),setTimeout((function(){return n.val(i.replace(/\d\s$/,""))}))):/\s\d?$/.test(i)?(t.preventDefault(),setTimeout((function(){return n.val(i.replace(/\d$/,""))}))):void 0},m=function(t){var n;return n=e(t.currentTarget),setTimeout((function(){var t;return t=n.val(),t=g(t),t=e.payment.formatExpiry(t),j(t,n)}))},s=function(t){var n,i,a;if(i=String.fromCharCode(t.which),/^\d+$/.test(i))return n=e(t.currentTarget),a=n.val()+i,/^\d$/.test(a)&&"0"!==a&&"1"!==a?(t.preventDefault(),setTimeout((function(){return n.val("0"+a+" / ")}))):/^\d\d$/.test(a)?(t.preventDefault(),setTimeout((function(){var e,t;return e=parseInt(a[0],10),(t=parseInt(a[1],10))>2&&0!==e?n.val("0"+e+" / "+t):n.val(a+" / ")}))):void 0},l=function(t){var n,i,a;if(i=String.fromCharCode(t.which),/^\d+$/.test(i))return a=(n=e(t.currentTarget)).val(),/^\d\d$/.test(a)?n.val(a+" / "):void 0},u=function(t){var n,i,a;if("/"===(a=String.fromCharCode(t.which))||" "===a)return i=(n=e(t.currentTarget)).val(),/^\d$/.test(i)&&"0"!==i?n.val("0"+i+" / "):void 0},r=function(t){var n,i;if(n=e(t.currentTarget),i=n.val(),8===t.which&&(null==n.prop("selectionStart")||n.prop("selectionStart")===i.length))return/\d\s\/\s$/.test(i)?(t.preventDefault(),setTimeout((function(){return n.val(i.replace(/\d\s\/\s$/,""))}))):void 0},h=function(t){var n;return n=e(t.currentTarget),setTimeout((function(){var e;return e=n.val(),e=(e=g(e)).replace(/\D/g,"").slice(0,4),j(e,n)}))},w=function(e){var t;return!(!e.metaKey&&!e.ctrlKey)||32!==e.which&&(0===e.which||(e.which<33||(t=String.fromCharCode(e.which),!!/[\d\s]/.test(t))))},v=function(n){var i,a,o,r;if(i=e(n.currentTarget),o=String.fromCharCode(n.which),/^\d+$/.test(o)&&!d(i))return r=(i.val()+o).replace(/\D/g,""),(a=t(r))?r.length<=a.length[a.length.length-1]:r.length<=16},O=function(t){var n,i;if(n=e(t.currentTarget),i=String.fromCharCode(t.which),/^\d+$/.test(i)&&!d(n))return!((n.val()+i).replace(/\D/g,"").length>6)&&void 0},y=function(t){var n,i;if(n=e(t.currentTarget),i=String.fromCharCode(t.which),/^\d+$/.test(i)&&!d(n))return(n.val()+i).length<=4},x=function(t){var n,a,o,r,c;if(c=(n=e(t.currentTarget)).val(),r=e.payment.cardType(c)||"unknown",!n.hasClass(r))return a=function(){var e,t,n;for(n=[],e=0,t=i.length;e<t;e++)o=i[e],n.push(o.type);return n}(),n.removeClass("unknown"),n.removeClass(a.join(" ")),n.addClass(r),n.toggleClass("identified","unknown"!==r),n.trigger("payment.cardType",r)},e.payment.fn.formatCardCVC=function(){return this.on("keypress",w),this.on("keypress",y),this.on("paste",h),this.on("change",h),this.on("input",h),this},e.payment.fn.formatCardExpiry=function(){return this.on("keypress",w),this.on("keypress",O),this.on("keypress",s),this.on("keypress",u),this.on("keypress",l),this.on("keydown",r),this.on("change",m),this.on("input",m),this},e.payment.fn.formatCardNumber=function(){return this.on("keypress",w),this.on("keypress",v),this.on("keypress",c),this.on("keydown",o),this.on("keyup",x),this.on("paste",f),this.on("change",f),this.on("input",f),this.on("input",x),this},e.payment.fn.restrictNumeric=function(){return this.on("keypress",w),this.on("paste",b),this.on("change",b),this.on("input",b),this},e.payment.fn.cardExpiryVal=function(){return e.payment.cardExpiryVal(e(this).val())},e.payment.cardExpiryVal=function(e){var t,n,i;return t=(i=e.split(/[\s\/]+/,2))[0],2===(null!=(n=i[1])?n.length:void 0)&&/^\d+$/.test(n)&&(n=(new Date).getFullYear().toString().slice(0,2)+n),{month:t=parseInt(t,10),year:n=parseInt(n,10)}},e.payment.validateCardNumber=function(e){var n,i;return e=(e+"").replace(/\s+|-/g,""),!!/^\d+$/.test(e)&&(!!(n=t(e))&&(i=e.length,_.call(n.length,i)>=0&&(!1===n.luhn||p(e))))},e.payment.validateCardExpiry=function(t,n){var i,a,o;return"object"===Bp(t)&&"month"in t&&(t=(o=t).month,n=o.year),!(!t||!n)&&(t=e.trim(t),n=e.trim(n),!!/^\d+$/.test(t)&&(!!/^\d+$/.test(n)&&(1<=t&&t<=12&&(2===n.length&&(n=n<70?"20"+n:"19"+n),4===n.length&&(a=new Date(n,t),i=new Date,a.setMonth(a.getMonth()-1),a.setMonth(a.getMonth()+1,1),a>i)))))},e.payment.validateCardCVC=function(t,i){var a,o;return t=e.trim(t),!!/^\d+$/.test(t)&&(null!=(a=n(i))?(o=t.length,_.call(a.cvcLength,o)>=0):t.length>=3&&t.length<=4)},e.payment.cardType=function(e){var n;return e&&(null!=(n=t(e))?n.type:void 0)||null},e.payment.formatCardNumber=function(n){var i,a,o,r;return n=n.replace(/\D/g,""),(i=t(n))?(o=i.length[i.length.length-1],n=n.slice(0,o),i.format.global?null!=(r=n.match(i.format))?r.join(" "):void 0:null!=(a=i.format.exec(n))?(a.shift(),(a=e.grep(a,(function(e){return e}))).join(" ")):void 0):n},e.payment.formatExpiry=function(e){var t,n,i,a;return(n=e.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/))?(t=n[1]||"",i=n[2]||"",(a=n[3]||"").length>0?i=" / ":" /"===i?(t=t.substring(0,1),i=""):2===t.length||i.length>0?i=" / ":1===t.length&&"0"!==t&&"1"!==t&&(t="0"+t,i=" / "),t+i+a):""}}.call(void 0);n(873);var Hp=n(57),Fp=n.n(Hp),qp=n(58),Wp=n.n(qp),Kp=(n(874),function(){return Object(o.h)("svg",{className:"loadding-gif",xmlns:"http://www.w3.org/2000/svg",link:"http://www.w3.org/1999/xlink",style:"margin: auto; display: block; shape-rendering: auto;",width:"70px",height:"70px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},Object(o.h)("g",{transform:"rotate(0 50 50)"},Object(o.h)("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#c4c4c4"},Object(o.h)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.9166666666666666s",repeatCount:"indefinite"}))),Object(o.h)("g",{transform:"rotate(30 50 50)"},Object(o.h)("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#c4c4c4"},Object(o.h)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.8333333333333334s",repeatCount:"indefinite"}))),Object(o.h)("g",{transform:"rotate(60 50 50)"},Object(o.h)("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#c4c4c4"},Object(o.h)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.75s",repeatCount:"indefinite"}))),Object(o.h)("g",{transform:"rotate(90 50 50)"},Object(o.h)("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#c4c4c4"},Object(o.h)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.6666666666666666s",repeatCount:"indefinite"}))),Object(o.h)("g",{transform:"rotate(120 50 50)"},Object(o.h)("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#c4c4c4"},Object(o.h)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5833333333333334s",repeatCount:"indefinite"}))),Object(o.h)("g",{transform:"rotate(150 50 50)"},Object(o.h)("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#c4c4c4"},Object(o.h)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5s",repeatCount:"indefinite"}))),Object(o.h)("g",{transform:"rotate(180 50 50)"},Object(o.h)("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#c4c4c4"},Object(o.h)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.4166666666666667s",repeatCount:"indefinite"}))),Object(o.h)("g",{transform:"rotate(210 50 50)"},Object(o.h)("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#c4c4c4"},Object(o.h)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.3333333333333333s",repeatCount:"indefinite"}))),Object(o.h)("g",{transform:"rotate(240 50 50)"},Object(o.h)("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#c4c4c4"},Object(o.h)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.25s",repeatCount:"indefinite"}))),Object(o.h)("g",{transform:"rotate(270 50 50)"},Object(o.h)("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#c4c4c4"},Object(o.h)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.16666666666666666s",repeatCount:"indefinite"}))),Object(o.h)("g",{transform:"rotate(300 50 50)"},Object(o.h)("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#c4c4c4"},Object(o.h)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.08333333333333333s",repeatCount:"indefinite"}))),Object(o.h)("g",{transform:"rotate(330 50 50)"},Object(o.h)("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#c4c4c4"},Object(o.h)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"}))))}),Gp=function(e){return Object(o.h)("div",{className:"popup-blockUI"},Object(o.h)(Kp,null))};function $p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Xp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$p(Object(n),!0).forEach((function(t){Yp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Jp=function(e){var t,n=Object(Ve.useTracking)().trackEvent,i=Zp(Object(r.k)({cardName:"",cardNumber:"",expiresDate:"",cvvNumber:"",typeCardInput:"",timeOutCallMethod:null}),2),a=i[0],s=i[1],l=Zp(Object(r.k)({blockUI:!1,blockSubmit:!1}),2),u=l[0],d=l[1],p=Zp(Object(r.k)({wrongCard:"",emptyCard:""}),2),h=p[0],f=p[1];Object(r.d)((function(){n({on_screen:"user_profile",event_category:"account",event_action:"add",direct_object_type:"method",direct_object_id:"credit_card"})}),[]);var m=function(e,t){s(Xp(Xp({},a),{},Yp({},e,t.target.value))),"cardName"==e&&s(Xp(Xp({},a),{},{cardName:t.target.value})),"cardNum"==e&&($('input[name="cardNumber"]').payment("formatCardNumber"),s(Xp(Xp({},a),{},{typeCardInput:k.typeCardName(t.target.value),cardNumber:t.target.value}))),"cardExpres"==e&&($('input[name="cardExpirationDate"]').payment("formatCardExpiry"),s(Xp(Xp({},a),{},{expiresDate:t.target.value}))),"cardNumberCvv"==e&&($('input[name="cardCVV"]').payment("formatCardCVC"),s(Xp(Xp({},a),{},{cvvNumber:t.target.value})))};return Object(o.h)("div",{className:"add-payment-method-credit"},u.blockUI?Object(o.h)(Gp,null):"",Object(o.h)("div",{className:"container"},Object(o.h)("div",{className:"title-header"},Object(o.h)("div",{className:"title-add-locked"},Object(o.h)(Ap,{content:"Thêm phương thức thanh toán"}),Object(o.h)(c.b,{className:"link",onClick:e.showMethod},"Thay đổi phương thức"))),Object(o.h)("form",{className:"form-credit"},Object(o.h)("div",{className:"type-method"},Object(o.h)(Pu,{type:"text-dark-color",content:"Thẻ tín dụng"}),Object(o.h)("div",{className:"img-sercure"},Object(o.h)("img",{width:"70",src:Fp.a}),Object(o.h)("img",{width:"70",src:Wp.a}))),Object(o.h)(Sa,{value:a.cardName,id:"full-name",label:"Họ và tên chủ thẻ",type:"text",onInputValue:function(e){return m("cardName",e)}}),Object(o.h)(Sa,{name:"cardNumber",id:"number-credit-card",label:"Số thẻ tín dụng",type:"text",onInputValue:function(e){return m("cardNum",e)},value:a.cardNumber}),Object(o.h)("div",{className:"form-group"},Object(o.h)("div",{className:"expiration-date"},Object(o.h)(Pu,{type:"text-dark-color",content:"Ngày hết hạn"}),Object(o.h)("div",{className:"form-date"},Object(o.h)("div",{className:"col-6"},Object(o.h)(Sa,{type:"text",name:"cardExpirationDate",onInputValue:function(e){return m("cardExpres",e)},value:a.cardExpres,label:"MM/YY"})))),Object(o.h)("div",{className:"security-code"},Object(o.h)("div",{className:"code-warning"},Object(o.h)(Pu,{type:"text-dark-color",content:"Mã bảo mật - CVV"})),Object(o.h)(Sa,(Yp(t={name:"cardCVV",label:"CVV",type:"text"},"type","passwordNoEye"),Yp(t,"onInputValue",(function(e){return m("cardNumberCvv",e)})),Yp(t,"value",a.cardNumberCvv),t))),Object(o.h)("div",{className:"mess-wrong-card"},h.wrongCard)),Object(o.h)("div",{className:"note"},"VISA"==a.typeCardInput&&Object(o.h)("p",null,"Galaxy Play không trực tiếp lưu thẻ của bạn. Để đảm bảo an toàn, thông tin thẻ của bạn chỉ được lưu bởi CyberSource, công ty quản lý thanh toán lớn nhất thế giới (thuộc tổ chức VISA)."),"JCB"==a.typeCardInput&&Object(o.h)("p",null,"Thông tin giao dịch thẻ JCB được bảo mật theo tiêu chuẩn của Hội đồng tiêu chuẩn bảo mật ngành thẻ thanh toán (PCI SSC)."))),Object(o.h)(me,{className:"btn-submit",type:"button",content:"Đồng ý",onClick:function(){if(""!==a.cardName&&""!==a.cardNumber&&""!==a.expiresDate&&""!==a.cvvNumber)if(!$.payment.validateCardNumber(a.cardNumber)||!$.payment.validateCardCVC(a.cvvNumber)||a.cardName.length<4)f(Xp(Xp({},h),{},{wrongCard:"Sai thông tin thẻ"}));else{d(Xp(Xp({},u),{},{blockUI:!0}));var e="";9==a.expiresDate.length&&(e=a.expiresDate.substr(-4)),7==a.expiresDate.length&&(e="20"+a.expiresDate.substr(-2));var t={cardNo:a.cardNumber.replace(/\s/g,""),securityCode:a.cvvNumber,cardHolder:a.cardName,epMonth:a.expiresDate.substr(0,2),epYear:e,itemPackage:"",type:"sync"};k.syncCard(t,(function(e,t){}))}else f(Xp(Xp({},h),{},{wrongCard:"Vui lòng nhập thông tin thẻ"}))}}),Object(o.h)("div",{className:"btn-back"},Object(o.h)(Sc,null),Object(o.h)("p",{className:"btn-back-add",onClick:function(){return e.showMethod("visa")}},"Trở về"))))},eh=function(){return Object(o.h)("svg",{className:"loadding-gif-black",xmlns:"http://www.w3.org/2000/svg",link:"http://www.w3.org/1999/xlink",style:"margin: auto; display: block; shape-rendering: auto;",width:"70px",height:"70px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},Object(o.h)("g",{transform:"rotate(0 50 50)"},Object(o.h)("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#444444"},Object(o.h)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.9166666666666666s",repeatCount:"indefinite"}))),Object(o.h)("g",{transform:"rotate(30 50 50)"},Object(o.h)("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#444444"},Object(o.h)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.8333333333333334s",repeatCount:"indefinite"}))),Object(o.h)("g",{transform:"rotate(60 50 50)"},Object(o.h)("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#444444"},Object(o.h)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.75s",repeatCount:"indefinite"}))),Object(o.h)("g",{transform:"rotate(90 50 50)"},Object(o.h)("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#444444"},Object(o.h)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.6666666666666666s",repeatCount:"indefinite"}))),Object(o.h)("g",{transform:"rotate(120 50 50)"},Object(o.h)("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#444444"},Object(o.h)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5833333333333334s",repeatCount:"indefinite"}))),Object(o.h)("g",{transform:"rotate(150 50 50)"},Object(o.h)("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#444444"},Object(o.h)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5s",repeatCount:"indefinite"}))),Object(o.h)("g",{transform:"rotate(180 50 50)"},Object(o.h)("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#444444"},Object(o.h)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.4166666666666667s",repeatCount:"indefinite"}))),Object(o.h)("g",{transform:"rotate(210 50 50)"},Object(o.h)("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#444444"},Object(o.h)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.3333333333333333s",repeatCount:"indefinite"}))),Object(o.h)("g",{transform:"rotate(240 50 50)"},Object(o.h)("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#444444"},Object(o.h)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.25s",repeatCount:"indefinite"}))),Object(o.h)("g",{transform:"rotate(270 50 50)"},Object(o.h)("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#444444"},Object(o.h)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.16666666666666666s",repeatCount:"indefinite"}))),Object(o.h)("g",{transform:"rotate(300 50 50)"},Object(o.h)("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#444444"},Object(o.h)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.08333333333333333s",repeatCount:"indefinite"}))),Object(o.h)("g",{transform:"rotate(330 50 50)"},Object(o.h)("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#444444"},Object(o.h)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"}))))},th=function(e){return Object(o.h)("svg",{version:"1.1",id:"scanQr",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 50 50",style:"enable-background:new 0 0 50 50;"},Object(o.h)("g",null,Object(o.h)("g",null,Object(o.h)("rect",{x:"0",y:"22.8",width:"50",height:"5.2"})),Object(o.h)("g",null,Object(o.h)("g",null,Object(o.h)("path",{d:"M30.5,4.7H39c3.6,0,6.6,2.9,6.6,6.6v8.5h3.9V8.6c0-4.3-3.5-7.8-7.8-7.8H30.5V4.7z"})),Object(o.h)("g",null,Object(o.h)("path",{d:"M4.4,19.8v-8.5c0-3.6,2.9-6.6,6.6-6.6h8.5V0.8H8.2c-4.3,0-7.8,3.5-7.8,7.8v11.2H4.4z"})),Object(o.h)("g",null,Object(o.h)("path",{d:"M19.4,46h-8.5c-3.6,0-6.6-2.9-6.6-6.6v-8.5H0.4v11.2c0,4.3,3.5,7.8,7.8,7.8h11.2V46z"})),Object(o.h)("g",null,Object(o.h)("path",{d:"M45.6,30.9v8.5c0,3.6-2.9,6.6-6.6,6.6h-8.5v3.9h11.2c4.3,0,7.8-3.5,7.8-7.8V30.9H45.6z"})))))},nh=function(e){return Object(o.h)(na,null,Object(o.h)(ia,null,Object(o.h)(oa,null,Object(o.h)(ta,{content:"Phiên giao dịch đã hết hạn"}),Object(o.h)(sa,null,Object(o.h)(c.b,{to:"/browse"},Object(o.h)(me,{content:"Về lại kho phim",className:"btn btn-left"})),Object(o.h)(me,{onClick:e.callAgain,content:"Thử lại",className:"btn btn-right"})))))},ih=function(e){return Object(o.h)(na,null,Object(o.h)(ia,null,Object(o.h)(oa,null,Object(o.h)(ta,{content:"Đã có lỗi xảy ra !"}),Object(o.h)(ra,null,Object(o.h)("p",null,e.messErrorBuy?e.messErrorBuy:"Vui lòng thử lại hoặc chọn phương thức thanh toán khác.")),Object(o.h)(sa,null,Object(o.h)(me,{onClick:e.closePopupCallApi,content:"Đóng",className:"btn btn-left"}),Object(o.h)(me,{onClick:e.callAgain,content:"Thử lại",className:"btn btn-right"})))))},ah=Pe.a.div.withConfig({displayName:"style__Wrap",componentId:"sc-1540nlw-0"})(["display:flex;align-items:center;.loadding-gif-black{position:absolute;z-index:5;width:100%;}"]),oh=Pe.a.div.withConfig({displayName:"style__QrCodeImage",componentId:"sc-1540nlw-1"})(["position:relative;display:flex;align-items:center;margin:0 -15px;img{width:190px;max-width:unset;}"]),rh=Pe.a.div.withConfig({displayName:"style__EmptyDiv",componentId:"sc-1540nlw-2"})(["width:190px;height:190px;"]),ch=Pe.a.div.withConfig({displayName:"style__OverlayQr",componentId:"sc-1540nlw-3"})(["width:100%;height:100%;position:absolute;background:rgba(255,255,255,0.7);"]),sh=Pe.a.div.withConfig({displayName:"style__TextRight",componentId:"sc-1540nlw-4"})(["margin-left:15px;padding:0 0 0 1rem;position:relative;.tag-icon{line-height:30px;#scanQr{width:23px;margin:-5px 5px;}}p{color:#333333;text-align:left;font-size:14px;&:not(:last-child){margin-bottom:10px;}}.timer{#timer{font-weight:bold;color:#0077c8;}}"]);function lh(){return(lh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function uh(e){return(uh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ph(e,t){return(ph=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=bh(e);if(t){var a=bh(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return fh(this,n)}}function fh(e,t){return!t||"object"!==uh(t)&&"function"!=typeof t?mh(e):t}function mh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bh(e){return(bh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ph(e,t)}(r,e);var t,n,i,a=hh(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=a.call(this,e)).callMomoAgain=t.callMomoAgain.bind(mh(t)),t.closePopupCallApi=t.closePopupCallApi.bind(mh(t)),t.state={dataSyncMomo:null,statusPopupSync:null,timeOutJustSync:null,timeOut:null,time:120,messErrorBuy:"",messageFail:"",statusBuySuccess:null,statusBuyFail:null,timeOutSync:null,expiredVersion:!1,expiredVersionJustSync:!1,popupErrApi:!1,statusChangeQrCode:!0,callEventCheck:null},t}return t=r,(n=[{key:"componentWillUnmount",value:function(){this.clearTimeOutSync(),this.state.callEventCheck&&this.state.callEventCheck.close()}},{key:"componentDidMount",value:function(){this.justSync()}},{key:"clearTimeOutSync",value:function(){window.clearInterval(this.state.timeOutMomo),window.clearTimeout(this.state.timeOutJustSync)}},{key:"justSync",value:function(){var e=this,t={channelType:"MOMO",amount:0,clientId:this.props.info.id};z.syncMomo(t,(function(t,n){t?e.clearTimeOutSync():(e.setState({statusChangeQrCode:!1}),e.clearTimeOutSync(),e.countDown(),e.checkJustSyncMomo(n.data&&n.data.data&&n.data.data.token),e.setState({dataSyncMomo:n}))}))}},{key:"checkJustSyncMomo",value:function(e){var t=this;if(e){var n=this.state.callEventCheck;n=new lr.a.EventSourcePolyfill("".concat(d.hub,"p/momo"),{headers:{"Access-Token":e},heartbeatTimeout:3e5}),this.setState({callEventCheck:n}),n.onmessage=function(e){1==JSON.parse(e.data).status&&(t.props.checkSyncSuccess(),t.clearTimeOutSync())},n.onerror=function(e){n.close(),t.props.trackingErrorHubMomo(),t.clearTimeOutSync()}}}},{key:"callMomoAgain",value:function(){this.justSync(),this.setState({popupErrApi:!1,expiredVersion:!1})}},{key:"countDown",value:function(){var e,t,n=this,i=599;this.setState({timeOutMomo:window.setInterval((function(){e=parseInt(i/60,10),t=parseInt(i%60,10),e=e<10?"0"+e:e,t=t<10?"0"+t:t,n.setState({getTimer:"00:"+e+":"+t+"s"}),i>0?i--:(n.clearTimeOutSync(),n.setState({expiredVersion:!0}))}),1e3)})}},{key:"closePopupCallApi",value:function(){this.setState({popupErrApi:!1})}},{key:"render",value:function(){var e=this.state,t=e.statusChangeQrCode,n=e.dataSyncMomo,i=e.expiredVersion,a=e.popupErrApi;return Object(o.h)(ah,null,i&&Object(o.h)(nh,{callMomoAgain:this.callMomoAgain}),a&&Object(o.h)(ih,{callMomoAgain:this.callMomoAgain,closePopupCallApi:this.closePopupCallApi}),Object(o.h)(oh,null,t?Object(o.h)(eh,null):"",t?Object(o.h)(ch,null):"",n&&Object(o.h)("img",{src:n.data&&n.data.data&&n.data.data.url})||Object(o.h)(rh,null)),Object(o.h)(sh,null,Object(o.h)("p",null,"Thực hiện theo hướng dẫn sau để thanh toán:"),Object(o.h)("p",null,"Bước 1: Mở ứng dụng và đăng nhập MoMo"),Object(o.h)("p",{className:"tag-icon"},"Bước 2: Bấm chọn icon ",Object(o.h)(th,null)," ở góc phải phía trên màn hình để quét QR Code"),Object(o.h)("p",null,"Bước 3: Bấm chọn “Xác nhận” để thanh toán"),Object(o.h)("p",{className:"timer"},"Thời gian còn lại ",Object(o.h)("span",{id:"timer"},this.state.getTimer))))}}])&&dh(t.prototype,n),i&&dh(t,i),r}(o.a),yh=function(e){return Object(o.h)(Oc.Consumer,null,(function(t){var n=t.data;return n&&Object(o.h)(gh,lh({},e,{info:n.infoUser}))}))},vh=function(e){var t=function(t,n){var i=!1;if($(window).blur((function(){i=!0})),!n)return alert("Hệ thống đang bận. Vui lòng thử lại sau.");e.blockUI&&e.blockUI(!1);var a=n.data&&n.data.data.url;setTimeout((function(){i||window.open("https://momo.vn/download")}),250),window.location.href=a};Object(r.d)((function(){e.isBuyMomo&&e.offer&&!e.activeTrial?k.getUrlNotifyMomo({offer:e.offer,phoneNumber:e.phoneNumber},(function(e,n){t(e,n)})):function(){if(e.activeTrial)k.getUrlNotifyMomoJustSyncTrail(e.offer.productId,(function(e,n){if(e)return alert("Hệ thống đang bận. Vui lòng thử lại sau.");n&&t(e,n)}));else{var n={type:e.type,router:e.router};k.getUrlNotifyMomoJustSync(n,(function(e,n){if(e)return alert("Hệ thống đang bận. Vui lòng thử lại sau.");n&&t(e,n)}))}}()}),[])},Oh=Pe.a.div.withConfig({displayName:"style__Wrap",componentId:"sc-1gbh7jb-0"})(["animation:fadeIn 0.5s;color:black;padding-bottom:1rem;@media (max-width:1024px){padding:1rem 6%;}"]),wh=Pe.a.div.withConfig({displayName:"style__Container",componentId:"sc-1gbh7jb-1"})(["padding-bottom:5%;@media (max-width:480px){padding-bottom:10%;}.btn-deeplink{width:100%;padding:13px 40px;box-sizing:border-box;}"]),jh=Pe.a.div.withConfig({displayName:"style__TitleHeader",componentId:"sc-1gbh7jb-2"})(["margin:0px 0 2rem 0;font-size:16px;.title-momo{margin-top:35px;font-size:16px;}.subtitle{margin-bottom:10px !important;}.title-page{margin-bottom:10px;@media (min-width:1200px){padding:0 !important;}@media (max-width:480px){padding:0 !important;margin-bottom:0px !important;}}"]),xh=Pe.a.div.withConfig({displayName:"style__BtnGroup",componentId:"sc-1gbh7jb-3"})(["display:flex;&:hover{#arrow-left{transform:translateX(-5px);transition:all 0.3s;}}#arrow-left{transition:all 0.3s;margin-right:10px;width:15px;}"]),kh=Pe.a.div.withConfig({displayName:"style__Text",componentId:"sc-1gbh7jb-4"})(["cursor:pointer;"]);function _h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Sh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_h(Object(n),!0).forEach((function(t){Ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ih(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Th(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Th(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Th(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ch=function(e){var t=Object(r.b)(Oc),n=Object(Ve.useTracking)().trackEvent,i=Object(s.g)(),a=Object(r.b)(Eo),l=Nh(Object(r.k)({statusDeepLink:!1,blockUI:!1}),2),u=l[0],p=l[1],h=Nh(Object(r.k)({statusDeepLink:!1,blockUI:!1}),2),f=h[0],m=h[1],g=function(){n({on_screen:"user_profile",event_category:"payment",event_action:"add",direct_object_type:"method",direct_object_id:"momo"})},y=function(e){m(Sh(Sh({},e),{},{blockUI:e}))};return Object(r.d)((function(){n({on_screen:"user_profile",event_category:"payment",event_action:"add",direct_object_type:"method",direct_object_id:"momo"})}),[]),Object(o.h)(Oh,null,f.blockUI&&Object(o.h)(Gp,null),Object(o.h)(wh,null,Object(o.h)(jh,null,Object(o.h)(Ap,{content:"Thêm phương thức thanh toán"}),Object(o.h)(c.b,{className:"link",onClick:function(){e.showMethod()}},"Thay đổi phương thức"),Object(o.h)("p",{className:"title-momo"},"Ví điện tử MoMo")),!b.isMobile&&Object(o.h)(yh,{trackingErrorHubMomo:function(){var e=S();e.event_category="error",e.on_screen=window.localStorage.getItem("on_screen"),e.jwt_token=window.localStorage.getItem("__glxp_token")||window.localStorage.getItem("__glxp_device_token"),e.event_action="request",e.direct_object_type="api",e.direct_object_property="".concat(d.hub,"p/momo"),e.context_format="json";var t={url:"1"==localStorage.getItem("eventDebug")?"https://hub-sand.glxplay.io/event-debug/publish":"".concat(d.tracker,"v1/ueh"),method:"POST",data:e};z.request(t,(function(e,t){}))},checkSyncSuccess:function(){t.getChannelAndMethod(),e.showAddMethod(),g(),a.setNotification({status:!0,description:"Liên kết thành công",type:"success"})}})||Object(o.h)(o.b,null,Object(o.h)(me,{className:"btn-deeplink",onClick:function(){p(Sh(Sh({},u),{},{statusDeepLink:!u.statusDeepLink})),y(!0)},content:"Mở ví MoMo"}),u.statusDeepLink&&Object(o.h)(vh,{blockUI:y,type:"account",router:i.location.pathname}))),Object(o.h)(xh,null,Object(o.h)(Sc,null),Object(o.h)(kh,{onClick:function(){return e.showMethod("momo")}},"Trở về")))},Ph=Pe.a.div.withConfig({displayName:"style__Wrap",componentId:"sc-1p6ydqn-0"})(["display:flex;align-items:center;.loadding-gif-black{position:absolute;z-index:5;width:100%;}"]),Ah=Pe.a.div.withConfig({displayName:"style__QrCodeImage",componentId:"sc-1p6ydqn-1"})(["position:relative;display:flex;align-items:center;margin:0 -15px;img{width:190px;max-width:unset;}"]),Mh=Pe.a.div.withConfig({displayName:"style__EmptyDiv",componentId:"sc-1p6ydqn-2"})(["width:190px;height:190px;"]),Eh=Pe.a.div.withConfig({displayName:"style__OverlayQr",componentId:"sc-1p6ydqn-3"})(["width:100%;height:100%;position:absolute;background:rgba(255,255,255,0.7);"]),Dh=Pe.a.div.withConfig({displayName:"style__TextRight",componentId:"sc-1p6ydqn-4"})(["margin-left:15px;padding:0 0 0 1rem;position:relative;.tag-icon{line-height:30px;#scanQr{width:23px;margin:-5px 5px;}}p{color:#333333;text-align:left;font-size:14px;&:not(:last-child){margin-bottom:10px;}}.timer{#timer{font-weight:bold;color:#0077c8;}}"]);function Lh(){return(Lh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Rh(e){return(Rh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Uh(e,t){return(Uh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Fh(e);if(t){var a=Fh(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Bh(this,n)}}function Bh(e,t){return!t||"object"!==Rh(t)&&"function"!=typeof t?Hh(e):t}function Hh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fh(e){return(Fh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Uh(e,t)}(r,e);var t,n,i,a=Vh(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=a.call(this,e)).callZaloPayAgain=t.callZaloPayAgain.bind(Hh(t)),t.closePopupCallApi=t.closePopupCallApi.bind(Hh(t)),t.state={dataSyncZaloPay:null,statusPopupSync:null,timeOutJustSync:null,timeOut:null,time:120,messErrorBuy:"",messageFail:"",statusBuySuccess:null,statusBuyFail:null,timeOutSync:null,expiredVersion:!1,expiredVersionJustSync:!1,popupErrApi:!1,statusChangeQrCode:!0,callEventCheck:null},t}return t=r,(n=[{key:"componentWillUnmount",value:function(){this.clearTimeOutSync(),this.state.callEventCheck&&this.state.callEventCheck.close()}},{key:"componentDidMount",value:function(){this.justSync()}},{key:"clearTimeOutSync",value:function(){window.clearInterval(this.state.timeOutZaloPay),window.clearTimeout(this.state.timeOutJustSync)}},{key:"justSync",value:function(){var e=this,t={channelType:"ZALOPAY",amount:0,clientId:this.props.info.id};z.syncZaloPay(t,(function(t,n){t?e.clearTimeOutSync():(e.setState({statusChangeQrCode:!1}),e.clearTimeOutSync(),e.countDown(),e.checkSyncZaloPay(n.data&&n.data.data&&n.data.data.token),e.setState({dataSyncZaloPay:n}))}))}},{key:"checkSyncZaloPay",value:function(e){var t=this;if(e){var n=this.state.callEventCheck;n=new lr.a.EventSourcePolyfill("".concat(d.hub,"p/zalopay"),{headers:{"Access-Token":e},heartbeatTimeout:3e5}),this.setState({callEventCheck:n}),n.onmessage=function(e){1==JSON.parse(e.data).status&&(t.props.checkSyncSuccess(),t.clearTimeOutSync())},n.onerror=function(e){n.close(),t.props.trackingErrorHubZaloPay(),t.clearTimeOutSync()}}}},{key:"callZaloPayAgain",value:function(){this.justSync(),this.setState({popupErrApi:!1,expiredVersion:!1})}},{key:"countDown",value:function(){var e,t,n=this,i=599;this.setState({timeOutZaloPay:window.setInterval((function(){e=parseInt(i/60,10),t=parseInt(i%60,10),e=e<10?"0"+e:e,t=t<10?"0"+t:t,n.setState({getTimer:"00:"+e+":"+t+"s"}),i>0?i--:(n.clearTimeOutSync(),n.setState({expiredVersion:!0}))}),1e3)})}},{key:"closePopupCallApi",value:function(){this.setState({popupErrApi:!1})}},{key:"render",value:function(){var e=this.state,t=e.statusChangeQrCode,n=e.dataSyncZaloPay,i=e.expiredVersion,a=e.popupErrApi;return Object(o.h)(Ph,null,i&&Object(o.h)(nh,{callZaloPayAgain:this.callZaloPayAgain}),a&&Object(o.h)(ih,{callZaloPayAgain:this.callZaloPayAgain,closePopupCallApi:this.closePopupCallApi}),Object(o.h)(Ah,null,t?Object(o.h)(eh,null):"",t?Object(o.h)(Eh,null):"",n&&Object(o.h)("img",{src:n.data&&n.data.data&&n.data.data.url})||Object(o.h)(Mh,null)),Object(o.h)(Dh,null,Object(o.h)("p",null,"Thực hiện theo hướng dẫn sau để thanh toán:"),Object(o.h)("p",null,"Bước 1: Mở ứng dụng và đăng nhập ZaloPay"),Object(o.h)("p",{className:"tag-icon"},"Bước 2: Bấm chọn icon ",Object(o.h)(th,null)," ở góc trái phía trên màn hình để quét QR Code"),Object(o.h)("p",null,"Bước 3: Bấm chọn “Xác nhận” để thanh toán"),Object(o.h)("p",{className:"timer"},"Thời gian còn lại ",Object(o.h)("span",{id:"timer"},this.state.getTimer))))}}])&&zh(t.prototype,n),i&&zh(t,i),r}(o.a),Wh=function(e){return Object(o.h)(Oc.Consumer,null,(function(t){var n=t.data;return n&&Object(o.h)(qh,Lh({},e,{info:n.infoUser}))}))},Kh=function(e){var t=Object(r.b)(Oc),n=function(t,n){var i=!1;if($(window).blur((function(){i=!0})),!n)return alert("Hệ thống đang bận. Vui lòng thử lại sau.");e.blockUI&&e.blockUI(!1);var a=n.data&&n.data.data.deeplink;setTimeout((function(){i||window.open("https://zalopay.vn/tai-app")}),250),window.location.href=a};Object(r.d)((function(){var e;e={channelType:"ZALOPAY",clientId:t.data.infoUser.id,returnUrl:window.location.href},z.syncZaloPay(e,(function(e,t){t?n(e,t):alert("Hệ thống đang bận. Vui lòng thử lại sau.")}))}),[])},Gh=Pe.a.div.withConfig({displayName:"style__Wrap",componentId:"bdfsdv-0"})(["animation:fadeIn 0.5s;color:black;padding-bottom:1rem;@media (max-width:1024px){padding:1rem 6%;}"]),$h=Pe.a.div.withConfig({displayName:"style__Container",componentId:"bdfsdv-1"})(["padding-bottom:5%;@media (max-width:480px){padding-bottom:10%;}.btn-deeplink{width:100%;padding:13px 40px;box-sizing:border-box;}"]),Xh=Pe.a.div.withConfig({displayName:"style__TitleHeader",componentId:"bdfsdv-2"})(["margin:0px 0 2rem 0;font-size:16px;.title-momo{margin-top:35px;font-size:16px;}.subtitle{margin-bottom:10px !important;}.title-page{margin-bottom:10px;@media (min-width:1200px){padding:0 !important;}@media (max-width:480px){padding:0 !important;margin-bottom:0px !important;}}"]),Yh=Pe.a.div.withConfig({displayName:"style__BtnGroup",componentId:"bdfsdv-3"})(["display:flex;&:hover{#arrow-left{transform:translateX(-5px);transition:all 0.3s;}}#arrow-left{transition:all 0.3s;margin-right:10px;width:15px;}"]),Zh=Pe.a.div.withConfig({displayName:"style__Text",componentId:"bdfsdv-4"})(["cursor:pointer;"]);function Qh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Jh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qh(Object(n),!0).forEach((function(t){ef(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ef(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var af=function(e){var t=Object(r.b)(Oc),n=Object(Ve.useTracking)().trackEvent,i=Object(s.g)(),a=Object(r.b)(Eo),l=tf(Object(r.k)({statusDeepLink:!1,blockUI:!1}),2),u=l[0],p=l[1],h=tf(Object(r.k)({statusDeepLink:!1,blockUI:!1}),2),f=h[0],m=h[1],g=function(){n({on_screen:"user_profile",event_category:"payment",event_action:"add",direct_object_type:"method",direct_object_id:"zalopay"})},y=function(e){m(Jh(Jh({},e),{},{blockUI:e}))};return Object(r.d)((function(){n({on_screen:"user_profile",event_category:"payment",event_action:"add",direct_object_type:"method",direct_object_id:"zalopay"})}),[]),Object(o.h)(Gh,null,f.blockUI&&Object(o.h)(Gp,null),Object(o.h)($h,null,Object(o.h)(Xh,null,Object(o.h)(Ap,{content:"Thêm phương thức thanh toán"}),Object(o.h)(c.b,{className:"link",onClick:function(){e.showMethod()}},"Thay đổi phương thức"),Object(o.h)("p",{className:"title-momo"},"Ví điện tử ZaloPay")),!b.isMobile&&Object(o.h)(Wh,{trackingErrorHubZaloPay:function(){var e=S();e.event_category="error",e.on_screen=window.localStorage.getItem("on_screen"),e.jwt_token=window.localStorage.getItem("__glxp_token")||window.localStorage.getItem("__glxp_device_token"),e.event_action="request",e.direct_object_type="api",e.direct_object_property="".concat(d.hub,"p/zalopay"),e.context_format="json";var t={url:"1"==localStorage.getItem("eventDebug")?"https://hub-sand.glxplay.io/event-debug/publish":"".concat(d.tracker,"v1/ueh"),method:"POST",data:e};z.request(t,(function(e,t){}))},checkSyncSuccess:function(){t.getChannelAndMethod(),e.showAddMethod(),g(),a.setNotification({status:!0,description:"Liên kết thành công",type:"success"})}})||Object(o.h)(o.b,null,Object(o.h)(me,{className:"btn-deeplink",onClick:function(){p(Jh(Jh({},u),{},{statusDeepLink:!u.statusDeepLink})),y(!0)},content:"Mở ví ZaloPay"}),u.statusDeepLink&&Object(o.h)(Kh,{blockUI:y,type:"account",router:i.location.pathname}))),Object(o.h)(Yh,null,Object(o.h)(Sc,null),Object(o.h)(Zh,{onClick:function(){return e.showMethod("zalopay")}},"Trở về")))};n(875);function of(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var cf=function(e){var t=Object(r.b)(Oc),n=Object(Ve.useTracking)().trackEvent,i=of(Object(r.k)({cardName:"",cardNumber:"",expiresDate:"",cvvNumber:"",typeCardInput:"",timeOutCallMethod:null}),2),a=(i[0],i[1],of(Object(r.k)({blockUI:!1,blockSubmit:!1}),2)),s=a[0],l=(a[1],of(Object(r.k)({wrongCard:"",emptyCard:""}),2));l[0],l[1];Object(r.d)((function(){n({on_screen:"user_profile",event_category:"account",event_action:"add",direct_object_type:"method",direct_object_id:"credit_card"})}),[]);return Object(o.h)("div",{className:"add-payment-method-shopeepay"},s.blockUI?Object(o.h)(Gp,null):"",Object(o.h)("div",{className:"container"},Object(o.h)("div",{className:"title-header"},Object(o.h)("div",{className:"title-add-locked"},Object(o.h)(Ap,{content:"Thêm phương thức thanh toán"}),Object(o.h)(c.b,{className:"link",onClick:e.showMethod},"Thay đổi phương thức"))),Object(o.h)("div",{className:"rules"},Object(o.h)("p",{className:"rules-body-onb"},"Bằng việc thanh toán, Quý khách đã đồng ý với",Object(o.h)("a",{className:"link",target:"_blank",href:"/about-us/quy-che-su-dung-dich-vu"}," ","Quy chế sử dụng Dịch vụ"," "),"của Galaxy Play"," ","tvod"==e.typePayment?"":"và ủy quyền cho Galaxy Play tự động gia hạn khi hết hạn sử dụng, cho đến khi bạn hủy tự động gia hạn.")),Object(o.h)("div",{className:"img-secure"},Object(o.h)("img",{width:"70",src:Fp.a}),Object(o.h)("img",{width:"70",src:Wp.a})),Object(o.h)(me,{className:"btn-submit",type:"button",content:"Đồng ý",onClick:function(){var e={channelType:"SHOPEEPAY",userId:t.data.infoUser.id,returnUrl:"".concat(window.location.origin).concat(window.location.pathname,"?channel=shopeepay")};z.syncShopeePay(e,(function(e,t){!e&&t&&(window.location.href=t.data.data.redirect_url_web)}))}}),Object(o.h)("div",{className:"btn-back"},Object(o.h)(Sc,null),Object(o.h)("p",{className:"btn-back-add",onClick:e.showMethod},"Trở về"))))},sf=Pe.a.div.withConfig({displayName:"style__Wrap",componentId:"n0quah-0"})(["animation:fadeIn 0.5s;width:100%;margin-bottom:6%;@media (max-width:1100px){min-height:100vh;}.title-page{margin-bottom:2rem;@media (min-width:1200px){padding:0 0 1rem 0;margin:0;}.subtitle{@media (min-width:1200px){font-size:20px;font-weight:bold;}}}"]),lf=Pe.a.div.withConfig({displayName:"style__Row",componentId:"n0quah-1"})(["display:flex;flex-wrap:wrap;@media (min-width:1200px){margin:0 -15px;}"]),uf=Pe.a.div.withConfig({displayName:"style__Col6",componentId:"n0quah-2"})(["flex:0 0 100%;max-width:100%;box-sizing:border-box;padding:0 6%;@media (min-width:1200px){flex:0 0 40%;max-width:40%;padding:0 15px;}"]),df=Pe.a.div.withConfig({displayName:"style__BtnBack",componentId:"n0quah-3"})(["display:flex;margin:1.5rem 0;&:hover{#arrow-left{transform:translateX(-5px);transition:all 0.3s;}}#arrow-left{transition:all 0.3s;margin-right:10px;width:15px;}"]),pf=Pe.a.div.withConfig({displayName:"style__Text",componentId:"n0quah-4"})(["cursor:pointer;color:#333;"]),hf=Pe.a.div.withConfig({displayName:"style__Card",componentId:"n0quah-5"})(['border-radius:4px;position:relative;cursor:pointer;margin-bottom:1rem;&:hover,&:active,&:focus{.card-body{border:1px solid transparent;}&:after{content:"";position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);width:100%;height:100%;border:3px solid #0077c8;border-radius:6px;}}.card-body{background:#fff;border-radius:4px;border:1px solid #cccccc;padding:1rem 1.2rem;display:flex;justify-content:space-between;align-items:center;.descript-name{.name-card{font-size:14px;color:gray;}}.description{font-weight:600;}.list-methods{display:flex;.method{list-style-type:none;padding-left:5px;.img-method{width:auto;height:30px;@media (min-width:1200px){height:40px;}}}}}']);function ff(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function mf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ff(Object(n),!0).forEach((function(t){bf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ff(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var vf=function(e){var t=gf(Object(r.k)({statusPopupSync:null,statusTabVisa:!1,statusTabMomo:!1,statusTabZaloPay:!1,statusTabShopeePay:!1,showMethod:!1}),2),n=t[0],i=t[1],a=Object(r.b)(Xc).state.isMobile,s=Object(r.b)(Nr),l=Object(r.b)(Eo),u=function(e){"visa"==e&&(1==s.paymentSvodVisa?i(mf(mf({},n),{},{showMethod:!n.showMethod,statusTabVisa:!n.statusTabVisa})):l.setNotification({status:!0,type:"referral",callback:function(){},title:"Thông báo",description:"Tính năng này đang được bảo trì. Chúng tôi đang khẩn trương hoàn thành sớm. Mời bạn quay lại sau nhé!"})),"momo"==e&&(1==s.paymentSvodMomo?i(mf(mf({},n),{},{showMethod:!n.showMethod,statusTabMomo:!n.statusTabMomo})):l.setNotification({status:!0,type:"referral",callback:function(){},title:"Thông báo",description:"Tính năng này đang được bảo trì. Chúng tôi đang khẩn trương hoàn thành sớm. Mời bạn quay lại sau nhé!"})),"zalopay"==e&&(1==s.paymentSvodZalopay?i(mf(mf({},n),{},{showMethod:!n.showMethod,statusTabZaloPay:!n.statusTabZaloPay})):l.setNotification({status:!0,type:"referral",callback:function(){},title:"Thông báo",description:"Tính năng này đang được bảo trì. Chúng tôi đang khẩn trương hoàn thành sớm. Mời bạn quay lại sau nhé!"})),"shopeepay"==e&&(1==s.paymentSvodShopeepay?i(mf(mf({},n),{},{showMethod:!n.showMethod,statusTabShopeePay:!n.statusTabShopeePay})):l.setNotification({status:!0,type:"referral",callback:function(){},title:"Thông báo",description:"Tính năng này đang được bảo trì. Chúng tôi đang khẩn trương hoàn thành sớm. Mời bạn quay lại sau nhé!"}))};return Object(o.h)(sf,null,n.showMethod?n.statusTabVisa&&Object(o.h)(Jp,{showMethod:function(){return u("visa")}})||n.statusTabMomo&&Object(o.h)(Ch,{showAddMethod:e.showAddMethod,showMethod:function(){return u("momo")}})||n.statusTabZaloPay&&Object(o.h)(af,{showAddMethod:e.showAddMethod,showMethod:function(){return u("zalopay")}})||n.statusTabShopeePay&&Object(o.h)(cf,{showAddMethod:e.showAddMethod,showMethod:function(){return u("shopeepay")}}):Object(o.h)(o.b,null,Object(o.h)(Ap,{content:"Thêm phương thức thanh toán"}),Object(o.h)(lf,null,e.channels&&e.channels.map((function(t){if(t.type)switch(t.type.toUpperCase()){case"MOMO":return Object(o.h)(uf,null,Object(o.h)(hf,{onClick:function(){return u("momo")}},Object(o.h)("div",{className:"card-body"},Object(o.h)(Pu,{type:"text-dark-color",content:"Ví điện tử MoMo"}),Object(o.h)("ul",{className:"list-methods"},Object(o.h)("li",{className:"method"},Object(o.h)("img",{className:"img-method",src:Lp.a}))))));case"ASIAPAY":if(0==e.isMethodAsian.length||null==e.isMethodAsian)return Object(o.h)(uf,{onClick:function(){return u("visa")}},Object(o.h)(c.b,{className:"link"},Object(o.h)(hf,null,Object(o.h)("div",{className:"card-body"},Object(o.h)("div",{className:"descript-name"},Object(o.h)(Pu,{type:"text-dark-color",content:"Thẻ tín dụng"}),Object(o.h)("p",{className:"name-card"},"Master card, Visa, JCB")),Object(o.h)("ul",{className:"list-methods"},Object(o.h)("li",{className:"method"},Object(o.h)("img",{className:"img-method",src:Ep.a})))))));break;case"ZALOPAY":if(0==e.isMethodZaloPay.length||null==e.isMethodZaloPay)return Object(o.h)(uf,null,Object(o.h)(hf,{onClick:function(){return u("zalopay")}},Object(o.h)("div",{className:"card-body"},Object(o.h)(Pu,{type:"text-dark-color",content:"Ví điện tử ZaloPay"}),Object(o.h)("ul",{className:"list-methods"},Object(o.h)("li",{className:"method"},Object(o.h)("img",{className:"img-method",src:zp.a}))))));break;case"SHOPEEPAY":if(0==e.isMethodShopeePay.length||null==e.isMethodShopeePay)return Object(o.h)(uf,null,Object(o.h)(hf,{onClick:function(){return u("shopeepay")}},Object(o.h)("div",{className:"card-body"},Object(o.h)(Pu,{type:"text-dark-color",content:"Ví điện tử ShopeePay"}),Object(o.h)("ul",{className:"list-methods"},Object(o.h)("li",{className:"method"},Object(o.h)("img",{className:"img-method",src:Vp.a}))))))}}))),!a&&Object(o.h)(df,null,Object(o.h)(Sc,null),Object(o.h)(pf,{onClick:e.showAddMethod},"Trở về"))))},Of=(n(876),n(171)),wf=n(258),jf=n.n(wf);n(880);function xf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function kf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xf(Object(n),!0).forEach((function(t){_f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return If(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return If(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function If(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Nf=function(e){var t=Object(r.b)(Eo),n=Object(r.b)(Oc),i=n.data.infoUser.updatePassword,a=Object(s.g)(),c=Object(Ve.useTracking)().trackEvent,l=Object(r.b)(Xc).state.isMobile,u=Sf(Object(r.k)({pass:"",oldPass:"",rePass:"",statusPass:{status:!1,msg:null}}),2),d=u[0],p=u[1],h=Sf(Object(r.k)({oldPass:"",pass:"",rePass:"",main:""}),2),f=h[0],m=h[1],b=function(e){p(kf(kf({},d),{},{pass:e.target.value}))},g=function(e){p(kf(kf({},d),{},{oldPass:e.target.value}))},y=function(e){p(kf(kf({},d),{},{rePass:e.target.value}))},v=function(o){o.preventDefault();var r={oldPass:"",pass:"",rePass:"",main:""};if(i&&((d.oldPass.trim().length<6||d.oldPass.trim().length>20)&&(r.oldPass="Mật khẩu từ 6 đến 20 ký tự"),0===d.oldPass.trim().length&&(r.oldPass="Mật khẩu cũ không được để trống")),(d.pass.trim().length<6||d.pass.trim().length>20)&&(r.pass="Mật khẩu từ 6 đến 20 ký tự"),d.pass!==d.rePass&&(r.rePass="Nhập lại mật khẩu không đúng"),0===d.pass.trim().length&&(r.pass="Mật khẩu mới không được để trống"),0===d.rePass.trim().length&&(r.rePass="Nhập lại mật khẩu không được để trống"),r.pass||r.oldPass||r.rePass||r.main)m(r);else{var c={password:d.oldPass,newPassword:d.rePass};z.updateUserInfo(c,(function(o,c){o?(r.oldPass="Mật khẩu cũ không chính xác",m(r)):(i||n.updateInfo(),t.setNotification({status:!0,description:c.data.message,type:"success"}),p(kf(kf({},d),{},{statusPass:{status:!1,msg:null}})),l?a.push("/account"):e.onClose())}))}};return Object(r.d)((function(){window.scrollTo(0,0),c({on_screen:"user_profile",event_category:"account",event_action:"edit",direct_object_type:"button",direct_object_id:"edit-password"})}),[]),l?Object(o.h)("form",{className:"form-change-mobile",onSubmit:v},Object(o.h)("h2",null," Thay đổi mật khẩu "),Object(o.h)("div",{className:"group-input-mobile"},Object(o.h)("label",null,"Mật khẩu hiện tại "),Object(o.h)("input",{onChange:g,type:"password",value:d.oldPass}),f.oldPass&&Object(o.h)("div",{className:"text-error"}," ",f.oldPass," ")),Object(o.h)("div",{className:"group-input-mobile"},Object(o.h)("label",null,"Mật khẩu mới "),Object(o.h)("input",{onChange:b,value:d.pass,type:"password"}),f.pass&&Object(o.h)("div",{className:"text-error"}," ",f.pass," ")),Object(o.h)("div",{className:"group-input-mobile"},Object(o.h)("label",null,"Nhập lại mật khẩu mới "),Object(o.h)("input",{onChange:y,value:d.rePass,type:"password"}),f.rePass&&Object(o.h)("div",{className:"text-error"}," ",f.rePass," ")),Object(o.h)("div",{className:"card-footer-mobile"},Object(o.h)(me,{content:"Lưu",className:"btn-save"}),Object(o.h)(me,{content:"Hủy",className:"btn-cancel",onClick:function(){a.push("/account")},type:"button"}))):Object(o.h)("form",{className:"form-change-password form-update",onSubmit:v},Object(o.h)("div",{className:"card change-password"},Object(o.h)("div",{className:"card-header"},Object(o.h)(Ap,{content:"Thay đổi mật khẩu"}),Object(o.h)("p",{className:"wrong-input-pass"},f.main)),Object(o.h)("div",{className:"card-body"},i&&Object(o.h)(Sa,{label:"Mật khẩu hiện tại",type:"password",id:"old-password",onInputPassword:g,theme:""!==f.oldPass?"warning":""}),""!==f.oldPass&&Object(o.h)("div",{className:"msg-error"},f.oldPass),Object(o.h)(Sa,{label:"Mật khẩu mới",type:"password",id:"new-password",name:"password",onInputPassword:b,theme:""!==f.pass?"warning":""}),""!==f.pass&&Object(o.h)("div",{className:"msg-error"},f.pass),Object(o.h)(Sa,{label:"Nhập lại mật khẩu mới",type:"password",name:"password",id:"renew-password",onInputPassword:y,theme:""!==f.rePass?"warning":""}),""!==f.rePass&&Object(o.h)("div",{className:"msg-error"},f.rePass)),Object(o.h)("div",{className:"card-footer"},Object(o.h)(me,{content:"Lưu",type:"submit",className:"btn-save"}),!l&&Object(o.h)(me,{content:"Hủy",className:"btn-cancel",type:"button",onClick:e.onClose}))))},Tf=n(405),Cf=n.n(Tf),Pf=n(406),Af=n.n(Pf),Mf=function(e){return e/16+"rem"},Ef=Pe.a.div.withConfig({displayName:"style__WrapTitle",componentId:"sc-14pqq7z-0"})(["display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;@media (max-width:480px){margin-bottom:8px;}"]),Df=Pe.a.div.withConfig({displayName:"style__WrapInput",componentId:"sc-14pqq7z-1"})(["position:relative;width:",";max-width:100%;flex-wrap:wrap;svg{width:",";position:absolute;right:",";top:50%;transform:translateY(-50%);cursor:pointer;@media (max-width:480px){width:",";}}"],Mf(340),Mf(24),Mf(16),Mf(16)),Lf=Pe.a.input.withConfig({displayName:"style__Input",componentId:"sc-14pqq7z-2"})(["border:1px solid rgba(17,17,17,0.3);background:#ffffff;font-size:1rem;border-radius:4px;color:#1d1d1d;width:",";max-width:100%;height:",";display:flex;align-items:center;padding:0 "," 0 ",";outline:none;overflow:hidden;text-overflow:ellipsis;&.not-allowed{cursor:not-allowed;}&:disabled{-webkit-text-fill-color:#1d1d1d;opacity:1;}@media (max-width:480px){width:",";height:",";font-size:14px;padding:0 "," 0 ",";}&:placeholder{color:#707070;}&:focus{border-color:#0077c8;}"],Mf(340),Mf(48),Mf(40),Mf(16),Mf(244),Mf(40),Mf(32),Mf(12)),Rf=Pe.a.div.withConfig({displayName:"style__WrapButton",componentId:"sc-14pqq7z-3"})(["display:flex;align-items:center;margin:"," 0 ",";@media (max-width:480px){margin:"," 0 ",";width:100%;justify-content:center;}"],Mf(16),Mf(48),Mf(8),Mf(16)),zf=Pe.a.button.withConfig({displayName:"style__Button",componentId:"sc-14pqq7z-4"})(["width:",";height:",";display:flex;justify-content:center;align-items:center;font-size:",";border-radius:50px;cursor:pointer;transition:300ms ease-in-out;border:none;font-weight:bold;color:#ffffff;"," &:last-child{margin-right:",";}&:hover{background:#0077c8;}&:disabled{background:#7fbbe3;pointer-events:none;}@media (max-width:576px){font-size:",";height:",";width:",";}"],Mf(140),Mf(48),Mf(16),(function(e){return e.isPrimary?"background: #0077c8; order: 1;":"background: rgba(63, 63, 63, 0.75); order: 0;"}),Mf(24),Mf(14),Mf(42),Mf(110)),Uf=Pe.a.div.withConfig({displayName:"style__MessageError",componentId:"sc-14pqq7z-5"})(["color:#ff5151;margin-top:",";font-size:",";@media (max-width:480px){margin-top:",";font-size:",";}"],Mf(8),Mf(16),Mf(4),Mf(10)),Vf=Pe.a.img.withConfig({displayName:"style__IconEmail",componentId:"sc-14pqq7z-6"})(["position:absolute;top:50%;right:",";transform:translateY(-50%);width:24px;height:24px;@media (max-width:480px){width:16px;height:16px;right:12px;}"],Mf(16));n(881);function Bf(){return(Bf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Hf(e){return(Hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ff(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function qf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ff(Object(n),!0).forEach((function(t){Wf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ff(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Gf(e,t){return(Gf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Zf(e);if(t){var a=Zf(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Xf(this,n)}}function Xf(e,t){return!t||"object"!==Hf(t)&&"function"!=typeof t?Yf(e):t}function Yf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zf(e){return(Zf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gf(e,t)}(l,e);var t,i,a,s=$f(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={showModalPassword:!1,isEdit:!1,fullName:e.info.fullName||"",email:e.info.email||e.info.pendingEmail||"",gender:e.info.gender,fullNameCurrent:e.info.fullName||"",emailCurrent:e.info.email||e.info.pendingEmail||"",genderCurrent:e.info.gender,messageError:{fullName:"",email:""},isOnline:window.navigator.onLine},t.setEdit=t.setEdit.bind(Yf(t)),t.onChange=t.onChange.bind(Yf(t)),t.submitChangeInfo=t.submitChangeInfo.bind(Yf(t)),t.resendVerivyEmail=t.resendVerivyEmail.bind(Yf(t)),t.handleOffline=t.handleOffline.bind(Yf(t)),t.handleOnline=t.handleOnline.bind(Yf(t)),t.listGender=[{label:"Nam",value:"1",id:"male"},{label:"Nữ",value:"2",id:"female"},{label:"Khác",value:"3",id:"other"}],t}return t=l,(i=[{key:"componentDidMount",value:function(){window.addEventListener("offline",this.handleOffline),window.addEventListener("online",this.handleOnline)}},{key:"componentDidUpdate",value:function(e){this.props.info.email&&this.props.info.email!==this.state.email&&!this.state.isEdit&&this.setState({email:this.props.info.email,emailCurrent:this.props.info.email})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("offline",this.handleOffline),window.removeEventListener("online",this.handleOnline)}},{key:"handleOffline",value:function(){this.setState({isOnline:!1})}},{key:"handleOnline",value:function(){this.setState({isOnline:!0})}},{key:"openModal",value:function(e){var t=this;return function(n){n.preventDefault(),t.setState(Wf({},"".concat(e),!0))}}},{key:"closeModal",value:function(e){var t=this;return function(n){t.setState(qf(qf({},t.state),{},Wf({},"".concat(e),!1)))}}},{key:"renderModalPassword",value:function(){return Object(o.h)(Of.a,{open:this.state.showModalPassword,onClose:this.closeModal("showModalPassword"),modalId:"modal",overlayId:"overlay",closeIconId:"icon-close"},Object(o.h)(Nf,{onClose:this.closeModal("showModalPassword")}))}},{key:"setEdit",value:function(e){var t=this;return function(n){n.preventDefault(),t.setState(qf({isEdit:e},!e&&{fullName:t.props.info.fullName||"",email:t.props.info.email||t.props.info.pendingEmail||"",fullNameCurrent:t.props.info.fullName||"",emailCurrent:t.props.info.email||t.props.info.pendingEmail||"",gender:t.props.info.gender,messageError:{fullName:"",email:""}}))}}},{key:"onChange",value:function(e){var t=this;return function(n){if(n.target&&n.target.value){var i=n.target.value;t.setState(Wf({},"".concat(e),i))}else t.setState(Wf({},"".concat(e),""))}}},{key:"resetInput",value:function(e){var t=this;return function(n){t.setState(Wf({},"".concat(e),""))}}},{key:"submitChangeInfo",value:function(e){var t=this;e.preventDefault();var n={fullName:"",email:""},i=!1,a=this.state,o=a.fullName,r=a.email,c=a.gender,s=this.props.info,l={};if(o!==s.fullName){l.fullName=o;var u="",d=k.regexName();""===o||d.test(o)||(u="Tên không bao gồm số hoặc các kí tự đặc biệt"),o.trim().length>30&&(u="Tên quá dài"),0===o.trim().length&&(u="Vui lòng nhập tên"),""!==u?n.fullName=u:i=!0}if(s.email&&r!==s.email||!s.email&&s.pendingEmail!==r){l.email=r.toLowerCase();var p="";k.validateEmail(r)||(p="Định dạng Email không hợp lệ");var h=s.pendingEmail,m=s.email;r!==m||h||(p="Email đã được đăng ký sử dụng"),0===r.trim().length&&(p="Vui lòng nhập email"),""!==p?n.email=p:i=!0}s.email&&""!==r&&r===s.email&&s.pendingEmail&&(delete l.email,l.pendingEmail=!1),c!==s.gender&&(l.gender=c,i=!0),Object(f.isEmpty)(l)?this.setState({isEdit:!1,messageError:{fullName:"",email:""}}):""===n.fullName&&""===n.email||i?z.updateUserInfo(l,(function(e,n){var i={isEdit:!1,messageError:{fullName:"",email:""}};e?(i.email=t.props.info.pendingEmail||t.props.info.email||"",i.emailCurrent=t.props.info.pendingEmail||t.props.info.email||"",t.props.notifi.setNotification({status:!0,description:n.data.message,type:"error"})):(""!==r&&l.email&&(i.emailCurrent=r),l.fullName&&(i.fullNameCurrent=o),l.gender&&(i.genderCurrent=c),t.props.notifi.setNotification({status:!0,description:n.data.message,type:"success"}),t.props.updateInfo()),t.setState(i)})):this.setState({messageError:n})}},{key:"resendVerivyEmail",value:function(e){var t=this;e.preventDefault();var i=n(3).isMobile,a={email:this.props.info.pendingEmail,isResend:1};z.updateUserInfo(a,(function(e,n){e?t.props.notifi.setNotification({status:!0,description:n.data.message,type:"error"}):(t.props.notifi.setNotification({status:!0,description:i?"Thành công":"Email xác minh đã được gửi đến địa chỉ email "+a.email,type:"success"}),t.props.updateInfo())}))}},{key:"checkButtonDisabled",value:function(){var e=this.state,t=e.fullName,n=e.email,i=e.gender,a=e.isOnline,o=this.props.info;return!(a&&(o.fullName!==t&&k.regexName().test(t)||(o.email&&o.email!==n||!o.email&&o.pendingEmail!==n)&&k.validateEmail(n)||o.gender!=i&&(o.email&&o.email===n||!o.email&&o.pendingEmail===n)&&o.fullName===t))}},{key:"render",value:function(){var e=this,t=Object(r.b)(Xc).state.isMobile,n=this.state,i=n.isEdit,a=n.fullName,s=n.email,l=n.gender,u=n.messageError,d=n.fullNameCurrent,p=n.emailCurrent,h=n.genderCurrent,f=this.props.info;return this.props.info&&Object(o.h)("form",{className:"infor-account",onSubmit:this.submitChangeInfo},Object(o.h)("div",{className:"infor-right"},Object(o.h)("div",{className:"infor-content"},Object(o.h)(Ef,null,t?"":Object(o.h)(ta,{content:"Thông tin tài khoản",type:"text-dark-color"}),!i&&(t?Object(o.h)(o.b,null,Object(o.h)("div",null),Object(o.h)("a",{className:"link icon-editor",onClick:this.setEdit(!0)},Object(o.h)("img",{src:jf.a}))):Object(o.h)("a",{href:"#",className:"link",onClick:this.setEdit(!0)},"Chỉnh sửa"))),Object(o.h)("div",{className:"row"},Object(o.h)("div",{class:"col-2"},Object(o.h)("div",{className:"text-opacity"},Object(o.h)(Pu,{content:"Họ và tên",type:"text-dark-color"}))),Object(o.h)("div",{class:"col-10"},Object(o.h)("div",{className:"content-right"},Object(o.h)(Df,null,Object(o.h)(Lf,i?{placeholder:"Vui lòng nhập họ và tên",onChange:this.onChange("fullName"),value:a}:{disabled:!0,value:d||""}),i&&""!==a&&Object(o.h)(Ue,{onClick:this.resetInput("fullName")})))),""!==u.fullName&&Object(o.h)(o.b,null,Object(o.h)("div",{className:"col-2"}),Object(o.h)("div",{className:"col-10"},Object(o.h)("div",{className:"content-right"},Object(o.h)(Uf,null,u.fullName))))),Object(o.h)("div",{className:!i&&f.pendingEmail?"row pending-email":"row"},Object(o.h)("div",{class:"col-2"},Object(o.h)("div",{className:"text-opacity"},Object(o.h)(Pu,{content:"Email",type:"text-dark-color"}))),Object(o.h)("div",{class:"col-10"},Object(o.h)("div",{className:"content-right"},Object(o.h)(Df,null,Object(o.h)(Lf,i?{placeholder:"Vui lòng nhập Email",onChange:this.onChange("email"),value:s,disabled:f.email||!1,className:f.email?"not-allowed":""}:{disabled:!0,className:!i&&f.pendingEmail&&"pending",value:p}),i?""!==s&&!f.email&&Object(o.h)(Ue,{onClick:this.resetInput("email")}):f.pendingEmail&&!f.email?Object(o.h)(Vf,{src:Cf.a}):f.email&&Object(o.h)(Vf,{src:Af.a}),!i&&f.pendingEmail&&Object(o.h)("a",{className:"link verify",onClick:this.resendVerivyEmail},Object(o.h)("u",null,"Xác thực Email"))))),""!==u.email&&Object(o.h)(o.b,null,Object(o.h)("div",{className:"col-2"}),Object(o.h)("div",{className:"col-10"},Object(o.h)("div",{className:"content-right"},Object(o.h)(Uf,null,u.email))))),Object(o.h)("div",{className:"row"},Object(o.h)("div",{class:"col-2"},Object(o.h)("div",{className:"text-opacity"},Object(o.h)(Pu,{content:"Giới tính",type:"text-dark-color"}))),Object(o.h)("div",{class:"col-10"},Object(o.h)("div",{className:"content-right"},Object(o.h)("div",{className:"checkbox-list"},this.listGender.map((function(t){return Object(o.h)("div",{className:"group-input"},Object(o.h)("div",{className:"wrap-checkbox"},Object(o.h)("input",{onChange:e.onChange("gender"),type:"radio",checked:i?l==t.value:h==t.value,name:"gender",className:"radio",id:t.id,value:t.value,disabled:!i}),Object(o.h)("span",{class:"checkmark-radio"})),Object(o.h)("label",{for:t.id,className:"text-radio"},t.label))})))))),Object(o.h)("div",{className:"row"},Object(o.h)("div",{class:"col-2"},Object(o.h)("div",{className:"text-opacity"},Object(o.h)(Pu,{content:"Số điện thoại",type:"text-dark-color"}))),Object(o.h)("div",{class:"col-10"},Object(o.h)("div",{className:"content-right"},Object(o.h)(Pu,{content:T(f.phone),type:"text-dark-color"})))),i&&Object(o.h)("div",{className:"row"},t?Object(o.h)(Rf,null,Object(o.h)(zf,{isPrimary:!0,type:"submit",disabled:this.checkButtonDisabled()},"Lưu"),Object(o.h)(zf,{onClick:this.setEdit(!1)},"Huỷ")):Object(o.h)(o.b,null,Object(o.h)("div",{class:"col-2"}),Object(o.h)("div",{class:"col-10"},Object(o.h)("div",{className:"content-right"},Object(o.h)(Rf,null,Object(o.h)(zf,{isPrimary:!0,type:"submit",disabled:this.checkButtonDisabled()},"Lưu"),Object(o.h)(zf,{onClick:this.setEdit(!1)},"Huỷ")))))),Object(o.h)("div",{className:"row"},Object(o.h)("div",{class:"col-2"},Object(o.h)("div",{className:"text-opacity"},Object(o.h)(Pu,{content:"Mật khẩu",type:"text-dark-color"}))),Object(o.h)("div",{class:"col-10"},Object(o.h)("div",{className:"content-right"},Object(o.h)(Pu,{content:"********",type:"text-dark-color"}),t?Object(o.h)(c.b,{to:"/account/update-password",className:"link"},Object(o.h)("div",{className:"icon-editor"},Object(o.h)("img",{src:jf.a}))):Object(o.h)("div",null,Object(o.h)("a",{href:"#",className:"link",onClick:this.openModal("showModalPassword")},"Đổi mật khẩu"),this.renderModalPassword())))))))}}])&&Kf(t.prototype,i),a&&Kf(t,a),l}(o.a),Jf=function(e){return Object(o.h)(Eo.Consumer,null,(function(t){return Object(o.h)(Oc.Consumer,null,(function(n){var i=n.data,a=n.updateInfo;return i&&Object(o.h)(Qf,Bf({},e,{info:i.infoUser,updateInfo:a,notifi:t}))}))}))},em=function(e){return Object(o.h)("svg",{width:"70px",className:"icon-cup",viewBox:"0 0 125 92",version:"1.1",xmlns:"http://www.w3.org/2000/svg",link:"http://www.w3.org/1999/xlink"},Object(o.h)("title",null,"F6892EE7-5639-4A17-990B-50AC5F9A6900"),Object(o.h)("desc",null,"Created with sketchtool."),Object(o.h)("g",{id:"Detail",stroke:"none","stroke-width":"1",fill:"beige","fill-rule":"evenodd"},Object(o.h)("g",{id:"SVOD-Detail-option-1---not-sign-up--choose-packed-add-new-Credit---date-expired",transform:"translate(-91.000000, -324.000000)","fill-rule":"nonzero"},Object(o.h)("g",{id:"screen/detail/credit-card"},Object(o.h)("g",{id:"product/detail",transform:"translate(42.000000, 264.000000)"},Object(o.h)("g",{id:"packed/month/detail"},Object(o.h)("g",{id:"packed/month-new-copy-4"},Object(o.h)("g",{id:"Group"},Object(o.h)("g",{id:"Group-3",transform:"translate(0.000000, 44.000000)"},Object(o.h)("g",{id:"icon/packed/monthly-copy",transform:"translate(49.000000, 0.000000)"},Object(o.h)("g",{id:"winner",transform:"translate(0.000000, 16.533333)"},Object(o.h)("g",{id:"Group",transform:"translate(0.000000, 8.266667)",fill:"#FF901D"},Object(o.h)("path",{d:"M8.97998026,9.1389976 C11.9467772,5.90094126 15.055664,2.98722787 18.4787597,0.282090442 C18.8813476,-0.0359024196 19.4609375,0.344858618 19.3261718,0.839921237 C17.4074706,7.89462461 14.0551757,14.8665326 8.88745096,20.0494255 C8.65527322,16.421083 8.65185525,12.7624554 8.97998026,9.1389976 Z",id:"Path"}),Object(o.h)("path",{d:"M8.88769536,20.0521122 C5.90405276,16.4501469 3.34008791,12.7260646 1.0300293,8.70548203 C0.765869144,8.24583335 0.0632324222,8.40971447 0.0363769533,8.93945834 C-0.380371096,17.1752781 2.76513673,26.8117808 10.428711,30.6985231 C9.66503911,27.1962054 9.11474614,23.6320964 8.88769536,20.0521122 Z",id:"Path"}),Object(o.h)("path",{d:"M10.4282227,30.6958365 C12.3059083,26.8308311 14.407715,23.2349717 16.8713382,19.7495061 C17.1635745,19.3360177 17.8190921,19.5255434 17.8403324,20.0315966 C18.1403812,27.1458931 16.9201663,34.6663511 13.5126955,40.9114183 C12.2495118,37.5873915 11.1840821,34.1729981 10.4282227,30.6958365 Z",id:"Path"}),Object(o.h)("path",{d:"M13.5134279,40.9138626 C9.63916026,38.4229184 6.10009774,35.6994633 2.70532232,32.6401862 C2.31372076,32.2872678 1.69946294,32.6558172 1.8320313,33.1660223 C3.87719733,41.0325604 9.72583018,49.1052321 18.0524904,50.5310711 C16.3215333,47.4390667 14.7709962,44.2295856 13.5134279,40.9138626 Z",id:"Path"}),Object(o.h)("path",{d:"M18.0510256,50.528871 C18.7297366,46.3124126 19.7004397,42.2901204 21.0517581,38.2688052 C21.2124027,37.7905947 21.8913578,37.7813138 22.0598148,38.2570819 C24.4230961,44.9315128 25.3803715,52.4614958 23.9545902,59.3816262 C21.7871097,56.5753758 19.7819827,53.6262485 18.0510256,50.528871 Z",id:"Path"}),Object(o.h)("path",{d:"M23.9560544,59.3838246 C19.5397947,58.1321246 15.3674315,56.5668279 11.2353515,54.6481245 C10.7580565,54.4263599 10.2795409,54.9578134 10.5546874,55.4064715 C14.8032225,62.3375924 22.757324,68.3384254 31.1350094,67.304338 C28.5632321,64.839527 26.1330563,62.2064387 23.9560544,59.3838246 Z",id:"Path"}),Object(o.h)("path",{d:"M31.1330564,67.3026267 C30.5305174,63.0544179 30.2744139,58.9109855 30.3928221,54.6517862 C30.4067381,54.1469542 31.054199,53.9400879 31.3540037,54.3464935 C35.585449,60.0855076 38.7421872,67.0569271 39.4975583,74.1248192 C36.5551755,72.0561559 33.7299802,69.7950362 31.1330564,67.3026267 Z",id:"Path"}),Object(o.h)("path",{d:"M116.020015,9.1389976 C113.053218,5.90094126 109.944331,2.98722787 106.521236,0.282090442 C106.118648,-0.0359024196 105.539058,0.344858618 105.673824,0.839921237 C107.592525,7.89462461 110.94482,14.8665326 116.112544,20.0494255 C116.344722,16.421083 116.34814,12.7624554 116.020015,9.1389976 Z",id:"Path"}),Object(o.h)("path",{d:"M116.112301,20.0521122 C119.095943,16.4501469 121.659908,12.7260646 123.969967,8.70548203 C124.234127,8.24583335 124.936764,8.40971447 124.963619,8.93945834 C125.380367,17.1752781 122.23486,26.8117808 114.571285,30.6985231 C115.334957,27.1962054 115.88525,23.6320964 116.112301,20.0521122 Z",id:"Path"}),Object(o.h)("path",{d:"M114.571776,30.6958365 C112.69409,26.8308311 110.592284,23.2349717 108.12866,19.7495061 C107.836424,19.3360177 107.180907,19.5255434 107.159666,20.0315966 C106.859617,27.1458931 108.079832,34.6663511 111.487303,40.9114183 C112.750487,37.5873915 113.815917,34.1729981 114.571776,30.6958365 Z",id:"Path"}),Object(o.h)("path",{d:"M111.486569,40.9138626 C115.360837,38.4229184 118.899899,35.6994633 122.294675,32.6401862 C122.686276,32.2872678 123.300534,32.6558172 123.167966,33.1660223 C121.1228,41.0325604 115.274167,49.1052321 106.947507,50.5310711 C108.678464,47.4390667 110.229001,44.2295856 111.486569,40.9138626 Z",id:"Path"}),Object(o.h)("path",{d:"M106.948978,50.528871 C106.270267,46.3124126 105.299564,42.2901204 103.948246,38.2688052 C103.787601,37.7905947 103.108646,37.7813138 102.940189,38.2570819 C100.576908,44.9315128 99.6196324,52.4614958 101.045414,59.3816262 C103.212894,56.5753758 105.218021,53.6262485 106.948978,50.528871 Z",id:"Path"}),Object(o.h)("path",{d:"M101.043947,59.3838246 C105.460207,58.1321246 109.63257,56.5668279 113.76465,54.6481245 C114.241945,54.4263599 114.72046,54.9578134 114.445314,55.4064715 C110.196779,62.3375924 102.242677,68.3384254 93.8649919,67.304338 C96.4367692,64.839527 98.866945,62.2064387 101.043947,59.3838246 Z",id:"Path"}),Object(o.h)("path",{d:"M93.8669409,67.3026267 C94.46948,63.0544179 94.7255835,58.9109855 94.6071753,54.6517862 C94.5932593,54.1469542 93.9457983,53.9400879 93.6459936,54.3464935 C89.4145484,60.0855076 86.2578102,67.0569271 85.5024391,74.1248192 C88.4448218,72.0561559 91.2700171,69.7950362 93.8669409,67.3026267 Z",id:"Path"})),Object(o.h)("g",{id:"Group",transform:"translate(8.333333, 0.000000)",fill:"#F7BC14"},Object(o.h)("path",{d:"M42.8890708,87.0858092 C39.5162109,85.40285 36.43317,83.5717785 33.725189,81.6441013 C33.7244584,81.6436085 33.7239713,81.643362 33.7232407,81.6428691 C33.7227536,81.6426227 33.72251,81.6421298 33.7220229,81.6418834 C30.6998684,79.4929004 27.9750828,77.2455867 25.6224345,74.9617994 C25.6219474,74.9613065 25.6214603,74.9605672 25.6209732,74.9600743 C22.9802107,72.4005173 20.6402268,69.7897002 18.6655609,67.1998307 C18.6650738,67.1990914 18.6643432,67.198352 18.6638561,67.1976127 C18.6636126,67.1973663 18.6636126,67.1971198 18.663369,67.1968734 C16.435903,64.2794811 14.5111639,61.3608567 12.9427317,58.5213405 C12.9420011,58.5198618 12.9410269,58.5186296 12.9402963,58.5171509 C11.1614409,55.3018091 9.68238984,52.1327986 8.54454586,49.0976066 C8.54405877,49.0963744 8.54357168,49.0953886 8.54308459,49.0944028 L8.54308459,49.0941564 C7.24352648,45.6338502 6.23792763,42.2659602 5.55380868,39.0838882 C5.55380868,39.0833953 5.55356514,39.0831489 5.55356514,39.0829024 C4.76813131,35.4392427 4.26569721,31.9306337 4.06038846,28.6551598 C4.06038846,28.6534347 4.05990137,28.651956 4.05990137,28.6504774 C3.8212269,24.8781744 3.85093944,21.282571 4.14830834,17.9637231 C4.15196152,17.9235529 4.15196152,17.8836292 4.1529357,17.8437054 C4.54553084,12.7115299 5.48439825,7.5670323 6.94810594,2.55019216 C7.24230875,1.54150096 6.67265612,0.482535391 5.67582491,0.184832247 C4.67948079,-0.11311734 3.63247924,0.463066394 3.33827643,1.47225048 C1.7842134,6.79911591 0.790791827,12.2649752 0.385775872,17.7180195 C0.383096873,17.7552323 0.383827509,17.7917059 0.383096873,17.8284259 C0.0854844274,21.2840497 0.0574767096,25.0048461 0.303701081,28.8944559 C0.303701081,28.8951953 0.303701081,28.8956881 0.303701081,28.8964275 C0.520943554,32.3601838 1.04919347,36.0568288 1.87408164,39.8843351 C1.87481228,39.8872924 1.87505583,39.8904961 1.87554292,39.8934534 C2.59911622,43.2598648 3.65853859,46.810862 5.02458459,50.4471285 L5.02458459,50.4471285 C5.02482813,50.4476214 5.02482813,50.4481142 5.02507168,50.4486071 C6.22891645,53.6592665 7.78711975,57.0002943 9.65657403,60.3787814 C9.65681758,60.3792742 9.65706112,60.3797671 9.65730467,60.38026 C9.6580353,60.3814922 9.65852239,60.382478 9.65925303,60.3834638 C9.65925303,60.3834638 9.65925303,60.3834638 9.65949658,60.3837102 L9.65949658,60.3837102 C11.3182841,63.3853859 13.3453122,66.4609946 15.6848091,69.5252668 C15.6857833,69.5264991 15.6867575,69.5272384 15.6874881,69.5284706 C17.7749155,72.265713 20.2393511,75.0170026 23.0126023,77.7054493 C23.0133329,77.7061887 23.01382,77.706928 23.0145506,77.7076673 C25.5048021,80.1255196 28.3793681,82.4975335 31.5586094,84.7581551 C31.5590965,84.7584015 31.55934,84.758648 31.5598271,84.7588944 L31.5598271,84.7588944 C34.4258691,86.7996889 37.6776869,88.731802 41.2244382,90.5017556 C41.4923381,90.6353277 41.7760684,90.6986636 42.055415,90.6986636 C42.7492757,90.6986636 43.4170771,90.3085443 43.7446457,89.6362478 C44.2042158,88.692864 43.8211189,87.5510936 42.8890708,87.0858092 Z",id:"Path"}),Object(o.h)("path",{d:"M110.673593,17.8284252 C110.672862,17.7917052 110.673593,17.7554781 110.670914,17.7185117 C110.265898,12.2644818 109.272476,6.79837633 107.718413,1.47249687 C107.42421,0.464052149 106.377939,-0.11114579 105.380621,0.185325128 C104.38379,0.48302826 103.814381,1.54224023 104.108583,2.55093139 C105.572048,7.56653913 106.510915,12.7107901 106.903754,17.8434583 C106.904971,17.8836285 106.904971,17.9237987 106.908625,17.9642153 C107.205994,21.2818309 107.235706,24.8776805 106.997032,28.651462 C106.997032,28.6522014 106.997032,28.6529407 106.997032,28.6534336 C106.997032,28.6541729 106.996788,28.6546658 106.996788,28.6554051 C106.791479,31.9294003 106.289045,35.4377627 105.503368,39.0831474 C105.503368,39.0833938 105.503124,39.0838867 105.503124,39.0841331 C104.819492,42.266205 103.81365,45.6340949 102.513848,49.0941545 C102.513605,49.0946474 102.513605,49.0948938 102.513361,49.0953867 C102.513118,49.0963725 102.512631,49.0971118 102.512144,49.0978512 C101.374543,52.1327966 99.895005,55.3027928 98.1146883,58.5205989 C98.1144447,58.5208453 98.1142012,58.5213382 98.1139576,58.5215847 C96.545769,61.3603615 94.6210299,64.2789858 92.3930768,67.1971172 C92.3925897,67.1978566 92.3921026,67.1985959 92.3916155,67.1993352 C92.391372,67.1995817 92.391372,67.1995817 92.3911284,67.1998281 C90.4171932,69.7887117 88.0767221,72.3995288 85.4357161,74.9600714 C85.435229,74.9605643 85.4347419,74.9613037 85.4342548,74.9617965 C83.0825806,77.2448444 80.3573079,79.4924045 77.3344227,81.6418802 C77.3336921,81.6423731 77.3329614,81.6431124 77.3319873,81.6438518 C77.3317437,81.6438518 77.3315002,81.6440982 77.3312566,81.6440982 C74.6232756,83.5722682 71.5402347,85.4030931 68.1673748,87.0858059 C67.2350831,87.5508438 66.8519862,88.6926142 67.3117999,89.6357515 C67.6393684,90.3085409 68.3069263,90.6984137 69.0010306,90.6984137 C69.2803772,90.6984137 69.5641075,90.6350778 69.8317639,90.5015057 C73.3780281,88.7320451 76.6293589,86.8001785 79.4954008,84.7596305 C79.496375,84.7588912 79.4973492,84.7586447 79.4983234,84.7579054 C82.6780518,82.4965445 85.5526178,80.1245307 88.0421387,77.7074179 C88.0428693,77.7066786 88.0433564,77.7059392 88.044087,77.7051999 C90.8185559,75.0150282 93.2837222,72.2632458 95.3706625,69.5262499 C95.3709061,69.5262499 95.3709061,69.5260035 95.3711496,69.5257571 C95.3713932,69.5255106 95.3716367,69.5252642 95.3718803,69.5250177 C97.7125949,66.458774 99.7408407,63.3819333 101.399385,60.3800113 C101.400602,60.3780397 101.401333,60.3760682 101.402307,60.3740966 C103.271274,56.9958561 104.828747,53.6563072 106.031131,50.4486052 C106.031131,50.4483587 106.031374,50.4483587 106.031374,50.4478659 C106.031374,50.4476194 106.031618,50.4476194 106.031618,50.4471265 C107.396933,46.8128318 108.455625,43.2640527 109.179198,39.8991201 C109.179442,39.8983808 109.179685,39.8978879 109.179929,39.8971486 C110.006278,36.063235 110.535502,32.3621541 110.752745,28.8961799 C110.752988,28.8934691 110.752745,28.8910046 110.752745,28.8885402 C110.998969,24.9996698 110.970962,21.2808451 110.673593,17.8284252 Z",id:"Path"})),Object(o.h)("g",{id:"Group",transform:"translate(27.777778, 22.044444)",fill:"#FFB125"},Object(o.h)("path",{d:"M23.678813,32.71647 C18.131877,32.71647 12.7253823,30.775304 8.42324493,27.1591074 C3.11585609,22.6977705 0.071714746,16.1919618 0.071714746,9.31007058 L0.071714746,2.88346299 C0.071714746,2.14064475 0.365047957,1.44210045 0.897430304,0.917454322 C1.42806958,0.394775926 2.13276652,0.10699535 2.88178714,0.10699535 C2.88427724,0.10699535 2.88676733,0.10699535 2.88925743,0.10699535 L19.9235004,0.143890296 C20.9860241,0.146103993 21.8456049,0.998869169 21.8433638,2.04865335 C21.8408737,3.09671578 20.9797988,3.94505356 19.9195163,3.94505356 C19.9180222,3.94505356 19.9165282,3.94505356 19.9150341,3.94505356 L3.91990782,3.91037231 L3.91965881,9.30982462 C3.91965881,15.0752748 6.47001428,20.5258881 10.9168262,24.263838 C15.3295239,27.9730099 21.1306986,29.5774481 26.8297794,28.6641752 C27.027493,28.6324455 27.2264516,28.5992401 27.4274022,28.5645588 C28.4752343,28.3852494 29.4712723,29.0749389 29.6545434,30.1087353 C29.8378144,31.1427776 29.1378486,32.1276267 28.0912616,32.3086579 C27.8743743,32.3460448 27.6589811,32.3822018 27.4455799,32.4163912 C26.190821,32.6175916 24.9308328,32.71647 23.678813,32.71647 Z",id:"Path"}),Object(o.h)("path",{d:"M45.5458342,32.7164716 C44.2933164,32.7164716 43.0343242,32.6175932 41.7788182,32.4166387 C41.5654171,32.3824494 41.3500239,32.3462923 41.1331366,32.3089054 C40.0863005,32.1278742 39.3865838,31.1427791 39.5698548,30.1089827 C39.7531258,29.0749403 40.751405,28.3850048 41.7969959,28.5648062 C41.9976976,28.5997334 42.1969052,28.6329388 42.3946188,28.6644225 C48.0949447,29.5769576 53.8948744,27.9732572 58.3075721,24.2640851 C62.7543841,20.526381 65.3047396,15.0757674 65.3047396,9.31007103 L65.3047396,3.91061846 L49.3096131,3.94529971 C49.3081191,3.94529971 49.306625,3.94529971 49.305131,3.94529971 C48.2445994,3.94529971 47.3835245,3.09720785 47.3812834,2.04889941 C47.3787933,0.999115177 48.2383742,0.14634996 49.3011468,0.144136263 L66.336137,0.107241316 C66.3386271,0.107241316 66.3411172,0.107241316 66.3436073,0.107241316 C67.0921299,0.107241316 67.7965779,0.394775939 68.3274661,0.917700327 C68.8598485,1.44259244 69.1531817,2.14064485 69.1531817,2.88370909 L69.1531817,9.31031699 C69.1531817,16.1922085 66.1092893,22.6980176 60.8016514,27.1593546 C56.499514,30.7750595 51.0925213,32.7164716 45.5458342,32.7164716 Z",id:"Path"})),Object(o.h)("path",{d:"M50,82.6666667 L75,82.6666667 C64.6443721,69.1213524 65.724985,49.6 65.724985,49.6 L62.500123,49.6 L59.275261,49.6 C59.275261,49.6 60.355874,69.1216062 50,82.6666667 Z",id:"Path",fill:"#FED130"}),Object(o.h)("path",{d:"M65.4358416,49.6 L62.1105346,49.6 L58.7852276,49.6 C58.7852276,49.6 58.9577468,52.6309313 58.5140173,57.1325357 C57.668166,65.7131954 59.795987,74.3692288 64.8162948,81.3779562 C65.1278442,81.8129404 65.4505565,82.2428489 65.7846855,82.6666667 L75,82.6666667 C64.3215707,69.1215022 65.4358416,49.6 65.4358416,49.6 Z",id:"Path",fill:"#F7BC14"}),Object(o.h)("path",{d:"M44.4444444,16.5333333 L44.4444444,33.3377305 C44.4444444,43.2796237 48.9096297,52.6297198 56.4734722,58.5267517 L56.4734722,58.5267517 C60.0573988,61.3207124 64.9426012,61.3207124 68.5265278,58.5267517 L68.5265278,58.5267517 C76.0903703,52.6299691 80.5555556,43.2796237 80.5555556,33.3377305 L80.5555556,16.5333333 L44.4444444,16.5333333 L44.4444444,16.5333333 Z",id:"Path",fill:"#FED130"}),Object(o.h)("path",{d:"M72.0094117,16.5333333 L72.0094117,33.3378693 C72.0094117,43.2798446 67.5705407,52.630018 60.0512736,58.5270986 L60.0512736,58.5270986 C59.5058697,58.9548713 58.9300225,59.3163342 58.3333333,59.6129831 C61.6347948,61.2550219 65.5800156,60.8935589 68.5974175,58.5270986 L68.5974175,58.5270986 C76.1166846,52.6302672 80.5555556,43.2798446 80.5555556,33.3378693 L80.5555556,16.5333333 L72.0094117,16.5333333 L72.0094117,16.5333333 Z",id:"Path",fill:"#F7BC14"}),Object(o.h)("path",{d:"M82.255121,19.2888889 L42.744879,19.2888889 C42.1493729,19.2888889 41.6666667,18.6865363 41.6666667,17.9434247 L41.6666667,12.3676864 C41.6666667,11.6245748 42.1493729,11.0222222 42.744879,11.0222222 L82.255121,11.0222222 C82.8506271,11.0222222 83.3333333,11.6245748 83.3333333,12.3676864 L83.3333333,17.9434247 C83.3333333,18.6865363 82.8503865,19.2888889 82.255121,19.2888889 Z",id:"Path",fill:"#FFB125"}),Object(o.h)("path",{d:"M82.3098774,11.0222222 L75,11.0222222 L75,19.2888889 L82.3098774,19.2888889 C82.8752672,19.2888889 83.3333333,18.6865144 83.3333333,17.9433758 L83.3333333,12.3674352 C83.3333333,11.6245967 82.8750388,11.0222222 82.3098774,11.0222222 Z",id:"Path",fill:"#FF901D"}),Object(o.h)("path",{d:"M85.2218364,90.9333333 L42.5559414,90.9333333 C41.9374776,90.9333333 41.5082141,90.278095 41.7224773,89.6610157 L44.8909679,80.5289745 C45.0197224,80.1575769 45.35242,79.9111111 45.7244321,79.9111111 L82.0533457,79.9111111 C82.4253577,79.9111111 82.7580554,80.1575769 82.8868099,80.5289745 L86.0553005,89.6610157 C86.2695637,90.278095 85.8403002,90.9333333 85.2218364,90.9333333 Z",id:"Path",fill:"#FFB125"}),Object(o.h)("path",{d:"M83.2846897,89.6610157 L80.5176781,80.5289745 C80.4050235,80.1575769 80.1146964,79.9111111 79.7896074,79.9111111 L72.2222222,79.9111111 L75.5619484,90.9333333 L82.5566191,90.9333333 C83.0967174,90.9333333 83.471589,90.278095 83.2846897,89.6610157 Z",id:"Path",fill:"#FF901D"}))))))))))))},tm=function(e){return Object(o.h)("svg",{version:"1.1",id:"icon-premium",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 370.04 370.04",style:"enable-background:new 0 0 370.04 370.04;"},Object(o.h)("g",null,Object(o.h)("g",{id:"Layer_5_21_"},Object(o.h)("g",null,Object(o.h)("path",{d:"M341.668,314.412c0,0-41.071-70.588-48.438-83.248c8.382-2.557,17.311-4.815,21.021-11.221 c6.183-10.674-4.823-28.184-1.933-39.625c2.977-11.775,20.551-21.964,20.551-33.933c0-11.661-18.169-25.284-21.148-36.99 c-2.91-11.439,8.063-28.968,1.86-39.629c-6.203-10.662-26.864-9.786-35.369-17.97c-8.751-8.422-8.724-29.028-19.279-34.672 c-10.598-5.665-27.822,5.784-39.589,3.072C207.711,17.515,197.318,0,185.167,0c-12.331,0-31.944,19.868-35.02,20.583 c-11.761,2.734-29.007-8.687-39.594-2.998c-10.545,5.663-10.48,26.271-19.215,34.707c-8.491,8.199-29.153,7.361-35.337,18.035 c-6.183,10.672,4.823,28.178,1.934,39.625c-2.897,11.476-21.083,23.104-21.083,36.376c0,11.97,17.618,22.127,20.613,33.896 c2.911,11.439-8.062,28.966-1.859,39.631c3.377,5.805,11.039,8.188,18.691,10.479c0.893,0.267,2.582,1.266,1.438,2.933 c-5.235,9.036-47.37,81.755-47.37,81.755c-3.352,5.784-0.63,10.742,6.047,11.023l32.683,1.363 c6.677,0.281,15.053,5.133,18.617,10.786l17.44,27.674c3.564,5.653,9.219,5.547,12.57-0.236c0,0,48.797-84.246,48.817-84.27 c0.979-1.144,1.963-0.909,2.434-0.509c5.339,4.546,12.782,9.081,18.994,9.081c6.092,0,11.733-4.269,17.313-9.03 c0.454-0.387,1.559-1.18,2.367,0.466c0.013,0.026,48.756,83.811,48.756,83.811c3.36,5.776,9.016,5.874,12.569,0.214 l17.391-27.707c3.554-5.657,11.921-10.528,18.598-10.819l32.68-1.424C342.315,325.152,345.028,320.187,341.668,314.412z M239.18,238.631c-36.136,21.023-79.511,18.77-112.641-2.127c-48.545-31.095-64.518-95.419-35.335-145.788 c29.516-50.95,94.399-68.928,145.808-40.929c0.27,0.147,0.537,0.299,0.805,0.449c0.381,0.211,0.761,0.425,1.14,0.641 c15.86,9.144,29.613,22.415,39.461,39.342C308.516,141.955,290.915,208.533,239.18,238.631z"}),Object(o.h)("path",{d:"M230.916,66.103c-0.15-0.087-0.302-0.168-0.452-0.254C203.002,49.955,168,48.793,138.665,65.86 c-43.532,25.326-58.345,81.345-33.019,124.876c7.728,13.284,18.318,23.888,30.536,31.498c1.039,0.658,2.09,1.305,3.164,1.927 c43.579,25.247,99.568,10.333,124.814-33.244C289.405,147.338,274.495,91.35,230.916,66.103z M241.818,137.344l-15.259,14.873 c-4.726,4.606-7.68,13.698-6.563,20.203l3.602,21.001c1.116,6.505-2.75,9.314-8.592,6.243l-18.861-9.916 c-5.842-3.071-15.401-3.071-21.243,0l-18.86,9.916c-5.842,3.071-9.709,0.262-8.593-6.243l3.602-21.001 c1.116-6.505-1.838-15.597-6.564-20.203l-15.258-14.873c-4.727-4.606-3.249-9.152,3.282-10.102l21.086-3.064 c6.531-0.949,14.265-6.568,17.186-12.486l9.43-19.107c2.921-5.918,7.701-5.918,10.621,0l9.431,19.107 c2.921,5.918,10.654,11.537,17.186,12.486l21.086,3.064C245.067,128.192,246.544,132.738,241.818,137.344z"})))),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null))},nm=function(){var e=Object(r.b)(Oc),t=e.data,n=e.hasPremium,i=e.hasBasic,a=e.hasMobile,s=e.subcription,l=e.namePremium,u=e.nameBasic,d=e.nameMobile,p=t.infoUser,h=Object(r.b)(Xc).state.isMobile,f=Object(Ve.useTracking)().trackEvent,m=function(){f({on_screen:"user_profile",event_category:"payment",event_action:"click",direct_object_type:"button",direct_object_id:"upgrade-package",indirect_object_type:"package",indirect_object_id:u.planId||l.planId||d.planId,indirect_object_property:u.productName||l.productName||d.productName})};return Object(o.h)("div",{className:"account-info"},s.loaded&&Object(o.h)("div",{className:"content"},n?Object(o.h)(em,null):Object(o.h)(tm,null),Object(o.h)("div",{className:"info"},p&&Object(o.h)(ta,{type:"text-dark-color",content:p.phone}),Object(o.h)("div",{className:"name-package"},n?Object(o.h)(Pu,{type:"text-dark-color",content:l.productName}):i?Object(o.h)("div",null,Object(o.h)("div",{className:"buy-package"},Object(o.h)(Pu,{type:"text-dark-color",content:u.productName}),Object(o.h)(c.b,{to:{pathname:"/subs/plan",state:{location:location.pathname}}},Object(o.h)(me,{onClick:m,content:"Nâng cấp gói"})))):a?Object(o.h)("div",null,Object(o.h)("div",{className:"buy-package"},Object(o.h)(Pu,{type:"text-dark-color",content:d.productName}),Object(o.h)(c.b,{to:{pathname:"/subs/plan",state:{location:location.pathname}}},Object(o.h)(me,{onClick:m,content:"Nâng cấp gói"})))):Object(o.h)("div",{className:"buy-package"},Object(o.h)(Pu,{type:"text-dark-color",content:"Bạn chưa có gói Galaxy"}),Object(o.h)(c.b,{to:{pathname:"/subs/plan",state:{location:location.pathname}}},Object(o.h)(me,{onClick:function(){f({on_screen:"user_profile",event_category:"payment",event_action:"click",direct_object_type:"button",direct_object_id:"dang-ky-goi"})},content:"Mua gói"})))))),h?Object(o.h)("div",null,Object(o.h)("div",{className:"border-bottom"}),Object(o.h)(Jf,null)):"")},im=(n(882),function(e){return Object(o.h)("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 330 330"},Object(o.h)("g",null,Object(o.h)("path",{d:"M245.608,84.392c-5.856-5.857-15.355-5.858-21.213-0.001c-5.857,5.858-5.858,15.355,0,21.213L268.789,150H85.002 c-8.284,0-15,6.716-15,15s6.716,15,15,15h183.785l-44.392,44.392c-5.858,5.858-5.858,15.355,0,21.213 c2.929,2.929,6.768,4.393,10.607,4.393c3.839,0,7.678-1.464,10.606-4.393l69.998-69.998c5.858-5.857,5.858-15.355,0-21.213 L245.608,84.392z"}),Object(o.h)("path",{d:"M155,330c8.284,0,15-6.716,15-15s-6.716-15-15-15H40V30h115c8.284,0,15-6.716,15-15s-6.716-15-15-15H25 c-8.284,0-15,6.716-15,15v300c0,8.284,6.716,15,15,15H155z"})),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null))}),am=["0938499491","0944554578","0965571360","0938385148","0935673869","0332255565","0949095527","0778080007"],om=function(e){var t=Object(r.b)(Oc),n=e.route;return Object(o.h)("div",{class:"sidenav-left"},Object(o.h)("div",{className:"infor-left"},Object(o.h)(nm,null)),Object(o.h)("ul",{className:"navbar"},n.map((function(e){return Object(o.h)("li",{className:"nav-item"},Object(o.h)(c.b,{className:"nav-link ".concat((t="/".concat(e.slug),window.location.pathname.startsWith(t)?"active":"")),to:"/".concat(e.slug)},Object(o.h)("div",{className:"icon-left"},e.icon),Object(o.h)(Pu,{content:e.title,type:"text-dark-color"})));var t})),t.isLogin&&am.includes(t.data.infoUser.phone)&&Object(o.h)("li",{className:"nav-item"},Object(o.h)("a",{className:"nav-link",href:"#",onClick:function(){localStorage.setItem("eventDebug",1)}},Object(o.h)("div",{class:"description text-dark-color"},"Event debug")))),Object(o.h)("div",{className:"logout",onClick:function(e){e.preventDefault,t.logout()}},Object(o.h)("div",{className:"icon-left"},Object(o.h)(im,null)),Object(o.h)("a",{href:"#",className:"nav-link"},Object(o.h)(Pu,{content:"Đăng xuất",type:"text-dark-color"})),Object(o.h)("div",null)))},rm=(n(883),n(172)),cm=Pe.a.div.withConfig({displayName:"style__SocialListContainer",componentId:"sc-1vwhjxn-0"})(["padding:0 4%;@media (min-width:1200px){border-bottom:1px solid #d8d8d8;padding:"," 0 0 4%;}.subtitle{@media (max-width:1199px){margin:0 -4%;padding:"," 4%;background:#f5f5f5;}}"],C(24),C(16)),sm=Pe.a.div.withConfig({displayName:"style__SocialWrap",componentId:"sc-1vwhjxn-1"})(["display:flex;justify-content:space-between;align-items:center;padding:"," 0;&:not(:last-child){border-bottom:1px solid #f3f3f3;}"],C(16)),lm=Pe.a.div.withConfig({displayName:"style__SocialNameWrap",componentId:"sc-1vwhjxn-2"})(["display:flex;align-items:center;width:calc(100% - 100px);"]),um=Pe.a.div.withConfig({displayName:"style__SocialName",componentId:"sc-1vwhjxn-3"})(["font-weight:bold;font-size:",";animation:fadeIn 0.5s;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],C(16)),dm=Pe.a.img.withConfig({displayName:"style__SocialIcon",componentId:"sc-1vwhjxn-4"})(["width:",";height:",";margin-right:",";@media (max-width:576px){width:",";height:",";margin-right:",";}"],C(32),C(32),C(12),C(24),C(24),C(10)),pm=Pe.a.div.withConfig({displayName:"style__SocialLink",componentId:"sc-1vwhjxn-5"})(["cursor:pointer;font-weight:bold;font-size:",";transition:300ms ease;animation:fadeIn 0.5s;min-width:100px;text-align:right;"," &:hover{","}@media (max-width:576px){font-weight:normal;}"],C(16),(function(e){return e.isUnlink?"color: #ff5151;":"color: #0077c8;"}),(function(e){return e.isUnlink?"color: #ff5151;":"color: #00adee;"})),hm=Object(Pe.b)(["0%{background-position:-100px;}40%,100%{background-position:140px;}"]),fm=Pe.a.div.withConfig({displayName:"style__Skeleton",componentId:"sc-1vwhjxn-6"})(["background-image:linear-gradient(90deg,#dddddd 0px,#e8e8e8 40px,#dddddd 80px);background-size:600px;"," height:20px;border-radius:8px;animation:"," 1.6s infinite linear;"],(function(e){return e.short?"width: 80px;":"width: 100px;"}),hm),mm=n(407),bm=n.n(mm),gm=n(408),ym=n.n(gm),vm=n(409),Om=n.n(vm);function wm(e){return function(e){if(Array.isArray(e))return km(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||xm(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||xm(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xm(e,t){if(e){if("string"==typeof e)return km(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?km(e,t):void 0}}function km(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var _m=function(){var e=Object(r.b)(Eo),t=(Object(r.b)(Xc).state.isMobile,wc()),n=jm(Object(r.k)({data:[{icon:Om.a,name:"Apple",type:"apple",isLinked:!1,setLink:!1},{icon:bm.a,name:"Facebook",type:"facebook",isLinked:!1,setLink:!1},{icon:ym.a,name:"Google",type:"google",isLinked:!1,setLink:!0}],isLoaded:!1}),2),i=n[0],a=n[1],c=Object(rm.useGoogleLogin)({onSuccess:function(n){var i={token:n.tokenObj.token_type+" "+n.tokenObj.access_token,type:"google"};z.socialLink(i,(function(n,i){var a,o;n?e.setNotification({status:!0,description:(null==i||null===(a=i.data)||void 0===a?void 0:a.message)||"Kết nối thất bại",type:"error"}):(e.setNotification({status:!0,description:(null==i||null===(o=i.data)||void 0===o?void 0:o.message)||"Kết nối thành công",type:"success"}),s(),t.updateInfo())}))},onFailure:function(t){(null==t?void 0:t.error)&&"idpiframe_initialization_failed"!==t.error&&e.setNotification({status:!0,description:"Đã có lỗi xảy ra, xin vui thử lại.",type:"error"})},clientId:d.clientIdGoogle}).signIn,s=function(){z.getListSocial((function(e,t){var n=wm(i.data);if(!e&&(null==t?void 0:t.data)){var o=t.data,r=o.findIndex((function(e){return"apple"===e.type})),c=o.findIndex((function(e){return"facebook"===e.type})),s=o.findIndex((function(e){return"google"===e.type}));r>-1?(n[0].isLinked=!0,n[0].name=o[r].fullName||o[r].email):(n[0].isLinked=!1,n[0].name="Apple"),c>-1?(n[1].isLinked=!0,n[1].name=o[c].fullName||o[c].email):(n[1].isLinked=!1,n[1].name="Facebook"),s>-1?(n[2].isLinked=!0,n[2].name=o[s].fullName||o[s].email):(n[2].isLinked=!1,n[2].name="Google")}a({data:n,isLoaded:!0})}))};return Object(r.d)((function(){s()}),[]),Object(o.h)(cm,null,Object(o.h)(ta,{content:"Kết nối mạng xã hội",type:"text-dark-color"}),i.data.map((function(t){return Object(o.h)(sm,null,Object(o.h)(lm,null,Object(o.h)(dm,{src:t.icon}),Object(o.h)(um,null,i.isLoaded?t.name:Object(o.h)(fm,null))),i.isLoaded?t.setLink||t.isLinked?Object(o.h)(pm,{onClick:(n=t.isLinked,a=t.type,function(){if(n)z.socialUnlink(a,(function(t,n){var i,a;t?e.setNotification({status:!0,description:(null==n||null===(i=n.data)||void 0===i?void 0:i.message)||"Huỷ kết nối thất bại",type:"error"}):(e.setNotification({status:!0,description:(null==n||null===(a=n.data)||void 0===a?void 0:a.message)||"Huỷ kết nối thành công",type:"success"}),s())}));else switch(a){case"google":c()}}),isUnlink:t.isLinked},t.isLinked?"Huỷ kết nối":"Kết nối"):"":Object(o.h)(fm,{short:!0}));var n,a})))},Sm=n(133),Im=n.n(Sm);n(884);function Nm(){return(Nm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Tm(e){return(Tm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cm(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Pm(e,t){return(Pm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Am(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Dm(e);if(t){var a=Dm(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Mm(this,n)}}function Mm(e,t){return!t||"object"!==Tm(t)&&"function"!=typeof t?Em(e):t}function Em(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dm(e){return(Dm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Lm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pm(e,t)}(s,e);var t,n,i,a=Am(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).state={package_hints:[{title:"Bạn chưa có Gói Galaxy Cao Cấp. Đăng ký ngay?",price:"Đăng ký ngay",description:"Gói Galaxy Cao Cấp với 5.000 siêu phẩm điện ảnh bom tấn và 8.000 giờ phim bộ đặc sắc thế giới đang chờ bạn.",note:"Tháng dùng thử đầu tiên chỉ 25.000đ - tháng tiếp theo 50.000đ"}],purchase_packages:null,isLoading:!1},t.cancelRenewal=t.cancelRenewal.bind(Em(t)),t}return t=s,(n=[{key:"renderPackageHints",value:function(){var e=this.state.package_hints,t=Object(r.b)(Xc).state.isMobile,n=Object(Ve.useTracking)().trackEvent,i=function(){n({on_screen:"user_profile",event_category:"payment",event_action:"click",direct_object_type:"button",direct_object_id:"dang-ky-goi"})};return e.map((function(e,n){return t?Object(o.h)("div",{className:"tab-package"},Object(o.h)(Ap,{content:"Gói thuê bao"}),Object(o.h)("div",{className:"tab-content"},Object(o.h)(ta,{content:e.title,type:"text-dark-color"}),Object(o.h)(Pu,{type:"text-dark-color",content:e.description}),Object(o.h)(c.b,{to:{pathname:"/subs/plan",state:{location:location.pathname}}},Object(o.h)(me,{onClick:i,content:e.price})))):Object(o.h)("div",{className:"tab-package"},Object(o.h)("div",{className:"tab-content"},Object(o.h)(ta,{content:e.title,type:"text-dark-color"}),Object(o.h)(Pu,{type:"text-dark-color",content:e.description})),Object(o.h)(c.b,{to:{pathname:"/subs/plan",state:{location:location.pathname}}},Object(o.h)(me,{onClick:i,content:e.price})))}))}},{key:"cancelRenewal",value:function(){}},{key:"renderPurchasePackages",value:function(){var e=this;return Object(r.b)(Xc).state.isMobile?Object(o.h)("div",{className:"tab-package"},Object(o.h)(Ap,{content:"Gói Thuê Bao"}),this.props.subcription.data.map((function(t,n){var i=Date.parse(t.expireAt),a=Date.parse(new Date),r=new Date(i);r=r.getDate()+"/"+(r.getMonth()+1)+"/"+r.getFullYear();var c=new Date(i-a);return 0===c.getMonth()&&c.getDate(),Object(o.h)("div",{className:"tab-content"},"premium"==t.planId&&Object(o.h)(ta,{content:e.props.namePremium&&e.props.namePremium.productName,type:"text-dark-color"}),"basic"==t.planId&&Object(o.h)(ta,{content:e.props.nameBasic&&e.props.nameBasic.productName,type:"text-dark-color"}),"mobile"==t.planId&&Object(o.h)(ta,{content:e.props.nameMobile&&e.props.nameMobile.productName,type:"text-dark-color"}),Object(o.h)(Pu,{type:"text-dark-color",content:1==t.status&&1==t.autoRenewStatus?"Gói sẽ tự động gia hạn ngày "+r:"Gói của bạn sẽ hết hạn ngày "+r}),"MOMO"==t.paymentMethod&&1==t.status&&Object(o.h)("div",{className:"channel-method"},Object(o.h)("img",{className:"channel",src:Lp.a,width:"30"}),Object(o.h)("div",{className:"number-channel"},"*** *** ",t.momoWalletId?t.momoWalletId.substr(-4,4):"****")),"ASIAPAY"==t.paymentMethod&&1==t.status&&Object(o.h)("div",{className:"channel-method"},Object(o.h)("img",{className:"channel",src:Im.a,width:"60"}),Object(o.h)("div",{className:"number-channel"},"**** **** **** ",t.panLast4?t.panLast4:"****")))}))):this.props.subcription.data.map((function(t){var n=Date.parse(t.expireAt),i=Date.parse(new Date),a=new Date(n);a=a.getDate()+"/"+(a.getMonth()+1)+"/"+a.getFullYear();var r=new Date(n-i);return 0===r.getMonth()&&r.getDate(),Object(o.h)("div",{className:"tab-package"},Object(o.h)("div",{className:"tab-content"},"premium"==t.planId&&Object(o.h)(ta,{content:e.props.namePremium&&e.props.namePremium.productName,type:"text-dark-color"}),"basic"==t.planId&&Object(o.h)(ta,{content:e.props.nameBasic&&e.props.nameBasic.productName,type:"text-dark-color"}),"mobile"==t.planId&&Object(o.h)(ta,{content:e.props.nameMobile&&e.props.nameMobile.productName,type:"text-dark-color"}),Object(o.h)(Pu,{type:"text-dark-color",content:1==t.status&&1==t.autoRenewStatus?"Gói của bạn sẽ tự động gia hạn ngày "+a:"Gói của bạn sẽ hết hạn ngày "+a})),"MOMO"==t.paymentMethod&&1==t.status&&Object(o.h)("div",{className:"channel-method"},Object(o.h)("img",{className:"channel",src:Lp.a,width:"40"}),Object(o.h)("div",{className:"number-channel"},"*** *** ",t.momoWalletId?t.momoWalletId.substr(-4,4):"****")),"ASIAPAY"==t.paymentMethod&&1==t.status&&Object(o.h)("div",{className:"channel-method"},Object(o.h)("img",{className:"channel",src:Im.a,width:"60"}),Object(o.h)("div",{className:"number-channel"},"**** **** **** ",t.panLast4?t.panLast4:"****")),0===t.autoRenewStatus&&0===t.status&&Object(o.h)(c.b,{className:"link",to:"/account/info/method-payment"},Object(o.h)(me,{content:"Liên kết ngay"})))}))}},{key:"render",value:function(){return this.props.subcription.loaded?Object(o.h)("div",null,this.props.subcription.data&&this.props.subcription.data.length>0&&this.props.hasPremium||this.props.hasBasic||this.props.hasMobile?this.renderPurchasePackages():this.renderPackageHints()):Object(o.h)("div",{className:"mask-loader"},Object(o.h)("div",{className:"loader"}))}}])&&Cm(t.prototype,n),i&&Cm(t,i),s}(o.a),Rm=function(e){return Object(o.h)(Oc.Consumer,null,(function(t){return t&&Object(o.h)(Lm,Nm({},e,{hasPremium:t.hasPremium,hasBasic:t.hasBasic,hasMobile:t.hasMobile,namePremium:t.namePremium,nameBasic:t.nameBasic,nameMobile:t.nameMobile,subcription:t.subcription}))}))},zm=n(173),Um=n.n(zm),Vm=n(174),Bm=n.n(Vm),Hm=(n(885),n(83)),Fm=n.n(Hm),qm=n(410),Wm=n.n(qm),Km=n(411),Gm=n.n(Km),$m=n(412),Xm=n.n($m),Ym=n(413),Zm=n.n(Ym),Qm=n(135),Jm=n.n(Qm);function eb(e){return(eb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tb(e){return function(e){if(Array.isArray(e))return nb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return nb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ib(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ab(e,t){return(ab=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ob(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=sb(e);if(t){var a=sb(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return rb(this,n)}}function rb(e,t){return!t||"object"!==eb(t)&&"function"!=typeof t?cb(e):t}function cb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sb(e){return(sb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ab(e,t)}(s,e);var t,n,i,a=ob(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).state={data:null,pagination:null,isLoading:!0},t.handleSwitchPage=t.handleSwitchPage.bind(cb(t)),t.checkCardLogo=t.checkCardLogo.bind(cb(t)),t.renderDataEmpty=t.renderDataEmpty.bind(cb(t)),t.renderDataNotEmpty=t.renderDataNotEmpty.bind(cb(t)),t}return t=s,(n=[{key:"checkCardLogo",value:function(e){switch(e){case"MOMO":return Lp.a;case"ASIAPAY":return Im.a;case"VNPAY":return Um.a;case"ZALOPAY":return zp.a;case"SHOPEEPAY":return Vp.a;case"MOCA":return Bm.a}}},{key:"getHistoryTransactionPage",value:function(e){var t=this,n={limit:"6",page:e,pagination:!0};z.getHistoryTransactions(n,(function(e,n){n&&n.data&&n.data.data?t.setState({data:n.data.data.items,pagination:n.data.data.pagination,isLoading:!1}):t.setState({data:null,pagination:null,isLoading:!0})}))}},{key:"componentDidMount",value:function(){this.getHistoryTransactionPage(1)}},{key:"renderTableData",value:function(){var e=this;return this.state.data.map((function(t,n){return Object(o.h)("tr",{key:n},Object(o.h)("td",null,k.parseDate("getFull",t.createdAt)),Object(o.h)("td",null,t.transactionId),Object(o.h)("td",null,Object(o.h)("div",{className:"name_movie"},t.planId)),Object(o.h)("td",null,Object(o.h)("div",{className:"td-method"},Object(o.h)("img",{width:"30",src:e.checkCardLogo(t.paymentMethod)}),"APPLE_IN_APP_PURCHASE"===t.paymentMethod&&Object(o.h)("p",null,Object(o.h)("img",{className:"td-method-icon",src:Gm.a}),"Apple App"),"ANDROID_IN_APP_PURCHASE"===t.paymentMethod&&Object(o.h)("p",null,Object(o.h)("img",{className:"td-method-icon",src:Xm.a}),"Andoird App"),"ACTIVE_CODE"===t.paymentMethod&&Object(o.h)("p",null,Object(o.h)("img",{className:"td-method-icon",src:Zm.a}),"Gift Code"),"AUTO_ACTIVE"===t.paymentMethod&&Object(o.h)("p",null,Object(o.h)("img",{className:"td-method-icon",src:Jm.a}),"Gói ưu đãi"),"TRIAL"===t.paymentMethod&&Object(o.h)("p",null,Object(o.h)("img",{className:"td-method-icon",src:Jm.a}),"Dùng thử"),"TELCO"===t.paymentMethod&&Object(o.h)("p",null,Object(o.h)("img",{className:"td-method-icon",src:Wm.a}),"Telco"),"MOMO"==t.paymentMethod&&Object(o.h)("p",null,t.momoWalletId?t.momoWalletId:"*** *** ****"),"ASIAPAY"==t.paymentMethod&&Object(o.h)("p",null,"**** **** **** ",t.panLast4?t.panLast4:"****"),"ZALOPAY"==t.paymentMethod&&Object(o.h)("p",null,t.displayWallet),"MOCA"==t.paymentMethod&&Object(o.h)("p",null,t.displayWallet),"SHOPEEPAY"==t.paymentMethod&&t.displayWallet)),Object(o.h)("td",null,k.parseVND(1*t.amount)))}))}},{key:"handleSwitchPage",value:function(e){var t=this;return function(n){t.setState({isLoading:!0}),t.getHistoryTransactionPage(e)}}},{key:"renderPageNumber",value:function(){var e,t=this,n=[],i=this.state.pagination,a=i.totalPage,r=i.currentPage;if(null!==a)for(e=2;e<=a-1;e++)n.push(e);return Object(o.h)(o.b,null,1!==r?Object(o.h)("div",{className:"icon",onClick:this.handleSwitchPage(r-1)},Object(o.h)(Sc,null)):Object(o.h)("div",{className:"icon disable"},Object(o.h)(Sc,null)),tb(new Set(function(e,t){var n=[],i=t>=5?5:t;if(n.push(1),e>=1&&e<=3){for(var a=2;a<=i;a++)a!==t&&n.push(a);t>6&&n.push("...")}else if(e<=t&&e>=t-3){t>6&&n.push("...");for(var o=t-3;o<t;o++)o!==t&&n.push(o)}else{var r=e-3;parseInt(e)-4>0&&n.push("...");for(var c=1;c<=5;c++)r+c>1&&r+c<t&&n.push(r+c);parseInt(e)+3<t&&n.push("...")}if(1!==t&&n.push(t),t<=100)return n}(r,a))).map((function(e){return"..."===e?Object(o.h)("span",{className:"page-number"},e):Object(o.h)("span",{className:e===r?"page-number active":"page-number",onClick:t.handleSwitchPage(e)},e)})),r!==a?Object(o.h)("div",{className:"icon",onClick:this.handleSwitchPage(r+1)},Object(o.h)(Cc,null)):Object(o.h)("div",{className:"icon disable"},Object(o.h)(Cc,null)))}},{key:"renderDataNotEmpty",value:function(){var e=this,t=Object(r.b)(Xc).state.isMobile;return Object(o.h)("div",{id:"transaction-history"},t?Object(o.h)("div",null,Object(o.h)("div",{className:"transaction-history"},Object(o.h)(Ap,{content:"Lịch sử thanh toán"}),Object(o.h)("div",{className:"container"},this.state.data.map((function(t){return Object(o.h)("div",{className:"row-item",key:t.transactionId},Object(o.h)("div",{className:"item"},Object(o.h)("div",{className:"date"},Object(o.h)("span",null,k.parseDate("getFull",t.createdAt))),Object(o.h)("div",{className:"deal-code"},t.transactionId)),Object(o.h)("div",{className:"item"},Object(o.h)("div",{className:"name"},t.planId),Object(o.h)("div",{className:"price"},k.parseVND(1*t.amount))),Object(o.h)("div",{className:"method"},"APPLE_IN_APP_PURCHASE"===t.paymentMethod&&Object(o.h)("p",null,Object(o.h)("img",{className:"td-method-icon",src:"https://icons.iconarchive.com/icons/uiconstock/socialmedia/512/Apple-icon.png"}),"Apple App"),"ANDROID_IN_APP_PURCHASE"===t.paymentMethod&&Object(o.h)("p",null,Object(o.h)("img",{className:"td-method-icon",src:"https://image.flaticon.com/icons/svg/634/634909.svg"}),"Android App"),"ACTIVE_CODE"===t.paymentMethod&&Object(o.h)("p",null,Object(o.h)("img",{className:"td-method-icon",src:"https://image.flaticon.com/icons/svg/815/815252.svg"}),"Gift Code"),"AUTO_ACTIVE"===t.paymentMethod&&Object(o.h)("p",null,Object(o.h)("img",{className:"td-method-icon",src:Jm.a}),"Gói ưu đãi"),"TRIAL"===t.paymentMethod&&Object(o.h)("p",null,Object(o.h)("img",{className:"td-method-icon",src:Jm.a}),"Dùng thử"),"MOMO"==t.paymentMethod&&Object(o.h)("p",null,Object(o.h)("img",{className:"td-method-icon",src:e.checkCardLogo(t.paymentMethod)}),t.momoWalletId?t.momoWalletId:"*** *** ****"),"ASIAPAY"==t.paymentMethod&&Object(o.h)("p",null,Object(o.h)("img",{className:"td-method-icon",src:e.checkCardLogo(t.paymentMethod)}),"**** **** **** ",t.panLast4?t.panLast4:"****"),"ZALOPAY"==t.paymentMethod&&Object(o.h)("p",null,Object(o.h)("img",{className:"td-method-icon",src:e.checkCardLogo(t.paymentMethod)}),t.displayWallet),"MOCA"==t.paymentMethod&&Object(o.h)("p",null,Object(o.h)("img",{className:"td-method-icon",src:e.checkCardLogo(t.paymentMethod)}),t.displayWallet),"SHOPEEPAY"==t.paymentMethod&&Object(o.h)("p",null,Object(o.h)("img",{className:"td-method-icon",src:e.checkCardLogo(t.paymentMethod)}),t.displayWallet)))}))),this.state.pagination.totalPage>1&&Object(o.h)("div",{className:"pagination"},this.renderPageNumber()))):Object(o.h)("div",null,Object(o.h)("table",{className:"transaction-history"},Object(o.h)("thead",null,Object(o.h)("tr",null,Object(o.h)("th",null,"Ngày mua"),Object(o.h)("th",null,"Mã giao dịch"),Object(o.h)("th",null,"Nội dung"),Object(o.h)("th",null,"Phương thức thanh toán"),Object(o.h)("th",null,"Giá tiền"))),Object(o.h)("tbody",null,this.renderTableData())),this.state.pagination.totalPage>1&&Object(o.h)("div",{className:"pagination"},this.renderPageNumber())))}},{key:"renderDataEmpty",value:function(){var e=Object(r.b)(Xc).state.isMobile,t=Object(Ve.useTracking)().trackEvent;return Object(o.h)("div",{id:"transaction-history"},e&&Object(o.h)(Ap,{content:"Lịch sử thanh toán"}),Object(o.h)("div",{className:"data-empty"},Object(o.h)("img",{className:"img-empty",src:Fm.a}),Object(o.h)("p",{className:"description"},"Tài khoản của bạn chưa phát sinh giao dịch với Galaxy Play."),Object(o.h)(c.b,{to:"/subs/plan"},Object(o.h)(me,{onClick:function(){t({on_screen:"user_profile",event_category:"payment",event_action:"click",direct_object_type:"button",direct_object_id:"dang-ky-goi"})},content:"Mua gói"}))))}},{key:"render",value:function(){return this.state.isLoading?Object(o.h)("div",{className:"loader"}):this.state.data&&this.state.data.length>0&&this.renderDataNotEmpty()||this.renderDataEmpty()}}])&&ib(t.prototype,n),i&&ib(t,i),s}(o.a);var ub=n(414),db=n.n(ub),pb=n(415),hb=n.n(pb),fb=n(136),mb=n.n(fb),bb=function(){var e={"-webkit-mask-image":"url(".concat(mb.a,")"),"-moz-mask-image":"url(".concat(mb.a,")"),"-o-mask-image":"url(".concat(mb.a,")"),"mask-image":"url(".concat(mb.a,")"),width:"18px",height:"18px",background:"#0077c8"};return Object(o.h)("div",{className:"add-icon",style:e})};n(886);function gb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function yb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gb(Object(n),!0).forEach((function(t){vb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ob(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var jb=function(e){var t=Object(r.b)(Oc),n=Object(s.g)(),i=Object(r.b)(Eo),a=Object(r.b)(Nr),l=Ob(Object(r.k)({statusShowMethod:!1,showMethod:!1,methods:[],statusClosePopupMomo:!1,statusClosePopupAsia:!1,statusClosePopupZaloPay:!1,statusClosePopupVnpay:!1}),2),u=l[0],d=l[1],p=(Object(r.j)(),Object(r.b)(Xc).state.isMobile),h=function(e){if("ASIAPAY"==e.channelName.toUpperCase()){if("VISA"==e.metadata.payMethod.toUpperCase())return db.a;if("MASTERCARD"==e.metadata.payMethod.toUpperCase()||"MASTER"==e.metadata.payMethod.toUpperCase())return hb.a}else{if("MOMO"==e.channelName.toUpperCase())return Lp.a;if("VNPAY"==e.channelName.toUpperCase())return Um.a;if("ZALOPAY"==e.channelName.toUpperCase())return zp.a;if("SHOPEEPAY"==e.channelName.toUpperCase())return Vp.a}},f=function(){1==a.paymentSvod?d(yb(yb({},u),{},{statusShowMethod:!u.statusShowMethod})):i.setNotification({status:!0,type:"referral",callback:function(){},title:"Thông báo",description:"Tính năng này đang được bảo trì. Chúng tôi đang khẩn trương hoàn thành sớm. Mời bạn quay lại sau nhé!"})},m=function(){d(yb(yb({},u),{},{showMethod:!u.showMethod}))},b=function(e,t){e?i.setNotification({status:!0,description:t,type:"success"}):i.setNotification({status:!0,description:t,type:"error"})},g=function(e,n){var i={userId:t.data.infoUser.id,methodId:n};switch(e.toUpperCase()){case"ASIAPAY":z.unSyncAsiaPay(i,(function(e,n){e?b(!1,"Hệ thống đang bảo trì, vui lòng thử lại sau hoặc liên hệ hỗ trợ khách hàng 19008080"):(t.getChannelAndMethod(),b(!0,"Huỷ liên kết thành công"))}));break;case"MOMO":z.unSyncMomo(i,(function(e,n){0!=n.data.error&&e?b(!1,"Hệ thống đang bảo trì, vui lòng thử lại sau hoặc liên hệ hỗ trợ khách hàng 19008080"):(t.getChannelAndMethod(),b(!0,"Huỷ liên kết thành công"))}));break;case"ZALOPAY":z.unSyncZaloPay(i,(function(e,n){0!=n.data.error&&e?b(!1,"Hệ thống đang bảo trì, vui lòng thử lại sau hoặc liên hệ hỗ trợ khách hàng 19008080"):(t.getChannelAndMethod(),b(!0,"Huỷ liên kết thành công"))}));break;case"SHOPEEPAY":z.unSyncShopeePay(i,(function(e,n){0!=n.data.error&&e?b(!1,"Hệ thống đang bảo trì, vui lòng thử lại sau hoặc liên hệ hỗ trợ khách hàng 19008080"):(t.getChannelAndMethod(),b(!0,"Huỷ liên kết thành công"))}))}},y=t.methods&&t.methods.filter((function(e){if("ASIAPAY"==e.channelName)return!0})),v=t.methods&&t.methods.filter((function(e){if("ZALOPAY"==e.channelName)return!0})),O=t.methods&&t.methods.filter((function(e){if("SHOPEEPAY"==e.channelName)return!0})),w=t.methods&&t.methods.filter((function(e){if("VNPAY"!==e.channelName)return e}));Object(r.d)((function(){var e,i;(e=new URL(window.location.origin+"/"+n.location.pathname+"/"+n.location.search).searchParams.get("errorCode"))&&("0"==e&&(n.push(n.location.pathname),b(!0,"Liên kết thành công")),"0"!==e&&(n.push(n.location.pathname),b(!1,"Liên kết thất bại"))),(i=new URL(window.location.origin+"/"+n.location.pathname+"/"+n.location.search).searchParams.get("responseStatus"))&&("success"==i&&(n.push(n.location.pathname),b(!0,"Liên kết thành công")),"fail"==i&&(n.push(n.location.pathname),b(!1,"Liên kết thất bại"))),function(){var e=new URL(window.location.origin+"/"+n.location.pathname+"/"+n.location.search),i=e.searchParams.get("result"),a=e.searchParams.get("channel"),o=e.searchParams.get("authCode"),r=e.searchParams.get("requestId");if("shopeepay"==a&&i){if("100"==i){var c={authCode:o,requestId:r,userId:t.data.infoUser.id};z.confirmShopeePay(c,(function(e,i){!e&&i?(t.getChannelAndMethod(),n.push(n.location.pathname),b(!0,"Liên kết thành công")):(n.push(n.location.pathname),b(!1,"Liên kết thất bại"))}))}"100"!=i&&(n.push(n.location.pathname),b(!1,"Liên kết thất bại"))}}(),t.getChannelAndMethod()}),[]);return Object(o.h)("div",{id:"payment"},""!=w||u.statusShowMethod?Object(o.h)(o.b,null,p?Object(o.h)(o.b,null,u.statusShowMethod?Object(o.h)(vf,{isMethodAsian:y,isMethodZaloPay:v,isMethodShopeePay:O,showAddMethod:f,showMethod:m,channels:t.channels}):Object(o.h)("div",{id:"payment-method"},Object(o.h)(Ap,{content:"Thêm phương thức thanh toán"}),Object(o.h)("div",{className:"container-fluid"},t.methods&&t.methods.length>0&&t.methods.map((function(e,t){return"VNPAY"!==e.channelName&&Object(o.h)("div",{className:"row-item"},Object(o.h)("div",{className:"card-method"},Object(o.h)("div",{className:"card-logo"},Object(o.h)("img",{src:h(e)})),Object(o.h)("td",{className:"number-card"},"MOMO"===e.channelName.toUpperCase()&&"*** *** ","ASIAPAY"===e.channelName.toUpperCase()&&"**** **** ","ASIAPAY"==e.channelName.toUpperCase()&&(e.metadata.panLast4?e.metadata.panLast4:"****"),"MOMO"==e.channelName.toUpperCase()&&(e.metadata.momoWalletId?e.metadata.momoWalletId.substr(-4,4):"****"),"ZALOPAY"==e.channelName.toUpperCase()&&e.displayWallet,"SHOPEEPAY"==e.channelName.toUpperCase()&&e.displayWallet),Object(o.h)("td",{className:"cancel-method"},Object(o.h)(c.b,{onClick:function(){return g(e.channelName,e.methodId)},className:"btn-cancel-method"},"Huỷ liên kết"))))}))))):Object(o.h)(o.b,null,u.statusShowMethod?Object(o.h)(vf,{isMethodAsian:y,isMethodZaloPay:v,isMethodShopeePay:O,showAddMethod:f,showMethod:m,channels:t.channels}):Object(o.h)("table",{id:"payment-method"},Object(o.h)("colgroup",null,Object(o.h)("col",{span:"1",style:"width: 65px"})),Object(o.h)("tbody",null,t.methods&&t.methods.length>0&&t.methods.map((function(e,t){return"VNPAY"!==e.channelName&&Object(o.h)("tr",{key:t},Object(o.h)("td",{style:"width: 60px"},Object(o.h)("img",{src:h(e),className:"card-logo"})),Object(o.h)("td",{className:"number-card"},"MOMO"===e.channelName.toUpperCase()&&"*** *** ","ASIAPAY"===e.channelName.toUpperCase()&&"**** **** ","ASIAPAY"==e.channelName.toUpperCase()&&e.metadata.panLast4&&e.metadata.panLast4,"MOMO"==e.channelName.toUpperCase()&&(e.metadata.momoWalletId?e.metadata.momoWalletId.substr(-4,4):"****"),"ZALOPAY"==e.channelName.toUpperCase()&&e.displayWallet,"SHOPEEPAY"==e.channelName.toUpperCase()&&e.displayWallet),Object(o.h)("td",{className:"cancel-method"},Object(o.h)(c.b,{onClick:function(){return g(e.channelName,e.methodId)},className:"btn-cancel-method"},"Huỷ liên kết")))})))))):Object(o.h)("div",{className:"non-method"},p&&Object(o.h)(Ap,{content:"Phương thức thanh toán"}),Object(o.h)("div",{className:"data-empty"},Object(o.h)("img",{className:"img-empty",src:Fm.a}),Object(o.h)("p",{className:"description"},"Bạn chưa liên kết phương thức thanh toán nào với tài khoản Galaxy Play!"))),!u.statusShowMethod&&Object(o.h)("div",{className:"add-method",onClick:f},Object(o.h)("a",{className:"link"},Object(o.h)(bb,null),"Thêm phương thức thanh toán?")))},xb=n(137),kb=n.n(xb),_b=function(e){return Object(o.h)("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"408px",height:"408px",viewBox:"0 0 408 408"},Object(o.h)("g",null,Object(o.h)("g",{id:"person"},Object(o.h)("path",{d:"M204,204c56.1,0,102-45.9,102-102S260.1,0,204,0c-56.1,0-102,45.9-102,102S147.9,204,204,204z M204,255 C135.15,255,0,288.15,0,357v51h408v-51C408,288.15,272.85,255,204,255z"}))),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null))},Sb=function(e){return Object(o.h)("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 467.4 467.4"},Object(o.h)("path",{d:"M421.2,35.7H141c-25.5,0-46.3,20.7-46.3,46.3v43.5h40.1V90.3c0-9.7,7.9-17.6,17.6-17.6h257.3c9.7,0,17.6,7.9,17.6,17.6 v165.4c0,9.7-7.9,17.6-17.6,17.6H289.8v57.7c0,0-0.2,76.7-0.2,77.4c-0.3,8.1-2.7,15.6-6.5,22.3h83.3c9.7,0,17.6-7.9,17.6-17.6v-22.5 c0-9.7-7.9-17.6-17.6-17.6h-42.9v-31.2h97.7c25.5,0,46.3-20.7,46.3-46.3V81.9C467.4,56.4,446.7,35.7,421.2,35.7z M398.5,319.3 c-8,0-14.4-6.5-14.4-14.4c0-8,6.5-14.4,14.4-14.4c8,0,14.4,6.5,14.4,14.4C412.9,312.8,406.4,319.3,398.5,319.3z"}),Object(o.h)("path",{d:"M84.6,188.7h100.7l16.2-16.2l-4-2.2c-7.1-4-11.1-11.8-10.2-19.7c0.1-0.5,0.3-1,0.4-1.5H75.1c-14,0-25.3,11.3-25.3,25.3v35.4 h34.7C84.6,209.8,84.6,188.7,84.6,188.7z"}),Object(o.h)("path",{d:"M110.5,230.9H15.8C7.1,230.9,0,238,0,246.7v168.8c0,8.7,7.1,15.8,15.8,15.8h94.8c8.7,0,15.8-7.1,15.8-15.8V246.7 C126.3,238,119.3,230.9,110.5,230.9z M63.2,422.2c-6.7,0-12.1-5.4-12.1-12.2c0-6.7,5.4-12.1,12.1-12.1c6.7,0,12.1,5.4,12.1,12.1 C75.3,416.8,69.8,422.2,63.2,422.2z M100.7,373H25.6V262.3h75.1L100.7,373L100.7,373z"}),Object(o.h)("path",{d:"M240.9,149.1H128.4c0.1,0.5,0.3,1,0.4,1.5c0.9,8-3.1,15.8-10.2,19.7l-4,2.2l16.2,16.2h100.7v21h0v152.7h-81.6v28.1 c2.4-1.6,5-2.8,8.1-2.8c8,0,14.4,6.5,14.4,14.4c0,8-6.5,14.4-14.4,14.4c-3.1,0-5.8-1.2-8.1-2.8v4.1c0,4.9-1,9.5-2.6,13.9h93.7 c14,0,25.3-11.3,25.3-25.3V209.8V192v-17.6C266.2,160.4,254.9,149.1,240.9,149.1z"}))},Ib=function(e){return Object(o.h)("svg",{version:"1.1",id:"icon-discount",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 512 512",style:"enable-background:new 0 0 512 512;"},Object(o.h)("g",null,Object(o.h)("g",null,Object(o.h)("path",{d:"M499.483,211.638l12.517-2.1V96H372v54.5h-30V96H0v113.538l12.517,2.101C34.236,215.284,50,233.941,50,256 s-15.764,40.716-37.483,44.362L0,302.462V416h342v-54.5h30V416h140V302.462l-12.517-2.101C477.764,296.716,462,278.059,462,256 C462,233.941,477.764,215.284,499.483,211.638z M372,331.5h-30v-60h30V331.5z M372,240.5h-30v-60h30V240.5z"}))),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null))};function Nb(){return(Nb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var Tb=function(e){return Object(o.h)("svg",Nb({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24"},e),Object(o.h)("path",{d:"M11.864 12.683c.073.003.146.005.22.005.069 0 .137-.002.206-.004 1.55.033 3.075.44 4.423 1.184a.87.87 0 001.178-.333.856.856 0 00-.336-1.168 11.194 11.194 0 00-1.946-.845 5.825 5.825 0 002.364-4.678C17.973 3.622 15.33 1 12.084 1 8.837 1 6.196 3.622 6.196 6.844c0 1.912.93 3.613 2.366 4.68a11.285 11.285 0 00-3.63 1.98 11.195 11.195 0 00-3.876 6.348 2.594 2.594 0 00.535 2.187c.5.611 1.243.962 2.037.962h6.768c.478 0 .866-.385.866-.86s-.388-.86-.866-.86H3.628a.882.882 0 01-.693-.326.888.888 0 01-.183-.753c.899-4.287 4.711-7.417 9.112-7.519zM8 7.003C8 4.796 9.794 3 12 3s4 1.796 4 4.003A4.006 4.006 0 0112.198 11L12 10.998l-.195.002A4.006 4.006 0 018 7.003zm15 10.21c0 .552-.23 1.07-.65 1.46l-1.643 1.528a.912.912 0 01-.623.24.908.908 0 01-.626-.244.787.787 0 01.003-1.167l1.102-1.024h-5.007c-.987 0-1.789.75-1.789 1.672 0 .921.793 1.671 1.767 1.671.488 0 .884.37.884.826 0 .456-.396.826-.884.826-.95 0-1.84-.347-2.507-.977A3.21 3.21 0 0112 19.678c0-1.833 1.595-3.323 3.556-3.323h4.926l-1.02-.942a.788.788 0 01-.006-1.168.928.928 0 011.25-.006l1.64 1.516c.421.39.653.907.654 1.458z",fillRule:"evenodd"}))},Cb=function(e){return Object(o.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"23",viewBox:"0 0 22 23"},Object(o.h)("g",{fill:"none","fill-rule":"evenodd",opacity:".8"},Object(o.h)("g",null,Object(o.h)("g",null,Object(o.h)("g",null,Object(o.h)("g",null,Object(o.h)("g",null,Object(o.h)("path",{fill:"black",d:"M4.583 5.5c1.516 0 2.75 1.27 2.75 2.829 0 1.119-.64 2.08-1.56 2.538 1.949.543 3.394 2.36 3.394 4.533v1.886c0 .522-.41.943-.917.943h-.917v2.829c0 .521-.41.943-.916.943H2.75c-.507 0-.917-.422-.917-.943v-2.829H.917c-.506 0-.917-.421-.917-.943V15.4c0-2.173 1.445-3.99 3.393-4.533-.919-.457-1.56-1.418-1.56-2.538 0-1.56 1.234-2.829 2.75-2.829zm8.25 6.417c1.517 0 2.75 1.234 2.75 2.75 0 .915-.453 1.72-1.142 2.221 1.215.598 2.059 1.837 2.059 3.28v.916c0 .507-.41.917-.917.917h-5.5c-.507 0-.916-.41-.916-.917v-.917c0-1.442.845-2.681 2.059-3.279-.69-.5-1.143-1.306-1.143-2.221 0-1.516 1.234-2.75 2.75-2.75zM17.418 0v1.01c.584.118 1.125.351 1.605.67l.719-.72 1.295 1.297-.718.719c.318.48.552 1.023.671 1.607H22v1.834h-1.01c-.12.584-.352 1.126-.67 1.606l.719.717-1.296 1.297-.718-.718c-.481.318-1.023.552-1.608.671V11h-1.833V9.991c-.583-.12-1.126-.352-1.606-.671l-.717.719-1.298-1.296.719-.718c-.32-.482-.552-1.023-.671-1.608H11V4.583h1.01c.12-.583.352-1.126.67-1.607l-.717-.717L13.26.963l.718.717c.48-.319 1.023-.552 1.607-.67V0h1.833zM16.5 3.667c-1.013 0-1.833.821-1.833 1.833 0 1.011.82 1.834 1.833 1.834 1.012 0 1.833-.823 1.833-1.834 0-1.012-.821-1.833-1.833-1.833z",transform:"translate(-87 -363) translate(0 272) translate(0 68) translate(87 23)"}))))))))};n(887);function Pb(){return(Pb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Ab(e){return(Ab="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Eb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mb(Object(n),!0).forEach((function(t){Db(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Db(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lb(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Rb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rb(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){c=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(c)throw o}}}}function Rb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function zb(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ub(e,t){return(Ub=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Fb(e);if(t){var a=Fb(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Bb(this,n)}}function Bb(e,t){return!t||"object"!==Ab(t)&&"function"!=typeof t?Hb(e):t}function Hb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fb(e){return(Fb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ub(e,t)}(l,e);var t,n,i,a=Vb(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this,e)).state={isActiveProfile:!1,account:{title:"Tài khoản",data:[{title:"Gói thuê bao",slug:"package",active:!0},{title:"Phương thức thanh toán",slug:"method-payment",active:!1},{title:"Lịch sử giao dịch",slug:"transaction-history",active:!1}],isActive:!0},setting:{title:"Cài đặt",data:[{title:"Phụ đề",slug:"cai-dat/phu-de"},{title:"Tên phim",slug:"cai-dat/ten-phim"}],isActive:!0},title:e.title},t.refMenuAccount=Object(o.g)(),t.refMenuProfile=Object(o.g)(),t.refMenuSetting=Object(o.g)(),t.eventClick=t.eventClick.bind(Hb(t)),t.eventLogout=t.eventLogout.bind(Hb(t)),t}return t=l,(n=[{key:"showDropMenu",value:function(e,t,n,i,a){var o=this;return function(r){$(r.target).addClass(a);var c,s=0,l=Lb(n.current.children);try{for(l.s();!(c=l.n()).done;)s+=c.value.clientHeight+1}catch(e){l.e(e)}finally{l.f()}n.current.style.transitionDuration=i,n.current.style.height=s+"px","profile"==e?o.setState({isActiveProfile:!o.state.isActiveProfile}):o.setState(Db({},"".concat(e),Eb(Eb({},t),{},{isActive:!t.isActive})))}}},{key:"hideDropMenu",value:function(e,t,n,i,a){var o=this;return function(r){$(r.target).removeClass(a),n.current.style.transitionDuration=i,n.current.style.height="0px","profile"==e?o.setState({isActiveProfile:!o.state.isActiveProfile}):o.setState(Db({},"".concat(e),Eb(Eb({},t),{},{isActive:!t.isActive})))}}},{key:"renderDropMenuProfile",value:function(e,t,n,i,a){var o=[{data:[],title:"QUẢN LÝ KHO PHIM",isActive:!1}];return t&&t.map((function(e,t){o[0].data.push({title:e.name,img:e.avatar_image_url,slug:e.short_id,is_kid:e.is_kid,active:!1})})),this.renderProfile(e,o,n,i,a)}},{key:"renderDropMenu",value:function(e,t,n,i,a){var r=t.title,s=t.data,l=t.isActive;return Object(o.h)("div",null,Object(o.h)("div",{className:"header-drop-menu"},Object(o.h)("div",{className:"header-content"},Object(o.h)("div",{className:"icon-menu"},Object(o.h)(i,null)),Object(o.h)(Pu,{type:"text-dark-color",content:r})),Object(o.h)("div",{className:"show-menu",onClick:l?this.hideDropMenu("account",t,n,a,"show"):this.showDropMenu("account",t,n,a,"show")},Object(o.h)("img",{src:kb.a,className:"show"}))),Object(o.h)("ul",{className:"menu-drop-down",ref:n},s&&s.map((function(e){return Object(o.h)("li",{className:"list-item"},Object(o.h)(c.b,{className:"link-item",to:"/account/".concat(e.slug)},e.title,Object(o.h)("div",{className:"icon-arrow-right"},Object(o.h)("img",{src:kb.a}))))}))))}},{key:"renderProfile",value:function(e,t,n,i,a){var r=t[0],s=JSON.parse(localStorage.getItem("profile")),l=s&&s.profileId;return Object(o.h)("div",null,Object(o.h)("div",{className:"header-drop-menu"},Object(o.h)("div",{className:"header-content"},Object(o.h)("div",{className:"icon-menu"},Object(o.h)(i,null)),Object(o.h)(Pu,{type:"text-dark-color",content:r.title})),Object(o.h)("div",{className:"show-menu",onClick:this.state.isActiveProfile?this.hideDropMenu("profile",r,n,a,"show-drop"):this.showDropMenu("profile",r,n,a,"show-drop")},Object(o.h)("img",{src:kb.a,className:""}))),Object(o.h)("ul",{className:"menu-drop-down",ref:n},r&&r.data.map((function(e){return Object(o.h)("li",{className:"list-item ".concat(e.slug==l?"active":"link-item-profile")},Object(o.h)(c.b,{className:"link-item",to:"/account/profile-manager?id=".concat(e.slug)},Object(o.h)("img",{className:"icon-profile",src:e.img}),Object(o.h)("div",{className:"group-name"},Object(o.h)("p",{className:"name-profile"},k.checkLenghtSTrings(e.title,15)),Object(o.h)("p",{className:"is-kid"},e.is_kid?"Trẻ em":"Mọi lứa tuổi")),Object(o.h)("div",{className:"icon-arrow-right"},Object(o.h)("img",{src:kb.a}))))}))))}},{key:"componentDidMount",value:function(){var e=!1;if(window.innerWidth<1024&&(e=!0),e&&this.refMenuAccount.current){var t,n=0,i=Lb(this.refMenuAccount.current.children);try{for(i.s();!(t=i.n()).done;)n+=t.value.clientHeight+1}catch(e){i.e(e)}finally{i.f()}this.refMenuAccount.current.style.height=n+"px"}if(e&&this.refMenuProfile.current){var a,o=0,r=Lb(this.refMenuProfile.current.children);try{for(r.s();!(a=r.n()).done;)o+=a.value.clientHeight+1}catch(e){r.e(e)}finally{r.f()}this.refMenuProfile.current.style.height=o+"px"}}},{key:"callProfile",value:function(){var e=this;z.getAccountViewer((function(t,n){n&&!t&&e.setState({dataProfile:n.data})}))}},{key:"componentWillMount",value:function(){(this.props.layoutContext&&this.props.layoutContext.state).isMobile&&this.callProfile()}},{key:"eventClick",value:function(){this.props.clickPromotion({on_screen:window.localStorage.on_screen&&window.localStorage.on_screen,event_action:"click",direct_object_type:"promotion",event_category:"browse"})}},{key:"eventLogout",value:function(){this.props.tracking.trackEvent({on_screen:window.localStorage.on_screen&&window.localStorage.on_screen,from_screen:this.propshistoryPage.history.length>1&&this.propshistoryPage.history[this.propshistoryPage.history.length-2]||"",event_action:"click",direct_object_type:"logout",event_category:"browse"}),Auth.logout()}},{key:"render",value:function(){var e=this,t=Object(r.b)(Xc).state.isMobile,n=this.state,i=this.state.account.data,a=Object(s.j)();return t?Object(o.h)("div",{className:"dynamic-tabs"},this.renderDropMenu(name="account",n.account,this.refMenuAccount,_b,".3s"),this.renderDropMenuProfile(name="profile",this.state.dataProfile,this.refMenuProfile,Cb,".4s"),Object(o.h)("div",null,Object(o.h)(c.b,{to:"/account/device",className:"link"},Object(o.h)("div",{className:"header-drop-menu"},Object(o.h)("div",{className:"header-content"},Object(o.h)("div",{className:"icon-menu"},Object(o.h)(Sb,null)),Object(o.h)(Pu,{type:"text-dark-color",content:"Quản lý thiết bị"}))))),Object(o.h)("div",null,Object(o.h)(c.b,{to:"/account/giftcode",className:"link",onClick:this.eventClick},Object(o.h)("div",{className:"header-drop-menu"},Object(o.h)("div",{className:"header-content"},Object(o.h)("div",{className:"icon-menu"},Object(o.h)(Ib,null)),Object(o.h)(Pu,{type:"text-dark-color",content:"Mã khuyến mãi"}))))),this.props.configApp&&1===this.props.configApp.accountReferral?Object(o.h)("div",null,Object(o.h)(c.b,{to:"/account/referral",className:"link",onClick:this.eventClick},Object(o.h)("div",{className:"header-drop-menu"},Object(o.h)("div",{className:"header-content"},Object(o.h)("div",{className:"icon-menu"},Object(o.h)(Tb,null)),Object(o.h)(Pu,{type:"text-dark-color",content:"Giới thiệu bạn bè"}))))):"",Object(o.h)("div",null,Object(o.h)("div",{className:"header-drop-menu",onClick:this.props.logout},Object(o.h)("div",{className:"header-content"},Object(o.h)("div",{className:"icon-menu"},Object(o.h)(im,null)),Object(o.h)(Pu,{type:"text-dark-color",content:"Đăng xuất"}))))):Object(o.h)("div",{class:"dynamic-tabs"},Object(o.h)(ta,{content:this.state.title,type:"text-dark-color"}),Object(o.h)("ul",{className:"nav-tabs"},i.map((function(t,n){return Object(o.h)("li",{className:"nav-item",onClick:e.updateInfoUser},Object(o.h)(c.c,{className:"nav-link",activeClassName:"active",to:"".concat(a.url,"/").concat(t.slug)},t.title))}))),Object(o.h)(s.d,null,Object(o.h)(s.a,{exact:!0,from:a.path,to:"".concat(a.path,"/package")}),Object(o.h)(s.b,{path:"".concat(a.path,"/package")},Object(o.h)(Rm,null)),Object(o.h)(s.b,{path:"".concat(a.path,"/transaction-history")},Object(o.h)(lb,null)),Object(o.h)(s.b,{path:"".concat(a.path,"/method-payment")},Object(o.h)(jb,null))))}}])&&zb(t.prototype,n),i&&zb(t,i),l}(o.a),Wb=function(e){var t=Object(Ve.useTracking)().trackEvent,n=Object(r.b)(Oc),i=Object(r.b)(Xc),a=Object(r.b)(Nr),c=q();return Object(o.h)(qb,Pb({},e,{layoutContext:i,historyPage:c,configApp:a,logout:n.logout,clickPromotion:function(){t({event_action:"click",direct_object_type:"promotion",event_category:"browse"})}}))};n(888);function Kb(e){return(Kb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gb(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function $b(e,t){return($b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Qb(e);if(t){var a=Qb(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Yb(this,n)}}function Yb(e,t){return!t||"object"!==Kb(t)&&"function"!=typeof t?Zb(e):t}function Zb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qb(e){return(Qb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Jb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$b(e,t)}(c,e);var t,n,i,a=Xb(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={statusSub:!1,statusControlAge:!1,statusLangMovie:!1,title:"Cài đặt trên website",data:{language:"Tiếng Việt",subtitle:"Tiếng Việt",resolution:"HD",ageControl:[{age:"Dưới 6 tuổi",code:"1234"},{age:"6-12 tuổi",code:null},{age:"12-16 tuổi",code:null},{age:"16-18 tuổi",code:null},{age:"18+",code:null}]}},t.changeStatus=t.changeStatus.bind(Zb(t)),t}return t=c,(n=[{key:"changeStatus",value:function(e){"subs"==e&&(1==this.state.statusSub?window.localStorage.subTitle="off":window.localStorage.subTitle="vi",this.setState({statusSub:!this.state.statusSub})),"langMovie"==e&&(1==this.state.statusLangMovie?window.localStorage.lang="vi":window.localStorage.lang="en",this.setState({statusLangMovie:!this.state.statusLangMovie})),"controlAge"==e&&this.setState({statusControlAge:!this.state.statusControlAge})}},{key:"componentDidMount",value:function(){window.scrollTo(0,0),window.localStorage.subTitle&&"off"==window.localStorage.subTitle?this.setState({statusSub:!1}):this.setState({statusSub:!0}),window.localStorage.lang&&"vi"==window.localStorage.lang?this.setState({statusLangMovie:!1}):this.setState({statusLangMovie:!0})}},{key:"render",value:function(){var e=this,t=Object(r.b)(Xc).state.isMobile;return Object(o.h)("div",{className:"account-setting"},t?Object(o.h)(Ap,{content:"Cài đặt trên website"}):Object(o.h)(ta,{content:this.state.title,type:"text-dark-color"}),Object(o.h)("div",{className:"container"},Object(o.h)("div",{className:"row"},Object(o.h)("div",{className:"col-3"},Object(o.h)(Pu,{type:"text-dark-color",content:"Phụ đề"})),Object(o.h)("div",{className:"col-9"},Object(o.h)("div",{className:"content"}),!this.state.statusSub&&Object(o.h)("p",null,"Tắt")||Object(o.h)("p",{className:"turnOn"},"Bật"),Object(o.h)("div",{className:this.state.statusSub?"btn-switch-right":"btn-switch-left",onClick:function(){return e.changeStatus("subs")}},Object(o.h)("div",{className:this.state.statusSub?"status-btn-right":"status-btn-left"})))),Object(o.h)("div",{className:"row"},Object(o.h)("div",{className:"col-3"},Object(o.h)(Pu,{type:"text-dark-color",content:"Tên phim"})),Object(o.h)("div",{className:"col-9"},Object(o.h)("div",{className:"content"}),Object(o.h)("div",{className:"btnlang-switch",onClick:function(){return e.changeStatus("langMovie")}},Object(o.h)("div",{className:!this.state.statusLangMovie&&"statuslang-btn"},"Việt"),Object(o.h)("div",{className:this.state.statusLangMovie&&"statuslang-btn btn-lang"},"Anh"))))))}}])&&Gb(t.prototype,n),i&&Gb(t,i),c}(o.a);function eg(){return(eg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var tg=function(e){return Object(o.h)("svg",eg({width:24,height:24,xmlns:"http://www.w3.org/2000/svg"},e),Object(o.h)("defs",null,Object(o.h)("filter",{x:"0%",y:"0%",width:"100%",height:"100%",filterUnits:"objectBoundingBox",id:"prefix__a"},Object(o.h)("feGaussianBlur",{in:"SourceGraphic"}))),Object(o.h)("path",{d:"M15.2 2.25a3.55 3.55 0 013.55 3.55v12.4a3.55 3.55 0 01-3.55 3.55H8.8a3.55 3.55 0 01-3.55-3.55V5.8A3.55 3.55 0 018.8 2.25h6.4zm0 1.5H8.8A2.05 2.05 0 006.75 5.8v12.4a2.05 2.05 0 002.05 2.05h6.4a2.05 2.05 0 002.05-2.05V5.8a2.05 2.05 0 00-2.05-2.05zM12 17a1 1 0 110 2 1 1 0 010-2zm2-11.75a.75.75 0 010 1.5h-4a.75.75 0 010-1.5h4z",filter:"url(#prefix__a)",fillRule:"evenodd"}))};function ng(){return(ng=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var ig=function(e){return Object(o.h)("svg",ng({width:24,height:24,xmlns:"http://www.w3.org/2000/svg"},e),Object(o.h)("path",{d:"M17.2 2.6a3.55 3.55 0 013.55 3.55v7.4a3.55 3.55 0 01-3.55 3.55h-4.45l.001 2.282c1.293.11 2.249.502 2.249.968 0 .552-1.343 1-3 1s-3-.448-3-1c0-.466.956-.857 2.25-.968V17.1H6.8a3.55 3.55 0 01-3.55-3.55v-7.4A3.55 3.55 0 016.8 2.6h10.4zm0 1.5H6.8a2.05 2.05 0 00-2.05 2.05v7.4A2.05 2.05 0 006.8 15.6h10.4a2.05 2.05 0 002.05-2.05v-7.4A2.05 2.05 0 0017.2 4.1zM12 12.35a1 1 0 110 2 1 1 0 010-2z",fill:"#1F2325",fillRule:"evenodd"}))};function ag(){return(ag=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var og=function(e){return Object(o.h)("svg",ag({width:24,height:24,xmlns:"http://www.w3.org/2000/svg"},e),Object(o.h)("path",{d:"M2.25 6.8A3.55 3.55 0 015.8 3.25h12.4a3.55 3.55 0 013.55 3.55v10.4a3.55 3.55 0 01-3.55 3.55H5.8a3.55 3.55 0 01-3.55-3.55V6.8zm1.5 0v10.4a2.05 2.05 0 002.05 2.05h12.4a2.05 2.05 0 002.05-2.05V6.8a2.05 2.05 0 00-2.05-2.05H5.8A2.05 2.05 0 003.75 6.8zM16 12a1 1 0 112 0 1 1 0 01-2 0zM5.25 10a.75.75 0 011.5 0v4a.75.75 0 01-1.5 0v-4z",fill:"#1F2325",fillRule:"evenodd"}))};function rg(){return(rg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var cg=function(e){return Object(o.h)("svg",rg({width:24,height:24,xmlns:"http://www.w3.org/2000/svg"},e),Object(o.h)("defs",null,Object(o.h)("filter",{x:"0%",y:"0%",width:"100%",height:"100%",filterUnits:"objectBoundingBox",id:"prefix__a"},Object(o.h)("feGaussianBlur",{in:"SourceGraphic"}))),Object(o.h)("path",{d:"M17.636 1.364a.9.9 0 01.08 1.18l-.08.092L14.172 6.1H18a4.9 4.9 0 014.895 4.682L22.9 11v7a4.9 4.9 0 01-4.9 4.9H6A4.9 4.9 0 011.1 18v-7A4.9 4.9 0 016 6.1h3.827L6.364 2.636a.9.9 0 011.18-1.353l.092.08L12 5.728l4.364-4.363a.9.9 0 011.272 0zM18 7.9H6A3.1 3.1 0 002.9 11v7A3.1 3.1 0 006 21.1h12a3.1 3.1 0 003.1-3.1v-7A3.1 3.1 0 0018 7.9z",filter:"url(#prefix__a)",fillRule:"evenodd"}))},sg=Pe.a.div.withConfig({displayName:"style__DeviceContainer",componentId:"ou6h9-0"})(["padding:0 4% 72px;color:#333333;@media (max-width:1100px){min-height:calc(100vh - 56px);}.title-page{padding:1rem 0;.subtitle{margin:0;}}.subtitle{margin:25px 0;}"]),lg=Pe.a.div.withConfig({displayName:"style__Wrap",componentId:"ou6h9-1"})(["display:flex;flex-direction:column;"]),ug=Pe.a.div.withConfig({displayName:"style__DeviceItem",componentId:"ou6h9-2"})(["padding:"," 0 "," ",";border-bottom:2px solid #ebf0f3;"],C(12),C(12),C(28)),dg=Pe.a.div.withConfig({displayName:"style__DeviceName",componentId:"ou6h9-3"})(["font-size:",";margin-bottom:",";position:relative;text-transform:capitalize;"],C(18),C(8)),pg=Pe.a.div.withConfig({displayName:"style__DeviceIcon",componentId:"ou6h9-4"})(["position:absolute;right:calc(100% + ",");top:50%;transform:translateY(-50%);svg{width:",";path{","}}"],C(4),C(24),(function(e){return e.isActive?"fill: #00A900;":"fill: #000000;"})),hg=Pe.a.div.withConfig({displayName:"style__WrapLocation",componentId:"ou6h9-5"})(["display:flex;align-items:center;"]),fg=Pe.a.div.withConfig({displayName:"style__DeviceLocation",componentId:"ou6h9-6"})(["font-size:",";color:#a9aaad;"],C(14)),mg=Pe.a.div.withConfig({displayName:"style__TimeLogin",componentId:"ou6h9-7"})(["font-size:",";color:#a9aaad;margin-left:",";"],C(14),C(4));function bg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var yg=function(e){var t=Object(r.b)(Xc).state.isMobile,n=(Object(r.b)(Oc),Object(r.b)(Eo),bg(Object(r.k)([]),2)),i=n[0],a=n[1];return Object(r.d)((function(){z.getListDevice((function(e,t){!e&&(null==t?void 0:t.data)&&a(t.data)}))}),[]),Object(o.h)(sg,null,t?Object(o.h)(Ap,{content:"Quản lý thiết bị"}):Object(o.h)(ta,{content:"Quản lý thiết bị",type:"text-dark-color"}),Object(o.h)(lg,null,null==i?void 0:i.map((function(e){return Object(o.h)(ug,null,Object(o.h)(dg,null,Object(o.h)(pg,{isActive:e.online||1===e.using},function(e){switch(e){case"tv":return Object(o.h)(cg,null);case"mobile":return Object(o.h)(tg,null);case"tablet":return Object(o.h)(og,null);default:return Object(o.h)(ig,null)}}(e.icon)),e.deviceName),Object(o.h)(hg,null,Object(o.h)(fg,null,e.location),Object(o.h)(mg,null,(t=e.updatedAt,n=new Date(t),i=String(n.getDate()).padStart(2,"0"),a=String(n.getMonth()+1).padStart(2,"0"),r=n.getFullYear(),c=String(n.getHours()).padStart(2,"0"),s=String(n.getMinutes()).padStart(2,"0"),"- ".concat(i,"/").concat(a,"/").concat(r," ").concat(c,":").concat(s)))));var t,n,i,a,r,c,s}))))},vg=(n(889),function(e){var t="",n="";switch(e){case"primary":t="#0077c8",n="#3aaaff";break;case"secondary":t="rgba(63, 63, 63, 0.75)",n="rgba(34, 34, 34, 0.77)";break;default:t="#0077c8",n="#3aaaff"}return{background:t,hover:n}}),Og=Pe.a.button.withConfig({displayName:"default__Button",componentId:"e7ep7e-0"})(["padding:10px 36px;border-radius:100px;background-color:",";color:#fff;border:0;font-weight:600;font-size:1rem;cursor:pointer;transition:.3s ease-in-out;box-sizing:border-box;&:focus{outline:none}&:hover{background:",";}"],(function(e){return vg(e.color).background}),(function(e){return vg(e.color).hover})),wg=function(e){return Object(o.h)(Og,e,e.children)},jg=function(e){return Object(o.h)(na,null,Object(o.h)(ia,null,Object(o.h)(aa,{onClick:function(){e.closePopup()},className:"close-popup"},"×"),Object(o.h)(oa,null,Object(o.h)(ta,{content:"Mã khuyến mãi"}),e.message&&e.message.map((function(e){return Object(o.h)(ra,null,Object(o.h)("p",null,e))}))),Object(o.h)(sa,null,Object(o.h)(me,{onClick:function(){e.closePopup()},content:"Huỷ bỏ",className:"btn btn-left"}),Object(o.h)(me,{onClick:function(){e.activeCode()},content:"Đồng ý",className:"btn btn-right"}))))},xg=(Object(Pe.a)(ta).withConfig({displayName:"style__Title",componentId:"sc-1ool1tj-0"})(["margin:20px 0;"]),Pe.a.div.withConfig({displayName:"style__BoxTitle",componentId:"sc-1ool1tj-1"})(["margin:20px 0;color:#333333;"])),kg=Pe.a.div.withConfig({displayName:"style__GroupInput",componentId:"sc-1ool1tj-2"})(["margin-top:2rem;display:flex;.form-control{flex:0 0 60%;max-height:55px margin-right:1rem;}button{font-weight:400;}@media (max-width:576px){flex-direction:column;.form-control{margin-right:0rem;}button{margin-top:1rem;}}"]),_g=Pe.a.table.withConfig({displayName:"style__Table",componentId:"sc-1ool1tj-3"})(["animation:fadeIn 0.7s margin-top:4rem;color:#333333;width:100%;border-collapse:collapse;"]),Sg=Pe.a.tr.withConfig({displayName:"style__Tr",componentId:"sc-1ool1tj-4"})(["margin-top:4rem;color:#333333;border-bottom:1px solid #d8d8d8d9;"]),Ig=Pe.a.td.withConfig({displayName:"style__Td",componentId:"sc-1ool1tj-5"})(["margin-top:4rem;color:#333333;font-weight:400;padding:12px 20px 12px 0;text-align:",";max-width:250px;text-overflow:ellipsis;overflow:hidden;.amount{font-weight:bold;color:#0077c8;}"],(function(e){return e.align})),Ng=Pe.a.th.withConfig({displayName:"style__Th",componentId:"sc-1ool1tj-6"})(["color:#333333;opacity:.65;text-align:left;padding:12px 0;font-weight:400;"]),Tg=Pe.a.tbody.withConfig({displayName:"style__TBody",componentId:"sc-1ool1tj-7"})([""]),Cg=Pe.a.thead.withConfig({displayName:"style__THead",componentId:"sc-1ool1tj-8"})([""]),Pg=Pe.a.div.withConfig({displayName:"style__MobileWrap",componentId:"sc-1ool1tj-9"})(["margin-bottom:4rem;width:100%;min-height:1rem;"]),Ag=Pe.a.div.withConfig({displayName:"style__RowMobile",componentId:"sc-1ool1tj-10"})(['border-bottom:1px solid #d8d8d8d9;padding:20px 0;color:#333333;.flex{display:flex;margin:5px 0;}.titles{flex:0 0 35%;width:30%;position:relative;&:after{content:":";position:absolute;right:15px;top:10px;transform:translateY(-50%);}}.description{flex:0 0 100%;width:100%;}.code-active{font-weight:bolder;.amount{float:right;font-weight:normal;opacity:0.6;font-size:15px;}}.name{font-size:15px;}.expiration-date{font-size:15px;opacity:0.6;}a{display:block;text-align:right;margin-top:.5rem;}']),Mg=Pe.a.div.withConfig({displayName:"style__NotVoucher",componentId:"sc-1ool1tj-11"})(["animation:fadeIn 0.7s margin:4rem 0;border-top:1px solid #d8d8d8d9;padding:4rem 0;"]);function Eg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Dg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eg(Object(n),!0).forEach((function(t){Lg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ug=function(e){var t=Object(Ve.useTracking)().trackEvent,n=Object(r.b)(Eo),i=Rg(Object(r.k)({deviceList:null,code:"",messErrorCode:"",message:"",statusPopup:!1,showSuccess:!1}),2),a=i[0],c=i[1],s=Rg(Object(r.k)({dataVoucher:null}),2),l=s[0],u=s[1],d=Object(r.j)(),p=!!(l.dataVoucher&&l.dataVoucher.data&&l.dataVoucher.data.length>0),h=function(){z.getVouchers((function(e,t){t&&u(Dg(Dg({},l),{},{dataVoucher:t.data}))}))};Object(r.d)((function(){t({event_action:"click",direct_object_type:"promotion",on_screen:"user_profile",event_category:"browse"}),h(),window.scrollTo(0,0)}),[]);return Object(o.h)(Rt,null,a.statusPopup&&Object(o.h)(jg,{message:a.message,closePopup:function(){c(Dg(Dg({},a),{},{statusPopup:!1}))},activeCode:function(){z.activeCode({code:a.code,force:"true"},(function(e,t){t&&0==t.data.error&&(c(Dg(Dg({},a),{},{statusPopup:!1})),n.setNotification({status:!0,description:"Bạn đã nhận được mã khuyến mãi !",type:"success"}),function(){var e=localStorage.getItem("__glxp_r_token");e&&z.refreshAccessToken((function(e,t){if(!e){var n=t.headers["x-fim-atoken"];localStorage.setItem("__glxp_token",n);var i=new Date;i.setTime(i.getTime()+2592e6);var a="expires="+i.toUTCString();document.cookie="__glxp_token=".concat(n,"; ").concat(a,"; path=/")}}))}(),h()),e&&c(Dg(Dg({},a),{},{statusPopup:!1}))}))}}),Object(o.h)(xg,null,Object(o.h)(ta,{content:"Mã khuyến mãi",type:"text-dard"})),Object(o.h)(kg,null,Object(o.h)(Sa,{type:"text",onInputValue:function(e){return function(e){c(Dg(Dg({},a),{},{code:e.target.value}))}(e)},theme:a.messErrorCode?"warning":"light",label:"Nhập mã khuyến mãi",id:"input-voucher",refInput:d}),Object(o.h)(wg,{color:""!==a.code?"":"secondary",onClick:function(){a.code.length>0&&z.activeCode({code:a.code,force:"false"},(function(e,t){if(t&&0==t.data.error){var n=[];t.data&&t.data.data.map((function(e,t){n.push(e.description)})),c(Dg(Dg({},a),{},{code:a.code,statusPopup:!0,messErrorCode:"",message:n||""}))}e&&c(Dg(Dg({},a),{},{messErrorCode:t.data.message}))})),t({event_action:"click",direct_object_type:"promotion_input",direct_object_id:a.code})}},"Áp dụng")),Object(o.h)("p",{className:"err-code"},a.messErrorCode),!b.isMobile&&p?Object(o.h)(_g,null,Object(o.h)(Cg,null,Object(o.h)(Sg,null,Object(o.h)(Ng,null," Mã khuyến mãi "),Object(o.h)(Ng,null," Nội dung"),Object(o.h)(Ng,null," Số lượng"),Object(o.h)(Ng,null," Hết hạn"),Object(o.h)(Ng,null," "))),Object(o.h)(Tg,null,l.dataVoucher&&l.dataVoucher.data.map((function(e,t){return Object(o.h)(Sg,null,Object(o.h)(Ig,null," ",e.activeCode," "),Object(o.h)(Ig,null," ",e.description),Object(o.h)(Ig,null," ",e.amount&&"0"+e.amount),Object(o.h)(Ig,null," ",k.parseDate("justGet",e.expiredDate)," "))})),l.dataVoucher&&0==l.dataVoucher.data.length&&Object(o.h)("div",{className:"non-giftcode"},"Chưa có mã khuyến mãi nào"))):p?Object(o.h)(Pg,null,l.dataVoucher&&l.dataVoucher.data.map((function(e,t){return Object(o.h)(Ag,null,Object(o.h)("div",{className:"flex"},Object(o.h)("div",{className:"description code-active"}," ",e.activeCode," ",Object(o.h)("span",{className:"amount"},e.amount&&"0"+e.amount," Vé"))),Object(o.h)("div",{className:"flex"},Object(o.h)("div",{className:"description name"},e.description)),Object(o.h)("div",{className:"flex"},Object(o.h)("div",{className:"description expiration-date"}," ",k.parseDate("justGet",e.expiredDate))))})),l.dataVoucher&&0==l.dataVoucher.data.length&&Object(o.h)("div",{className:"non-giftcode"},"Chưa có mã khuyến mãi nào")):Object(o.h)(Mg,null,Object(o.h)("div",{id:"transaction-history"},Object(o.h)("div",{className:"data-empty"},Object(o.h)("img",{className:"img-empty",src:Fm.a}),Object(o.h)("p",{className:"description"},"Tài khoản của bạn chưa có mã khuyến mãi Galaxy Play.")))))};n(890),n(891),n(892),n(893),Pe.a.div.withConfig({displayName:"style__Wrap",componentId:"da3j1v-0"})(["position:fixed;width:100%;height:100vh;top:0;left:0;background-color:rgba(0,0,0,0.3);z-index:1000;justify-content:center;align-items:center;display:flex;padding:1rem;box-sizing:border-box"]),Pe.a.div.withConfig({displayName:"style__Card",componentId:"da3j1v-1"})(["position:relative;max-width:400px;min-height:100px;border-radius:5px;background:white;padding:2rem;@media(max-width:576px){width:100%;}"]),Pe.a.h3.withConfig({displayName:"style__Title",componentId:"da3j1v-2"})(["font-size:1.2rem;font-weight:500;color:#333333;margin-top:0;text-align:",";margin:",""],(function(e){return e.align}),(function(e){return e.margin})),Pe.a.p.withConfig({displayName:"style__Description",componentId:"da3j1v-3"})(["margin-left:1rem;text-align:",";margin:",""],(function(e){return e.align}),(function(e){return e.margin})),Pe.a.div.withConfig({displayName:"style__Action",componentId:"da3j1v-4"})(["margin-top:1rem display:flex;justify-content:flex-end;"]),Object(Pe.a)(wg).withConfig({displayName:"style__Button",componentId:"da3j1v-5"})(["margin-left:1rem;font-weight:400"]),Pe.a.div.withConfig({displayName:"style__BoxIcon",componentId:"da3j1v-6"})(["position:absolute;top:20px;right:20px;cursor:pointer;& svg{width:15px;height:15px;fill:#333330;}"]),n(894),n(895);function Vg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Bg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vg(Object(n),!0).forEach((function(t){Hg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Wg=function(e){var t=Object(s.g)(),n=Fg(Object(r.k)({shortId:null,numberDefault:"m"}),2),i=n[0],a=n[1],c=Fg(Object(r.k)({size:"",name:"",index:null,profile:null,profileItem:null}),2),l=c[0],u=c[1],d=Object(r.b)(Eo),p=function(){z.getAccountViewer((function(e,t){!e&&t&&u(Bg(Bg({},l),{},{profile:t.data,index:null}))}))},h=function(){b.isMobile?t.push("/account"):null!==l.index&&p()},f=function(e){a(Bg(Bg({},i),{},{shortId:e}))},m=function(){if(null!==l.index){var e={shortId:i.shortId,model:l.profile[l.index]};z.editAccountViewer(e,(function(e,t){!e&&t&&d.setNotification({status:!0,description:"Đã cập nhật kho phim",type:"success"})})),u(Bg(Bg({},l),{},{index:null}))}},g=function(e,t,n,i){var a=Bg({},l);a.profile[e].settings[t][n]=i,u(Bg(Bg({},l),{},{value:a,index:e}))};return Object(r.d)((function(){window.scrollTo(0,0),p();var e=JSON.parse(localStorage.getItem("profile")),t=e&&e.profileId,n=new URLSearchParams(window.location.search).get("id");b.isMobile?f(n):f(t)}),[]),Object(o.h)("div",{className:"account-setting"},Object(o.h)(ta,{content:"Quản lý kho phim",type:"text-dark-color"}),!b.isMobile&&Object(o.h)("div",{className:"container"},Object(o.h)("div",{className:"profile"},l.profile&&l.profile.map((function(e,t){return Object(o.h)("div",{className:"profile-item ".concat(e.short_id==i.shortId?"active":""),onClick:function(){f(e.short_id)}},Object(o.h)("img",{width:"86",src:e.avatar_image_url}),Object(o.h)("p",{className:"name"},e.name),Object(o.h)("p",{className:"is-kid"},e.is_kid?"Trẻ em":"Mọi độ tuổi"))}))),Object(o.h)("div",{className:"tab-content"},Object(o.h)("table",{className:"container"},Object(o.h)("tbody",null,l.profile&&l.profile.map((function(e,t){if(e.short_id==i.shortId)return Object(o.h)(o.b,null,Object(o.h)("tr",null,Object(o.h)("td",null,"Kích thước phụ đề"),Object(o.h)("td",null,Object(o.h)("div",{className:"group-input"},Object(o.h)("input",{onChange:function(e){return g(t,"player","subtitle_font_size","s")},type:"radio",checked:"s"==e.settings.player.subtitle_font_size,name:"size",className:"radio-profile",id:"1"}),Object(o.h)("span",{class:"checkmark-radio-profile"}),Object(o.h)("label",{for:"1",className:"text-radio"},"Nhỏ"))),Object(o.h)("td",null,Object(o.h)("div",{className:"group-input"},Object(o.h)("input",{onChange:function(e){return g(t,"player","subtitle_font_size","m")},type:"radio",checked:"m"==e.settings.player.subtitle_font_size,name:"size",className:"radio-profile",id:"2"}),Object(o.h)("span",{class:"checkmark-radio-profile"}),Object(o.h)("label",{for:"2",className:"text-radio"},"Vừa"))),Object(o.h)("td",null,Object(o.h)("div",{className:"group-input"},Object(o.h)("input",{onChange:function(e){return g(t,"player","subtitle_font_size","l")},type:"radio",checked:"l"==e.settings.player.subtitle_font_size,name:"size",className:"radio-profile",id:"3"}),Object(o.h)("span",{class:"checkmark-radio-profile"}),Object(o.h)("label",{for:"3",className:"text-radio"},"Lớn")))),Object(o.h)("tr",null,Object(o.h)("td",null,"Cài đặt phụ đề mặc định"),Object(o.h)("td",null,Object(o.h)("div",{className:"group-input"},Object(o.h)("input",{onChange:function(e){return g(t,"player","subtitle_enabled",!0)},type:"radio",checked:1==e.settings.player.subtitle_enabled,name:"isSub",className:"radio-profile",id:"4"}),Object(o.h)("span",{class:"checkmark-radio-profile"}),Object(o.h)("label",{for:"4",className:"text-radio"},"Bật"))),Object(o.h)("td",null,Object(o.h)("div",{className:"group-input"},Object(o.h)("input",{onChange:function(e){return g(t,"player","subtitle_enabled",!1)},type:"radio",checked:0==e.settings.player.subtitle_enabled,name:"isSub",className:"radio-profile",id:"5"}),Object(o.h)("span",{class:"checkmark-radio-profile"}),Object(o.h)("label",{for:"5",className:"text-radio"},"Tắt")))),Object(o.h)("tr",null,Object(o.h)("td",null,"Hiển thị tên phim"),Object(o.h)("td",null,Object(o.h)("div",{className:"group-input"},Object(o.h)("input",{onChange:function(e){return g(t,"browse","title_language","vi")},type:"radio",checked:"vi"==e.settings.browse.title_language,name:"name",className:"radio-profile",id:"6"}),Object(o.h)("span",{class:"checkmark-radio-profile"}),Object(o.h)("label",{for:"6",className:"text-radio"},"Tiếng Việt"))),Object(o.h)("td",null,Object(o.h)("div",{className:"group-input"},Object(o.h)("input",{onChange:function(e){return g(t,"browse","title_language","en")},type:"radio",checked:"en"==e.settings.browse.title_language,name:"name",className:"radio-profile",id:"7"}),Object(o.h)("span",{class:"checkmark-radio-profile"}),Object(o.h)("label",{for:"7",className:"text-radio"},"Tiếng Anh")))))})))),Object(o.h)("div",{className:"group-btn"},Object(o.h)(me,{onClick:m,className:"save-profile",content:"Lưu thay đổi"}),Object(o.h)(me,{className:"cancel-profile",onClick:h,content:"Huỷ"}))))||Object(o.h)(o.b,null,Object(o.h)("div",{className:"profile-mb"},l.profile&&l.profile.map((function(e,t){if(e.short_id==i.shortId)return Object(o.h)(o.b,null,Object(o.h)("div",{className:"title-head"},Object(o.h)("img",{className:"icon-profile",src:e.avatar_image_url}),Object(o.h)("div",{className:"group-title"},Object(o.h)("p",null,e.name),Object(o.h)("p",{className:"is-kid"},e.is_kid?"Trẻ em":"Mọi độ tuổi"))),Object(o.h)("div",{className:"profile"},Object(o.h)("div",{className:"group-input"},Object(o.h)("p",{className:"title-radio"},"Kích thước phụ đề"),Object(o.h)("td",null,Object(o.h)("input",{onChange:function(e){return g(t,"player","subtitle_font_size","s")},type:"radio",checked:"s"==e.settings.player.subtitle_font_size,name:"size",className:"radio-profile",id:"1"}),Object(o.h)("span",{class:"checkmark-radio-profile"}),Object(o.h)("label",{for:"1",className:"text-radio"},"Nhỏ")),Object(o.h)("td",null,Object(o.h)("input",{onChange:function(e){return g(t,"player","subtitle_font_size","m")},type:"radio",checked:"m"==e.settings.player.subtitle_font_size,name:"size",className:"radio-profile",id:"2"}),Object(o.h)("span",{class:"checkmark-radio-profile"}),Object(o.h)("label",{for:"2",className:"text-radio"},"Vừa")),Object(o.h)("td",null,Object(o.h)("input",{onChange:function(e){return g(t,"player","subtitle_font_size","l")},type:"radio",checked:"l"==e.settings.player.subtitle_font_size,name:"size",className:"radio-profile",id:"3"}),Object(o.h)("span",{class:"checkmark-radio-profile"}),Object(o.h)("label",{for:"3",className:"text-radio"},"Lớn"))),Object(o.h)("div",{className:"group-input"},Object(o.h)("p",{className:"title-radio"},"Cài đặt phụ đề mặc định"),Object(o.h)("td",null,Object(o.h)("input",{onChange:function(e){return g(t,"player","subtitle_enabled",!0)},type:"radio",checked:1==e.settings.player.subtitle_enabled,name:"isSub",className:"radio-profile",id:"4"}),Object(o.h)("span",{class:"checkmark-radio-profile"}),Object(o.h)("label",{for:"4",className:"text-radio"},"Bật")),Object(o.h)("td",null,Object(o.h)("input",{onChange:function(e){return g(t,"player","subtitle_enabled",!1)},type:"radio",checked:0==e.settings.player.subtitle_enabled,name:"isSub",className:"radio-profile",id:"5"}),Object(o.h)("span",{class:"checkmark-radio-profile"}),Object(o.h)("label",{for:"5",className:"text-radio"},"Tắt"))),Object(o.h)("div",{className:"group-input"},Object(o.h)("p",{className:"title-radio"},"Hiển thị tên phim"),Object(o.h)("td",null,Object(o.h)("input",{onChange:function(e){return g(t,"browse","title_language","vi")},type:"radio",checked:"vi"==e.settings.browse.title_language,name:"name",className:"radio-profile",id:"6"}),Object(o.h)("span",{class:"checkmark-radio-profile"}),Object(o.h)("label",{for:"6",className:"text-radio"},"Tiếng Việt")),Object(o.h)("td",null,Object(o.h)("input",{onChange:function(e){return g(t,"browse","title_language","en")},type:"radio",checked:"en"==e.settings.browse.title_language,name:"name",className:"radio-profile",id:"7"}),Object(o.h)("span",{class:"checkmark-radio-profile"}),Object(o.h)("label",{for:"7",className:"text-radio"},"Tiếng Anh")))))})),Object(o.h)("div",{className:"group-btn"},Object(o.h)(me,{onClick:m,className:"save-profile",content:"Lưu thay đổi"}),Object(o.h)(me,{className:"cancel-profile",onClick:h,content:"Huỷ"})))))},Kg=function(e){return e/16+"rem"},Gg=Pe.a.div.withConfig({displayName:"style__ReferralSetting",componentId:"sc-1sqki3s-0"})(["padding:0 4% 72px;color:#333333;@media (max-width:1100px){min-height:calc(100vh - 56px);}.title-page{padding:1rem 0;.subtitle{margin:0;}}.subtitle{margin:25px 0;}.form-control .input-control{height:",";width:",";max-width:100%;}@media (max-width:576px){.form-control .input-control{width:100%;}}"],Kg(48),Kg(526)),$g=(Pe.a.div.withConfig({displayName:"style__Container",componentId:"sc-1sqki3s-1"})(["box-sizing:border-box;padding:0 4%;"]),Pe.a.div.withConfig({displayName:"style__Label",componentId:"sc-1sqki3s-2"})(["font-size:",";font-weight:bold;color:#1d1d1d;margin-bottom:",";"],Kg(16),Kg(12))),Xg=Pe.a.form.withConfig({displayName:"style__WrapInput",componentId:"sc-1sqki3s-3"})(["position:relative;display:flex;align-items:center;margin:0 0 ",";"],Kg(32)),Yg=Pe.a.input.withConfig({displayName:"style__Input",componentId:"sc-1sqki3s-4"})(["font-size:",";background:#f2f2f2;border-radius:"," 0 0 ",";height:",";display:flex;align-items:center;pointer-events:none;max-width:100%;border:none;box-shadow:none;text-overflow:ellipsis;"," @media(max-width:576px){width:calc(100% - 101px);height:",";}"],Kg(18),Kg(8),Kg(8),Kg(48),(function(e){return e.isSpecial?"color: #0088ff; letter-spacing: 2px; width: ".concat(Kg(225),"; text-align: center; font-weight: bold;"):"color: #a9aaad; width: ".concat(Kg(542),"; padding: 0 ").concat(Kg(16)," 0 ").concat(Kg(20),";")}),Kg(45)),Zg=Pe.a.button.withConfig({displayName:"style__Button",componentId:"sc-1sqki3s-5"})(["font-size:",";font-weight:bold;color:#fff;height:",";width:",";display:flex;justify-content:center;align-items:center;border:none;box-shadow:none;cursor:pointer;transition:300ms ease-in-out;@media (max-width:576px){height:",";}"],Kg(16),Kg(48),Kg(132),Kg(45)),Qg=Object(Pe.a)(Zg).withConfig({displayName:"style__ButtonCopy",componentId:"sc-1sqki3s-6"})(["background:#0077c8;border-radius:0 "," "," 0;&:hover{background:#0088ff;}"],Kg(8),Kg(8)),Jg=Object(Pe.a)(Zg).withConfig({displayName:"style__ButtonSubmit",componentId:"sc-1sqki3s-7"})(["border-radius:24px;margin-left:",";background:#0077c8;&:disabled{pointer-events:none;background:rgba(29,29,31,0.75);}@media (max-width:576px){margin-left:",";}"],Kg(16),Kg(12)),ey=Pe.a.div.withConfig({displayName:"style__MessageError",componentId:"sc-1sqki3s-8"})(["font-size:",";color:#ff5151;position:absolute;top:calc(100% + ",");left:0;@media (max-width:576px){font-size:",";}"],Kg(14),Kg(8),Kg(12)),ty=(Pe.a.div.withConfig({displayName:"style__PopupConfirm",componentId:"sc-1sqki3s-9"})(["position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(34,34,34,0.64);z-index:999;display:flex;justify-content:center;align-items:center;padding:0 1rem;box-sizing:border-box;*{box-sizing:border-box;}"]),Pe.a.div.withConfig({displayName:"style__Card",componentId:"sc-1sqki3s-10"})(["max-width:",";margin:0 auto;padding:"," "," ",";position:relative;background:#000;text-align:center;border-radius:",";width:",";max-width:100%;@media (max-width:576px){padding:"," "," ",";}"],Kg(548),Kg(56),Kg(40),Kg(40),Kg(8),Kg(540),Kg(56),Kg(16),Kg(24)),Pe.a.div.withConfig({displayName:"style__Title",componentId:"sc-1sqki3s-11"})(["font-weight:bold;font-size:",";color:#f1f6f9;margin-bottom:",";@media (max-width:576px){font-size:",";}"],Kg(24),Kg(12),Kg(20)),Pe.a.div.withConfig({displayName:"style__Description",componentId:"sc-1sqki3s-12"})(["font-size:",";color:#f1f6f9;margin-bottom:",";span{white-space:nowrap;}@media (max-width:576px){font-size:",";margin-bottom:",";}"],Kg(18),Kg(24),Kg(16),Kg(16)),Pe.a.div.withConfig({displayName:"style__WrapButton",componentId:"sc-1sqki3s-13"})(["display:flex;align-items:center;justify-content:center;"]),Pe.a.button.withConfig({displayName:"style__ButtonConfirm",componentId:"sc-1sqki3s-14"})(["width:",";height:",";display:flex;justify-content:center;align-items:center;font-size:",";border-radius:50px;cursor:pointer;transition:300ms ease-in-out;"," &:not(:last-child){margin-right:",";}&:disabled{pointer-events:none;opacity:0.5;}&:hover{background:#fff;color:#1d1d1d;}@media (max-width:576px){font-size:",";height:",";width:",";}"],Kg(180),Kg(56),Kg(18),(function(e){return e.isPrimary?"background: #fff; color: #1d1d1d; font-weight: bold; border: none;":"border: solid 1px #ebebeb; color: #f1f6f9; background: transparent;"}),Kg(32),Kg(16),Kg(40),Kg(160)),Pe.a.div.withConfig({displayName:"style__Close",componentId:"sc-1sqki3s-15"})(["cursor:pointer;position:absolute;top:",";right:",";svg{width:",";height:",";path{fill:#f1f6f9;}}"],Kg(16),Kg(16),Kg(24),Kg(24)),Pe.a.div.withConfig({displayName:"style__MessageSuccess",componentId:"sc-1sqki3s-16"})(["font-size:",";color:#0077c8;margin-bottom:",";font-weight:bold;@media (max-width:576px){font-size:",";}"],Kg(24),Kg(32),Kg(18)),Pe.a.img.withConfig({displayName:"style__ImageReferral",componentId:"sc-1sqki3s-17"})(["width:100%;margin-top:",";"],Kg(32)));function ny(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function iy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ny(Object(n),!0).forEach((function(t){ay(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ny(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ay(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ry(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ry(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ry(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var cy=function(e){var t=Object(Ve.useTracking)().trackEvent,n=Object(r.b)(Xc).state.isMobile,i=Object(r.b)(Oc),a=Object(r.b)(Eo),c=i.data.infoUser,l=Object(s.i)().phoneInvite,u=Object(s.g)(),d=Object(r.j)(),p=Object(r.j)(),h=Object(r.j)(),f=oy(Object(r.k)({status:!1,message:null}),2),m=f[0],b=f[1],g=oy(Object(r.k)(""),2),y=g[0],v=g[1],O=oy(Object(r.k)(window.navigator.onLine),2),w=O[0],j=O[1],x=oy(Object(r.k)(!1),2),k=x[0],_=x[1],S=Object(r.b)(Nr),I=function(e){return function(t){t.preventDefault();var n=e.current;n&&(n.select(),n.setSelectionRange(0,99999),document.execCommand("copy"),document.activeElement.blur(),a.setNotification({status:!0,description:"Đã sao chép",type:"success"}))}},N=/^(09|03|05|07|08)[0-9]{8}$\b/,T=function(e){if(e&&(e.preventDefault(),document.activeElement.blur()),t({event_category:"browse",on_screen:"account",event_action:"click",direct_object_type:"button",direct_object_id:"submit",direct_object_property:l||y,indirect_object_type:"screen",indirect_object_id:"referral"}),S&&1===S.accountReferral){var n=l||y;if(N.test(n)){_(!0);var o={phoneInvite:n};z.getCodeReferral(o,(function(e,o){if(e){var r="Đã có lỗi xảy ra. Vui lòng liên hệ 18009090 để được hỗ trợ.";o.data&&o.data.message&&(r=o.data.message),c.userInvite?a.setNotification({status:!0,type:"referral",title:"Thông báo",description:r}):b({status:!0,message:r}),t({event_category:"browse",on_screen:"account",event_action:"view",direct_object_type:"message",direct_object_id:"code_submition_result",direct_object_property:"fail",indirect_object_type:"screen",indirect_object_id:"referral",context_value:{referral_code:n,failed_reason:o&&o.data}})}else t({event_category:"browse",on_screen:"account",event_action:"view",direct_object_type:"message",direct_object_id:"code_submition_result",direct_object_property:"success",indirect_object_type:"screen",indirect_object_id:"referral",context_value:{referral_code:n}}),a.setNotification({status:!0,typeMessage:1,type:"referral",title:"Chúc mừng",callback:i.updateInfo,description:o.data.message});_(!1)}))}}else a.setNotification({status:!0,type:"referral",callback:function(){u.push("/account")},title:"Thông báo",description:"Tính năng này đang được bảo trì. Chúng tôi đang khẩn trương hoàn thành sớm. Mời bạn quay lại sau nhé!"})},C=function(){j(!1)},P=function(){j(!0)};return Object(r.d)((function(){return window.scrollTo(0,0),window.addEventListener("offline",C),window.addEventListener("online",P),t({event_category:"browse",on_screen:"account",event_action:"view",direct_object_type:"screen",direct_object_id:"referral"}),l&&T(),function(){window.removeEventListener("offline",C),window.removeEventListener("online",P)}}),[]),Object(r.d)((function(){0==S.accountReferral&&a.setNotification({status:!0,type:"referral",callback:function(){u.push("/account")},title:"Thông báo",description:"Tính năng này đang được bảo trì. Chúng tôi đang khẩn trương hoàn thành sớm. Mời bạn quay lại sau nhé!"})}),[S]),Object(o.h)(Gg,null,n?Object(o.h)(Ap,{content:"Giới thiệu bạn bè"}):Object(o.h)(ta,{content:"Giới thiệu bạn bè",type:"text-dark-color"}),Object(o.h)($g,null,"Mã giới thiệu của tôi"),Object(o.h)(Xg,null,Object(o.h)(Yg,{isSpecial:!0,value:c.phone,ref:p}),Object(o.h)(Qg,{type:"button",onClick:I(p)},"Sao chép")),Object(o.h)($g,null,"Link giới thiệu bạn bè"),Object(o.h)(Xg,null,Object(o.h)(Yg,{value:c.linkReferral,ref:h}),Object(o.h)(Qg,{type:"button",onClick:I(h)},"Sao chép")),c.userInvite?"":Object(o.h)(o.b,null,Object(o.h)($g,null,"Mã giới thiệu từ bạn bè"),Object(o.h)(Xg,{onSubmit:T},Object(o.h)(Sa,{type:"text",value:y,onInputValue:function(e){e.target&&e.target.value?v(e.target.value):v(""),m.status&&b(iy(iy({},m),{},{status:!1}))},theme:m.status?"warning":"light",label:"Nhập mã giới thiệu",id:"input-referral",refInput:d}),Object(o.h)(Jg,{type:"submit",disabled:!N.test(y)||k||!w},k?Object(o.h)(re,null):"Áp dụng"),Object(o.h)(Ct.a,{in:m.status,appear:!0,classNames:"fadeInDown",timeout:300},Object(o.h)(ey,null,m.message)))),c.imageUrlReferral&&Object(o.h)(ty,{src:c.imageUrlReferral}))},sy=[{slug:"/about-us/quy-che-su-dung-dich-vu",name:"Quy chế sử dụng Dịch vụ"},{slug:"/help",name:"Hỗ trợ"},{slug:"/khuyen-mai",name:"Khuyến mãi"}],ly=function(e){var t=Object(r.b)(Xc).state.isMobile,n=Object(Ve.useTracking)().trackEvent;Object(r.d)((function(){return t||$(".footer").hide(),function(){t||$(".footer").show()}}),[]);var i=Object(s.j)();return t?Object(o.h)("div",{className:"account-content"},Object(o.h)(Ap,{className:"title-page special",content:"Thông tin tài khoản"}),Object(o.h)(nm,null),Object(o.h)(_m,null),Object(o.h)(Wb,null)):Object(o.h)("div",{className:"account-content"},Object(o.h)(Jf,null),Object(o.h)(_m,null),Object(o.h)(s.d,null,Object(o.h)(s.a,{exact:!0,from:i.path,to:"".concat(i.path,"/info")}),Object(o.h)(s.b,{path:"".concat(i.path,"/settings")},Object(o.h)(Jb,{title:"Cài đặt"})),Object(o.h)(s.b,{path:"".concat(i.path,"/info")},Object(o.h)(Wb,{title:"Tài khoản"})),Object(o.h)(s.b,{path:"".concat(i.path,"/device")},Object(o.h)(yg,null)),Object(o.h)(s.b,{path:"".concat(i.path,"/giftcode")},Object(o.h)(Ug,null)),Object(o.h)(s.b,{path:"".concat(i.path,"/referral/:phoneInvite")},Object(o.h)(cy,null)),Object(o.h)(s.b,{path:"".concat(i.path,"/referral")},Object(o.h)(cy,null)),Object(o.h)(s.b,{path:"".concat(i.path,"/profile-manager")},Object(o.h)(Wg,null))),!t&&Object(o.h)("div",null,Object(o.h)(Ut,null),Object(o.h)(zt,null,sy.map((function(e){return Object(o.h)("a",{href:e.slug,onClick:function(){return function(e,t){var i=e.match(/\/(?:[a-zA-Z1-9-])*$/);n({event_action:"click",direct_object_type:"button",direct_object_id:i[0].replace("/",""),direct_object_property:t})}(e.slug,e.name)}}," ",e.name," ")})))))},uy=(n(896),Pe.a.div.withConfig({displayName:"style__Control",componentId:"sc-1yk0x0c-0"})(["background:transparent;color:#fff;position:relative;"])),dy=Pe.a.input.withConfig({displayName:"style__Input",componentId:"sc-1yk0x0c-1"})(["width:100%;border-radius:4px;font-size:16px;padding:20px 23px 8px 23px;box-sizing:border-box;line-height:1.38;height:55px;&:focus{border:1px solid #0077c8;outline:none}"," "," "],(function(e){return b.isMobile||"promotion"!=e.theme?"light"!==e.theme?"\n      color: #ffffff;\n      border: solid 1px rgba(255, 255, 255, 0.3);\n      background: #1e1e1e;":"\n      color: #333333;\n      border: 1px solid rgba(17, 17, 17, 0.3);\n      background: transparent;":"\n    color: #ffffff;\n    border: none;\n    background: rgba(255,255,255,.1);"}),(function(e){if(e.error)return"border: 1px solid #e02020 !important"})),py=Pe.a.label.withConfig({displayName:"style__Label",componentId:"sc-1yk0x0c-2"})(["position:absolute;left:23px;transition:.2s ease-in-out;top:50%;transform:translateY(-50%);box-sizing:border-box;line-height:1.38;","  "," "],(function(e){return b.isMobile||"promotion"!=e.theme?"color: #707070;":"color: rgba(255,255,255,.7);"}),(function(e){return e.active?"font-size: 16px":"top: 5px; font-size: 11px; transform: translateY(0%)"})),hy=Pe.a.div.withConfig({displayName:"style__Message",componentId:"sc-1yk0x0c-3"})(["text-align:left;color:#e02020;margin-top:4px;font-size:14px;"]);Pe.a.div.withConfig({displayName:"style__Group",componentId:"sc-1yk0x0c-4"})(["margin:",""],(function(e){return e.margin}));function fy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return my(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return my(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function my(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function by(e){var t=k.makeid(7),n=fy(Object(r.k)(!0),2),i=n[0],a=n[1],c=Object(r.j)();return Object(r.d)((function(){null!==e.value&&""!==e.value&&a(!1)})),Object(o.h)("div",null,Object(o.h)(uy,null,Object(o.h)(dy,{id:t,onFocus:function(){a(!1)},onBlur:function(){null!==e.value&&""!==e.value.trim()||a(!0)},onChange:e.onChange,value:e.value,ref:c,error:e.message,theme:e.theme}),Object(o.h)(py,{for:t,active:i},e.label)),null!==e.message&&Object(o.h)(hy,null,e.message))}function gy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var vy=function(e){var t=gy(Object(r.k)(""),2),n=t[0],i=t[1],a=gy(Object(r.k)(""),2),c=a[0],l=a[1],u=Object(r.b)(Oc),d=Object(r.b)(Eo),p=Object(s.g)(),h=Object(Ve.useTracking)().trackEvent,f=Object(r.b)(Xc).state.isMobile,m=function(e){var t=e.target.value.replace(/  /g," ");i(t)},b=function(t){t.preventDefault();var i="";if(k.regexName().test(n)||(i="Tên không bao gồm số hoặc các kí tự đặc biệt"),n.trim().length>100&&(i="Tên quá dài"),0===n.trim().length&&(i="Vui lòng nhập tên mới"),!i){var a={fullName:n};z.updateUserInfo(a,(function(t,n){t||(d.setNotification({status:!0,description:n.data.message,type:"success"}),u.updateInfo(),f?p.push("/account"):e.onClose())}))}l(i)};Object(r.d)((function(){window.scrollTo(0,0),h({on_screen:"user_profile",event_category:"account",event_action:"edit",direct_object_type:"button",direct_object_id:"edit-fullname"})}),[]);return f?Object(o.h)("form",{className:"form-change-mobile",onSubmit:b},Object(o.h)("h2",null," Cập nhật họ tên "),Object(o.h)("div",{className:"group-input-mobile"},Object(o.h)("label",null,"Nhập tên mới"),Object(o.h)("input",{onChange:m,type:"text",value:n}),c&&Object(o.h)("div",{className:"text-error"}," ",c," ")),Object(o.h)("div",{className:"card-footer-mobile"},Object(o.h)(me,{content:"Lưu",className:"btn-save"}),Object(o.h)(me,{content:"Hủy",className:"btn-cancel",onClick:function(){p.push("/account")},type:"button"}))):Object(o.h)("form",{className:"form-change-fullname form-update",onSubmit:b},Object(o.h)("div",{className:"card change-fullname"},Object(o.h)("div",{className:"card-header"},Object(o.h)(Ap,{content:"Cập nhật họ tên"})),Object(o.h)("div",{className:"card-body"},Object(o.h)("div",{className:"wrap-input"},Object(o.h)(by,{onChange:m,value:n,theme:"light",label:"Họ và tên",message:c}))),Object(o.h)("div",{className:"card-footer"},Object(o.h)(me,{content:"Lưu",className:"btn-save",type:"submit"}),!f&&Object(o.h)(me,{content:"Hủy",className:"btn-cancel",onClick:e.onClose,type:"button"}))))};n(897);function Oy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var jy=function(e){var t=Oy(Object(r.k)(""),2),n=t[0],i=t[1],a=Oy(Object(r.k)(!1),2),c=a[0],l=a[1],u=Object(r.b)(Oc),d=Object(r.b)(Eo),p=Object(s.g)(),h=Object(Ve.useTracking)().trackEvent,f=Oy(Object(r.k)(""),2),m=f[0],g=f[1],y=Oy(Object(r.k)(!1),2),v=y[0],O=y[1],w=function(){O(!1)};return Object(r.d)((function(){window.scrollTo(0,0),h({on_screen:"user_profile",event_category:"account",event_action:"edit",direct_object_type:"button",direct_object_id:"edit-email"})}),[]),c?Object(o.h)(s.a,{to:"/account"}):Object(o.h)("div",{className:"wraper-change"},Object(o.h)("form",{className:"form-change-mobile",onSubmit:function(e){e.preventDefault();var t="";k.validateEmail(m)||(t="Định dạng Email không hợp lệ"),0===m.trim().length&&(t="Vui lòng nhập email");var n=u.data.infoUser.pendingEmail,a=u.data.infoUser.email;if(m!==a||n||(t="Email đã được đăng ký sử dụng"),m===a&&n)O(!0);else if(t)i(t);else{var o={email:m.toLowerCase()};z.updateUserInfo(o,(function(e,t){e?i(t.data.message):(d.setNotification({status:!0,description:t.data.message,type:"success"}),u.updateInfo(),b.isMobile&&l(!0))}))}}},Object(o.h)("h2",null," Thay đổi email"),Object(o.h)("div",{className:"group-input-mobile"},Object(o.h)("label",null,"Email mới "),Object(o.h)("input",{onChange:function(e){g(e.target.value)},value:m,className:n?"error":""})),n&&Object(o.h)("div",{className:"text-error"}," ",n," "),Object(o.h)("div",{className:"card-footer-mobile"},Object(o.h)(me,{content:"Lưu",className:"btn-save"}),Object(o.h)(me,{content:"Hủy",className:"btn-cancel",onClick:function(){p.push("/account")},type:"button"}))),Object(o.h)(Of.a,{open:v,onClose:w,modalId:"modal",overlayId:"overlay",closeIconId:"icon-close"},Object(o.h)("div",{className:"wraper-continue"},Object(o.h)("div",{className:"title"}," Email đã tồn tại "),Object(o.h)("div",{className:"text-description"}," Địa chỉ email ",m," đã được kích hoạt. Bạn có muốn tiếp tục sử dụng email này. "),Object(o.h)("div",{className:"action"},Object(o.h)("button",{className:"cancel",type:"button",onClick:w},"Huỷ"),Object(o.h)("button",{className:"accept",type:"button",onClick:function(){z.removePendingEmail((function(e,t){e||(u.updateInfo(),p.push("/account"))}))}},"Tiếp tục")))))};n(898);function xy(){return(xy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function ky(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var _y=Be()((function(e){return{on_screen:e.name,event_category:e.category}}))((function(e){var t,n,i,a,c,l,u=e.track,d=e.children,p=ky(e,["track","children"]),h=Object(Ve.useTracking)().trackEvent,f=Object(r.b)(Oc),m=Object(r.b)(F),b=Object(s.h)(),g=(t=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.appVersion)[1],10)&&0===navigator.vendor.indexOf("Google"),n=!(t&&navigator.userAgent.indexOf("Android")>0)&&t&&0===navigator.platform.indexOf("Linux a")&&"ontouchstart"in document.documentElement,i=window.navigator.userAgent.match(/iPhone|iPod|iPad/),a=window.navigator.platform&&window.navigator.platform.match(/iPhone|iPod|iPad/),c=!i&&a,l={status:!1,url:""},n&&(l.status=!0,l.url="https://play.google.com/store/apps/details?id=vn.fimplus.app.and&hl=vi"),c&&(l.status=!0,l.url="https://apps.apple.com/vn/app/fim/id1064825671?l=vi"),l);return Object(r.d)((function(){window.localStorage.setItem("on_screen",p.name),u&&m.saveHistory(p.name)}),[p.name]),Object(r.d)((function(){b.pathname.includes("/watch/")||window.localStorage.setItem("lastpage",b.pathname+b.search)})),Object(r.d)((function(){"movie_detail"!==p.name&&h({event_action:"view",direct_object_type:"screen",direct_object_id:p.name,from_screen:m.lastpage?m.lastpage:"",on_screen:p.name,event_category:p.category})}),[p.name]),Object(r.d)((function(){if(!window.localStorage.getItem("profile")){var e=JSON.parse(sessionStorage.getItem("historyPage"));f.setLoading(!1),f.setLogin(!0,"register",e||b.state),sessionStorage.removeItem("historyPage")}}),[]),Object(r.d)((function(){g.status&&(window.location.href=g.url)}),[]),Object(o.h)(s.b,xy({},p,{render:function(e){var t=e.location;return f.isLogin?d:Object(o.h)(s.a,{to:{pathname:"/auth",state:{from:t}}})}}))})),Sy=n(416),Iy=n.n(Sy);function Ny(e){return function(e){if(Array.isArray(e))return Py(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Cy(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ty(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||Cy(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cy(e,t){if(e){if("string"==typeof e)return Py(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Py(e,t):void 0}}function Py(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ay=[{title:"Tài khoản",icon:Object(o.h)(_b,null),active:!0,slug:"account/info",isHide:!1},{title:"Quản lý kho phim",icon:Object(o.h)(Cb,null),active:!1,slug:"account/profile-manager",isHide:!1},{title:"Quản lý thiết bị",icon:Object(o.h)(Sb,null),active:!1,slug:"account/device",isHide:!1},{title:"Mã khuyến mãi",icon:Object(o.h)(Ib,null),active:!1,slug:"account/giftcode",isHide:!1}],My=function(e){var t=Object(s.j)(),n=Object(r.b)(Xc).state.isMobile,i=Ty(Object(r.k)(Ay),2),a=i[0],c=i[1],l=Object(r.b)(Nr);return Object(r.d)((function(){var e;e=Iy()(a,(function(e){return"account/referral"==e.slug})),l&&1==l.accountReferral?e||c([].concat(Ny(a),[{title:"Giới thiệu bạn bè",icon:Object(o.h)(Tb,null),active:!1,slug:"account/referral",isHide:!1}])):c(Ay)}),[l]),Object(r.d)((function(){return window.scrollTo(0,0),e.theme("hideFooter"),document.querySelector("body").style.background="#ffffff",function(){document.querySelector("body").style.background="#111"}}),[]),n?Object(o.h)(s.d,null,Object(o.h)(_y,{name:"account-add-method-payment",path:"".concat(t.path,"/add-method-payment")},Object(o.h)(vf,null)),Object(o.h)(_y,{name:"account-package",path:"".concat(t.path,"/package")},Object(o.h)(Rm,null)),Object(o.h)(_y,{name:"account-transaction-history",path:"".concat(t.path,"/transaction-history")},Object(o.h)(lb,null)),Object(o.h)(_y,{name:"account-method-payment",path:"".concat(t.path,"/method-payment")},Object(o.h)(jb,null)),Object(o.h)(_y,{name:"account-update-password",path:"".concat(t.path,"/update-password")},Object(o.h)(Nf,null)),Object(o.h)(_y,{name:"account-update-name",path:"".concat(t.path,"/update-name")},Object(o.h)(vy,null)),Object(o.h)(_y,{name:"account-update-email",path:"".concat(t.path,"/update-email")},Object(o.h)(jy,null)),Object(o.h)(_y,{name:"account-settings",path:"".concat(t.path,"/settings")},Object(o.h)(Jb,null)),Object(o.h)(_y,{name:"account-device",path:"".concat(t.path,"/device")},Object(o.h)(yg,null)),Object(o.h)(_y,{name:"account-giftcode",path:"".concat(t.path,"/giftcode")},Object(o.h)(Ug,null)),Object(o.h)(_y,{name:"account-referral",path:"".concat(t.path,"/referral/:phoneInvite")},Object(o.h)(cy,null)),Object(o.h)(_y,{name:"account-referral",path:"".concat(t.path,"/referral")},Object(o.h)(cy,null)),Object(o.h)(_y,{name:"account-profile",path:"".concat(t.path,"/profile-manager")},Object(o.h)(Wg,null)),Object(o.h)(_y,{name:"account",path:"".concat(t.path)},Object(o.h)("div",{className:"user-profile"},Object(o.h)(ly,null)))):Object(o.h)("div",null,Object(o.h)(s.d,null,Object(o.h)(_y,{name:"account-info-add-payment",path:"".concat(t.path,"/info/add-payment")},Object(o.h)(vf,null)),Object(o.h)(_y,{name:"account-info-add-visa-card",path:"".concat(t.path,"/info/add-visa-card")},Object(o.h)(Jp,null)),Object(o.h)(_y,{name:"account-info-add-momo-wallet",path:"".concat(t.path,"/info/add-momo-wallet")},Object(o.h)(Ch,null)),Object(o.h)(_y,{name:"account",path:"".concat(t.path)},Object(o.h)("div",{className:"user-profile"},Object(o.h)(om,{route:a}),Object(o.h)(ly,null)))))},Ey=(n(923),function(e){var t=location.pathname;return location.search&&""!==location.search&&(t+=location.search),Object(o.h)("div",{className:"popup-down-app"},Object(o.h)("div",{className:"banner-mb"},Object(o.h)("div",{className:"ratio-landscape"},Object(o.h)(Q,{className:"img-banner",src:"//assets.glxplay.io/images/w600/"+e.data.image.backdrop,placeholder:kc.a}))),Object(o.h)("div",{className:"content-movie"},Object(o.h)("div",{className:"title"},window.localStorage.lang&&"en"==window.localStorage.lang?e.data.name:e.data.alternateName),Object(o.h)("div",{className:"list-detail"},e.data.datePublished&&Object(o.h)("div",{className:"list-item date-public"},e.data.datePublished),e.data.contentRating&&"Mọi lứa tuổi"!==e.data.contentRating&&Object(o.h)("div",{className:"list-item content-rating"},e.data.contentRating),e.data.duration&&Object(o.h)("div",{className:"list-item duration"},e.data.duration),e.data.videoQuality&&Object(o.h)("div",{className:"list-item resolution"},"FULLHD"==e.data.videoQuality?"HD":e.data.videoQuality),e.data.priceType&&"TVOD"==e.data.priceType&&Object(o.h)("div",{className:"list-item tvod"},"Phim thuê"),e.data.pricePackage&&"SVOD"==e.data.priceType&&e.data.pricePackage.includes("PREMIUM")&&!e.data.pricePackage.includes("BASIC")&&Object(o.h)("div",{className:"list-item premium"},"Cao cấp"),e.data.voiceOver&&e.data.voiceOver.map((function(e){return Object(o.h)("div",{className:"list-item voice"},e)}))),Object(o.h)("div",{className:"call-download title"},"Tải ứng dụng trên điện thoại hoặc máy tính bảng để xem phim tốt hơn")),Object(o.h)("div",{className:"btn-down-app"},Object(o.h)(me,{onClick:function(){return I("glxplays://watch/".concat(t))},content:"Tải ứng dụng để xem phim"})))});n(924);function Dy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ly(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dy(Object(n),!0).forEach((function(t){Ry(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ry(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Uy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Vy=function(e){var t=Object(s.g)(),n=Object(r.b)(Eo),i=Object(r.b)(F),a=new URLSearchParams(window.location.search),c=a.get("ss"),l=a.get("ep"),u=zy(Object(r.k)({data:null,season:null,episode:null}),2),d=u[0],p=u[1],h=zy(Object(r.k)(!0),2),f=h[0],m=h[1],g=zy(Object(r.k)(!0),2),y=g[0],v=g[1],O=Object(s.i)().slug;O=O.split("?")[0];var w=Object(r.b)(Oc);return Object(r.d)((function(){if(w.packageLoaded&&null===d.data){z.getDetailMovieBySlug(O,{getBy:"slug"},(function(e,n){if(e)v(!1);else{var i=n.data;if(c&&i.containsSeason&&i.containsSeason.length>0){var o=i.containsSeason[0],r=o.episode[0],s=_.find(i.containsSeason,{seasonNumber:parseInt(c)});if(s&&(o=s,l)){var u=_.find(s.episode,{episodeNumber:parseInt(l)});u&&(r=u)}if(O+=window.location.search,p({data:i,season:o,episode:r}),"inReview"===r.status)return b.isMobile&&I("glxplays://watch/".concat(O)),void m(!0);if("AVOD"===r.priceType)return b.isMobile&&I("glxplays://watch/".concat(O)),void m(!0);if("SVOD"===r.priceType){if(r.pricePackage.includes("BASIC")&&r.pricePackage.includes("PREMIUM"))return w.hasPremium||w.hasBasic?(b.isMobile&&I("glxplays://watch/".concat(O)),void m(!0)):void t.push({pathname:"/subs/pay",state:{infoMovie:i,location:"/browse"}});if(r.pricePackage.includes("PREMIUM"))return w.hasPremium?(b.isMobile&&I("glxplays://watch/".concat(O)),void m(!0)):void t.push({pathname:"/subs/pay",state:{infoMovie:i,location:"/browse"}})}}if(i.containsSeason&&i.containsSeason.length>0){var h=i.containsSeason[0],f=i.containsSeason[0].episode[0];if(p({data:i,season:h,episode:f}),"inReview"===f.status||"inReview"===i.status)return b.isMobile&&I("glxplays://watch/".concat(O)),void m(!0);if("AVOD"===f.priceType)return b.isMobile&&I("glxplays://watch/".concat(O)),void m(!0);if("SVOD"===f.priceType){if(f.pricePackage.includes("BASIC")&&f.pricePackage.includes("PREMIUM"))return w.hasPremium||w.hasBasic?(b.isMobile&&I("glxplays://watch/".concat(O)),void m(!0)):void t.push({pathname:"/subs/pay",state:{infoMovie:i,location:"/browse"}});if(f.pricePackage.includes("PREMIUM"))return w.hasPremium?(b.isMobile&&I("glxplays://watch/".concat(O)),void m(!0)):void t.push({pathname:"/subs/pay",state:{infoMovie:i,location:"/browse"}})}}if(p(Ly(Ly({},d),{},{data:i})),"inReview"===i.status)return b.isMobile&&I("glxplays://watch/".concat(O)),void m(!0);if("AVOD"===i.priceType)return b.isMobile&&I("glxplays://watch/".concat(O)),void m(!0);if("SVOD"===i.priceType)i.pricePackage.includes("BASIC")&&i.pricePackage.includes("PREMIUM")?w.hasPremium||w.hasBasic?(b.isMobile&&I("glxplays://watch/".concat(O)),m(!0)):t.push({pathname:"/subs/pay",state:{infoMovie:i,location:"/browse"}}):i.pricePackage.includes("PREMIUM")&&(w.hasPremium?(b.isMobile&&I("glxplays://watch/".concat(O)),m(!0)):t.push({pathname:"/subs/pay",state:{infoMovie:i,location:"/browse"}}));else if("TVOD"===i.priceType)if(i.rentals){var g=Math.round((new Date).getTime()/1e3);i.rentals.expireAt>=g?(b.isMobile&&I("glxplays://watch/".concat(O)),m(!0)):t.push("/rent/".concat(i.titleId,"/pay"))}else{"buy"==a.get("type")?t.push("/title/".concat(i.slug)):t.push("/rent/".concat(i.titleId,"/pay"))}else b.isMobile&&I("glxplays://watch/".concat(O)),m(!0)}}))}}),[w.packageLoaded]),Object(r.d)((function(){return e.theme(!1),window.scrollTo(0,0),b.isMobile||$(".nav-all").hide(),function(){b.isMobile||$(".nav-all").show()}}),[]),y?b.isMobile?Object(o.h)("div",{className:"download-app"},d.data&&Object(o.h)(Ey,{data:d.data})):Object(o.h)("div",{className:"player"},w.packageLoaded?f?d.data?d.episode&&d.season?Object(o.h)(pc,{notifi:n,locationHistory:i,authContext:w,data:d.episode.video,info:{titleId:d.data.titleId,season:d.season,episode:d.episode,hasLogo:d.data.hasLogo,alternateName:d.data.alternateName,name:d.data.name,priceType:d.data.priceType,type:d.data.type},season:d.data.containsSeason,titleId:d.data.titleId,slug:d.data.slug,image:d.data.image,status:d.data.status}):Object(o.h)(pc,{notifi:n,locationHistory:i,authContext:w,data:d.data.video,info:d.data,image:d.data.image,slug:d.data.slug}):"":Object(o.h)(s.a,{to:"/browse"}):""):($(".nav-all").show(),Object(o.h)(Sp,null))};function By(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Hy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Fy=function(e){var t=Object(r.b)(Eo),n=Object(r.b)(F),i=Object(r.b)(Oc),a=By(Object(r.k)({trailer:null}),2),c=a[0],l=a[1],u=By(Object(r.k)(!0),2),d=(u[0],u[1]),p=By(Object(r.k)(!0),2),h=p[0],f=p[1],m=Object(s.i)().slug,g=Object(s.i)().index;return Object(r.d)((function(){z.getDetailMovieBySlug(m,{getBy:"slug"},(function(e,t){if(e)f(!1);else{var n=t.data;if(n&&n.trailer&&n.trailer.length>0){var i,a=parseInt(g);return isNaN(a)?i=n.trailer[0]:(i=n.trailer[a])||(i=n.trailer[0]),i.slug=n.slug,l({trailer:i}),void d(!0)}f(!1),d(!1)}}))}),[]),Object(r.d)((function(){return e.theme(!1),window.scrollTo(0,0),b.isMobile||$(".nav-all").hide(),function(){b.isMobile||$(".nav-all").show()}}),[]),h?c.trailer&&Object(o.h)("div",{className:"player"},Object(o.h)(pc,{type:"trailer",isPage:!0,data:c.trailer.video,notifi:t,authContext:i,locationHistory:n,info:{alternateName:c.trailer.alternateName,titleId:c.trailer.trailerId,priceType:c.trailer.priceType,name:c.trailer.name,slug:c.trailer.slug}})):($(".nav-all").show(),Object(o.h)(Sp,null))},qy=n(417),Wy=n.n(qy);n(925);function Ky(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Gy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ky(Object(n),!0).forEach((function(t){$y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ky(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Zy=function(e){var t=Object(r.b)(Lc),n=Object(r.b)(F),i=Object(Ve.useTracking)().trackEvent,a=Xy(Object(r.k)({isAdd:!0,loading:!0}),2),c=a[0],s=a[1],l=Xy(Object(r.k)(!1),2),u=l[0],d=l[1];return Object(r.d)((function(){d(!1)}),[e.titleId]),Object(r.d)((function(){if(u)!function(e,t){if(e){var n=e.some((function(e){return e.titleId===t}));setTimeout((function(){s({isAdd:!n,loading:!1})}),1e3)}}(t.state.data,e.titleId);else{if(t&&t.state&&t.state.data){var n=t.state.data.some((function(t){return t.titleId===e.titleId}));s({isAdd:!n,loading:!1})}d(!0)}}),[t.state.data,u]),u?c.isAdd?Object(o.h)(me,{content:"Danh sách của tôi",className:c.loading?"btn-watch-movie disabled":"btn-watch-movie",type:c.loading?"loadingIcon":"addList",onClick:function(a){return function(o){i({event_category:"browse",from_screen:n.history.length>1&&n.history[n.history.length-2]||"",event_action:"click",direct_object_type:"button",direct_object_id:"add_mylist",indirect_object_type:"film",indirect_object_id:a,indirect_object_property:e.name}),s(Gy(Gy({},c),{},{loading:!0})),t.addMyList(a)}}(e.titleId)}):Object(o.h)(me,{content:"Danh sách của tôi",className:c.loading?"btn-watch-movie disabled":"btn-watch-movie",type:c.loading?"loadingIcon":"deleteList",onClick:function(a){return function(o){i({event_category:"browse",from_screen:n.history.length>1&&n.history[n.history.length-2]||"",event_action:"click",direct_object_type:"button",direct_object_id:"add_mylist",indirect_object_type:"film",indirect_object_id:a,indirect_object_property:e.name}),s(Gy(Gy({},c),{},{loading:!0})),t.deleteMyList(a)}}(e.titleId)}):""},Qy=function(e){var t=Object(r.b)(Oc).showWatchTrailer,n=Object(r.b)(Xc).state,i=n.isMobile,a=n.isTablet,l=i&&!a,u=Object(r.b)(Oc),d=Object(s.g)(),p=Object(r.b)(Eo),h=Xy(Object(r.k)({showBtnWatching:!(e.data&&e.data.comingSoon&&!e.data.comingSoon.hasSource)}),2),f=h[0],b=h[1],g=function(t){var n="";if("cntWatching"==t&&e.data.cntWatching.goto){var a=e.data.containsSeason[0],o=e.data.containsSeason[0].episode[0],r=m.a.findIndex(e.data.containsSeason,(function(t){return t.seasonId==e.data.cntWatching.goto.seasonId}));if(-1!=r){a=e.data.containsSeason[r];var c=m.a.findIndex(a.episode,(function(t){return t.episodeId==e.data.cntWatching.goto.episodeId}));o=a.episode[c]}return n="".concat(e.data.slug,"?ss=").concat(a.seasonNumber,"&ep=").concat(o.episodeNumber),"inReview"==o.status?void(i?I("glxplays://watch/".concat(n)):(N(),setTimeout((function(){d.push({pathname:"/watch/"+n})}),850))):"AVOD"==o.priceType?void(i?I("glxplays://watch/".concat(n)):(N(),setTimeout((function(){d.push({pathname:"/watch/"+n})}),850))):void("SVOD"===o.priceType&&(o.pricePackage.includes("BASIC")&&o.pricePackage.includes("PREMIUM")?u.hasPremium||u.hasBasic?i?I("glxplays://watch/".concat(n)):(N(),setTimeout((function(){d.push({pathname:"/watch/"+n})}),850)):d.push({pathname:"/subs/pay",state:{infoMovie:e.data,location:location.pathname}}):o.pricePackage.includes("PREMIUM")&&(u.hasPremium?i?I("glxplays://watch/".concat(n)):(N(),setTimeout((function(){d.push({pathname:"/watch/"+n})}),850)):d.push({pathname:"/subs/pay",state:{infoMovie:e.data,location:location.pathname}}))))}if(e.data.containsSeason&&e.data.containsSeason.length>0){var s=e.data.containsSeason[0].episode[0];if("inReview"==s.status)return void(i?I("glxplays://watch/".concat(e.data.slug)):(N(),setTimeout((function(){d.push({pathname:"/watch/"+e.data.slug})}),850)));if("AVOD"==s.priceType)return void(i?I("glxplays://watch/".concat(e.data.slug)):(N(),setTimeout((function(){d.push({pathname:"/watch/"+e.data.slug})}),850)));"SVOD"===s.priceType&&(s.pricePackage.includes("BASIC")&&s.pricePackage.includes("PREMIUM")?u.hasPremium||u.hasBasic?i?I("glxplays://watch/".concat(e.data.slug)):(N(),setTimeout((function(){d.push({pathname:"/watch/"+e.data.slug})}),850)):d.push({pathname:"/subs/pay",state:{infoMovie:e.data,location:location.pathname}}):s.pricePackage.includes("PREMIUM")&&(u.hasPremium?i?I("glxplays://watch/".concat(e.data.slug)):(N(),setTimeout((function(){d.push({pathname:"/watch/"+e.data.slug})}),850)):d.push({pathname:"/subs/pay",state:{infoMovie:e.data,location:location.pathname}})))}"inReview"!=e.data.status?"SVOD"===e.data.priceType?e.data.pricePackage.includes("BASIC")&&e.data.pricePackage.includes("PREMIUM")?u.hasPremium||u.hasBasic?i?I("glxplays://watch/".concat(e.data.slug)):(N(),setTimeout((function(){d.push({pathname:"/watch/"+e.data.slug})}),850)):d.push({pathname:"/subs/pay",state:{infoMovie:e.data,location:location.pathname}}):e.data.pricePackage.includes("PREMIUM")&&(u.hasPremium?i?I("glxplays://watch/".concat(e.data.slug)):(N(),setTimeout((function(){d.push({pathname:"/watch/"+e.data.slug})}),850)):d.push({pathname:"/subs/pay",state:{infoMovie:e.data,location:location.pathname}})):"AVOD"===e.data.priceType?i?I("glxplays://watch/".concat(e.data.slug)):(N(),setTimeout((function(){d.push({pathname:"/watch/"+e.data.slug})}),850)):i?I("glxplays://watch/".concat(e.data.slug)):e.data.rentals.ALID.includes("@MOB")?p.setNotification({status:!0,type:"TVOD_MOBILE",onSubmit:e.pullOfferAndCheckPromotionTvod}):(N(),setTimeout((function(){d.push({pathname:"/watch/"+e.data.slug})}),850)):i?I("glxplays://watch/".concat(e.data.slug)):(N(),setTimeout((function(){d.push({pathname:"/watch/"+e.data.slug})}),850))};Object(r.d)((function(){e.updatePricePromotion&&v();var t=!(e.data&&e.data.comingSoon&&!e.data.comingSoon.hasSource);t!==f.showBtnWatching&&b({showBtnWatching:t})}),[e.data]);var y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=Math.ceil((t-e)/60),a=e/t*100;return Object(o.h)("div",null,n&&Object(o.h)("div",{className:""},n.message),Object(o.h)("div",{className:"cnt-watching"},Object(o.h)("div",{className:"percent-100"},Object(o.h)("div",{className:"percent-watching",style:"width:".concat(a,"%")})),Object(o.h)("div",{className:"time-remain"},"Còn lại ",i," phút")))};function v(){var t,n,i,a=e.data.rentals.countdown;return(n=Math.floor(a/3600))<=48?(i=Math.floor(a%3600/60),Object(o.h)(me,{content:Object(o.h)("div",{className:"continue"},e.textPlay,Object(o.h)("div",{className:"time-remain"},"(Còn ",n," giờ ",i," phút)")),type:"watch",onClick:g})):(n=Math.floor(a%86400/3600),t=Math.floor(a/86400),Object(o.h)(me,{content:Object(o.h)("div",{className:"continue"},e.textPlay,Object(o.h)("div",{className:"time-remain"},"(Còn ",t," ngày)")),type:"watch",onClick:g}))}return Object(o.h)("div",{id:"overview"},l?e.data.imgTitle?Object(o.h)("img",{src:"//assets.glxplay.io/images/w400/"+e.data.imgTitle}):Object(o.h)("div",{className:"title title-movie-mb"},e.data.name):"",Object(o.h)("div",{className:"list-detail"},e.data.datePublished&&Object(o.h)("div",{className:"list-item date-public"},e.data.datePublished),e.data.contentRating&&"Mọi lứa tuổi"!==e.data.contentRating&&Object(o.h)("div",{className:"list-item content-rating"},e.data.contentRating),e.data.duration&&Object(o.h)("div",{className:"list-item duration"},e.data.duration),e.data.videoQuality&&Object(o.h)("div",{className:"list-item resolution"},"FULLHD"==e.data.videoQuality||"4K"==e.data.videoQuality||"DV"==e.data.videoQuality?"HD":e.data.videoQuality),e.data.priceType&&"TVOD"==e.data.priceType&&Object(o.h)("div",{className:"list-item tvod"},"Phim thuê"),e.data.pricePackage&&"SVOD"==e.data.priceType&&e.data.pricePackage.includes("PREMIUM")&&!e.data.pricePackage.includes("BASIC")&&Object(o.h)("div",{className:"list-item premium"},"Cao cấp"),e.data.voiceOver&&e.data.voiceOver.map((function(e){return Object(o.h)("div",{className:"list-item voice"},e)})),e.data.totalLike&&Object(o.h)("div",{className:"list-item"},Object(o.h)("img",{className:"icon",src:Wy.a})," ",e.data.totalLike)),Object(o.h)(Pu,{content:e.data.disambiguatingDescription?e.data.disambiguatingDescription:e.data.description}),l&&Object(o.h)("div",{className:"link-action-mb"},e.tvod.status?e.buttonPriceFree&&f.showBtnWatching?Object(o.h)("div",{className:"link-item"},Object(o.h)("button",{className:"btn-primary",onClick:e.checkPromotionTvod},"Thuê phim  ",Object(o.h)("span",{className:"line-through-price"},k.parseVND(e.tvod.price)),Object(o.h)("span",{className:"price"}," 0đ"))):f.showBtnWatching&&Object(o.h)("div",{className:"link-item"},Object(o.h)(me,{content:"Thuê phim ".concat(k.parseVND(e.tvod.price)),onClick:e.checkPromotionTvod,type:"watch"}))||e.data.trailer&&e.data.trailer.map((function(t,n){return 0==n&&Object(o.h)("div",{className:"link-item"},Object(o.h)(me,{content:"Xem trailer",type:"trailer",onClick:function(){I("glxplays://watch/".concat(e.data.slug))}}))})):f.showBtnWatching&&Object(o.h)("div",{className:"link-item"},Object(o.h)(me,{content:e.textPlay,type:"watch",onClick:function(){return e.data.cntWatching?g("cntWatching"):g("watch")}}))||e.data.trailer&&e.data.trailer.map((function(t,n){return 0==n&&Object(o.h)("div",{className:"link-item"},Object(o.h)(me,{content:"Xem trailer",type:"trailer",onClick:function(){I("glxplays://watch/".concat(e.data.slug))}}))})),Object(o.h)("div",{className:"link-item"},Object(o.h)(Zy,{name:e.data.alternateName,titleId:e.data.titleId}))),Object(o.h)("div",{className:"list-type"},e.data.actor.length>0&&Object(o.h)("div",{className:"list-actor"},Object(o.h)("span",null,"Diễn viên:"),e.data.actor.slice(0,3).map((function(t,n){return Object(o.h)("div",{className:"text-actor"},Object(o.h)(c.b,{to:"/search?q="+t.name,className:"actor"},t.name),n>e.data.actor.slice(0,3).length-2?"":","," ")}))),e.data.director.length>0&&Object(o.h)("div",{className:"list-actor"},Object(o.h)("span",null,"Đạo diễn:"),e.data.director.slice(0,3).map((function(t,n){return Object(o.h)("div",{className:"text-actor"},Object(o.h)("p",{className:"actor"},t),n>e.data.director.slice(0,3).length-2?"":","," ")}))),e.data.genre.length>0&&Object(o.h)("div",{className:"list-actor"},Object(o.h)("span",null,"Thể loại:"),e.data.genre.slice(0,3).map((function(t,n){return Object(o.h)("div",{className:"text-actor"},Object(o.h)(c.b,{to:"/search?genre="+t,className:"actor"},t),e.data.genre.length>3&&n<2?",":"",n>e.data.genre.slice(0,3).length-2?"":","," ")})))),e.data.comingSoon&&Object(o.h)("p",{className:"coming-soon-title"},e.data.comingSoon.message),e.data.spotlight&&e.data.spotlight.image&&!e.data.cntWatching&&Object(o.h)("div",{className:"spotlight"},Object(o.h)("img",{className:"img-prize",src:"//assets.glxplay.io/images/w200/".concat(e.data.spotlight.image)}),Object(o.h)("div",{className:"prize"},e.data.spotlight.description)),e.data.cntWatching?e.data.cntWatching.goto?y(e.data.cntWatching.continueAt,e.data.cntWatching.duration,e.data.cntWatching.goto):y(e.data.cntWatching.continueAt,e.data.cntWatching.duration):"",!e.data.cntWatching&&e.data.watched&&1===e.data.watched&&Object(o.h)("div",{className:"cnt-watching"},Object(o.h)("div",{className:"percent-100"},Object(o.h)("div",{className:"percent-watching",style:"width: 100%"})),Object(o.h)("div",{className:"time-remain"},"Còn lại 0 phút")),!i&&(e.tvod.status?Object(o.h)("div",{className:"link-action"},e.buttonPriceFree&&f.showBtnWatching?Object(o.h)("button",{className:"btn-primary",onClick:e.checkPromotionTvod},"Thuê phim  ",Object(o.h)("span",{className:"line-through-price"},k.parseVND(e.tvod.price)),Object(o.h)("span",{className:"price"}," 0đ")):f.showBtnWatching&&Object(o.h)(me,{content:"Thuê phim ".concat(k.parseVND(e.tvod.price)),onClick:e.checkPromotionTvod,type:"watch"})||e.data.trailer&&e.data.trailer.map((function(e,n){return 0==n&&Object(o.h)(me,{content:"Xem trailer",type:"trailer",onClick:function(){N(),setTimeout((function(){t({status:!0,video:e.video,name:e.name,alternateName:e.alternateName,trailerId:e.trailerId,priceType:e.priceType})}),850)}})})),Object(o.h)(Zy,{name:e.data.alternateName,titleId:e.data.titleId})):Object(o.h)("div",{className:"link-action"},e.data.rentals?v():f.showBtnWatching&&Object(o.h)(me,{content:e.textPlay,type:"watch",onClick:function(){return e.data.cntWatching?g("cntWatching"):g("watch")}})||e.data.trailer&&e.data.trailer.map((function(e,n){return 0==n&&Object(o.h)(me,{content:"Xem trailer",type:"trailer",onClick:function(){N(),setTimeout((function(){t({status:!0,video:e.video,name:e.name,alternateName:e.alternateName,trailerId:e.trailerId,priceType:e.priceType})}),850)}})})),Object(o.h)(Zy,{name:e.data.alternateName,titleId:e.data.titleId}))))},Jy=n(5),ev=Pe.a.div.withConfig({displayName:"styled__Card",componentId:"jj7p6y-0"})(["width:100%;position:relative;top:0px;box-sizing:border-box;padding-right:15px;img{border-radius:3px;}.card-body{position:relative;}"]),tv=Pe.a.div.withConfig({displayName:"styled__BoxIcon",componentId:"jj7p6y-1"})(["position:absolute;width:50px;height:50px;top:50%;left:50%;background:rgba(255,255,255,0.7);transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center;border-radius:50%;transition:0.3s ease-in-out;z-index:1;opacity:0;cursor:pointer;svg{width:20px;height:20px;fill:#000;transition:0.3s ease-in-out;}&:hover svg{fill:#0077c8;}"]),nv=Pe.a.div.withConfig({displayName:"styled__ImgSeason",componentId:"jj7p6y-2"})(["position:relative;border:solid 1px #000000;&:hover .hover{opacity:1;}"]),iv=Pe.a.div.withConfig({displayName:"styled__CardContent",componentId:"jj7p6y-3"})(["",""],(function(e){return"watch"==e.type?"padding: 16px 0 9px;":"padding: 16px 0;"})),av=Pe.a.div.withConfig({displayName:"styled__Description",componentId:"jj7p6y-4"})(["font-size:14px;color:rgba(255,255,255,0.64);overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;white-space:initial;text-align:left;"]),ov=Pe.a.div.withConfig({displayName:"styled__SeasonSlider",componentId:"jj7p6y-5"})(["animation:fadeIn 1s;width:100%;.slick-slide{height:auto;}.slick-list{width:calc(100% + 15px);}.slick-track{margin:0;}.slick-dots{position:absolute;top:-35px;right:0;display:flex !important;align-items:center;justify-content:flex-end;height:35px;button{&::before{display:none;}}}.slick-dots > li{width:25px;height:3px;background-color:#ffffff6e;margin:0 0 0 3px;}.slick-dots > li > button{&:before{display:none;}}.slick-dots .slick-active{background-color:rgba(255,255,255,0.9);}"]),rv=Pe.a.div.withConfig({displayName:"styled__Percentage",componentId:"jj7p6y-6"})(["width:90%;margin:0 auto;position:relative;"]),cv=Pe.a.div.withConfig({displayName:"styled__PercentTageAll",componentId:"jj7p6y-7"})(["position:absolute;width:100%;background-color:#595a5b;bottom:7px;height:3px;border-radius:5px;left:0;"]),sv=Pe.a.div.withConfig({displayName:"styled__PercentTageWatching",componentId:"jj7p6y-8"})(["position:absolute;height:3px;background-color:#0077c8;border-radius:5px;bottom:7px;left:0;"]),lv=Pe.a.div.withConfig({displayName:"styled__MaskPercent",componentId:"jj7p6y-9"})(["position:absolute;width:100%;height:100%;background-image:linear-gradient(to bottom,rgba(0,0,0,0) 70%,rgba(0,0,0,0.81) 100%);top:0;left:0;"]),uv=Pe.a.div.withConfig({displayName:"styled__Playing",componentId:"jj7p6y-10"})(["position:absolute;height:30px;display:inline-flex;align-items:center;justify-content:flex-end;bottom:20px;right:0;white-space:nowrap;padding:0px 10px;font-size:14px;svg{width:15px;height:15px;margin-right:6px;fill:#fff;}"]),dv=Pe.a.div.withConfig({displayName:"styled__Arrow",componentId:"jj7p6y-11"})(["position:absolute;cursor:pointer;&.slick-arrow{display:flex;justify-content:center;align-items:center;width:40px;height:40px;&:hover{svg{width:40px;height:40px;}}}&.slick-prev{"," right:100%;left:auto;}&.slick-next{"," left:100%;}display:block;svg{width:30px;height:30px;fill:#ffffff;transition:0.3s ease-in-out;}&:before{display:none;}&.slick-disabled{display:none;}"],(function(e){return e.top&&"top: ".concat(e.top,";")}),(function(e){return e.top&&"top: ".concat(e.top,";")})),pv=(Pe.a.div.withConfig({displayName:"styled__LoadingWrap",componentId:"jj7p6y-12"})(["position:absolute;top:0;left:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;.loader{color:#ffffff;}"]),Object(Jy.forwardRef)((function(e,t){var n=e.data,i=e.watchInPlayer,a=function(){if(n.cntWatching){var e=n.cntWatching;return e.continueAt/e.duration*100}return n.watched&&1===n.watched?100:null};return Object(o.h)(ev,{key:e.index},Object(o.h)("div",{className:"card-body"},Object(o.h)(nv,{ref:t},Object(o.h)(Q,{src:"//assets.glxplay.io/images/w400/"+n.poster,placeholder:ee.a}),Object(o.h)(tv,{className:"hover",onClick:function(){i(n)}},Object(o.h)(ie,null)),Object(o.h)(lv,null),a()&&Object(o.h)(rv,null,Object(o.h)(cv,null),Object(o.h)(sv,{style:"width: ".concat(a(),"%")})),e.active&&Object(o.h)(uv,null,Object(o.h)(ie,null),"Đang xem")),Object(o.h)(iv,{type:e.type},Object(o.h)(Vt,{type:e.type},window.localStorage.lang&&"en"==window.localStorage.lang?n.name:n.alternateName,Object(o.h)(Vt,{type:e.type,title:n.duration,pale:!0,small:!0},"( ",n.duration," )"))),Object(o.h)(av,null,n.description)))}))),hv=n(175),fv=n.n(hv);n(941);function mv(){return(mv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function bv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var yv=function(e){var t=Object(r.j)(),n=e.titleId,i=e.history,a=e.data,c=bv(Object(r.k)(0),2),s=c[0],l=c[1],u=bv(Object(r.k)(1),2),d=u[0],p=u[1],h=bv(Object(r.k)(0),2),f=h[0],m=h[1],b=bv(Object(r.k)(!0),2),g=b[0],y=b[1],v=bv(Object(r.k)("50%"),2),O=v[0],w=v[1],j=Object(r.b)(Oc),x=a[s],k=i.location;Object(r.d)((function(){if(k.pathname.includes("/watch")){var n=new URLSearchParams(window.location.search),i=n.get("ss"),a=n.get("ep");if(i){var o=parseInt(i),r=1;a&&(r=parseInt(a));var c=parseInt((r-1)/5);t.current.slickGoTo(5*c);var s=_.findIndex(e.data,{seasonNumber:o});l(s),m(s),p(r)}}}),[k.search]);var S="watch"===e.type?function(t){e.watchInPlayer(t,x,n)}:function(t){!function(t){if(window.localStorage.__glxp_token){var a={id:n};z.getDetailMovie(a,(function(n,a){if(!n){var o=a.data,r="/watch/"+e.slug+"?ss="+x.seasonNumber+"&ep="+t.episodeNumber;if("inReview"==o.status)return N(),void setTimeout((function(){i.push({pathname:r,state:{status:!0}})}),850);if("AVOD"===t.priceType)return N(),void setTimeout((function(){i.push(r)}),850);if("SVOD"===o.priceType)o.pricePackage.includes("BASIC")&&o.pricePackage.includes("PREMIUM")?j.hasPremium||j.hasBasic?(N(),setTimeout((function(){i.push(r)}),850)):i.push({pathname:"/subs/pay",state:{infoMovie:a.data,location:k.pathname}}):o.pricePackage.includes("PREMIUM")&&(j.hasPremium?(N(),setTimeout((function(){i.push("/watch/"+e.slug+"?ss="+x.seasonNumber+"&ep="+t.episodeNumber)}),850)):i.push({pathname:"/subs/pay",state:{infoMovie:a.data,location:k.pathname}}));else if("TVOD"===o.priceType)if(o.rentals){var c=Math.round((new Date).getTime()/1e3);o.rentals.expireAt>=c&&(N(),setTimeout((function(){i.push("/watch/"+e.slug)}),850))}else i.push({pathname:"/rent/"+o.titleId+"/pay",state:{infoMovie:a.data,location:k.pathname}})}}))}else j.reLogin()}(t)},I=Object(o.g)(),T=k.pathname.includes("/watch")?"20px":"0px";return Object(r.d)((function(){I.current&&(I.current.offsetHeight>0?w(I.current.offsetHeight/2+"px"):w("50%"))}),[I.current]),Object(o.h)("div",{className:"season",style:{paddingTop:e.data.length>1?T:"54px"}},e.data.length>1&&Object(o.h)("ul",{className:"list-season"},e.data.map((function(e,n){return Object(o.h)("li",{className:n===s?"item active":"item","data-toggle":n,onClick:(i=n,function(e){y(!1),t.current.slickGoTo(0),l(i),setTimeout((function(){y(!0)}),100)})},e.alternateName);var i}))),g&&Object(o.h)(ov,null,Object(o.h)(fv.a,mv({},{dots:!0,infinite:!1,speed:500,slidesToShow:5,slidesToScroll:5,centerPadding:15},{nextArrow:Object(o.h)(Ov,{top:O}),prevArrow:Object(o.h)(vv,{top:O}),ref:t}),x&&x.episode&&x.episode.map((function(t,n){return Object(o.h)(pv,{data:t,key:n,index:n,ref:I,watchInPlayer:S,type:e.type,active:k.pathname.includes("/watch")&&n===d-1&&f===s})})))))},vv=function(e){return Object(o.h)(dv,{top:e.top,type:"left",className:e.className,onClick:e.onClick},Object(o.h)(Sc,null))},Ov=function(e){return Object(o.h)(dv,{top:e.top,type:"right",className:e.className,onClick:e.onClick},Object(o.h)(Cc,null))},wv=(n(942),function(e){var t=Object(r.b)(Oc).showWatchTrailer,n={dots:!1,infinite:!1,speed:500,slidesToShow:5,slidesToScroll:5,arrows:!0,nextArrow:Object(o.h)("div",{className:"next-slide"},Object(o.h)(Cc,null)),prevArrow:Object(o.h)("div",{className:"prev-slide"},Object(o.h)(Sc,null))};return Object(o.h)("div",{className:"trailer"},Object(o.h)("div",{className:"trailer-slider"},Object(o.h)(fv.a,n,e.data&&e.data.map((function(e,n){return Object(o.h)("div",{className:"card"},Object(o.h)("div",{className:"card-body"},Object(o.h)("div",{className:"img-trailer"},Object(o.h)(Q,{src:"//assets.glxplay.io/images/w400/"+e.poster,placeholder:ee.a}),Object(o.h)("div",{onClick:function(){N(),setTimeout((function(){t({status:!0,video:e.video,name:e.name,alternateName:e.alternateName,trailerId:e.trailerId,priceType:e.priceType})}),850)}},Object(o.h)("div",{className:"play-movie"},Object(o.h)(ie,null)))),Object(o.h)("div",{className:"card-content"},Object(o.h)("div",{className:"title-trailer"},window.localStorage.lang&&"en"==window.localStorage.lang?e.name:e.alternateName))))})))))}),jv=(n(943),function(e){return Object(o.h)("div",{id:"page-detail"},Object(o.h)("div",{className:"detailsItem"},e.data.director&&e.data.director.length>0&&Object(o.h)("ul",null,Object(o.h)("li",{className:"listLabel"},"Đạo diễn:"),e.data.director.map((function(e){return Object(o.h)("li",null,e)}))),e.data.actor&&e.data.actor.length>0&&Object(o.h)("ul",null,Object(o.h)("li",{className:"listLabel"},"Diễn viên"),e.data.actor.map((function(e){return Object(o.h)("li",null,Object(o.h)(c.b,{to:"/search?q="+e.name},e.name))}))),e.data.genre&&e.data.genre.length>0&&Object(o.h)("ul",null,Object(o.h)("li",{className:"listLabel"},"Thể loại"),e.data.genre.map((function(e){return Object(o.h)("li",null,Object(o.h)(c.b,{to:"/search?genre="+e},e))}))),e.data.contentRating&&Object(o.h)("ul",null,Object(o.h)("li",{className:"listLabel"},"Độ tuổi"),Object(o.h)("li",{className:"age-movie"},e.data.contentRating))))});function xv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var _v=function(e){var t=xv(Object(r.k)({data:null}),2),n=t[0],i=t[1];return Object(r.d)((function(){z.getRibbonRelated(e.id,{output:"med_info",size:40},(function(e,t){e||i({data:t.data.docs.slice(0,40)})}))}),[e.id]),n.data&&n.data.length>0?Object(o.h)("div",{className:"ribbon-landscape"},Object(o.h)(uu,null,Object(o.h)(du,null,"Phim liên quan")),Object(o.h)(cu,{displayNameVi:"Phim liên quan",data:n.data,slug:"related",index:0,ribbonType:"Related"})):""};function Sv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Iv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sv(Object(n),!0).forEach((function(t){Nv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Cv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Pv=function(e){var t=Tv(Object(r.k)({data:null}),2),n=t[0],i=t[1];return Object(r.d)((function(){var e;e={output:"med_info",size:40,timestamp:(new Date).getTime()},z.getRibbonRentals(e,(function(e,t){e||i(Iv(Iv({},n),{},{data:t.data.docs.slice(0,40)}))}))}),[]),n.data&&n.data.length>0?Object(o.h)("div",{className:"ribbon-landscape"},Object(o.h)(uu,null,Object(o.h)(du,null,"Phim đang thuê")),Object(o.h)(cu,{displayNameVi:e.displayTitle,data:n.data,slug:"rentals",index:0,ribbonType:"Rentals"})):""};n(944);function Av(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ev=function(e){var t=Av(Object(r.k)({data:null}),2),n=t[0],i=t[1];return Object(r.d)((function(){z.getFilmWatching({output:"med_info",size:40},(function(e,t){e||i({data:t.data.docs.slice(0,40)})}))}),[]),n.data&&n.data.length>0?Object(o.h)("div",{className:"ribbon-landscape"},Object(o.h)(uu,null,Object(o.h)(du,null,"Phim đang xem")),Object(o.h)(cu,{displayNameVi:e.displayTitle,data:n.data,slug:"cntWatching",index:0,ribbonType:"CntWatching"})):""};function Dv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Lv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dv(Object(n),!0).forEach((function(t){Rv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Uv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Vv=function(e){var t=zv(Object(r.k)({data:null}),2),n=t[0],i=t[1],a=zv(Object(r.k)({isOverView:!0,isTrailer:!1,isDetail:!1,isSeason:!1}),2),c=a[0],l=a[1],u=zv(Object(r.k)({status:!1,msg:null}),2),d=(u[0],u[1]),p=zv(Object(r.k)({status:!1,price:null,dataOffer:null,buttonPriceFree:!1,updatePricePromotion:!1}),2),h=p[0],f=p[1],m=zv(Object(r.k)("Xem phim"),2),b=m[0],g=m[1],y=zv(Object(r.k)(!0),2),v=y[0],O=y[1],w=zv(Object(r.k)(null),2),j=w[0],x=w[1],S=zv(Object(r.k)(null),2),N=S[0],T=S[1],C=Object(s.i)().slug,P=Object(r.b)(Xc).state,A=P.isTablet,M=P.isMobile,E=Object(r.b)(F),D=1==M&&!1===A,L=Object(r.b)(Oc),R=Object(r.b)(Eo),U=Object(s.g)(),V=Object(Ve.useTracking)().trackEvent,B=function(){window.scrollTo(0,0),l(Lv(Lv({},n),{},{isSeason:!1,isOverView:!0,isTrailer:!1,isDetail:!1}))},H=function(){"SVOD"===n.data.priceType?n.data.pricePackage.includes("BASIC")&&n.data.pricePackage.includes("PREMIUM")?L.hasPremium||L.hasBasic?I("glxplays://watch/".concat(n.data.slug)):U.push({pathname:"/subs/pay",state:{infoMovie:n.data,location:location.pathname}}):n.data.pricePackage.includes("PREMIUM")&&(L.hasPremium?I("glxplays://watch/".concat(n.data.slug)):U.push({pathname:"/subs/pay",state:{infoMovie:n.data,location:location.pathname}})):I("glxplays://watch/".concat(n.data.slug))},q=function(){f(Lv(Lv({},h),{},{status:!1,updatePricePromotion:!0}));var e={getBy:"slug"};A&&(e=Lv(Lv({},e),{},{isTablet:!0})),z.getDetailMovieBySlug(C,e,(function(e,t){e?O(!1):i(Lv(Lv({},n),{},{data:t.data}))}))},W=function(){V({from_screen:E.history.length>1&&E.history[E.history.length-2]||"",event_category:"payment",event_action:"click",direct_object_type:"button",direct_object_id:"price",direct_object_property:h.price.toString(),indirect_object_type:"item",indirect_object_id:n.data.titleId,indirect_object_property:n.data.alternateName}),V({event_category:"browse",direct_object_type:"film",on_screen:"movie_detail",event_action:"click",indirect_object_type:"ribbon",indirect_object_id:n.data.slug,direct_object_id:n.data.titleId,direct_object_property:n.data.alternateName,indirect_object_property:e.displayNameVi}),h.dataOffer&&h.status&&(h.dataOffer.data.data.nonPromotionOffers.tvod.PROMOTION.length>0?h.dataOffer.data.data.nonPromotionOffers.tvod.PROMOTION.map((function(e,t){0==e.totalPriceOffer?R.setNotification({status:!0,type:"popup",dataOffer:h.dataOffer,slug:n.data.slug,titleName:n.data.alternateName,location:location.pathname,infoMovie:n.data,callAgain:q,image:n.data.image.posterPortrait}):U.push({pathname:"/rent/"+n.data.titleId+"/pay",state:{location:location.pathname,infoMovie:n.data}})})):U.push({pathname:"/rent/"+n.data.titleId+"/pay",state:{location:location.pathname,infoMovie:n.data}}))};return Object(r.d)((function(){B(),window.scrollTo(0,0),v||O(!0),e.theme(!1),L.setLoading(!0);var t={getBy:"slug"};A&&(t=Lv(Lv({},t),{},{isTablet:!0})),z.getDetailMovieBySlug(C,t,(function(e,t){if(e)O(!1);else{var n,a=t.data;if(window.criteo_q.push({event:"viewItem",item:a.titleId?a.titleId:""}),V((Rv(n={from_screen:E.lastpage||"",event_category:"browse",on_screen:"movie_detail"},"event_category","browse"),Rv(n,"event_action","view"),Rv(n,"direct_object_type","screen"),Rv(n,"direct_object_id",a.titleId),Rv(n,"direct_object_property",a.alternateName),n)),window.localStorage.lang&&"vi"==window.localStorage.lang&&a.image.titleDetailVn?x(a.image.titleDetailVn):window.localStorage.lang&&"en"==window.localStorage.lang&&a.image.titleDetailEn?x(a.image.titleDetailEn):window.localStorage.lang&&"en"==window.localStorage.lang&&a.name?T(a.name):(T(a.alternateName),x(null)),i({data:a}),"TVOD"==a.priceType&&"inReview"!==a.status)if(a.rentals){var o=Math.round((new Date).getTime()/1e3);a.rentals.expireAt>=o&&(f({status:!1,price:null,dataOffer:null}),a.cntWatching?g("Xem tiếp"):g("Xem ngay"))}else{var r={eventPage:"detail",titleId:a.titleId};z.pullOfferByAtoken(r,(function(e,t){if(t&&!e){var n=t.data.data.packageDisplay.tvod.find((function(e){return"10"==e.profileCode})).price;t.data.data.nonPromotionOffers.tvod.PROMOTION.length>0?t.data.data.nonPromotionOffers.tvod.PROMOTION.map((function(e,i){0==e.totalPriceOffer&&f({status:!0,price:n,dataOffer:t,buttonPriceFree:!0})})):f({status:!0,price:n,dataOffer:t})}}))}else if("AVOD"==a.priceType)a.cntWatching?g("Xem tiếp"):g("Xem ngay");else{if(f({status:!1,price:null,dataOffer:null}),a.cntWatching){if(a.cntWatching.goto){var c,s=_.findIndex(a.containsSeason,(function(e){return e.seasonId==a.cntWatching.goto.seasonId}));if(-1!=s){var l=_.findIndex(a.containsSeason[s].episode,(function(e){return e.episodeId==a.cntWatching.goto.episodeId}));c=a.containsSeason[s].episode[l]}else c=a.containsSeason[0].episode[0];if("inReview"==a.status)return g(-1!=s?"Xem tiếp":"Xem phim"),void L.setLoading(!1);"SVOD"===c.priceType?c.pricePackage.includes("BASIC")&&c.pricePackage.includes("PREMIUM")?L.hasPremium||L.hasBasic?g(-1!=s?"Xem tiếp":"Xem phim"):L.hasMobile?g("Nâng cấp gói"):g("Mua gói"):c.pricePackage.includes("PREMIUM")?L.hasPremium?g(-1!=s?"Xem tiếp":"Xem phim"):L.hasBasic||L.hasMobile?g("Nâng cấp gói"):g("Mua gói"):g(-1!=s?"Xem tiếp":"Xem phim"):g(-1!=s?"Xem tiếp":"Xem phim")}else a.pricePackage.includes("BASIC")&&a.pricePackage.includes("PREMIUM")?L.hasPremium||L.hasBasic?g("Xem tiếp"):L.hasMobile?g("Nâng cấp gói"):g("Mua gói"):a.pricePackage.includes("PREMIUM")?L.hasPremium?g("Xem tiếp"):L.hasBasic||L.hasMobile?g("Nâng cấp gói"):g("Mua gói"):g("Xem tiếp");return void L.setLoading(!1)}if("inReview"==a.status)return g("Xem phim"),void L.setLoading(!1);if(a.containsSeason&&a.containsSeason.length>0){var u=a.containsSeason[0].episode[0];return"SVOD"===u.priceType?u.pricePackage.includes("BASIC")&&u.pricePackage.includes("PREMIUM")?L.hasPremium||L.hasBasic?g("Xem phim"):L.hasMobile?g("Nâng cấp gói"):g("Mua gói"):u.pricePackage.includes("PREMIUM")&&(L.hasPremium?g("Xem phim"):L.hasBasic||L.hasMobile?g("Nâng cấp gói"):g("Mua gói")):g("Xem phim"),void L.setLoading(!1)}a.pricePackage.includes("BASIC")&&a.pricePackage.includes("PREMIUM")?L.hasPremium||L.hasBasic?g("Xem phim"):L.hasMobile?g("Nâng cấp gói"):g("Mua gói"):a.pricePackage.includes("PREMIUM")&&(L.hasPremium?g("Xem phim"):L.hasBasic||L.hasMobile?g("Nâng cấp gói"):g("Mua gói"))}k.ga("view_content","ViewContent","Pageview",a.alternateName)}L.setLoading(!1)}))}),[C]),Object(o.h)("div",{className:"detail-wrap"},!v&&Object(o.h)(Sp,null),v&&Object(o.h)(Rc,null,n.data&&Object(o.h)("div",null,Object(o.h)("div",{className:"detail-movie-page"},D?Object(o.h)("div",{className:"banner-mb"},Object(o.h)("img",{src:"//assets.glxplay.io/images/w400/"+n.data.image.backdrop})):Object(o.h)("div",{className:c.isOverView?"background":"background opacity"},Object(o.h)("div",{className:"overlay-bottom"}),Object(o.h)("div",{className:"background-left"}),Object(o.h)("div",{className:"background-right"},Object(o.h)("img",{className:"img-thump-gray",src:kc.a}),Object(o.h)("div",{className:"banner-detail-movie",style:"background: url(//assets.glxplay.io/images/w1280/".concat(n.data.image.backdrop,") no-repeat center center / cover")}))),!D&&Object(o.h)("div",{className:A?"content-movie content-mb":"content-movie"},Object(o.h)("div",{className:"title-movie"},j?Object(o.h)("img",{className:c.isOverView?"title-img":"title-img small-title",src:"//assets.glxplay.io/images/w400/"+j,alt:n.data.alternateName}):Object(o.h)("h1",{className:c.isOverView?"":"small-title"},N),A&&Object(o.h)("div",{className:"link-action"},h.status?h.buttonPriceFree?Object(o.h)("button",{className:"btn-primary",onClick:W},"Thuê phim  ",Object(o.h)("span",{className:"line-through-price"},k.parseVND(h.price)),Object(o.h)("span",{className:"price"}," 0đ")):Object(o.h)(me,{content:"Thuê phim ".concat(k.parseVND(h.price)),onClick:W,type:"watch"}):Object(o.h)(me,{content:b,type:"watch",onClick:H}),Object(o.h)(Zy,{titleId:n.data.titleId}))),n.data&&!M&&c.isOverView&&Object(o.h)(Qy,{buttonPriceFree:h.buttonPriceFree,data:n.data,showPopupSvod:function(e,t){d({status:e,data:t})},titleMovie:N,imgTitle:j,checkPromotionTvod:W,tvod:h,textPlay:b,updatePricePromotion:h.updatePricePromotion,pullOfferAndCheckPromotionTvod:function(){var t={eventPage:"detail",titleId:n.data.titleId};z.pullOfferByAtoken(t,(function(t,i){if(i&&!t){var a=i.data.data.packageDisplay.tvod.find((function(e){return"10"==e.profileCode})).price;V({event_category:"payment",event_action:"click",direct_object_type:"button",direct_object_id:a.toString(),direct_object_property:"HD",indirect_object_type:"movie",indirect_object_id:n.data.titleId,indirect_object_property:n.data.alternateName}),V({event_category:"browse",direct_object_type:"film",on_screen:"movie_detail",event_action:"click",indirect_object_type:"ribbon",indirect_object_id:n.data.slug,direct_object_id:n.data.titleId,direct_object_property:n.data.alternateName,indirect_object_property:e.displayNameVi});var o=i;o&&o.data.data.nonPromotionOffers.PROMOTION&&o.data.data.nonPromotionOffers.PROMOTION.length>0?o.data.data.nonPromotionOffers.PROMOTION.map((function(e,t){0==e.totalPriceOffer?R.setNotification({status:!0,type:"popup",dataOffer:o,slug:n.data.slug,titleName:n.data.alternateName,location:location.pathname,infoMovie:n.data,callAgain:q,image:n.data.image.posterPortrait}):U.push({pathname:"/rent/"+n.data.titleId+"/pay",state:{location:location.pathname,infoMovie:n.data}})})):U.push({pathname:"/rent/"+n.data.titleId+"/pay",state:{location:location.pathname,infoMovie:n.data}})}}))}}),n.data&&c.isSeason&&Object(o.h)(yv,{titleId:n.data.titleId,data:n.data.containsSeason,slug:n.data.slug,type:"detail",history:U}),n.data&&c.isDetail&&Object(o.h)(jv,{data:{director:n.data.director,actor:n.data.actor,genre:n.data.genre,contentRating:n.data.contentRating}}),n.data&&c.isTrailer&&Object(o.h)(wv,{data:n.data.trailer})),!M&&Object(o.h)("div",{className:"dynamic-tabs-detail"},Object(o.h)("ul",{className:"nav-detail"},Object(o.h)("li",{className:c.isOverView?"nav-item active":"nav-item",onClick:B},"Tổng quan"),n.data.trailer&&n.data.trailer.length>0&&Object(o.h)("li",{className:c.isTrailer?"nav-item active":"nav-item",onClick:function(){window.scrollTo(0,0),l(Lv(Lv({},n),{},{isSeason:!1,isOverView:!1,isTrailer:!0,isDetail:!1}))}},"Trailer"),n.data.containsSeason&&Object(o.h)("li",{className:c.isSeason?"nav-item active":"nav-item",onClick:function(){window.scrollTo(0,0),l(Lv(Lv({},n),{},{isSeason:!0,isOverView:!1,isTrailer:!1,isDetail:!1}))}},"Tập phim"),Object(o.h)("li",{className:c.isDetail?"nav-item active":"nav-item",onClick:function(){window.scrollTo(0,0),l(Lv(Lv({},n),{},{isSeason:!1,isOverView:!1,isTrailer:!1,isDetail:!0}))}},"Chi tiết")))),M&&Object(o.h)(Qy,{buttonPriceFree:h.buttonPriceFree,data:Lv(Lv({},n.data),{},{name:N,description:n.data.disambiguatingDescription,imgTitle:j}),showPopupDownload:H,checkPromotionTvod:W,tvod:h,textPlay:b}),Object(o.h)("div",{className:"list-ribbons"},Object(o.h)(_v,{id:n.data.titleId}),Object(o.h)(Uu,null),Object(o.h)(Ev,null),Object(o.h)(Pv,null)))))},Bv=Pe.a.div.withConfig({displayName:"style__Wrap",componentId:"sc-83p6q7-0"})(["padding:20px 25px;margin:1.5rem 0;height:auto;border-radius:8px;box-shadow:0 2px 8px 0 rgba(0,0,0,0.1);@media (max-width:480px){width:unset !important;height:unset;padding:15px;}"]),Hv=Pe.a.div.withConfig({displayName:"style__Card",componentId:"sc-83p6q7-1"})(["width:100%;"]),Fv=Pe.a.div.withConfig({displayName:"style__TitleHead",componentId:"sc-83p6q7-2"})([""]),qv=Pe.a.div.withConfig({displayName:"style__FormInput",componentId:"sc-83p6q7-3"})(["margin-top:20px;display:flex;justify-content:center;input{border-bottom-right-radius:0px !important;border-top-right-radius:0px!important;border-top-left-radius:100px!important;border-bottom-left-radius:100px!important;border:solid 1px #d0d4d9 !important;padding:16px 23px;width:100%;box-sizing:border-box;height:50px;line-height:1.5;font-size:16px;letter-spacing:normal;&:focus{outline:none;}&::placeholder{color:#333333;opacity:0.5;}@media (max-width:768px){font-size:13px;}}.btn-apply{height:50px;width:40%;color:grey;padding:11px 10px;font-size:14px;font-weight:300;white-space:nowrap;border-radius:0px 100px 100px 0px;}.btn-giftcode{cursor:pointer;background-color:#0077c8;color:#fff;padding:11px 10px;font-size:14px;border:none;border-top-left-radius:0px;border-bottom-left-radius:0px;&:hover{background:#3aaaff;}@media (max-width:768px){font-size:13px;}}.btn-giftcode-noninput{cursor:pointer;background-color:#e4e4e4;border:1px solid #e4e4e4;&:hover{background:#bfc0c1;border:1px solid #bfc0c1;}}"]),Wv=Pe.a.div.withConfig({displayName:"style__CodeActive",componentId:"sc-83p6q7-4"})(["display:flex;"]),Kv=Pe.a.div.withConfig({displayName:"style__ItemCode",componentId:"sc-83p6q7-5"})(["margin:20px 8px 8px 0px;padding:7px;border-radius:5px;background-color:#0077c8;display:flex;color:#fff !important;.remove-gift{margin:0px 10px;cursor:pointer;}"]),Gv=Pe.a.div.withConfig({displayName:"style__ErrorCode",componentId:"sc-83p6q7-6"})(["color:#e02020;margin-top:10px;font-size:14px"]);function $v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Xv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$v(Object(n),!0).forEach((function(t){Yv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Jv=function(e){var t=Zv(Object(r.k)({value:"",messErrorCode:"",giftCode:[],statusPopup:!1}),2),n=t[0],i=t[1],a=Zv(Object(r.k)(null),2),c=(a[0],a[1]),s=Object(Ve.useTracking)().trackEvent;return Object(r.d)((function(){i(Xv(Xv({},n),{},{indexPackage:e.index}))}),[e.index]),Object(o.h)(o.b,null,n.statusPopup&&Object(o.h)(jg,{message:n.message,closePopup:function(){i(Xv(Xv({},n),{},{statusPopup:!1,giftCode:[]}))},activeCode:function(){z.activeCode({code:n.value,force:"true"},(function(t,a){if(a&&0==a.data.error){Object(r.b)(Eo).setNotification({status:!0,description:"Mã ưu đãi kích hoạt thành công.",type:"success"});var o=new URLSearchParams(window.location.search),c=o.get("type")?o.get("type"):"";e.callOffer("momo",null,"mobile"==c?"mobile":""),function(){var e=localStorage.getItem("__glxp_r_token");e&&z.refreshAccessToken((function(e,t){if(!e){var n=t.headers["x-fim-atoken"];localStorage.setItem("__glxp_token",n);var i=new Date;i.setTime(i.getTime()+2592e6);var a="expires="+i.toUTCString();document.cookie="__glxp_token=".concat(n,"; ").concat(a,"; path=/")}}))}(),i(Xv(Xv({},n),{},{statusPopup:!1}))}t&&i(Xv(Xv({},n),{},{statusPopup:!1}))}))}}),Object(o.h)(Bv,null,Object(o.h)(Hv,null,Object(o.h)(Fv,null,"Nhập mã khuyến mãi"),Object(o.h)(qv,null,Object(o.h)(Sa,{type:"text",label:"Mã khuyến mãi",onInputValue:function(e){!function(e){i(Xv(Xv({},n),{},{value:e.target.value}))}(e)},id:"input-code-pay"}),Object(o.h)(wg,{onClick:function(t){t.preventDefault(),s({event_action:"click",direct_object_type:"promotion_input",direct_object_id:n.value}),n.value.length>0&&(25e4==e.isPriceOffer?i(Xv(Xv({},n),{},{messErrorCode:"Chuơng trình giảm giá Gói Cao Cấp Dài Hạn không thể áp dụng cùng lúc với chương trình khác"})):z.activeCode({code:n.value,force:"false"},(function(e,t){if(t&&0==t.data.error){var a=[];t.data&&t.data.data.map((function(e,t){a.push(e.description)})),i(Xv(Xv({},n),{},{statusPopup:!0,messErrorCode:"",value:n.value,message:a||""})),""!==n.value&&n.giftCode.length<1&&c(n.giftCode.push(n.value))}e&&i(Xv(Xv({},n),{},{messErrorCode:t.data.message}))})))},type:"submit",className:0==n.value.length?"btn-giftcode-noninput btn-apply":"btn-apply btn btn-giftcode"},"Áp dụng")),n.giftCode&&Object(o.h)(Wv,null,n.giftCode.map((function(e,t){return Object(o.h)(Kv,null,e,Object(o.h)("div",{className:"remove-gift",onClick:function(){return function(e){c(n.giftCode.splice(e,1))}(t)}},"×"))})),Object(o.h)(Gv,null,n.messErrorCode)))))},eO=n(418),tO=n.n(eO),nO=function(){return Object(o.h)("svg",{width:"20",fill:"#333333",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 281.488 281.488",style:"enable-background:new 0 0 281.488 281.488;"},Object(o.h)("g",null,Object(o.h)("path",{d:"M140.744,0C63.138,0,0,63.138,0,140.744s63.138,140.744,140.744,140.744s140.744-63.138,140.744-140.744 S218.351,0,140.744,0z M140.744,263.488C73.063,263.488,18,208.426,18,140.744S73.063,18,140.744,18 s122.744,55.063,122.744,122.744S208.425,263.488,140.744,263.488z"}),Object(o.h)("path",{d:"M210.913,131.744h-61.168V70.576c0-4.971-4.029-9-9-9s-9,4.029-9,9v61.168H70.576c-4.971,0-9,4.029-9,9s4.029,9,9,9h61.168 v61.168c0,4.971,4.029,9,9,9s9-4.029,9-9v-61.168h61.168c4.971,0,9-4.029,9-9S215.883,131.744,210.913,131.744z"})),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null))},iO=n(419),aO=n.n(iO);function oO(){return(oO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function rO(e){return(rO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cO(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function sO(e,t){return(sO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=pO(e);if(t){var a=pO(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return uO(this,n)}}function uO(e,t){return!t||"object"!==rO(t)&&"function"!=typeof t?dO(e):t}function dO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pO(e){return(pO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sO(e,t)}(r,e);var t,n,i,a=lO(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=a.call(this,e)).callMomoAgain=t.callMomoAgain.bind(dO(t)),t.closePopupCallApi=t.closePopupCallApi.bind(dO(t)),t.state={dataSyncMomo:null,statusPopupSync:null,time:120,messErrorBuy:"",messageFail:"",statusBuySuccess:null,statusBuyFail:null,timeOut:null,expiredVersion:!1,expiredVersionJustSync:!1,popupErrApi:!1,statusRunMomo:!1,callEventCheck:null,checkSynced:!1},t}return t=r,(n=[{key:"componentWillUnmount",value:function(){this.state.checkSynced&&this.state.callEventCheck.close(),this.clearTimeOutSync()}},{key:"clearTimeOutSync",value:function(){window.clearInterval(this.state.timeOut)}},{key:"componentDidUpdate",value:function(e){if(e.offer!==this.props.offer){this.syncAndBuyMomo(),this.clearTimeOutSync(),this.setState({statusChangeQrCode:this.props.statusChangeQrCode});var t=this.state.callEventCheck;t&&t.close()}}},{key:"checkSyncMomo",value:function(e,t){var n=this;if(e){var i=this.state.callEventCheck;i=new lr.a.EventSourcePolyfill("".concat(d.hub,"p/momo"),{headers:{"Access-Token":e},heartbeatTimeout:31e4}),this.setState({callEventCheck:i}),i.onmessage=function(e){var a=JSON.parse(e.data);1==a.status&&(n.props.callMethod(),n.setState({statusBuySuccess:!0,packageRedirect:"SVOD"==n.props.offer.productType?n.props.offer:n.props.offer.MOMO[0]}),i&&i.close(),k.gaPurchase(a.hashId,n.props.offer),n.props.trackingBuyMomoQr("/subs/pay"==location.pathname?"SVOD":"TVOD",t))},i.onerror=function(e){i.close(),n.props.trackingErrorHubMomo()}}}},{key:"callMomoAgain",value:function(){this.props.addMomoWallet(!0),this.setState({popupErrApi:!1,expiredVersion:!1})}},{key:"countDown",value:function(){var e,t,n=this,i=599;this.setState({timeOut:window.setInterval((function(){e=parseInt(i/60,10),t=parseInt(i%60,10),e=e<10?"0"+e:e,t=t<10?"0"+t:t,n.setState({getTimer:"00:"+e+":"+t+"s"}),i>0?i--:(n.setState({expiredVersion:!0}),n.clearTimeOutSync())}),1e3)})}},{key:"closePopupCallApi",value:function(){this.setState({popupErrApi:!1})}},{key:"callBuyMomo",value:function(e){var t=this;if(this.props.activeTrial){var n={channelType:"MOMO",amount:0,clientId:localStorage.getItem("id_user")};z.syncMomo(n,(function(e,n){e?(t.setState({popupErrApi:!0}),t.clearTimeOutSync()):(t.setState({checkSynced:!0,dataSyncMomo:n,statusChangeQrCode:!1}),t.clearTimeOutSync(),t.countDown(),t.checkSyncMomoTrial(n.data&&n.data.data&&n.data.data.token))}))}else{var i=this.returnAddOffer(e);z.syncAndBuyMomo(i,(function(n,i){n?(t.setState({popupErrApi:!0,messErrorBuy:i.data.message}),t.clearTimeOutSync()):(t.setState({checkSynced:!0,dataSyncMomo:i,statusChangeQrCode:!1}),t.clearTimeOutSync(),t.countDown(),t.checkSyncMomo(i.data&&i.data.data&&i.data.data.token,e))}))}}},{key:"checkSyncMomoTrial",value:function(e){var t=this;if(e){var n=this.state.callEventCheck;n=new lr.a.EventSourcePolyfill("".concat(d.hub,"p/momo"),{headers:{"Access-Token":e},heartbeatTimeout:31e4}),this.setState({callEventCheck:n}),n.onmessage=function(e){1==JSON.parse(e.data).status&&(z.getChannelAndMethod({platform:"web",version:1.3},(function(e,n){e||n.data.data.method.map((function(e,n){if("MOMO"==e.channelName){var i={offer:t.props.offer,methodId:e.methodId};t.callBuy(i)}}))})),n&&n.close())},n.onerror=function(e){n.close()}}}},{key:"returnAddOffer",value:function(e){return e.offer.mkt_campaign=window.sessionStorage.getItem("mktCampaign"),e.offer.mkt_source=window.sessionStorage.getItem("mktSource"),e.offer.mkt_medium=window.sessionStorage.getItem("mktMedium"),e.offer.mkt_term=window.sessionStorage.getItem("mktTerm"),e.offer.mkt_content=window.sessionStorage.getItem("mktContent"),e.offer.addons.length>0&&(e.offer.addons[0].mkt_campaign=window.sessionStorage.getItem("mktCampaign"),e.offer.addons[0].mkt_source=window.sessionStorage.getItem("mktSource"),e.offer.addons[0].mkt_medium=window.sessionStorage.getItem("mktMedium"),e.offer.addons[0].mkt_term=window.sessionStorage.getItem("mktTerm"),e.offer.addons[0].mkt_content=window.sessionStorage.getItem("mktContent")),e}},{key:"callBuy",value:function(e){var t=this,n=this.returnAddOffer(e);z.buy(n,(function(n,i){i&&!n?t.setState({statusBuySuccess:!0,packageRedirect:e.offer}):t.setState({statusBuyFail:!0})}))}},{key:"syncAndBuyMomo",value:function(){var e=this;if(this.props.offer&&"SVOD"==this.props.offer.productType&&this.props.offer){var t={offer:this.props.offer,phoneNumber:this.props.info.phone};this.callBuyMomo(t)}this.props.offer&&this.props.offer.MOMO&&this.props.offer.MOMO.map((function(t,n){if("10"==t.profileCode){var i={offer:t,phoneNumber:e.props.info.phone};e.callBuyMomo(i)}}))}},{key:"render",value:function(e){var t=this.state,n=t.statusChangeQrCode,i=t.dataSyncMomo,a=t.statusBuyFail,r=t.statusBuySuccess,c=t.packageRedirect,l=t.expiredVersion,u=t.popupErrApi;return Object(o.h)(ah,null,l&&Object(o.h)(nh,{callAgain:this.callMomoAgain}),u&&Object(o.h)(ih,{callAgain:this.callMomoAgain,closePopupCallApi:this.closePopupCallApi,messErrorBuy:this.state.messErrorBuy}),r&&Object(o.h)(s.a,{to:{pathname:"/subs/pay"==location.pathname?"/subs/confirm":"/rent/confirm",state:{status:"success",infoMovie:e.infoMovie&&e.infoMovie.slug,location:e.location,package:c,linkWatching:e.linkWatching}}}),a&&Object(o.h)(s.a,{to:{pathname:"/subs/pay"==location.pathname?"/subs/confirm":"/rent/confirm",state:{status:"fail",locationPayment:location.pathname,message:"Đã xảy ra lỗi trong quá trình thanh toán!"}}}),Object(o.h)(oh,null,n&&Object(o.h)(eh,null),n&&Object(o.h)(ch,null),i&&Object(o.h)("img",{src:i.data&&i.data.data&&i.data.data.url})||Object(o.h)(rh,null)),Object(o.h)(sh,null,Object(o.h)("p",null,"Bước 1: Mở ứng dụng và đăng nhập MoMo"),Object(o.h)("p",{className:"tag-icon"},"Bước 2: Bấm chọn icon ",Object(o.h)(th,null)," ở góc phải phía trên màn hình để quét QR Code"),Object(o.h)("p",null,"Bước 3: Bấm chọn “Xác nhận” để thanh toán"),Object(o.h)("p",{className:"timer"},"Thời gian còn lại ",Object(o.h)("span",{id:"timer"},this.state.getTimer))))}}])&&cO(t.prototype,n),i&&cO(t,i),r}(o.a),fO=function(e){return Object(o.h)(Oc.Consumer,null,(function(t){var n=t.data;return n&&Object(o.h)(hO,oO({},e,{info:n.infoUser}))}))};function mO(){return(mO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function bO(e){return(bO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gO(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function yO(e,t){return(yO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=jO(e);if(t){var a=jO(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return OO(this,n)}}function OO(e,t){return!t||"object"!==bO(t)&&"function"!=typeof t?wO(e):t}function wO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jO(e){return(jO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yO(e,t)}(r,e);var t,n,i,a=vO(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=a.call(this,e)).callZaloPayAgain=t.callZaloPayAgain.bind(wO(t)),t.closePopupCallApi=t.closePopupCallApi.bind(wO(t)),t.state={dataSyncZaloPay:null,statusPopupSync:null,time:120,messErrorBuy:"",messageFail:"",statusBuySuccess:null,statusBuyFail:{status:!1,message:null},timeOut:null,expiredVersion:!1,expiredVersionJustSync:!1,popupErrApi:!1,statusRunZaloPay:!1,callEventCheck:null,checkSynced:!1},t}return t=r,(n=[{key:"componentWillUnmount",value:function(){this.state.checkSynced&&this.state.callEventCheck.close(),this.clearTimeOutSync()}},{key:"clearTimeOutSync",value:function(){window.clearInterval(this.state.timeOut)}},{key:"componentDidUpdate",value:function(e){if(e.offer!==this.props.offer){this.syncZaloPay(),this.clearTimeOutSync(),this.setState({statusChangeQrCode:this.props.statusChangeQrCode});var t=this.state.callEventCheck;t&&t.close()}}},{key:"checkSyncZaloPay",value:function(e){var t=this;if(e){var n=this.state.callEventCheck;n=new lr.a.EventSourcePolyfill("".concat(d.hub,"p/zalopay"),{headers:{"Access-Token":e},heartbeatTimeout:31e4}),this.setState({callEventCheck:n}),n.onmessage=function(e){1==JSON.parse(e.data).status&&(z.getChannelAndMethod({platform:"web",version:1.3},(function(e,n){e||n.data.data.method.map((function(e,n){if("ZALOPAY"==e.channelName){var i=e.methodId;if(t.props.offer&&"SVOD"==t.props.offer.productType&&t.props.offer){var a={offer:t.props.offer,methodId:i};t.callBuy(a)}t.props.offer&&t.props.offer.ZALOPAY&&t.props.offer.ZALOPAY.map((function(e,n){if("10"==e.profileCode){var a={offer:e,methodId:i};t.callBuy(a)}}))}}))})),n&&n.close())},n.onerror=function(e){n.close(),t.props.trackingErrorHubZaloPay()}}}},{key:"callZaloPayAgain",value:function(){this.props.addZaloPayWallet(!0),this.setState({popupErrApi:!1,expiredVersion:!1})}},{key:"countDown",value:function(){var e,t,n=this,i=599;this.setState({timeOut:window.setInterval((function(){e=parseInt(i/60,10),t=parseInt(i%60,10),e=e<10?"0"+e:e,t=t<10?"0"+t:t,n.setState({getTimer:"00:"+e+":"+t+"s"}),i>0?i--:(n.setState({expiredVersion:!0}),n.clearTimeOutSync())}),1e3)})}},{key:"closePopupCallApi",value:function(){this.setState({popupErrApi:!1})}},{key:"returnAddOffer",value:function(e){return e.offer.mkt_campaign=window.sessionStorage.getItem("mktCampaign"),e.offer.mkt_source=window.sessionStorage.getItem("mktSource"),e.offer.mkt_medium=window.sessionStorage.getItem("mktMedium"),e.offer.mkt_term=window.sessionStorage.getItem("mktTerm"),e.offer.mkt_content=window.sessionStorage.getItem("mktContent"),e.offer.addons.length>0&&(e.offer.addons[0].mkt_campaign=window.sessionStorage.getItem("mktCampaign"),e.offer.addons[0].mkt_source=window.sessionStorage.getItem("mktSource"),e.offer.addons[0].mkt_medium=window.sessionStorage.getItem("mktMedium"),e.offer.addons[0].mkt_term=window.sessionStorage.getItem("mktTerm"),e.offer.addons[0].mkt_content=window.sessionStorage.getItem("mktContent")),e}},{key:"callBuy",value:function(e){var t=this,n=this.returnAddOffer(e);z.buy(n,(function(n,i){if(i&&!n)t.setState({statusBuySuccess:!0,packageRedirect:e.offer}),t.props.trackingBuyZaloPayQr("/subs/pay"==location.pathname?"SVOD":"TVOD",t.props,"success");else{var a="Đã xảy ra lỗi trong quá trình thanh toán!";i&&i.data&&i.data.message&&(a=i.data.message),t.setState({statusBuyFail:{status:!0,message:a}}),t.props.trackingBuyZaloPayQr("/subs/pay"==location.pathname?"SVOD":"TVOD",e,"fail",null==i?void 0:i.data)}}))}},{key:"syncZaloPay",value:function(){var e=this,t={channelType:"ZALOPAY",clientId:this.props.info.id};this.props.offer&&"SVOD"==this.props.offer.productType&&this.props.offer&&(t.returnUrl=window.location.origin+"/subs/confirm"),this.props.offer&&this.props.offer.ZALOPAY&&this.props.offer.ZALOPAY.map((function(e,n){"10"==e.profileCode&&(t.returnUrl=window.location.origin+"/rent/confirm")})),t.returnUrl&&z.syncZaloPay(t,(function(t,n){t?(e.setState({popupErrApi:!0,messErrorBuy:n.data.message}),e.clearTimeOutSync()):(e.setState({checkSynced:!0,dataSyncZaloPay:n,statusChangeQrCode:!1}),e.clearTimeOutSync(),e.countDown(),e.checkSyncZaloPay(n.data&&n.data.data&&n.data.data.token))}))}},{key:"render",value:function(e){var t=this.state,n=t.statusChangeQrCode,i=t.dataSyncZaloPay,a=t.statusBuyFail,r=t.statusBuySuccess,c=t.packageRedirect,l=t.expiredVersion,u=t.popupErrApi;return Object(o.h)(Ph,null,l&&Object(o.h)(nh,{callAgain:this.callZaloPayAgain}),u&&Object(o.h)(ih,{callAgain:this.callZaloPayAgain,closePopupCallApi:this.closePopupCallApi,messErrorBuy:this.state.messErrorBuy}),r&&Object(o.h)(s.a,{to:{pathname:"/subs/pay"==location.pathname?"/subs/confirm":"/rent/confirm",state:{status:"success",infoMovie:e.infoMovie&&e.infoMovie.slug,location:e.location,package:c,linkWatching:e.linkWatching}}}),a.status&&Object(o.h)(s.a,{to:{pathname:"/subs/pay"==location.pathname?"/subs/confirm":"/rent/confirm",state:{status:"fail",locationPayment:location.pathname,message:a.message}}}),Object(o.h)(Ah,null,n&&Object(o.h)(eh,null),n&&Object(o.h)(Eh,null),i&&Object(o.h)("img",{src:i.data&&i.data.data&&i.data.data.url})||Object(o.h)(Mh,null)),Object(o.h)(Dh,null,Object(o.h)("p",null,"Bước 1: Mở ứng dụng và đăng nhập ZaloPay"),Object(o.h)("p",{className:"tag-icon"},"Bước 2: Bấm chọn icon ",Object(o.h)(th,null)," ở góc trái phía trên màn hình để quét QR Code"),Object(o.h)("p",null,"Bước 3: Bấm chọn “Xác nhận” để thanh toán"),Object(o.h)("p",{className:"timer"},"Thời gian còn lại ",Object(o.h)("span",{id:"timer"},this.state.getTimer))))}}])&&gO(t.prototype,n),i&&gO(t,i),r}(o.a),kO=function(e){return Object(o.h)(Oc.Consumer,null,(function(t){var n=t.data;return n&&Object(o.h)(xO,mO({},e,{info:n.infoUser}))}))},_O=Pe.a.div.withConfig({displayName:"style__Wrap",componentId:"molyam-0"})(["display:flex;align-items:center;.loadding-gif-black{position:absolute;z-index:5;width:100%;}"]),SO=Pe.a.div.withConfig({displayName:"style__QrCodeImage",componentId:"molyam-1"})(["position:relative;display:flex;align-items:center;margin:0 -15px;img{width:190px;max-width:unset;}"]),IO=Pe.a.div.withConfig({displayName:"style__EmptyDiv",componentId:"molyam-2"})(["width:190px;height:190px;"]),NO=Pe.a.div.withConfig({displayName:"style__OverlayQr",componentId:"molyam-3"})(["width:100%;height:100%;position:absolute;background:rgba(255,255,255,0.7);"]),TO=Pe.a.div.withConfig({displayName:"style__TextRight",componentId:"molyam-4"})(["margin-left:15px;padding:0 0 0 1rem;position:relative;.tag-icon{line-height:30px;#scanQr{width:23px;margin:-5px 5px;}}p{color:#333333;text-align:left;font-size:14px;&:not(:last-child){margin-bottom:10px;}}.timer{#timer{font-weight:bold;color:#0077c8;}}"]);function CO(){return(CO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function PO(e){return(PO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AO(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function MO(e,t){return(MO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function EO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=RO(e);if(t){var a=RO(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return DO(this,n)}}function DO(e,t){return!t||"object"!==PO(t)&&"function"!=typeof t?LO(e):t}function LO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RO(e){return(RO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MO(e,t)}(r,e);var t,n,i,a=EO(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=a.call(this,e)).callMocaAgain=t.callMocaAgain.bind(LO(t)),t.closePopupCallApi=t.closePopupCallApi.bind(LO(t)),t.state={dataSyncMoca:null,statusPopupSync:null,time:120,messErrorBuy:"",messageFail:"",statusBuySuccess:null,statusBuyFail:{status:!1,message:null},timeOut:null,expiredVersion:!1,expiredVersionJustSync:!1,popupErrApi:!1,statusRunMoca:!1,callEventCheck:null,checkSynced:!1},t}return t=r,(n=[{key:"componentWillUnmount",value:function(){this.state.checkSynced&&this.state.callEventCheck.close(),this.clearTimeOutSync()}},{key:"clearTimeOutSync",value:function(){window.clearInterval(this.state.timeOut)}},{key:"componentDidUpdate",value:function(e){if(e.offer!==this.props.offer){this.createQrCode(),this.clearTimeOutSync(),this.setState({statusChangeQrCode:this.props.statusChangeQrCode});var t=this.state.callEventCheck;t&&t.close()}}},{key:"checkReponseMoca",value:function(e,t){var n=this;if(e){var i=this.state.callEventCheck;i=new lr.a.EventSourcePolyfill("".concat(d.hub,"p/moca"),{headers:{"Access-Token":e},heartbeatTimeout:31e4}),this.setState({callEventCheck:i}),i.onmessage=function(e){var a=JSON.parse(e.data);if(1==a.status)n.setState({statusBuySuccess:!0,packageRedirect:"SVOD"==n.props.offer.productType?n.props.offer:n.props.offer.MOCA[0]}),i&&i.close(),k.gaPurchase(a.hashId,n.props.offer),n.props.trackingBuyMocaQr("/subs/pay"==location.pathname?"SVOD":"TVOD",t);else{var o="Đã xảy ra lỗi trong quá trình thanh toán!";a&&a.message&&(o=a.message),n.setState({statusBuyFail:{status:!0,message:o}})}},i.onerror=function(e){i.close(),n.props.trackingErrorHubMoca()}}}},{key:"callMocaAgain",value:function(){this.props.addMocaWallet(!0),this.setState({popupErrApi:!1,expiredVersion:!1})}},{key:"countDown",value:function(){var e,t,n=this,i=599;this.setState({timeOut:window.setInterval((function(){e=parseInt(i/60,10),t=parseInt(i%60,10),e=e<10?"0"+e:e,t=t<10?"0"+t:t,n.setState({getTimer:"00:"+e+":"+t+"s"}),i>0?i--:(n.setState({expiredVersion:!0}),n.clearTimeOutSync())}),1e3)})}},{key:"closePopupCallApi",value:function(){this.setState({popupErrApi:!1})}},{key:"returnAddOffer",value:function(e){return e.offer.mkt_campaign=window.sessionStorage.getItem("mktCampaign"),e.offer.mkt_source=window.sessionStorage.getItem("mktSource"),e.offer.mkt_medium=window.sessionStorage.getItem("mktMedium"),e.offer.mkt_term=window.sessionStorage.getItem("mktTerm"),e.offer.mkt_content=window.sessionStorage.getItem("mktContent"),e.offer.addons.length>0&&(e.offer.addons[0].mkt_campaign=window.sessionStorage.getItem("mktCampaign"),e.offer.addons[0].mkt_source=window.sessionStorage.getItem("mktSource"),e.offer.addons[0].mkt_medium=window.sessionStorage.getItem("mktMedium"),e.offer.addons[0].mkt_term=window.sessionStorage.getItem("mktTerm"),e.offer.addons[0].mkt_content=window.sessionStorage.getItem("mktContent")),e}},{key:"createQrCode",value:function(){var e=this,t={offer:this.props.offer};this.props.offer&&this.props.offer.MOCA&&this.props.offer.MOCA.map((function(e){"10"==e.profileCode&&(t.offer=e)})),z.createOrderMoca(t,(function(n,i){n?(e.setState({popupErrApi:!0,messErrorBuy:i.data.message}),e.clearTimeOutSync()):(e.setState({checkSynced:!0,dataSyncMoca:i,statusChangeQrCode:!1}),e.clearTimeOutSync(),e.countDown(),e.checkReponseMoca(i.data&&i.data.data&&i.data.data.token,t))}))}},{key:"render",value:function(e){var t=this.state,n=t.statusChangeQrCode,i=t.dataSyncMoca,a=t.statusBuyFail,r=t.statusBuySuccess,c=t.packageRedirect,l=t.expiredVersion,u=t.popupErrApi;return Object(o.h)(_O,null,l&&Object(o.h)(nh,{callAgain:this.callMocaAgain}),u&&Object(o.h)(ih,{callAgain:this.callMocaAgain,closePopupCallApi:this.closePopupCallApi,messErrorBuy:this.state.messErrorBuy}),r&&Object(o.h)(s.a,{to:{pathname:"/subs/pay"==location.pathname?"/subs/confirm":"/rent/confirm",state:{status:"success",infoMovie:e.infoMovie&&e.infoMovie.slug,location:e.location,package:c,linkWatching:e.linkWatching}}}),a.status&&Object(o.h)(s.a,{to:{pathname:"/subs/pay"==location.pathname?"/subs/confirm":"/rent/confirm",state:{status:"fail",locationPayment:location.pathname,message:a.message}}}),Object(o.h)(SO,null,n&&Object(o.h)(eh,null),n&&Object(o.h)(NO,null),i&&Object(o.h)("img",{src:i.data&&i.data.data&&i.data.data.url})||Object(o.h)(IO,null)),Object(o.h)(TO,null,Object(o.h)("p",null,"Bước 1: Mở ứng dụng và đăng nhập Ví Moca"),Object(o.h)("p",{className:"tag-icon"},"Bước 2: Bấm chọn icon ",Object(o.h)(th,null)," ở góc trái phía trên màn hình để quét QR Code"),Object(o.h)("p",null,"Bước 3: Bấm chọn “Xác nhận” để thanh toán"),Object(o.h)("p",{className:"timer"},"Thời gian còn lại ",Object(o.h)("span",{id:"timer"},this.state.getTimer))))}}])&&AO(t.prototype,n),i&&AO(t,i),r}(o.a),UO=function(e){return Object(o.h)(Oc.Consumer,null,(function(t){var n=t.data;return n&&Object(o.h)(zO,CO({},e,{info:n.infoUser}))}))},VO=n(420),BO=n.n(VO),HO=Pe.a.div.withConfig({displayName:"style__Wrap",componentId:"sc-54f51w-0"})(["padding-right:0;z-index:1;width:55%;float:left;position:relative;@media (max-width:768px){width:100% !important;}"]),FO=Pe.a.div.withConfig({displayName:"style__TitleHead",componentId:"sc-54f51w-1"})(["p{font-size:18px;font-weight:bold;margin:0 0 20px;}@media (max-width:768px){padding-top:26px;}"]),qO=Pe.a.div.withConfig({displayName:"style__MethodTab",componentId:"sc-54f51w-2"})(["margin-bottom:20px;display:flex;flex-wrap:wrap;align-items:flex-start;@media (max-width:768px){justify-content:space-between;margin:0;}.attention-autorenew{margin:20px 0px 0px 0px;color:#333333;@media (max-width:768px){margin-bottom:10px;font-size:14px;}}.momo-method{margin-right:10px;@media (max-width:768px){margin-right:0;width:47%;}}.zalopay-method{margin-right:10px;@media (max-width:768px){margin-right:0;width:47%;}}.credit-method{margin-right:9px;@media (max-width:768px){width:47%;margin-right:0px;}}.vnpay-method{margin-right:9px;@media (max-width:768px){width:47%;margin-right:0px;margin-top:0px;}}.shopeepay-method{margin-right:9px;@media (max-width:768px){width:47%;margin-right:0px;margin-top:0px;}}.moca-method{margin-right:9px;@media (max-width:768px){width:47%;margin-right:0px;margin-top:0px;}}.method{border-radius:6px;cursor:pointer;box-shadow:0px 0px 0px 1px #a4a5a7;font-size:18px;opacity:0.55;margin-bottom:10px;@media (max-width:768px){margin-bottom:20px;}}.active-tab{box-shadow:0px 0px 0px 2px #0077c8;opacity:1;}"]),WO=Pe.a.div.withConfig({displayName:"style__MethodImage",componentId:"sc-54f51w-3"})(["padding:7px 0 14px 0;text-align:center;color:black;margin:",";box-sizing:border-box;flex:0 0 25%;border-radius:10px;width:",";background:white;@media (max-width:768px){margin:auto;}p{font-weight:bolder;margin:",";font-size:15px;}img{display:block;margin:auto;bottom:0;width:",";background:white;margin-top:",";}"],(function(e){return"momo"==e.channel?"0 30px":"0 18px"}),(function(e){return"momo"==e.channel?"80px":"100px"}),(function(e){return"vnpay"==e.channel?"8px 0px 0px 0px":"8px 0px 8px 0px"}),(function(e){return"momo"!==e.channel&&"zalopay"!==e.channel&&"shopeepay"!==e.channel&&"moca"!==e.channel&&"100%"}),(function(e){return"credit"==e.channel?"15px":"vnpay"==e.channel&&"6px"})),KO=Pe.a.div.withConfig({displayName:"style__TabContent",componentId:"sc-54f51w-4"})(["#payment-tab{.card-body-sync{animation:fadeIn 0.5s;margin-bottom:20px;width:50%;display:flex;border-radius:6px;@media (max-width:1024px){display:block;width:100%;}.momo-card-mr{margin-right:20px;}.momo-sync-body{width:100%;display:flex;@media (max-width:1024px){justify-content:center;}.card-body-default{border:3px dashed #0077c8 !important;}.body-card-add-phone{@media (max-width:1280px){padding:19px !important;}.add-phone{text-decoration:none;}}.body-card{border-radius:6px;padding:28px;width:100%;border:3px dashed #807f7f;display:flex;justify-content:space-between;align-items:center;@media (max-width:1024px){padding:23px !important;}@media (max-width:1280px){padding:15px;}.button-add-phone{display:-webkit-box;cursor:pointer;margin:4px 0px;.add-phone{width:100%;margin-left:14px;color:#979797;display:block;font-size:14px;}}.group-phone{display:flex;align-items:center;a{display:flex;text-decoration:none;line-height:initial;}img{margin-right:15px;height:min-intrinsic;}.phone{cursor:pointer;font-weight:bold;display:flex;justify-content:center;align-items:center;margin-right:14px;font-size:14px;@media (max-width:768px){margin-right:23px;}}.number-card{cursor:pointer;font-weight:bold;display:flex;justify-content:center;align-items:center;margin-right:14px;font-size:14px;@media (max-width:768px){margin-right:23px;}}}.contai-all-momo{display:inline-block;position:relative;cursor:pointer;font-size:30px;user-select:none;width:20px;}.contai-all-momo input{width:20px;height:20px;z-index:1;left:0;position:absolute;opacity:0;cursor:pointer;margin:0;top:50%;transform:translateY(-50%);}.checkmark-momo{position:absolute;top:0;left:0;width:20px;height:20px;border:1px solid #d0d4d9;border-radius:50%;top:50%;transform:translateY(-50%);}.checkmark-momo:after{content:'';position:absolute;display:none;}.contai-all-momo .checkmark-momo:after{top:50%;left:50%;width:10px;height:10px;border-radius:50%;border:solid 4px white;transform:translate(-50%,-50%) rotate(45deg);}.contai-all-momo input:checked ~ .checkmark-momo{background:#0077c8;border:none;animation:fadeIn 0.7s;}.contai-all-momo input:checked ~ .checkmark-momo:after{display:block;}.button-add-phone{display:-webkit-box;cursor:pointer;.add-phone{&:hover{color:#333333;transition:all 0.5s;}}}}}}.rules{.rules-body{font-size:15px;margin-bottom:15px;color:rgba(255,255,255,0.55);font-style:italic;a{text-decoration:none;line-height:initial;}}.rules-body-onb{font-size:13px;color:#a9aaad;font-style:italic;padding-top:20px;@media (max-width:768px){padding-top:0;}a{font-size:13px;text-decoration:none;line-height:initial;}}}.img-secure{margin:20px 0px;justify-content:center;display:flex;img{height:min-intrinsic;margin:0 8px;}}.btn-payment-onb{display:flex;width:100%;margin:25px 0px;.btn-submit-package{width:100%;.btn-submit{background:#0077c8;width:100%;padding:14px 50px;box-sizing:border-box;display:flex;align-items:center;justify-content:center;&:hover{background:#3aaaff !important;}}}}.back-home{margin-bottom:20px;text-align:center;a{font-size:14px;}}.add-momo-wallet-tab{.btn-back-momo{text-align:center;color:#0077c8;cursor:pointer;margin-bottom:20px;}}.note-type-card{font-style:italic;margin:20px 0px;font-size:13px;margin-bottom:15px;color:rgb(169,170,173);p{animation:fadeIn 0.7s;}}.bank-group{animation:fadeIn 0.5s;flex-wrap:wrap;margin-bottom:1rem;.img-bank-group{width:100%;}}}.credit-tab{.secureded-title{align-items:center;margin:25px 0px;display:flex;font-size:13px;color:gray;svg{fill:#f7b500;margin-right:7px;height:auto;width:23px;}}}.momo-tab{.sync-momo{animation:fadeIn 0.5s;display:flex;flex-wrap:wrap;width:100%;border-radius:6px;@media (max-width:768px){flex-wrap:wrap;}}}.tab-pane{.credit-body-onb{animation:fadeIn 0.5s;background:white;border-radius:6px;.form-control{margin:10px 0 20px 0;#cardName{text-transform:uppercase;}}.name-card{text-transform:uppercase;}.mess-wrong-card{color:#e02020;}.title-info-pay{margin:10px 0px;}.title-card-bottom{display:flex;.title-date{opacity:0.55;width:50%;}.title-cvv{margin-left:35px;width:50%;text-align:left;.cvv{opacity:0.55;}.spani{margin-left:10px;padding:0px 6px 0px 6px;border-radius:50%;background:rgba(0,0,0,0.1);font-size:13px;float:right;cursor:pointer;&:hover .guide-cvv{opacity:1;visibility:visible;transition:all 0.5s;}.guide-cvv{visibility:hidden;opacity:0;transition:all 0.5s;position:absolute;border-radius:4px;box-shadow:0 2px 4px 0 rgba(0,0,0,0.09),3px 2px 4px 0 rgba(0,0,0,0.09);border:solid 0.5px #c8c8c8;background-color:#ffffff;padding:20px;transform:translateY(-177px);width:155px;font-size:11px;right:0;.card-ex{border-radius:7px;border:solid 0.5px rgba(1,1,1,0.1);.group-cvv{display:flex;.cvv-ex{opacity:0.5;margin-left:4px;height:15px;padding:0px 2px;border:0.5px solid red;}.imgbottom-ex{opacity:0.4;width:60%;height:16px;background:#d0d4d9;margin:0px 0px 20px 8px;}}.imghead-ex{width:100%;height:20px;background:#d0d4d9;margin:10px 0px 15px 0px;opacity:0.5;}}.title-guide{text-align:center;margin-top:10px;opacity:0.55;}.img-security-code{width:155px;}}}}}.input-card-bottom{display:flex;.form-control:last-child{margin-left:10px;}.expiration-date-left,.expiration-date-right{margin-right:10px;}.cvv-code{margin-left:25px;}.form-control{width:50%;}#expiresDate{margin-right:10px;}}.input-card{font-size:16px;padding:15px;width:100%;margin:12px 0px;border-radius:5px;border:solid 1px #d0d4d9;}}.credit-body{background:#222222;border-radius:6px;padding:30px 50px;margin-bottom:30px;.name-card{text-transform:uppercase;}.note-type-card{animation:fadeIn 0.7s;font-style:italic;margin:20px 0px;font-size:13px;margin-bottom:15px;color:rgb(169,170,173);p{animation:fadeIn 0.7s;}}.mess-wrong-card{color:#e02020;}.title-info-pay{margin:10px 0px;}@media (max-width:768px){padding:30px 30px;}.title-card-bottom{display:flex;.title-date{opacity:0.55;width:50%;}.title-cvv{margin-left:35px;opacity:0.55;width:50%;text-align:left;.spani{margin-left:10px;padding:0px 6px 0px 6px;border-radius:50%;background:rgba(0,0,0,0.1);font-size:13px;float:right;cursor:pointer;}.guide-cvv{border-radius:4px;box-shadow:0 2px 4px 0 rgba(0,0,0,0.09),3px 2px 4px 0 rgba(0,0,0,0.09);border:solid 0.5px #c8c8c8;background-color:#ffffff;padding:10px;}}}.input-card-bottom{display:flex;.form-control:last-child{margin-left:10px;}.expiration-date-left,.expiration-date-right{margin-right:10px;}.cvv-code{margin-left:25px;}}.input-card{font-size:16px;padding:15px;color:white;width:100%;margin:12px 0px;border-radius:5px;border:solid 1px #393939;background-color:#000000;}}}"]);function GO(e){return function(e){if(Array.isArray(e))return JO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||QO(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function XO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$O(Object(n),!0).forEach((function(t){YO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function YO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||QO(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QO(e,t){if(e){if("string"==typeof e)return JO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?JO(e,t):void 0}}function JO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ew=function(e){var t=Object(s.g)(),n=Object(r.b)(Oc),i=Object(r.b)(F),a=Object(r.b)(Nr),l=ZO(Object(r.k)(a),2),u=l[0],p=(l[1],Object(Ve.useTracking)().trackEvent),h=ZO(Object(r.k)({packageSelected:e.packageSelected,cardName:"",cardNumber:"",expiresDate:"",cvvNumber:"",typeCardInput:"",dataFilterMomo:null,numberDefault:0}),2),f=h[0],m=h[1],g=ZO(Object(r.k)(!1),2),y=g[0],v=g[1],O=ZO(Object(r.k)({isFormMomo:!1,addNewMomo:!1,isLoadingMomo:!1,isFormZaloPay:!1,addNewZaloPay:!1,isLoadingZaloPay:!1,isFormMoca:!1,isLoadingMoca:!1}),2),w=O[0],j=O[1],x=ZO(Object(r.k)({asianForm:!1,momoForm:!1,zaloPayForm:!1,shopeePayForm:!1,mocaForm:!1,vnpayForm:!1,isZaloPayDeepLink:!1,isMomoDeepLink:!1}),2),_=x[0],I=x[1],N=ZO(Object(r.k)({typeCard:"",wrongCard:"",dataVnPay:null,dataShopeePay:null,dataMoca:null}),2),T=N[0],C=N[1],P=ZO(Object(r.k)({closeFormVisa:!0,dataAsianPay:null}),2),M=P[0],E=P[1],D=ZO(Object(r.k)(null),2),L=D[0],R=D[1],U=ZO(Object(r.k)({isFormAsian:!1}),2),V=U[0],B=U[1],H=ZO(Object(r.k)({urlMomo:"",urlZaloPay:"",urlMoca:""}),2),q=H[0],W=H[1],K=ZO(Object(r.k)(null),2),G=K[0],X=K[1],Y=function(e,t){m(XO(XO({},f),{},YO({},e,t.target.value))),"cardName"==e&&m(XO(XO({},f),{},{cardName:t.target.value})),"cardNum"==e&&($('input[name="cardNumber"]').payment("formatCardNumber"),m(XO(XO({},f),{},{typeCardInput:k.typeCardName(t.target.value),cardNumber:t.target.value}))),"expiresDate"==e&&($('input[name="cardExpirationDate"]').payment("formatCardExpiry"),m(XO(XO({},f),{},{expiresDate:t.target.value}))),"cvvNumber"==e&&($('input[name="cardCVV"]').payment("formatCardCVC"),m(XO(XO({},f),{},{cvvNumber:t.target.value})))},Z=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n&&b.isMobile){var i=n.target.getBoundingClientRect(),a=i.top+window.scrollY;setTimeout((function(){window.scrollTo({behavior:"smooth",top:a-60})}),100)}"momo"==t&&(e.getChannelName("momo"),ve("momo"),I(XO(XO({},_),{},{momoForm:!0,zaloPayForm:!1,shopeePayForm:!1,mocaForm:!1,asianForm:!1,vnpayForm:!1}))),"zalopay"==t&&(e.getChannelName("zalopay"),ve("zalopay"),I(XO(XO({},_),{},{momoForm:!1,zaloPayForm:!0,shopeePayForm:!1,mocaForm:!1,asianForm:!1,vnpayForm:!1}))),"shopeepay"==t&&(e.getChannelName("shopeepay"),ve("shopeepay"),I(XO(XO({},_),{},{momoForm:!1,zaloPayForm:!1,shopeePayForm:!0,mocaForm:!1,asianForm:!1,vnpayForm:!1}))),"moca"==t&&(e.getChannelName("moca"),ve("moca"),I(XO(XO({},_),{},{momoForm:!1,zaloPayForm:!1,shopeePayForm:!1,mocaForm:!0,asianForm:!1,vnpayForm:!1}))),"credit"==t&&(e.getChannelName("credit"),ve("credit_card"),I(XO(XO({},_),{},{asianForm:!0,zaloPayForm:!1,shopeePayForm:!1,mocaForm:!1,momoForm:!1,vnpayForm:!1}))),"vnpay"==t&&(e.getChannelName("vnpay"),ve("vnpay"),I(XO(XO({},_),{},{asianForm:!1,zaloPayForm:!1,shopeePayForm:!1,mocaForm:!1,momoForm:!1,vnpayForm:!0})))},Q=function(){if(e.packageSelected&&e.packageSelected.MOMO){var t=f.methodId.filter((function(e){return"MOMO"==e.channelName}));t&&e.packageSelected.MOMO.map((function(e,n){if("10"==e.profileCode){var i={offer:e,methodId:f.itemMethodChecked?f.itemMethodChecked:t[0].methodId};fe(i,"TVOD","momo")}}))}else{m(XO(XO({},f),{},{offer:e.packageSelected}));var n=f.methodId.filter((function(e){return"MOMO"==e.channelName}));if(n){var i={offer:e.packageSelected,methodId:f.itemMethodChecked?f.itemMethodChecked:n[0].methodId};fe(i,"SVOD","momo")}}},J=function(e,t,n){if("SVOD"==t){var i=new URL(window.location.href).searchParams.get("partner"),a={eventPage:"payment",partners:i||"",planId:e};z.pullOfferByAtoken(a,(function(t,i){var a=i.data.data.nonPromotionOffers.svod.mobile_premium&&i.data.data.nonPromotionOffers.svod.mobile_premium.ZALOPAY,o=i.data.data.nonPromotionOffers.svod.premium.ZALOPAY,r=[];a&&r.push.apply(r,GO(a)),r.push.apply(r,GO(o)),r.filter((function(e){return"ZALOPAY"==e.channelType})).map((function(t){t.productId==e&&n&&n.map((function(e){if("ZALOPAY"==e.channelName){var n={offer:t,methodId:e.methodId};fe(n,"SVOD","zalopay")}}))}))}))}if("TVOD"==t&&e){var o={eventPage:"payment",titleId:e};z.pullOfferByAtoken(o,(function(e,t){t&&t.data&&t.data.data.nonPromotionOffers.tvod.ZALOPAY.map((function(e){if("10"==e.profileCode){n.map((function(t){if("ZALOPAY"==t.channelName){var n={offer:e,methodId:t.methodId};fe(n,"TVOD","zalopay")}}))}}))}))}},ee=function(e,t,n,i,a){if("SVOD"==t){var o=new URL(window.location.href).searchParams.get("partner"),r={eventPage:"payment",partners:o||"",planId:e};z.pullOfferByAtoken(r,(function(t,o){var r=o.data.data.nonPromotionOffers.svod.mobile_premium&&o.data.data.nonPromotionOffers.svod.mobile_premium.ASIAPAY,c=o.data.data.nonPromotionOffers.svod.premium.ASIAPAY,s=[];r&&s.push.apply(s,GO(r)),s.push.apply(s,GO(c)),s.filter((function(e){return"ASIAPAY"==e.channelType})).map((function(t){t.productId==e&&n&&n.map((function(e){if("ASIAPAY"==e.channelName){var n={offer:t,methodId:e.methodId};fe(n,"SVOD","credit_card",i,a)}}))}))}))}if("TVOD"==t&&e){var c={eventPage:"payment",titleId:e};z.pullOfferByAtoken(c,(function(e,t){t&&t.data&&t.data.data.nonPromotionOffers.tvod.ASIAPAY.map((function(e){"10"==e.profileCode&&n.map((function(t){if("ASIAPAY"==t.channelName){var n={offer:e,methodId:t.methodId};fe(n,"TVOD","credit_card")}}))}))}))}},te=function(){var i=new URL(window.location.origin+"/"+t.location.pathname+"/"+t.location.search).searchParams.get("type"),a=t.location.state&&t.location.state.infoMovie&&t.location.state.infoMovie.slug?t.location.state.infoMovie.slug:e.infoMovie&&e.infoMovie.slug;if(e.packageSelected&&e.packageSelected.SHOPEEPAY)e.packageSelected.SHOPEEPAY.map((function(t,i){if("10"==t.profileCode){var a="".concat(window.location.origin).concat(window.location.pathname,"?productId=").concat(t.titleId,"&type=TVOD&productNameKnownAs=").concat(e.packageSelected.productNameKnownAs,"&channel=shopeepay"),o={channelType:"SHOPEEPAY",userId:n.data.infoUser.id,returnUrl:a};z.syncShopeePay(o,(function(e,t){!e&&t&&(window.location.href=t.data.data.redirect_url_web)}))}}));else{var o={channelType:"SHOPEEPAY",userId:n.data.infoUser.id,returnUrl:"".concat(window.location.origin).concat(window.location.pathname,"?productId=").concat(e.packageSelected.productId,"&typePackage=").concat(i&&"mobile"==i?"mobile":"premium","&type=SVOD&productNameKnownAs=").concat(e.packageSelected.productNameKnownAs,"&channel=shopeepay")};t.location.state&&t.location.state.linkWatching?(o.returnUrl="".concat(o.returnUrl,"&linkWatching=").concat(t.location.state.linkWatching.pathname),t.location.state.linkWatching.search.replace("?","")&&(o.returnUrl="".concat(o.returnUrl,"&").concat(t.location.state.linkWatching.search.replace("?","")))):a&&(o.returnUrl="".concat(o.returnUrl,"&linkWatching=/watch/").concat(a)),z.syncShopeePay(o,(function(e,t){!e&&t&&(window.location.href=t.data.data.redirect_url_web)}))}},ne=function(e,t,n,i){if("SVOD"==t){var a={eventPage:"payment",planId:e};z.pullOfferByAtoken(a,(function(t,a){var o=a.data.data.nonPromotionOffers.svod.mobile_premium&&a.data.data.nonPromotionOffers.svod.mobile_premium.SHOPEEPAY,r=a.data.data.nonPromotionOffers.svod.premium.SHOPEEPAY,c=[];o&&c.push.apply(c,GO(o)),c.push.apply(c,GO(r)),c.filter((function(e){return"SHOPEEPAY"==e.channelType})).map((function(t){t.productId==e&&n&&n.map((function(e){if("SHOPEEPAY"==e.channelName||"SHOPEEPAY"==e.channelPayment){var n={offer:t,methodId:e.methodId};fe(n,"SVOD","shopeepay",i)}}))}))}))}if("TVOD"==t&&e){var o={eventPage:"payment",titleId:e};z.pullOfferByAtoken(o,(function(e,t){t&&t.data&&t.data.data.nonPromotionOffers.tvod.SHOPEEPAY.map((function(e){"10"==e.profileCode&&n.map((function(t){if("SHOPEEPAY"==t.channelName||"SHOPEEPAY"==t.channelPayment){var n={offer:e,methodId:t.methodId};fe(n,"TVOD","shopeepay")}}))}))}))}},ie=function(e,t,n,i,a){sessionStorage.getItem("mktSource")||sessionStorage.getItem("mktCampaign")||sessionStorage.getItem("mktMedium")||sessionStorage.getItem("mktTerm")||sessionStorage.getItem("mktContent")||(sessionStorage.setItem("mktSource",e||""),sessionStorage.setItem("mktCampaign",t||""),sessionStorage.setItem("mktMedium",n||""),sessionStorage.setItem("mktTerm",i||""),sessionStorage.setItem("mktContent",a||""))},ae=function(n){if(e.callbackMethod&&"moca"==e.callbackMethod){Z("moca"),B(XO(XO({},V),{},{isFormMoca:!0}));var i=e.priceType;!function(n,i,a){if("SVOD"==i){var o=new URL(window.location.href),r=o.searchParams.get("state"),c=o.searchParams.get("code"),s=o.searchParams.get("partner"),l={eventPage:"payment",partners:s||"",planId:n};z.pullOfferByAtoken(l,(function(o,s){var l=s.data.data.nonPromotionOffers.svod.mobile_premium&&s.data.data.nonPromotionOffers.svod.mobile_premium.MOCA,u=s.data.data.nonPromotionOffers.svod.premium.MOCA,d=[];l&&d.push.apply(d,GO(l)),d.push.apply(d,GO(u)),d.filter((function(e){return"MOCA"==e.channelType})).map((function(o){o.productId==n&&a&&a.map((function(n){if("MOCA"==n.channelName){var a={code:c,state:r,userId:localStorage.id_user,returnUrl:window.location.origin+window.location.pathname};z.mocaConfirmPayment(a,(function(a,r){a?t.push({pathname:"SVOD"==i?"/subs/confirm":"/rent/confirm",state:{status:"fail",locationPayment:location.pathname,search:location.search,message:r.data.message,paramsOffer:he({offer:o,methodId:n.methodId}),type:i,method:"moca"}}):t.push({pathname:"SVOD"==i?"/subs/confirm":"/rent/confirm",state:{status:"success",infoMovie:t.location.state&&t.location.state.infoMovie&&t.location.state.infoMovie.slug?t.location.state.infoMovie.slug:e.infoMovie&&e.infoMovie.slug||slugMovie,location:t.location.state&&t.location.state.location?t.location.state.location:locationUrl,package:o}})}))}}))}))}))}if("TVOD"==i&&n){var u={eventPage:"payment",titleId:n};z.pullOfferByAtoken(u,(function(n,o){o&&o.data&&o.data.data.nonPromotionOffers.tvod.MOCA.map((function(n){"10"==n.profileCode&&a.map((function(n){if("MOCA"==n.channelName){var a={code:code,state:f,userId:localStorage.id_user,returnUrl:window.location.origin+window.location.pathname};z.mocaConfirmPayment(a,(function(a,o){a?t.push({pathname:"SVOD"==i?"/subs/confirm":"/rent/confirm",state:{status:"fail",locationPayment:location.pathname,search:location.search,message:o.data.message,paramsOffer:he({offer:itemOffer,methodId:n.methodId}),type:i,method:"moca"}}):t.push({pathname:"SVOD"==i?"/subs/confirm":"/rent/confirm",state:{status:"success",infoMovie:t.location.state&&t.location.state.infoMovie&&t.location.state.infoMovie.slug?t.location.state.infoMovie.slug:e.infoMovie&&e.infoMovie.slug||slugMovie,location:t.location.state&&t.location.state.location?t.location.state.location:locationUrl,package:itemOffer}})}))}}))}))}))}}(e.planId||e.titleId,i,n),t.push({pathname:t.location.pathname,search:"?responseStatus=success"}),v(!0)}},oe=function(n){if(e.packageSelected&&e.packageSelected.VNPAY)e.packageSelected.VNPAY.map((function(i,a){if("10"==i.profileCode){if(e.infoMovie)var o=e.infoMovie&&e.infoMovie.slug?e.infoMovie.slug:"";var r={offer:i,methodId:n.methodId,returnUrl:window.location.origin+"/rent/confirm/?vnp_OrderInfo="+i.productNameKnownAs+"?".concat(t.location.state&&t.location.state.location,"?").concat(o)};fe(r,"TVOD","vnpay")}}));else{e.infoMovie&&e.infoMovie.slug&&e.infoMovie.slug;var i={offer:e.packageSelected,methodId:n.methodId,returnUrl:window.location.origin+"/subs/confirm/?vnp_OrderInfo="+e.packageSelected.productName};fe(i,"SVOD","vnpay")}},ce=function(i){var a;v(!0),"momo"==i&&Q(),"zalopay"==i&&(e.packageSelected.ASIAPAY?e.packageSelected.ASIAPAY.map((function(e,t){"10"==e.profileCode&&J(e.titleId,e.productType,L&&L.method)})):J(e.packageSelected.productId,e.packageSelected.productType,L&&L.method)),"credit"==i&&(null==M.dataAsianPay?""!==f.cardName&&""!==f.cardNumber&&""!==f.expiresDate&&""!==f.cvvNumber?!$.payment.validateCardNumber(f.cardNumber)||!$.payment.validateCardCVC(f.cvvNumber)||f.cardName.length<4?(v(!1),C(XO(XO({},T),{},{wrongCard:"Sai thông tin thẻ."}))):function(){var n=new URL(window.location.origin+"/"+t.location.pathname+"/"+t.location.search).searchParams.get("type");if(e.packageSelected&&e.packageSelected.ASIAPAY)e.packageSelected.ASIAPAY.map((function(i,a){if("10"==i.profileCode){var o={cardNo:f.cardNumber.replace(/\s/g,""),securityCode:f.cvvNumber,cardHolder:f.cardName,epMonth:f.expiresDate.substr(0,2),epYear:k.formatExpreDate(f.expiresDate),itemPackage:i,slug:t.location.state&&t.location.state.infoMovie&&t.location.state.infoMovie.slug?t.location.state.infoMovie.slug:e.infoMovie&&e.infoMovie.slug,location:t.location.state&&t.location.state.location,type:"TVOD",mktCampaign:window.sessionStorage.getItem("mktCampaign"),mktSource:window.sessionStorage.getItem("mktSource"),mktMedium:window.sessionStorage.getItem("mktMedium"),mktTerm:window.sessionStorage.getItem("mktTerm"),mktContent:window.sessionStorage.getItem("mktContent"),typePackage:n,index:e.index};k.syncCard(o,(function(e,t){}))}}));else{var i={cardNo:f.cardNumber.replace(/\s/g,""),securityCode:f.cvvNumber,cardHolder:f.cardName,epMonth:f.expiresDate.substr(0,2),epYear:k.formatExpreDate(f.expiresDate),itemPackage:e.packageSelected,slug:t.location.state&&t.location.state.infoMovie&&t.location.state.infoMovie.slug?t.location.state.infoMovie.slug:e.infoMovie&&e.infoMovie.slug,type:"SVOD",typePackage:n,mktCampaign:window.sessionStorage.getItem("mktCampaign"),mktSource:window.sessionStorage.getItem("mktSource"),mktMedium:window.sessionStorage.getItem("mktMedium"),mktTerm:window.sessionStorage.getItem("mktTerm"),mktContent:window.sessionStorage.getItem("mktContent"),linkWatching:t.location.state&&t.location.state.linkWatching&&JSON.stringify(t.location.state.linkWatching),location:t.location.state&&t.location.state.location,index:e.index};t.location.state&&t.location.state.linkWatching&&(i.linkWatching=t.location.state.linkWatching.pathname,i.searchLinkWatching=t.location.state.linkWatching.search.replace("?","")),k.syncCard(i,(function(e,t){}))}}():(v(!1),C(XO(XO({},T),{},{wrongCard:"Vui lòng nhập thông tin thẻ."}))):e.packageSelected.ASIAPAY?e.packageSelected.ASIAPAY.map((function(e,t){"10"==e.profileCode&&ee(e.titleId,e.productType,L&&L.method)})):ee(e.packageSelected.productId,e.packageSelected.productType,L&&L.method)),"vnpay"==i&&(T.dataVnPay?oe(T.dataVnPay):(a={userId:n.data.infoUser.id},z.syncVNPay(a,(function(e,t){t&&!e&&oe(t.data.data)})))),"shopeepay"==i&&(T.dataShopeePay?e.packageSelected.SHOPEEPAY?e.packageSelected.SHOPEEPAY.map((function(e,t){"10"==e.profileCode&&ne(e.titleId,e.productType,L&&L.method)})):ne(e.packageSelected.productId,e.packageSelected.productType,L&&L.method):te()),"moca"==i&&(T.dataMocaPay?e.packageSelected.MOCA?e.packageSelected.MOCA.map((function(e,t){"10"==e.profileCode&&ne(e.titleId,e.productType,L&&L.method)})):ne(e.packageSelected.productId,e.packageSelected.productType,L&&L.method):te())},se=function(){z.getChannelAndMethod({platform:"web",version:1.3},(function(i,a){if(a&&!i){a.data&&a.data.data&&(a.data.data.method&&(!function(e){var n=new URL(window.location.origin+"/"+t.location.pathname+"/"+t.location.search),i=n.searchParams.get("errorCode"),a=n.searchParams.get("typePackage"),o=n.searchParams.get("idPackage"),r=n.searchParams.get("mktSource"),c=n.searchParams.get("mktCampaign"),s=n.searchParams.get("mktMedium"),l=n.searchParams.get("mktTerm"),u=n.searchParams.get("mktContent");if(ie(r,c,s,l,u),i&&"0"==i){var d={eventPage:"payment",planId:o};z.pullOfferByAtoken(d,(function(t,n){n&&!t&&("premium"==a?n.data.data.nonPromotionOffers.svod.premium.MOMO.map((function(t,n){t.productId==o&&e.map((function(e){if("MOMO"==e.channelName){var n={offer:t,methodId:e.methodId};fe(n,"SVOD","momo")}}))})):n.data.data.nonPromotionOffers.svod.mobile_premium.MOMO.map((function(t){t.productId==o&&e.map((function(e){if("MOMO"==e.channelName){var n={offer:t,methodId:e.methodId};fe(n,"SVOD","momo")}}))})))}))}}(a.data.data.method),function(e){var n=new URL(window.location.origin+"/"+t.location.pathname+"/"+t.location.search),i=n.searchParams.get("type"),a=n.searchParams.get("responseStatus"),o=n.searchParams.get("channel"),r=n.searchParams.get("mktSource"),c=n.searchParams.get("mktCampaign"),s=n.searchParams.get("mktMedium"),l=n.searchParams.get("mktTerm"),u=n.searchParams.get("mktContent");if(ie(r,c,s,l,u),"asiapay"==o||sessionStorage.getItem("loginFromApp")?(Z("credit"),B(XO(XO({},V),{},{typeUrl:i,isFormAsian:!0}))):Z("momo"),a){var d=n.searchParams.get("productId"),p=n.searchParams.get("typeItem"),h=n.searchParams.get("linkWatching"),f=n.searchParams.get("ss"),m=n.searchParams.get("ep"),b=n.searchParams.get("slug");if("success"==a&&(h&&f&&m&&(h="".concat(h,"?ss=").concat(f,"&ep=").concat(m)),ee(d,p,e,h,b),t.push({pathname:t.location.pathname,search:"?responseStatus=success"}),v(!0)),"fail"==a){var g={offer:{productId:"",productNameKnownAs:n.searchParams.get("productNameKnownAs")}};h&&f&&m&&(h={pathname:h,search:"?ss=".concat(f,"&ep=").concat(m)}),ke(p,g,"credit_card","fail"),t.push({pathname:location.pathname.indexOf("/subs/pay")>-1?"/subs/confirm":"/rent/confirm",state:{status:"fail",locationPayment:location.pathname,search:i?"?type="+i:"",message:"Đã xảy ra lỗi trong quá trình thanh toán!",linkWatching:h}})}}}(a.data.data.method),function(n){if(e.callbackMethod&&"zalopay"==e.callbackMethod){Z("zalopay"),B(XO(XO({},V),{},{isFormZaloPay:!0}));var i=e.planId||e.titleId,a=e.priceType;J(i,a,n),t.push({pathname:t.location.pathname,search:"?responseStatus=success"}),v(!0)}}(a.data.data.method),function(){var e=new URL(window.location.origin+"/"+t.location.pathname+"/"+t.location.search),i=e.searchParams.get("typePackage"),a=e.searchParams.get("channel"),o=e.searchParams.get("result");if("shopeepay"==a&&(Z("shopeepay"),o)){var r=e.searchParams.get("productId"),c=e.searchParams.get("authCode"),s=e.searchParams.get("requestId"),l=e.searchParams.get("type"),u=e.searchParams.get("linkWatching"),d=e.searchParams.get("ss"),p=e.searchParams.get("ep");if(u&&d&&p&&(u="".concat(u,"?ss=").concat(d,"&ep=").concat(p)),"100"==o){t.push({pathname:t.location.pathname,search:""});var h={authCode:c,requestId:s,userId:n.data.infoUser.id};z.confirmShopeePay(h,(function(e,t){!e&&t&&ne(r,l,[t.data.data],u)})),v(!0)}if("100"!=o){var f=e.searchParams.get("productNameKnownAs");ke(l,{offer:{productId:"",productNameKnownAs:f}},"shopeepay","fail"),t.push({pathname:location.pathname.indexOf("/subs/pay")>-1?"/subs/confirm":"/rent/confirm",state:{status:"fail",locationPayment:location.pathname,search:i?"?type="+i:"",message:"Đã xảy ra lỗi trong quá trình thanh toán!",linkWatching:u}})}}}(a.data.data.method),ae(a.data.data.method)),R(a.data.data)),a.data.data.method.map((function(e,t){switch(e.channelName){case"ASIAPAY":E(XO(XO({},M),{},{dataAsianPay:e,closeFormVisa:!1}));break;case"VNPAY":C(XO(XO({},T),{},{dataVnPay:e}));break;case"SHOPEEPAY":C(XO(XO({},T),{},{dataShopeePay:e}));break;case"MOCA":C(XO(XO({},T),{},{dataMoca:e}))}}));var o=a.data&&a.data.data&&a.data.data.method.filter((function(e){return"MOMO"==e.channelName})),r=w;o&&o.map((function(e,t){"MOMO"!==e.channelName&&(r.isFormMomo=!0)})),0==o.length&&(r.isFormMomo=!0);var c=a.data&&a.data.data&&a.data.data.method.filter((function(e){return"ZALOPAY"==e.channelName}));c&&c.map((function(e,t){"ZALOPAY"!==e.channelName&&(r.isFormZaloPay=!0)})),0==c.length&&(r.isFormZaloPay=!0);var s=a.data&&a.data.data&&a.data.data.method.filter((function(e){return"MOCA"==e.channelName}));s&&s.map((function(e,t){"MOCA"!==e.channelName&&(r.isFormMoca=!0)})),0==s.length&&(r.isFormMoca=!0);var l=a.data&&a.data.data&&a.data.data.method.filter((function(e){return"MOMO"==e.channelName})),u=a.data&&a.data.data&&a.data.data.method.filter((function(e){return"ZALOPAY"==e.channelName})),d=a.data&&a.data.data&&a.data.data.method.filter((function(e){return"MOCA"==e.channelName}));m(XO(XO({},f),{},{dataFilterMomo:l,dataFilterZaloPay:u,dataFilterMoca:d,methodId:a.data&&a.data.data&&a.data.data.method})),0==a.data.data.method.length&&(r.isFormZaloPay=!0,r.isFormMomo=!0,r.isFormMoca=!0),j(r)}}))},le=function(e,t){m(XO(XO({},f),{},{numberDefault:t,itemMethodChecked:e.methodId}))},ue=function(e,t){Z("momo"),j(XO(XO({},w),{},"add"===t?{isFormMomo:e,addNewMomo:!0}:{isFormMomo:e}))},de=function(e){Z("zalopay"),j(XO(XO({},w),{},{addNewMomo:!1,isFormZaloPay:e}))},pe=function(e){Z("moca"),j(XO(XO({},w),{},{addNewMomo:!1,isFormMoca:e}))},he=function(e){return e.offer.mkt_campaign=window.sessionStorage.getItem("mktCampaign"),e.offer.mkt_source=window.sessionStorage.getItem("mktSource"),e.offer.mkt_medium=window.sessionStorage.getItem("mktMedium"),e.offer.mkt_term=window.sessionStorage.getItem("mktTerm"),e.offer.mkt_content=window.sessionStorage.getItem("mktContent"),e.offer.addons.length>0&&(e.offer.addons[0].mkt_campaign=window.sessionStorage.getItem("mktCampaign"),e.offer.addons[0].mkt_source=window.sessionStorage.getItem("mktSource"),e.offer.addons[0].mkt_medium=window.sessionStorage.getItem("mktMedium"),e.offer.addons[0].mkt_term=window.sessionStorage.getItem("mktTerm"),e.offer.addons[0].mkt_content=window.sessionStorage.getItem("mktContent")),e},fe=function(i,a,o){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=new URL(window.location.origin+"/"+t.location.pathname+"/"+t.location.search),l=s.searchParams.get("slug"),u=s.searchParams.get("location");v(!0);var d=he(i);z.buy(d,(function(s,h){h&&!s&&(k.gaPurchase(h.data.data.lastTransactionId,i.offer),v(!1),n.updateInfo(),"vnpay"!=o||e.activeTrial?(t.push({pathname:"SVOD"==a?"/subs/confirm":"/rent/confirm",state:{status:"success",infoMovie:t.location.state&&t.location.state.infoMovie&&t.location.state.infoMovie.slug?t.location.state.infoMovie.slug:e.infoMovie&&e.infoMovie.slug||c||l,location:t.location.state&&t.location.state.location?t.location.state.location:u,package:i.offer,linkWatching:r||t.location.state&&t.location.state.linkWatching}}),p({on_screen:"payment_confirm",from_screen:"SVOD"==a?"choose_package":"choose_price",event_category:"payment",event_action:"buy",direct_object_type:"SVOD"==a?"package":"item",direct_object_id:"SVOD"==a?i.offer.productId:i.offer.titleId,direct_object_property:"SVOD"==a?A(i.offer.length):"",indirect_object_type:"method",indirect_object_id:o}),ke(a,i,o,"success")):window.location.href=h.data.data.url),s&&(ke(a,i,o,"fail",h.data),v(!1),t.push({pathname:"SVOD"==a?"/subs/confirm":"/rent/confirm",state:{status:"fail",locationPayment:location.pathname,location:t.location.state&&t.location.state.location?t.location.state.location:u,search:location.search,message:h.data.message,paramsOffer:d,type:a,method:o}}))}))},be=function(e,t){p({on_screen:"method_detail",event_category:"payment",event_action:"add",direct_object_type:"method",direct_object_id:"momo"}),p({on_screen:"payment_confirm",from_screen:"SVOD"==e?"choose_package":"choose_price",event_category:"payment",event_action:"buy",direct_object_type:"SVOD"==e?"package":"item",direct_object_id:"SVOD"==e?t.offer.productId:t.offer.titleId,direct_object_property:"SVOD"==e?A(t.offer.length):"",indirect_object_type:"method",indirect_object_id:"momo"}),ke(e,t,"momo","success")},ge=function(e,t,n,i){p({on_screen:"method_detail",event_category:"payment",event_action:"add",direct_object_type:"method",direct_object_id:"zalopay"}),p({on_screen:"payment_confirm",from_screen:"SVOD"==e?"choose_package":"choose_price",event_category:"payment",event_action:"buy",direct_object_type:"SVOD"==e?"package":"item",direct_object_id:"SVOD"==e?t.offer.productId:t.offer.titleId,direct_object_property:"SVOD"==e?A(t.offer.length):"",indirect_object_type:"method",indirect_object_id:"zalopay"}),ke(e,t,"zalopay",n,i)},ye=function(e,t){p({on_screen:"method_detail",event_category:"payment",event_action:"add",direct_object_type:"method",direct_object_id:"moca"}),p({on_screen:"payment_confirm",from_screen:"SVOD"==e?"choose_package":"choose_price",event_category:"payment",event_action:"buy",direct_object_type:"SVOD"==e?"package":"item",direct_object_id:"SVOD"==e?t.offer.productId:t.offer.titleId,direct_object_property:"SVOD"==e?A(t.offer.length):"",indirect_object_type:"method",indirect_object_id:"moca"}),ke(e,t,"moca","success")},ve=function(t){(e.idPackage||e.titleId)&&p({from_screen:i.history.length>1&&i.history[i.history.length-2]||"",on_screen:"choose_method",event_category:"payment",event_action:"click",direct_object_type:"method",direct_object_id:t,indirect_object_type:e.titleId?"item":"package",indirect_object_id:e.titleId?e.titleId:e.idPackage,indirect_object_property:e.titleId?e.infoMovie.alternateName:""})},Oe=function(){p({on_screen:"choose_method",event_category:"payment",event_action:"click",direct_object_type:"button",direct_object_id:"thanh-toan-sau"})},we=function(){var e=S();e.event_category="error",e.on_screen="choose_method",e.event_action="request",e.direct_object_type="api",e.direct_object_property="".concat(d.hub,"p/momo"),e.jwt_token=window.localStorage.getItem("__glxp_token")||window.localStorage.getItem("__glxp_device_token"),e.context_format="json";var t={url:"1"==localStorage.getItem("eventDebug")?"https://hub-sand.glxplay.io/event-debug/publish":"".concat(d.tracker,"v1/ueh"),method:"POST",data:e};z.request(t,(function(e,t){}))},je=function(){var e=S();e.event_category="error",e.on_screen="choose_method",e.event_action="request",e.direct_object_type="api",e.direct_object_property="".concat(d.hub,"p/zalopay"),e.jwt_token=window.localStorage.getItem("__glxp_token")||window.localStorage.getItem("__glxp_device_token"),e.context_format="json";var t={url:"1"==localStorage.getItem("eventDebug")?"https://hub-sand.glxplay.io/event-debug/publish":"".concat(d.tracker,"v1/ueh"),method:"POST",data:e};z.request(t,(function(e,t){}))},xe=function(){var e=S();e.event_category="error",e.on_screen="choose_method",e.event_action="request",e.direct_object_type="api",e.direct_object_property="".concat(d.hub,"p/moca"),e.jwt_token=window.localStorage.getItem("__glxp_token")||window.localStorage.getItem("__glxp_device_token"),e.context_format="json";var t={url:"1"==localStorage.getItem("eventDebug")?"https://hub-sand.glxplay.io/event-debug/publish":"".concat(d.tracker,"v1/ueh"),method:"POST",data:e};z.request(t,(function(e,t){}))},ke=function(e,t,n,i,a){p({on_screen:"payment_result",from_screen:"payment_confirm",event_category:"payment",event_action:"buy",direct_object_type:"SVOD"==e?"package":"item",direct_object_id:"SVOD"==e?t.offer.productId:t.offer.titleId,direct_object_property:"SVOD"==e?t.offer.productName:t.offer.productNameKnownAs,indirect_object_type:"result",indirect_object_property:n,indirect_object_id:i,context_value:a?{failed_reason:a}:{}})},_e=function(){return Object(o.h)("p",{className:"rules-body-onb"},"Bằng việc thanh toán, Quý khách đã đồng ý với",Object(o.h)("a",{className:"link",target:"_blank",href:"/about-us/quy-che-su-dung-dich-vu"}," ","Quy chế sử dụng Dịch vụ"," "),"của Galaxy Play"," ","tvod"==e.typePayment?"":"và ủy quyền cho Galaxy Play tự động gia hạn khi hết hạn sử dụng, cho đến khi bạn hủy tự động gia hạn.")},Se=function(e){k.getUrlNotifyMomo({offer:e,phoneNumber:"1234"},(function(e,t){if($(window).blur((function(){!0})),t){var n="https://momo.vn/download";n=b.isAndroid?t.data&&t.data.data.deeplink:t.data&&t.data.data.url,X(n)}}))};return Object(r.d)((function(){sessionStorage.getItem("loginFromApp")&&sessionStorage.setItem("historyPage",t.location.pathname),b.isMobile&&_.momoForm&&!0&&w.isFormMomo&&e.packageSelected&&(j(XO(XO({},w),{},{isLoadingMomo:!0})),e.activeTrial?k.getUrlNotifyMomoJustSyncTrail(e.packageSelected&&e.packageSelected.productId,(function(e,t){if($(window).blur((function(){})),t){var n="https://momo.vn/download";n=b.isAndroid?t.data&&t.data.data.deeplink:t.data&&t.data.data.url,W(XO(XO({},q),{},{urlMomo:n}))}j(XO(XO({},w),{},{isLoadingMomo:!1}))})):e.packageSelected&&k.getUrlNotifyMomo({offer:e.packageSelected,phoneNumber:"1234"},(function(e,t){if($(window).blur((function(){})),t){var n="https://momo.vn/download";n=b.isAndroid?t.data&&t.data.data.deeplink:t.data&&t.data.data.url,W(XO(XO({},q),{},{urlMomo:n}))}j(XO(XO({},w),{},{isLoadingMomo:!1}))}))),b.isMobile&&_.zaloPayForm&&function(i){if(i&&w.isFormZaloPay&&e.packageSelected){j(XO(XO({},w),{},{isLoadingZaloPay:!0}));var a={channelType:"ZALOPAY",clientId:n.data.infoUser.id};e.packageSelected.ZALOPAY?e.packageSelected.ZALOPAY.map((function(e,n){"10"==e.profileCode&&(a.returnUrl=window.location.origin+t.location.pathname+"/zalopay")})):a.returnUrl=window.location.origin+t.location.pathname+"/zalopay/".concat(e.packageSelected.productId),z.syncZaloPay(a,(function(e,t){if($(window).blur((function(){!0})),t){var n;n=t.data&&t.data.data.url,W(XO(XO({},q),{},{urlZaloPay:n}))}j(XO(XO({},w),{},{isLoadingZaloPay:!1}))}))}}(!0),b.isMobile&&_.mocaForm&&function(t){if(t&&w.isFormMoca&&e.packageSelected){j(XO(XO({},w),{},{isLoadingMoca:!0}));var n={offer:e.packageSelected};e.packageSelected.MOCA?e.packageSelected.MOCA.map((function(e){"10"==e.profileCode&&(n.returnUrl=window.location.origin+"/rent/confirm",n.offer=e)})):n.returnUrl=window.location.origin+"/subs/confirm",z.initMoca(n,(function(e,t){if(!e&&t){var n=t.data&&t.data.data.url;W(XO(XO({},q),{},{urlMoca:n}))}j(XO(XO({},w),{},{isLoadingMoca:!1}))}))}}(!0)}),[e.packageSelected]),Object(r.d)((function(){setTimeout((function(){b.isMobile&&_.momoForm&&function(){if(e.packageSelected&&e.packageSelected.MOMO){var n={eventPage:"payment",titleId:e.titleId};z.pullOfferByAtoken(n,(function(e,t){t&&!e&&Se(t.data.data.nonPromotionOffers.tvod)}))}else{var i=new URL(window.location.origin+"/"+t.location.pathname+"/"+t.location.search).searchParams.get("type")||null;z.pullOfferByAtoken({eventPage:"payment"},(function(t,n){n&&!t&&("premium"==i||null==i?n.data.data.nonPromotionOffers.svod.premium.MOMO.map((function(t,n){t.productId==e.packageSelected.productId&&Se(t)})):n.data.data.nonPromotionOffers.svod.mobile_premium.MOMO.map((function(t,n){t.productId==e.packageSelected.productId&&Se(t)})))}))}}()}),500)}),[e.packageSelected,e.titleId]),Object(r.d)((function(){se()}),[]),Object(r.d)((function(){if(a){var e=!1;pr()(a.paymentSvodMoca,u.paymentSvodMoca)&&pr()(a.paymentSvodMomo,u.paymentSvodMomo)&&pr()(a.paymentSvodShopeepay,u.paymentSvodShopeepay)&&pr()(a.paymentSvodVisa,u.paymentSvodVisa)&&pr()(a.paymentSvodZalopay,u.paymentSvodZalopay)&&pr()(a.paymentTvodMoca,u.paymentTvodMoca)&&pr()(a.paymentTvodMomo,u.paymentTvodMomo)&&pr()(a.paymentTvodShopeepay,u.paymentTvodShopeepay)&&pr()(a.paymentTvodVisa,u.paymentTvodVisa)&&pr()(a.paymentTvodZalopay,u.paymentTvodZalopay)||(e=!0),e&&window.location.reload()}}),[a]),Object(o.h)(HO,null,Object(o.h)(BO.a,null,Object(o.h)("meta",{property:"al:ios:url",content:q.urlMomo}),Object(o.h)("meta",{property:"al:ios:app_store_id",content:"918751511"}),Object(o.h)("meta",{property:"al:ios:app_name",content:"Đăng nhập - Ví điện tử MoMo"}),Object(o.h)("meta",{property:"al:android:url",content:q.urlMomo}),Object(o.h)("meta",{property:"al:android:package",content:"com.mservice"}),Object(o.h)("meta",{property:"al:android:app_name",content:"Đăng nhập - Ví điện tử MoMo"})),y&&Object(o.h)(Gp,null),_.isMomoDeepLink&&Object(o.h)(vh,{activeTrial:e.activeTrial,isBuyMomo:!0,blockUI:v,offer:e.packageSelected,phoneNumber:n.data.infoUser.phone}),_.isMomoDeepLink&&Object(o.h)(vh,{activeTrial:e.activeTrial,isBuyMomo:!0,blockUI:v,offer:e.packageSelected,phoneNumber:n.data.infoUser.phone}),Object(o.h)(FO,null,Object(o.h)("p",null,"Chọn phương thức thanh toán")),L&&L.channel&&Object(o.h)(o.b,null,Object(o.h)(qO,null,L.channel.map((function(t){if(t&&t.type)switch(t.type.toUpperCase()){case"MOMO":if(("tvod"==e.typePayment&&1==a.paymentTvodMomo||"tvod"!=e.typePayment&&1==a.paymentSvodMomo)&&!sessionStorage.getItem("loginFromApp"))return Object(o.h)("div",{className:"momo-method method ".concat(_.momoForm?"active-tab":""),onClick:function(e){return Z("momo",e)}},Object(o.h)(WO,{channel:"momo"},Object(o.h)("p",null,"Ví MoMo"),Object(o.h)("img",{width:"27",src:t.ico})));break;case"ASIAPAY":if("tvod"==e.typePayment&&1==a.paymentTvodVisa||"tvod"!=e.typePayment&&1==a.paymentSvodVisa)return Object(o.h)("div",{className:"credit-method method ".concat(_.asianForm?"active-tab":""),onClick:function(e){return Z("credit",e)}},Object(o.h)(WO,{channel:"credit"},Object(o.h)("p",null,"Thẻ tín dụng"),Object(o.h)("img",{width:"35",src:t.ico})));break;case"ZALOPAY":if("tvod"==e.typePayment&&1==a.paymentTvodZalopay||"tvod"!=e.typePayment&&1==a.paymentSvodZalopay)return Object(o.h)("div",{className:"zalopay-method method ".concat(_.zaloPayForm?"active-tab":""),onClick:function(e){return Z("zalopay",e)}},Object(o.h)(WO,{channel:"zalopay"},Object(o.h)("p",null,"Ví ZaloPay"),Object(o.h)("img",{width:"27",src:t.ico})));break;case"SHOPEEPAY":if("tvod"==e.typePayment&&1==a.paymentTvodShopeepay||"tvod"!=e.typePayment&&1==a.paymentSvodShopeepay)return Object(o.h)("div",{className:"shopeepay-method method ".concat(_.shopeePayForm?"active-tab":""),onClick:function(e){return Z("shopeepay",e)}},Object(o.h)(WO,{channel:"shopeepay"},Object(o.h)("p",null,"Ví ShopeePay"),Object(o.h)("img",{width:"27",src:t.ico})));break;case"MOCA":if("tvod"==e.typePayment&&1==a.paymentTvodMoca||"tvod"!=e.typePayment&&1==a.paymentSvodMoca)return Object(o.h)("div",{className:"moca-method method ".concat(_.mocaForm?"active-tab":""),onClick:function(e){return Z("moca",e)}},Object(o.h)(WO,{channel:"moca"},Object(o.h)("p",null,"Ví Moca"),Object(o.h)("img",{width:"27",src:t.ico})));break;case"VNPAY":if("tvod"==e.typePayment&&1==a.paymentTvodVnpay||"tvod"!=e.typePayment&&1==a.paymentSvodVnpay)return Object(o.h)("div",{className:"vnpay-method method ".concat(_.vnpayForm?"active-tab":""),onClick:function(e){return Z("vnpay",e)}},Object(o.h)(WO,{channel:"vnpay"},Object(o.h)("p",null,"Vnpay"),Object(o.h)("img",{width:"35",src:t.ico})))}})),e.activeTrial&&e.pricePackage&&e.endDate&&Object(o.h)("p",{className:"attention-autorenew"},"Lưu ý: Quý khách vui lòng giữ số dư trong ví ",">"," ",k.parseVND(1*e.pricePackage)," vào ngày ",e.endDate," để không bị gián đoạn dịch vụ.")),Object(o.h)(KO,null,L.channel.map((function(n){if(n&&n.type)switch(n.type.toUpperCase()){case"MOMO":if(("tvod"==e.typePayment&&1==a.paymentTvodMomo||"tvod"!=e.typePayment&&1==a.paymentSvodMomo)&&_.momoForm)return Object(o.h)("div",{id:"payment-tab",class:"tab-pane-active momo-tab"},Object(o.h)(o.b,null,Object(o.h)("div",{className:"sync-momo"},w.isFormMomo&&!b.isMobile&&Object(o.h)(fO,{infoMovie:t.location.state&&t.location.state.infoMovie?t.location.state.infoMovie:e.infoMovie,activeTrial:e.activeTrial,location:t.location.state&&t.location.state.location,addNewMomo:w.addNewMomo,callMethod:se,trackingErrorHubMomo:we,addMomoWallet:ue,statusChangeQrCode:!0,offer:e.packageSelected,trackingBuyMomoQr:be,linkWatching:t.location.state&&t.location.state.linkWatching})||f.dataFilterMomo&&f.dataFilterMomo.map((function(e,t){return"MOMO"==e.channelName&&Object(o.h)("div",{className:"card-body-sync"},Object(o.h)("div",{className:"momo-sync-body momo-card-mr"},Object(o.h)("div",{className:"body-card ".concat(f.numberDefault===t?"card-body-default":"")},Object(o.h)("div",{className:"group-phone"},Object(o.h)("img",{width:"30",src:Lp.a}),Object(o.h)("label",{for:"labelcheck".concat(t),className:"phone"},e.metadata.momoWalletId?e.metadata.momoWalletId:"*** *** ****")),Object(o.h)("div",{className:"input-radio-momo contai-all-momo"},Object(o.h)("input",{id:"labelcheck".concat(t),checked:f.numberDefault===t,type:"radio",name:"momo",onChange:function(){return le(e,t)}}),Object(o.h)("span",{class:"checkmark-momo"})))))})),!w.isFormMomo&&Object(o.h)("div",{className:"card-body-sync"},Object(o.h)("div",{className:"momo-sync-body momo-card-mr"},Object(o.h)("div",{className:"body-card body-card-add-phone"},Object(o.h)("a",{className:"add-phone",href:G||"javascript:void(0)",onClick:function(){return!G&&(b.isMobile?(e=!0,v(!0),void(e?I(XO(XO({},_),{},{isMomoDeepLink:!0})):Q())):ue(!0,"add"));var e}},Object(o.h)("div",{className:"button-add-phone"},Object(o.h)(nO,null),Object(o.h)("p",{className:"add-phone"},"Dùng ví MoMo khác"))))))),Object(o.h)("div",{className:"rules"},_e()),Object(o.h)("div",{className:"img-secure"},Object(o.h)("img",{width:"70",src:Fp.a}),Object(o.h)("img",{width:"70",src:Wp.a})),!w.isFormMomo&&Object(o.h)("div",{className:"btn-payment-onb"},Object(o.h)("div",{className:"btn-submit-package"},Object(o.h)(me,{className:"btn btn-submit",content:"Thanh toán",onClick:function(){return ce("momo")}}))),b.isMobile&&w.isFormMomo&&Object(o.h)("div",{className:"btn-payment-onb",id:"btn-deeplink"},Object(o.h)("div",{className:w.isLoadingMoca?"btn-submit-package disabled":"btn-submit-package"},Object(o.h)("a",{className:w.isLoadingMomo?"link disabled":"link",href:q.urlMomo},Object(o.h)(me,{className:"btn btn-submit",content:w.isLoadingMomo?Object(o.h)(re,null):"Thanh toán",disabled:w.isLoadingMomo}))))),!b.isMobile&&w.isFormMomo&&w.addNewMomo&&Object(o.h)("div",{className:"add-momo-wallet-tab"},Object(o.h)("div",{className:"btn-back-momo",onClick:function(){return ue(!1)}},"Quay lại")),!sessionStorage.getItem("loginFromApp")&&Object(o.h)("div",{className:"back-home",onClick:Oe},Object(o.h)(c.b,{className:"link",to:"/browse"},"Xem kho phim và thanh toán sau")));break;case"ASIAPAY":var i;if("tvod"==e.typePayment&&1==a.paymentTvodVisa||"tvod"!=e.typePayment&&1==a.paymentSvodVisa)if(_.asianForm)return Object(o.h)("div",{id:"payment-tab",class:"tab-pane credit-tab"},M.closeFormVisa&&Object(o.h)("div",{className:"form-input"},Object(o.h)("div",{className:"credit-body-onb"},Object(o.h)(Sa,(YO(i={onInputValue:function(e){return Y("cardName",e)},value:f.cardName,type:"text",className:"input-card name-card",name:"cardName"},"className","input-card expiration-date-left"),YO(i,"label","Tên in trên thẻ"),YO(i,"id","cardName"),i)),Object(o.h)(Sa,{onInputValue:function(e){return Y("cardNum",e)},type:"text",value:f.cardNumber,className:"input-card name-card",name:"cardNumber",label:"Số thẻ"}),Object(o.h)("div",{className:"title-card-bottom"},Object(o.h)("div",{className:"title-date"},Object(o.h)("span",{className:"date-ex"},"Ngày hết hạn")),Object(o.h)("div",{className:"title-cvv"},Object(o.h)("span",{className:"cvv"},"Mã bảo mật"),Object(o.h)("span",{className:"spani"},"i",Object(o.h)("div",{className:"guide-cvv"},Object(o.h)("div",{className:"card-ex"},Object(o.h)("img",{className:"img-security-code",src:tO.a})),Object(o.h)("p",{className:"title-guide"},"Mã bảo mật (CVV) là mã gồm 3 chữ số mặt sau của thẻ."))))),Object(o.h)("div",{className:"input-card-bottom"},Object(o.h)(Sa,{onInputValue:function(e){return Y("expiresDate",e)},type:"text",name:"cardExpirationDate",value:f.expiresDate,label:"MM/YY",id:"expiresDate",className:"input-card expiration-date-left"}),Object(o.h)(Sa,{onInputValue:function(e){return Y("cvvNumber",e)},maxLength:"4",id:"cvvNumber",type:"passwordNoEye",label:"CVV",name:"cardCVV",className:"input-card cvv-code"})),Object(o.h)("div",{className:"mess-wrong-card"},T.wrongCard)))||Object(o.h)("div",{className:"card-body-sync"},Object(o.h)("div",{className:"momo-sync-body momo-card-mr"},Object(o.h)("div",{className:"body-card card-body-default"},Object(o.h)("div",{className:"group-phone"},Object(o.h)("img",{width:"40",height:"30",src:k.returnImgCreditCard(M.dataAsianPay.metadata.payMethod)}),Object(o.h)("p",{className:"number-card"},"**** **** ",M.dataAsianPay.metadata.panLast4)),Object(o.h)("div",{className:"input-radio-momo contai-all-momo"},Object(o.h)("input",{type:"radio",name:"asianpay",checked:!0}),Object(o.h)("span",{class:"checkmark-momo"}))))),Object(o.h)("div",{className:"note-type-card"},("VISA"==f.typeCardInput||M.dataAsianPay&&"VISA"==M.dataAsianPay.metadata.payMethod)&&Object(o.h)("p",null,"Galaxy Play không trực tiếp lưu thẻ của bạn. Để đảm bảo an toàn, thông tin thẻ của bạn chỉ được lưu bởi CyberSource, công ty quản lý thanh toán lớn nhất thế giới (thuộc tổ chức VISA)."),("JCB"==f.typeCardInput||M.dataAsianPay&&"JCB"==M.dataAsianPay.metadata.payMethod)&&Object(o.h)("p",null,"Thông tin giao dịch thẻ JCB được bảo mật theo tiêu chuẩn của Hội đồng tiêu chuẩn bảo mật ngành thẻ thanh toán (PCI SSC).")),Object(o.h)("div",{className:"rules"},_e()),Object(o.h)("div",{className:"img-secure"},Object(o.h)("img",{width:"70",src:Fp.a}),Object(o.h)("img",{width:"70",src:Wp.a})),Object(o.h)("div",{id:"btn-payment-onb",className:"btn-payment-onb"},Object(o.h)("div",{className:"btn-submit-package"},Object(o.h)(me,{className:"btn btn-submit",content:"Thanh toán",onClick:function(){return ce("credit")}}))),!sessionStorage.getItem("loginFromApp")&&Object(o.h)("div",{className:"back-home",onClick:Oe},Object(o.h)(c.b,{className:"link",to:"/browse"},"Xem kho phim và thanh toán sau")));break;case"ZALOPAY":if(("tvod"==e.typePayment&&1==a.paymentTvodZalopay||"tvod"!=e.typePayment&&1==a.paymentSvodZalopay)&&_.zaloPayForm)return Object(o.h)("div",{id:"payment-tab",class:"tab-pane-active momo-tab"},Object(o.h)(o.b,null,Object(o.h)("div",{className:"sync-momo"},w.isFormZaloPay&&!b.isMobile&&Object(o.h)(kO,{infoMovie:t.location.state&&t.location.state.infoMovie?t.location.state.infoMovie:e.infoMovie,activeTrial:e.activeTrial,location:t.location.state&&t.location.state.location,addNewZaloPay:w.addNewZaloPay,callMethod:se,trackingErrorHubZaloPay:je,addZaloPayWallet:de,statusChangeQrCode:!0,offer:e.packageSelected,trackingBuyZaloPayQr:ge,linkWatching:t.location.state&&t.location.state.linkWatching})||f.dataFilterZaloPay&&f.dataFilterZaloPay.map((function(e,t){return"ZALOPAY"==e.channelName&&Object(o.h)("div",{className:"card-body-sync"},Object(o.h)("div",{className:"momo-sync-body momo-card-mr"},Object(o.h)("div",{className:"body-card ".concat(f.numberDefault===t?"card-body-default":"")},Object(o.h)("div",{className:"group-phone"},Object(o.h)("img",{width:"30",src:zp.a}),Object(o.h)("label",{for:"labelcheck".concat(t),className:"phone"},e.displayWallet)),Object(o.h)("div",{className:"input-radio-momo contai-all-momo"},Object(o.h)("input",{id:"labelcheck".concat(t),checked:f.numberDefault===t,type:"radio",name:"zalopay",onChange:function(){return le(e,t)}}),Object(o.h)("span",{class:"checkmark-momo"})))))}))),Object(o.h)("div",{className:"rules"},_e()),Object(o.h)("div",{className:"img-secure"},Object(o.h)("img",{width:"70",src:Fp.a}),Object(o.h)("img",{width:"70",src:Wp.a})),!w.isFormZaloPay&&Object(o.h)("div",{className:"btn-payment-onb"},Object(o.h)("div",{className:"btn-submit-package"},Object(o.h)(me,{className:"btn btn-submit",content:"Thanh toán",onClick:function(){return ce("zalopay")}}))),b.isMobile&&w.isFormZaloPay&&Object(o.h)("div",{className:"btn-payment-onb",id:"btn-deeplink"},Object(o.h)("div",{className:w.isLoadingZaloPay?"btn-submit-package disabled":"btn-submit-package"},Object(o.h)("a",{className:w.isLoadingZaloPay?"link disabled":"link",href:q.urlZaloPay},Object(o.h)(me,{className:"btn btn-submit",content:w.isLoadingZaloPay?Object(o.h)(re,null):"Thanh toán",disabled:w.isLoadingZaloPay}))))),!sessionStorage.getItem("loginFromApp")&&Object(o.h)("div",{className:"back-home",onClick:Oe},Object(o.h)(c.b,{className:"link",to:"/browse"},"Xem kho phim và thanh toán sau")));break;case"SHOPEEPAY":if(("tvod"==e.typePayment&&1==a.paymentTvodShopeepay||"tvod"!=e.typePayment&&1==a.paymentSvodShopeepay)&&_.shopeePayForm)return Object(o.h)("div",{id:"payment-tab",class:"tab-pane shopeepay-tab"},T.dataShopeePay&&Object(o.h)("div",{className:"card-body-sync"},Object(o.h)("div",{className:"momo-sync-body momo-card-mr"},Object(o.h)("div",{className:"body-card card-body-default"},Object(o.h)("div",{className:"group-phone"},Object(o.h)("img",{width:"30",src:Vp.a}),Object(o.h)("label",{for:"labelcheck",className:"phone"},T.dataShopeePay.displayWallet)),Object(o.h)("div",{className:"input-radio-momo contai-all-momo"},Object(o.h)("input",{id:"labelcheck",checked:"checked",type:"radio",name:"shopeepay"}),Object(o.h)("span",{class:"checkmark-momo"}))))),Object(o.h)("div",{className:"rules"},_e()),Object(o.h)("div",{className:"img-secure"},Object(o.h)("img",{width:"70",src:Fp.a}),Object(o.h)("img",{width:"70",src:Wp.a})),Object(o.h)("div",{className:"btn-payment-onb"},Object(o.h)("div",{className:"btn-submit-package"},Object(o.h)(me,{className:"btn btn-submit",content:"Thanh toán",onClick:function(){return ce("shopeepay")}}))),!sessionStorage.getItem("loginFromApp")&&Object(o.h)("div",{className:"back-home",onClick:Oe},Object(o.h)(c.b,{className:"link",to:"/browse"},"Xem kho phim và thanh toán sau")));break;case"MOCA":if(("tvod"==e.typePayment&&1==a.paymentTvodMoca||"tvod"!=e.typePayment&&1==a.paymentSvodMoca)&&_.mocaForm)return Object(o.h)("div",{id:"payment-tab",class:"tab-pane-active moca-tab"},Object(o.h)(o.b,null,Object(o.h)("div",{className:"sync-moca"},w.isFormMoca&&!b.isMobile&&Object(o.h)(UO,{infoMovie:t.location.state&&t.location.state.infoMovie?t.location.state.infoMovie:e.infoMovie,activeTrial:e.activeTrial,location:t.location.state&&t.location.state.location,callMethod:se,trackingErrorHubMoca:xe,addMocaWallet:pe,statusChangeQrCode:!0,priceType:e.priceType,offer:e.packageSelected,trackingBuyMocaQr:ye,linkWatching:t.location.state&&t.location.state.linkWatching})||f.dataFilterMoca&&f.dataFilterMoca.map((function(e,t){return"MOCA"==e.channelName&&Object(o.h)("div",{className:"card-body-sync"},Object(o.h)("div",{className:"momo-sync-body momo-card-mr"},Object(o.h)("div",{className:"body-card ".concat(f.numberDefault===t?"card-body-default":"")},Object(o.h)("div",{className:"group-phone"},Object(o.h)("img",{width:"30",src:Bm.a}),Object(o.h)("label",{for:"labelcheck".concat(t),className:"phone"},e.displayWallet)),Object(o.h)("div",{className:"input-radio-momo contai-all-momo"},Object(o.h)("input",{id:"labelcheck".concat(t),checked:f.numberDefault===t,type:"radio",name:"mocapay",onChange:function(){return le(e,t)}}),Object(o.h)("span",{class:"checkmark-momo"})))))}))),Object(o.h)("div",{className:"rules"},_e()),Object(o.h)("div",{className:"img-secure"},Object(o.h)("img",{width:"70",src:Fp.a}),Object(o.h)("img",{width:"70",src:Wp.a})),b.isMobile&&w.isFormMoca&&Object(o.h)("div",{className:"btn-payment-onb",id:"btn-deeplink"},Object(o.h)("div",{className:w.isLoadingMoca?"btn-submit-package disabled":"btn-submit-package"},Object(o.h)("a",{className:w.isLoadingMoca?"link disabled":"link",href:q.urlMoca},Object(o.h)(me,{className:"btn btn-submit",content:w.isLoadingMoca?Object(o.h)(re,null):"Thanh toán",disabled:w.isLoadingMoca,onClick:function(){localStorage.setItem("linkCancelMoca",t.location.pathname)}}))))),!sessionStorage.getItem("loginFromApp")&&Object(o.h)("div",{className:"back-home",onClick:Oe},Object(o.h)(c.b,{className:"link",to:"/browse"},"Xem kho phim và thanh toán sau")));break;case"VNPAY":if(("tvod"==e.typePayment&&1==a.paymentTvodVnpay||"tvod"!=e.typePayment&&1==a.paymentSvodVnpay)&&_.vnpayForm)return Object(o.h)("div",{id:"payment-tab",class:"tab-pane vnpay-tab"},Object(o.h)("div",{className:"bank-group"},Object(o.h)("img",{className:"img-bank-group",src:aO.a})),Object(o.h)("div",{className:"rules"},_e()),Object(o.h)("div",{className:"img-secure"},Object(o.h)("img",{width:"70",src:Fp.a}),Object(o.h)("img",{width:"70",src:Wp.a})),Object(o.h)("div",{className:"btn-payment-onb"},Object(o.h)("div",{className:"btn-submit-package"},Object(o.h)(me,{className:"btn btn-submit",content:"Thanh toán",onClick:function(){return ce("vnpay")}}))),!sessionStorage.getItem("loginFromApp")&&Object(o.h)("div",{className:"back-home",onClick:Oe},Object(o.h)(c.b,{className:"link",to:"/browse"},"Xem kho phim và thanh toán sau")))}})))))},tw=n(259),nw=Pe.a.div.withConfig({displayName:"style__Wrap",componentId:"ruayjp-0"})(["background-color:white;min-height:92vh;color:black;box-sizing:initial;"]),iw=Pe.a.div.withConfig({displayName:"style__TitleHead",componentId:"ruayjp-1"})(["text-align:center;max-width:1050px;margin:0 auto;padding:3rem 0 2.25rem;@media (max-width:1280px){padding:3% 9rem 0;}@media (min-width:1920px){padding:3% 15%;}@media (max-width:1024px){padding:3% 6% 6% 6%;}.note-head{margin-bottom:12px;font-size:16px;@media (max-width:768px){font-size:14px;margin-bottom:10px;}}.step{font-size:14px;opacity:0.7;margin-bottom:5px;}.stepAffter{font-size:14px;font-weight:600;}"]),aw=Pe.a.div.withConfig({displayName:"style__TitleAction",componentId:"ruayjp-2"})(["font-size:24px;font-weight:bold;margin:8px 0 4px 0;"]),ow=Pe.a.div.withConfig({displayName:"style__LightHead",componentId:"ruayjp-3"})(["margin-top:20px;width:120px;height:4px;background-image:linear-gradient(to right,#22bafd,#0095fc 109%);margin:auto;"]),rw=Pe.a.div.withConfig({displayName:"style__WrapMethod",componentId:"ruayjp-4"})(["animation:fadeIn 1s;display:block;max-width:1210px;margin:0 auto;padding-bottom:3rem;@media (min-width:1920px){padding:0% 15%;}@media (max-width:1280px){padding:0 9rem 15px;}@media (max-width:1024px){padding:0% 6%;}@media (max-width:768px){display:flex;padding-bottom:5%;}"]),cw=Pe.a.div.withConfig({displayName:"style__ChoosePackage",componentId:"ruayjp-5"})(["display:flex;@media (max-width:768px){display:block;}"]),sw=Pe.a.div.withConfig({displayName:"style__PackageInfo",componentId:"ruayjp-6"})(["margin-right:4.5rem;width:50%;@media (max-width:1280px){width:45%;margin-right:5rem;}@media (max-width:768px){width:100% !important;margin-right:unset !important;}.note-bottom{text-align:center;color:#a9aaad;font-size:12px;}.payment-term{margin:0 0px 20px;font-size:18px;font-weight:bold;@media (max-width:576px){margin:0 0px 16px;}@media (max-width:480px){font-size:16px;}}"]),lw=Pe.a.div.withConfig({displayName:"style__PackageRadio",componentId:"ruayjp-7"})(["padding:1.5rem;margin:auto;border-radius:8px;border-radius:6px;box-shadow:0 2px 8px 0 rgba(0,0,0,0.1);.campaign{padding-left:10px;}.campaign .title{font-size:16px;font-weight:bold;}.campaign .desc{color:#f7b500;font-size:26px;}@media (max-width:480px){padding:20px 20px;}"]),uw=Pe.a.div.withConfig({displayName:"style__InputRadio",componentId:"ruayjp-8"})(["animation:fadeIn 0.7s;min-height:40px;width:100%;font-size:14px;-webkit-tap-highlight-color:rgba(255,255,255,0);display:inline-block;position:relative;cursor:pointer;box-sizing:initial;&:not(:last-child){margin:0 0 0.7rem;}input{width:20px;height:20px;z-index:1;left:-4px;top:-1px;position:absolute;opacity:0;cursor:pointer;}input:checked ~ .checkmark:after{display:block;background:#0077c8;}"]),dw=Pe.a.div.withConfig({displayName:"style__InputBody",componentId:"ruayjp-9"})(["display:inline-block;width:55%;.description{text-transform:capitalize;cursor:pointer;font-size:16px;font-weight:bold;position:relative;margin-left:34px;display:flex;align-items:center;img{margin-right:5px;}.popular-tag{display:inline-block;margin-left:10px;float:right;color:white;border-radius:4px;padding:0px 4px;font-size:12px;background-color:#0077c8;}.popular-tag-type-mb{display:inline-block;margin-left:10px;float:right;color:white;border-radius:4px;padding:0px 4px;font-size:12px;background-color:#f7b500;}}.title-watch-on{left:34px;font-size:16px;position:relative;color:rgba(169,170,173,0.8);cursor:pointer;}.checkmark{position:absolute;top:2px;left:0;width:20px;height:20px;border:1px solid #d0d4d9;border-radius:50%;&:after{content:'';position:absolute;display:none;top:50%;left:50%;width:10px;height:10px;border-radius:50%;transform:translate(-50%,-50%) rotate(45deg);}input:checked ~ .checkmark{input:checked ~ .checkmark:after{background:#0077c8;display:block;}}}"]),pw=Pe.a.div.withConfig({displayName:"style__TotalPriceOffer",componentId:"ruayjp-10"})(["float:right;.price{font-size:18px;text-align:right;font-weight:bold;.month-price{font-size:11px;opacity:0.5;}}.saving-price{font-size:16px;font-weight:normal;text-align:right;color:#9b9b9b;text-decoration:line-through;}"]),hw=(Pe.a.div.withConfig({displayName:"style__PopularTag",componentId:"ruayjp-11"})(["display:inline-block;float:right;color:white;border-radius:4px;padding:3px 4px;font-size:10px;background-color:#0077c8;"]),Pe.a.div.withConfig({displayName:"style__BillPackage",componentId:"ruayjp-12"})(["padding:1.5rem;margin:auto;border-radius:8px;margin-bottom:1rem;border-radius:6px;box-shadow:0 2px 8px 0 rgba(0,0,0,0.1);@media (max-width:480px){padding:20px 20px;width:unset;height:unset;display:flex;}"])),fw=Pe.a.div.withConfig({displayName:"style__Card",componentId:"ruayjp-13"})(["width:100%;hr{opacity:0.3;margin:0 0 1rem;}"]),mw=Pe.a.div.withConfig({displayName:"style__TitleHeadBill",componentId:"ruayjp-14"})(["font-size:18px;font-weight:bold;width:100%;margin-bottom:20px;span{@media (max-width:480px){font-size:16px;}}.change-package{font-weight:normal;font-size:16px;color:#0077c8;float:right;text-decoration:none;@media (max-width:480px){font-size:14px;}}"]),bw=Pe.a.div.withConfig({displayName:"style__BillBody",componentId:"ruayjp-15"})(["width:100%;.note-autorenew{font-size:14px;color:#333333;}"]),gw=Pe.a.div.withConfig({displayName:"style__Row",componentId:"ruayjp-16"})(["display:flex;&:not(:last-child){padding-bottom:12px;}.free-time{color:#0077c8 !important;}.infopack-onb-right{font-size:16px;font-weight:bold;text-align:right;}.infopack-onb{color:#333333;width:50%;@media (max-width:480px){ont-size:13px;}& ~ .amount{color:#0077c8;font-size:16px;}}"]),yw=Pe.a.div.withConfig({displayName:"style__Col",componentId:"ruayjp-17"})(["font-size:14px;color:#333333;width:50%;display:flex;align-items:center;@media (max-width:480px){ont-size:13px;}& ~ .amount{font-size:24px;font-weight:bold;color:#0077c8;}"]),vw=Pe.a.div.withConfig({displayName:"style__TotalPriceOfferMb",componentId:"ruayjp-18"})(["justify-content:space-between;align-items:center;display:flex;width:100%;"]),Ow=Pe.a.div.withConfig({displayName:"style__RadioBodyMb",componentId:"ruayjp-19"})([".title-watch-on-mb{font-size:14px;cursor:pointer;left:34px;color:rgba(169,170,173,0.8);}.description{text-transform:capitalize;cursor:pointer;position:relative;margin-left:34px;display:flex;align-items:center;.title-name{font-weight:bold;font-size:16px;display:flex;}img{margin-right:5px;}.price-mb{margin-left:auto;position:relative;font-size:16px;font-weight:bold;.month-price{font-size:11px;opacity:0.5;}.saving-price-mb{text-decoration:line-through;text-align:right;color:#9b9b9b;font-weight:normal;position:relative;font-size:16px;}}}.popular-tag-mb{margin-left:5px;color:white;border-radius:4px;padding:3px 4px;font-size:10px;background-color:#0077c8;height:14px;line-height:14px;@media (max-width:320px){padding:2px 3px;font-size:9px;}}.popular-tag-type-mb{margin-left:5px;color:white;border-radius:4px;padding:3px 4px;font-size:10px;background-color:#f7b500;height:14px;line-height:14px;@media (max-width:320px){padding:2px 3px;font-size:9px;}}.checkmark{position:absolute;top:2px;left:0;width:20px;height:20px;border:1px solid #d0d4d9;border-radius:50%;&:after{content:'';position:absolute;display:none;top:50%;left:50%;width:10px;height:10px;border-radius:50%;border:solid 4px white;transform:translate(-50%,-50%) rotate(45deg);}input:checked ~ .checkmark{background:#0077c8;border:none;input:checked ~ .checkmark:after{display:block;}}}"]);function ww(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function jw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ww(Object(n),!0).forEach((function(t){xw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ww(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Sw=function(e){var t,n="",i=!0,a=Object(s.g)(),l=Object(r.b)(Eo),u=q(),d=Object(Ve.useTracking)().trackEvent,p=Object(r.b)(Oc),h=Object(r.b)(Nr),f=kw(Object(r.k)({packageInfo:null,package:null}),2),m=f[0],g=f[1],y=kw(Object(r.k)(null),2),v=y[0],O=y[1],w=kw(Object(r.k)({type:""}),2),j=w[0],x=w[1],_=kw(Object(r.k)({endDate:null,index:null}),2),S=_[0],I=_[1],N=kw(Object(r.k)({dataRender:null,type:null}),2),T=N[0],C=N[1],P=kw(Object(r.k)({activeTrial:!1}),2),A=P[0],M=P[1],E=kw(Object(r.k)(""),2),D=(E[0],E[1]),L=function(e,t){var i=new Date(1e3*e.expiredDate),o=(k.plusDay(i,1),new URL(window.location.origin+"/"+a.location.pathname+"/"+a.location.search).searchParams.get("type"));n=e.productId,D(n);var r=jw(jw({},S),{},{productId:e.productId,endDate:k.parseDate("",i),statusChangeQrCode:!0,index:t});I(jw({},r)),V(T.type,t,o,!1)},R=function(e,t,n){var i=e.data&&e.data.data&&e.data.data.nonPromotionOffers&&e.data.data.nonPromotionOffers.svod,o=null;if("momo"==t){if("mobile"==n)p.hasMobile&&a.push("/browse"),(r=i.mobile_premium.MOMO).map((function(e,t){e.displayConfig.selected&&(o=t)}));else(r=i.premium.MOMO).map((function(e,t){e.displayConfig.selected&&(o=t)}));return{data:r,indexOffer:o}}if("zalopay"==t){if("mobile"==n)p.hasMobile&&a.push("/browse"),(r=i.mobile_premium.ZALOPAY).map((function(e,t){e.displayConfig.selected&&(o=t)}));else(r=i.premium.ZALOPAY).map((function(e,t){e.displayConfig.selected&&(o=t)}));return{data:r,indexOffer:o}}if("moca"==t){if("mobile"==n)p.hasMobile&&a.push("/browse"),(r=i.mobile_premium.MOCA).map((function(e,t){e.displayConfig.selected&&(o=t)}));else(r=i.premium.MOCA).map((function(e,t){e.displayConfig.selected&&(o=t)}));return{data:r,indexOffer:o}}if("credit"==t){if("mobile"==n)p.hasMobile&&a.push("/browse"),(r=i.mobile_premium.ASIAPAY).map((function(e,t){e.displayConfig.selected&&(o=t)}));else(r=i.premium.ASIAPAY).map((function(e,t){e.displayConfig.selected&&(o=t)}));return{data:r,indexOffer:o}}if("shopeepay"==t){if("mobile"==n)p.hasMobile&&a.push("/browse"),(r=i.mobile_premium.SHOPEEPAY).map((function(e,t){e.displayConfig.selected&&(o=t)}));else(r=i.premium.SHOPEEPAY).map((function(e,t){e.displayConfig.selected&&(o=t)}));return{data:r,indexOffer:o}}if("vnpay"==t){var r;if("mobile"==n)p.hasMobile&&a.push("/browse"),(r=i.mobile_premium.VNPAY).map((function(e,t){e.displayConfig.selected&&(o=t)}));else(r=i.premium.VNPAY).map((function(e,t){e.displayConfig.selected&&(o=t)}));return{data:r,indexOffer:o}}},U=function(e,t){if(e){var n=new Date(1e3*e[t].expiredDate),i=(k.plusDay(n,1),new Date),a=k.plusDay(i,e[t].trial?e[t].trial.length:7);k.gaCheckout(e[t]),o=e[t],r=0,1==o.length&&(r=30),3==o.length&&(r=90),6==o.length&&(r=180),12==o.length&&(r=365),24==o.length&&(r=730),d({on_screen:"choose_package",from_screen:u.history.length>1&&u.history[u.history.length-2]||"",event_category:"payment",event_action:"click",direct_object_type:"package",direct_object_id:o.productId,direct_object_property:r+""}),I(jw(jw({},S),{},{index:t,endDate:k.parseDate("",n),endDateTrail:k.parseDate("",a)})),e[t].trial&&M(jw(jw({},A),{},{activeTrial:!0})),g(jw(jw({},m),{},{offerSvod:e[t],numberDefault:e[t].productId,packageInfo:e}))}var o,r},V=function e(t,a,o){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(i&&r)return i=!1,void z.pullOfferByAtoken({eventPage:"payment",planId:""},(function(i,r){if(r&&!i){var c=R(r,t,o);n=c.data[c.indexOffer].productId,e(t,a,o)}}));z.pullOfferByAtoken({eventPage:"payment",planId:n},(function(e,n){if(n&&!e){var i=R(n,t,o),r=null!==a?a:i.indexOffer;U(i.data,r),n.data&&n.data.data&&n.data.data.promotions&&n.data.data.promotions.length>0?n.data.data.promotions.map((function(e,t){8==e.campaignType&&O(e)})):O(null)}}))};return Object(r.d)((function(){d({event_action:"view",direct_object_type:"screen",direct_object_id:"choose_package",on_screen:"choose_package",event_category:"payment"}),k.ga("check_out","Checkout","Checkout","SVOD"),p.hasPremium&&a.push("/browse")}),[]),Object(r.d)((function(){h&&0==h.paymentSvod&&l.setNotification({status:!0,type:"referral",callback:function(){a.push("/browse")},title:"Thông báo",description:"Tính năng này đang được bảo trì. Chúng tôi đang khẩn trương hoàn thành sớm. Mời bạn quay lại sau nhé!"})}),[h]),Object(o.h)(nw,null,Object(o.h)(iw,null,a.location&&a.location.state&&a.location.state.step&&Object(o.h)(o.b,null,Object(o.h)("span",{className:"step"},"Bước "),Object(o.h)("span",{className:"step-number"},"3/3")),Object(o.h)(aw,null,"Phương thức thanh toán"),Object(o.h)("p",{className:"note-head"},"Huỷ bất cứ khi nào. Không bao gồm Phim Thuê"),Object(o.h)(ow,null)),Object(o.h)(rw,null,Object(o.h)(cw,null,Object(o.h)(sw,null,Object(o.h)(lw,null,Object(o.h)("p",{className:"payment-term"},"Thời hạn Gói ","mobile"==j.type?"Mobile":"Cao Cấp"),m.packageInfo&&m.packageInfo.map((function(e,t){if(!p.hasMobile||3!=e.plan)return Object(o.h)(uw,null,!b.isMobile&&Object(o.h)(o.b,null,Object(o.h)(dw,null,Object(o.h)("input",{className:"radio".concat(t),checked:m.numberDefault==e.productId,type:"radio",id:"label".concat(t),onChange:function(){return L(e,t)},name:"package",value:t}),Object(o.h)("div",{className:"checkmark"}),Object(o.h)("label",{for:"label".concat(t),className:"description"},e.length," tháng",e.displayConfig.popular.status?Object(o.h)("p",{className:"popular-tag-type-mb"},e.displayConfig.popular.name):""),Object(o.h)("label",{for:"label".concat(t),className:"title-watch-on"},e.displayConfig.discountPercent)),Object(o.h)(pw,null,Object(o.h)("p",{className:"price",for:"label".concat(t)},k.parseVND(1*e.totalPriceOffer)),e.displayConfig.originalPrice&&Object(o.h)("p",{className:"saving-price",for:"label".concat(t)},e.displayConfig.originalPrice)))||Object(o.h)(Ow,null,Object(o.h)("input",{className:"radio".concat(t),checked:m.numberDefault===e.productId,type:"radio",id:"label".concat(t),onChange:function(){return L(e,t)},name:"package",value:t}),Object(o.h)("span",{class:"checkmark"}),Object(o.h)("label",{for:"label".concat(t),className:"description"},Object(o.h)("div",null,Object(o.h)("p",{className:"title-name"},e.length," tháng"," ",e.displayConfig.popular.status?Object(o.h)("span",{className:"popular-tag-type-mb"},e.displayConfig.popular.name):""),Object(o.h)("p",{for:"label".concat(t),className:"title-watch-on-mb"},e.displayConfig.discountPercent)),Object(o.h)("label",{className:"price-mb",for:"label".concat(t)},k.parseVND(1*e.totalPriceOffer),Object(o.h)("br",null),e.displayConfig.originalPrice&&Object(o.h)("label",{className:"saving-price-mb",for:"label".concat(t)},e.displayConfig.originalPrice))),Object(o.h)(vw,null)))}))||Object(o.h)(tw.a,{viewBox:"0 0 400 180"},Object(o.h)("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"180",height:"20"}),Object(o.h)("rect",{x:"255",y:"0",rx:"4",ry:"4",width:"130",height:"20"}),Object(o.h)("rect",{x:"0",y:"50",rx:"4",ry:"4",width:"130",height:"20"}),Object(o.h)("rect",{x:"255",y:"50",rx:"4",ry:"4",width:"130",height:"20"}),Object(o.h)("rect",{x:"0",y:"100",rx:"4",ry:"4",width:"160",height:"20"}),Object(o.h)("rect",{x:"255",y:"100",rx:"4",ry:"4",width:"130",height:"20"}),Object(o.h)("rect",{x:"0",y:"150",rx:"4",ry:"4",width:"120",height:"20"}),Object(o.h)("rect",{x:"255",y:"150",rx:"4",ry:"4",width:"130",height:"20"})),v&&Object(o.h)("div",{className:"campaign"},Object(o.h)("p",{className:"title"},"Và kèm theo ưu đãi"),Object(o.h)("p",{className:"desc"},v.displayMessage))),Object(o.h)(Jv,{callOffer:V,type:T.type,index:S.index}),Object(o.h)(hw,null,Object(o.h)(fw,null,Object(o.h)(mw,null,Object(o.h)("span",null,"Thông tin thanh toán"),p.hasMobile?"":Object(o.h)(c.b,{to:"/subs/plan",className:"change-package"},"Thay đổi gói")),A.activeTrial?Object(o.h)(bw,null,Object(o.h)(gw,null,Object(o.h)(yw,null,Object(o.h)("p",null,"Tài khoản")),Object(o.h)("div",{class:"infopack-onb-right infopack-onb"},p.data.infoUser&&p.data.infoUser.phone)),Object(o.h)(gw,null,Object(o.h)(yw,null,Object(o.h)("p",{className:"free-time"},"Thời gian dùng thử miễn phí")),m.offerSvod.trial?Object(o.h)("div",{className:"infopack-onb-right infopack-onb free-time"},m.offerSvod.trial.length," ngày"):""),Object(o.h)(gw,null,Object(o.h)(yw,null,Object(o.h)("p",null,"Tự động gia hạn")),Object(o.h)("div",{class:"infopack-onb-right infopack-onb"},S.endDateTrail)),Object(o.h)(gw,null,Object(o.h)(yw,null,Object(o.h)("p",null,"Đơn giá sau dùng thử")),m.offerSvod&&Object(o.h)("div",{class:"infopack-onb-right infopack-onb"},k.parseVND(1*m.offerSvod.totalPriceOffer))),Object(o.h)("hr",null),Object(o.h)(gw,null,Object(o.h)(yw,null,Object(o.h)("p",null,"Tổng cộng:")),m.offerSvod&&Object(o.h)("div",{class:"infopack-onb-right infopack-onb amount"},k.parseVND(1*m.offerSvod.trial.totalPriceOffer))),m.offerSvod&&Object(o.h)("p",{className:"note-autorenew"},"Huỷ trước ngày ",S.endDateTrail," sẽ không bị mất phí. Sau ngày ",S.endDateTrail," hệ thống sẽ tự động gia hạn với số tiền là ",k.parseVND(1*m.offerSvod.totalPriceOffer),"/",m.offerSvod.length," tháng")):Object(o.h)(bw,null,m.offerSvod&&Object(o.h)(o.b,null,Object(o.h)(gw,null,Object(o.h)(yw,null,Object(o.h)("p",null,"Tài khoản")),Object(o.h)("div",{class:"infopack-onb-right infopack-onb"},p.data.infoUser&&p.data.infoUser.phone)),Object(o.h)(gw,null,Object(o.h)(yw,null,Object(o.h)("p",null,"Đơn giá")),m.offerSvod&&m.offerSvod.displayConfig.originalPrice?Object(o.h)("div",{class:"infopack-onb-right infopack-onb"},m.offerSvod.displayConfig.originalPrice):m.offerSvod&&m.offerSvod.displayConfig?Object(o.h)("div",{class:"infopack-onb-right infopack-onb"},k.parseVND(1*m.offerSvod.displayConfig.priceNumber)):""),Object(o.h)(gw,null,Object(o.h)(yw,null,Object(o.h)("p",null,"Tự động gia hạn")),Object(o.h)("div",{class:"infopack-onb-right infopack-onb"},S.endDate)),m.offerSvod&&m.offerSvod.price-m.offerSvod.totalPriceOffer!=0&&Object(o.h)(gw,null,Object(o.h)(yw,null,Object(o.h)("p",null,"Khuyến mãi")),Object(o.h)("div",{class:"infopack-onb-right infopack-onb"},k.parseVND(m.offerSvod&&m.offerSvod.price-m.offerSvod.totalPriceOffer))),Object(o.h)("hr",null),Object(o.h)(gw,null,Object(o.h)(yw,null,Object(o.h)("p",null,"Tổng cộng:")),m.offerSvod&&Object(o.h)("div",{class:"infopack-onb-right infopack-onb amount"},k.parseVND(1*m.offerSvod.totalPriceOffer))),Object(o.h)("p",{className:"note-bottom"},"* Tự động gia hạn hằng tháng (hoặc hằng năm với Gói dài hạn) trừ phi bạn yêu cầu huỷ thuê bao ít nhất 24H trước khi hết hạn."))||Object(o.h)(tw.a,{viewBox:"0 0 400 290"},Object(o.h)("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"180",height:"20"}),Object(o.h)("rect",{x:"255",y:"0",rx:"4",ry:"4",width:"130",height:"20"}),Object(o.h)("rect",{x:"0",y:"50",rx:"4",ry:"4",width:"130",height:"20"}),Object(o.h)("rect",{x:"255",y:"50",rx:"4",ry:"4",width:"130",height:"20"}),Object(o.h)("rect",{x:"0",y:"100",rx:"4",ry:"4",width:"160",height:"20"}),Object(o.h)("rect",{x:"255",y:"100",rx:"4",ry:"4",width:"130",height:"20"}),Object(o.h)("rect",{x:"0",y:"150",rx:"4",ry:"4",width:"120",height:"20"}),Object(o.h)("rect",{x:"255",y:"150",rx:"4",ry:"4",width:"130",height:"20"}),Object(o.h)("rect",{x:"0",y:"230",rx:"4",ry:"4",width:"320",height:"50"})))))),Object(o.h)(ew,(xw(t={activeTrial:A.activeTrial,getChannelName:function(e){C(jw(jw({},T),{},{type:e}));var t=new URL(window.location.origin+"/"+a.location.pathname+"/"+a.location.search),i=t.searchParams.get("index"),o=t.searchParams.get("typePackage")?t.searchParams.get("typePackage"):t.searchParams.get("type");x(jw(jw({},o),{},{type:o})),i?m.numberDefault?(n=m.numberDefault,V(e,i,o,!1)):V(e,i,o):m.numberDefault?(n=m.numberDefault,V(e,S.index,o,!1)):V(e,S.index,o)},infoMovie:a.location.state&&a.location.state.infoMovie,location:a.location.state&&a.location.state.location,linkWatching:a.location.state&&a.location.state.linkWatching,statusChangeQrCode:S.statusChangeQrCode,packageSelected:m.offerSvod,endDate:S.endDateTrail,idPackage:m.numberDefault,pricePackage:m.offerSvod&&m.offerSvod.totalPriceOffer,index:S.index},"idPackage",m.numberDefault),xw(t,"planId",e.planId),xw(t,"callbackMethod",e.method),xw(t,"priceType","SVOD"),t)))))},Iw=function(e){var t=Object(r.b)(Oc),n=Object(r.b)(Eo),i=JSON.parse(localStorage.getItem("profile")),a=function(){i.isKid=!1,localStorage.setItem("profile",JSON.stringify(i))},c=Object(s.i)(),l=c.planId,u=c.method;return Object(r.d)((function(){return window.sessionStorage.getItem("loginFromApp")?e.theme("hideHeader"):i&&1==i.isKid?(n.setNotification({status:!0,type:"setPassProfile",titleHead:"Bạn đang dùng kho phim trẻ em. Vui lòng nhập mật khẩu để xác nhận bạn có quyền thanh toán",confirmPass:a,backHome:!0}),e.theme(void 0)):e.theme(!0),window.scrollTo(0,0),function(){localStorage.profileKidMode&&"true"==localStorage.profileKidMode&&(i.isKid=!0,localStorage.setItem("profile",JSON.stringify(i)))}}),[]),Object(o.h)("div",null,Object(o.h)(Sw,{hasMobile:t.hasMobile,planId:l,method:u}))},Nw=Pe.a.div.withConfig({displayName:"style__Wrap",componentId:"sc-1wx0obb-0"})(["background-color:white;min-height:92vh;color:black;box-sizing:initial;"]),Tw=Pe.a.div.withConfig({displayName:"style__TitleHead",componentId:"sc-1wx0obb-1"})(["text-align:center;max-width:1050px;margin:0 auto;padding:4rem 0 3rem 0;@media (max-width:1280px){padding:3% 9rem 0;}@media (min-width:1920px){padding:3% 15%;}@media (max-width:1024px){padding:3% 6% 0% 6%;}"]),Cw=Pe.a.div.withConfig({displayName:"style__LightHead",componentId:"sc-1wx0obb-2"})(["margin-top:20px;width:120px;height:4px;background-color:#0077c8;margin:auto;"]),Pw=Pe.a.div.withConfig({displayName:"style__TitleAction",componentId:"sc-1wx0obb-3"})(["font-size:24px;font-weight:bold;margin:5px 0 1rem 0;"]),Aw=Pe.a.div.withConfig({displayName:"style__WrapMethod",componentId:"sc-1wx0obb-4"})(["animation:fadeIn 1s;display:block;max-width:1210px;margin:0 auto;padding-bottom:2rem;@media (min-width:1920px){padding:0% 15%;}@media (max-width:1280px){padding:0 9rem 15px;}@media (max-width:1024px){padding:0% 6%;}@media (max-width:768px){display:flex;padding-bottom:5%;}"]),Mw=Pe.a.div.withConfig({displayName:"style__ChoosePackage",componentId:"sc-1wx0obb-5"})(["display:flex;@media (max-width:768px){display:block;}"]),Ew=Pe.a.div.withConfig({displayName:"style__PackageInfo",componentId:"sc-1wx0obb-6"})(["margin-right:6rem;width:45%;@media (max-width:1280px){width:45%;margin-right:5rem;}@media (max-width:768px){width:100% !important;margin-right:unset !important;}.payment-term{font-size:16px;margin:20px 0px;}"]),Dw=Pe.a.div.withConfig({displayName:"style__WrapInfoMovie",componentId:"sc-1wx0obb-7"})(["box-shadow:0 2px 8px 0 rgba(0,0,0,0.1);color:black;padding:20px 20px;margin:auto;height:auto;border-radius:8px;margin-bottom:20px;@media (max-width:480px){margin-top:0px !important;width:unset !important;padding:15px 15px;}"]),Lw=Pe.a.div.withConfig({displayName:"style__CardContent",componentId:"sc-1wx0obb-8"})(["margin-bottom:20px;display:flex;"]),Rw=Pe.a.div.withConfig({displayName:"style__ImgMovie",componentId:"sc-1wx0obb-9"})(["display:flex;margin-right:4%;justify-content:center;align-items:center;img{border-radius:4px;@media (max-width:480px){width:240px !important;}}"]),zw=Pe.a.div.withConfig({displayName:"style__InfoRight",componentId:"sc-1wx0obb-10"})(["width:100%;.amount{padding:2px 8px;background-color:#e8e8e8;border-radius:3px;margin-top:5px;display:flex;@media (max-width:480px){font-size:10px;}.infopack{margin:5px 0px;width:60%;.total{opacity:0.5;}}.amount-right{font-weight:bold;color:#0077c8;margin:5px 0px;width:40%;}}"]),Uw=Pe.a.div.withConfig({displayName:"style__TitleMovie",componentId:"sc-1wx0obb-11"})(["margin:10px 0px;font-size:16px;font-weight:bolder;"]),Vw=Pe.a.div.withConfig({displayName:"style__InfoMovie",componentId:"sc-1wx0obb-12"})(["display:flex;.infopack{width:60%;p{font-size:14px;color:black;margin:5px 0px;@media (max-width:480px){font-size:10px;}}}.infopack-right{width:40%;p{font-weight:bold;color:black;}}.quantity{text-align:left !important;p{padding:2px;border-radius:2px;background-color:#333333;color:white !important;display:inline-block !important;}}"]),Bw=Pe.a.div.withConfig({displayName:"style__TitleLeft",componentId:"sc-1wx0obb-13"})(["width:60%;p{font-size:14px;color:black;opacity:0.5;margin:5px 0px;@media (max-width:480px){font-size:10px;}}"]),Hw=Pe.a.div.withConfig({displayName:"style__WatchingNote",componentId:"sc-1wx0obb-14"})(["margin-top:5px;font-size:14px;font-style:italic;color:black;opacity:0.5;"]);function Fw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function qw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fw(Object(n),!0).forEach((function(t){Ww(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ww(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gw(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var $w=function(e){var t=Object(Ve.useTracking)().trackEvent,n=Object(s.g)(),i=Object(r.b)(Eo),a=Object(r.b)(Oc),c=Object(r.b)(Nr),l=Kw(Object(r.k)({offerTvod:null,dataPackage:null}),2),u=l[0],d=l[1],p=Kw(Object(r.k)({packageDisplay:null}),2),h=p[0],f=p[1],m=function(e){"10"==e.profileCode&&(k.gaCheckout(e),f(qw(qw({},h),{},{packageDisplay:e})),t({on_screen:"choose_price",event_category:"payment",event_action:"click",direct_object_type:"button",direct_object_id:e.price.toString(),direct_object_property:"HD",indirect_object_type:"movie",indirect_object_id:e.titleId,indirect_object_property:e.productNameKnownAs}))},b=function(t){var n={eventPage:"payment",titleId:e.titleId};z.pullOfferByAtoken(n,(function(n,a){if(a&&!n){var o=a.data.data.nonPromotionOffers.tvod;setTimeout((function(){d(qw(qw({},u),{},{offerTvod:o}))}),100),a.data.data.nonPromotionOffers.tvod.PROMOTION.length>0?i.setNotification({status:!0,buttonClose:!0,type:"popup",dataOffer:a,slug:e.infoMovie&&e.infoMovie.slug,titleName:e.infoMovie&&e.infoMovie.alternateName,image:e.infoMovie&&e.infoMovie.image&&e.infoMovie.image.posterPortrait,location:"/browse"}):("momo"==t&&o.MOMO.map((function(e,t){m(e)})),"credit"==t&&o.ASIAPAY.map((function(e,t){m(e)})),"vnpay"==t&&o.VNPAY.map((function(e,t){m(e)})),"zalopay"==t&&o.ZALOPAY.map((function(e,t){m(e)})))}}))};return Object(r.d)((function(){}),[e.infoMovie]),Object(r.d)((function(){c&&0==c.paymentTvod&&i.setNotification({status:!0,type:"referral",callback:function(){n.push("/browse")},title:"Thông báo",description:"Tính năng này đang được bảo trì. Chúng tôi đang khẩn trương hoàn thành sớm. Mời bạn quay lại sau nhé!"})}),[c]),Object(o.h)(Nw,null,Object(o.h)(Tw,null,Object(o.h)(Pw,null,"Phương thức thanh toán"),Object(o.h)(Cw,null)),Object(o.h)(Aw,null,Object(o.h)(Mw,null,Object(o.h)(Ew,null,Object(o.h)("p",{className:"payment-term"},"Thông tin thanh toán"),Object(o.h)(Dw,null,Object(o.h)(Lw,null,Object(o.h)(Rw,null,Object(o.h)("img",{width:"210",src:"//assets.glxplay.io/images/w300/".concat(e.infoMovie&&e.infoMovie.image&&e.infoMovie.image.posterPortrait)})),Object(o.h)(zw,null,Object(o.h)(Uw,null,e.infoMovie&&e.infoMovie.alternateName),Object(o.h)(Vw,null,Object(o.h)(Bw,null,Object(o.h)("p",null,"Tài khoản:")),Object(o.h)("div",{class:"infopack-right infopack"},Object(o.h)("p",null,a.data.infoUser&&a.data.infoUser.phone))),Object(o.h)(Vw,null,Object(o.h)(Bw,null,Object(o.h)("p",null,"Chất lượng:")),Object(o.h)("div",{class:"infopack-right infopack quantity"},Object(o.h)("p",null,"HD"))),Object(o.h)(Vw,null,Object(o.h)(Bw,null,Object(o.h)("p",null,"Đơn giá:")),Object(o.h)("div",{class:"infopack-right infopack"},Object(o.h)("p",null,u.offerTvod&&h.packageDisplay&&k.parseVND(h.packageDisplay.price)))),Object(o.h)(Vw,null,Object(o.h)(Bw,null,Object(o.h)("p",null,"Thời gian thuê *:")),Object(o.h)("div",{class:"infopack-right infopack"},Object(o.h)("p",null,"48 giờ"))),h.packageDisplay&&h.packageDisplay.price-h.packageDisplay.totalPriceOffer!=0&&Object(o.h)(Vw,null,Object(o.h)(Bw,null,Object(o.h)("p",null,"Khuyến mãi:")),Object(o.h)("div",{class:"infopack-right infopack"},Object(o.h)("p",null,k.parseVND(h.packageDisplay.price-h.packageDisplay.totalPriceOffer)))),Object(o.h)("div",{class:"info-payment-package amount"},Object(o.h)("div",{class:"infopack"},Object(o.h)("p",{className:"total"},"Tổng cộng:")),Object(o.h)("div",{class:"infopack-right infopack amount-right"},Object(o.h)("p",null,u.offerTvod&&h.packageDisplay&&k.parseVND(h.packageDisplay.totalPriceOffer)))))),Object(o.h)(Hw,null,"*Nội dung thuê được phát trong vòng 30 ngày, và được hoàn thành trong vòng 48 giờ sau khi bắt đầu phát.")),Object(o.h)(Jv,{callOffer:b,type:"isOnboarding"})),Object(o.h)(ew,{getChannelName:function(e){b(e)},infoMovie:e.infoMovie,location:n.location.state&&n.location.state.location,typePayment:"tvod",packageSelected:u.offerTvod,titleId:e.titleId,callbackMethod:e.method,priceType:"TVOD"}))))};function Xw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Yw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xw(Object(n),!0).forEach((function(t){Zw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jw(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ej=function(e){var t=Object(s.i)(),n=t.titleId,i=t.method,a=Object(r.b)(Eo),c=JSON.parse(localStorage.getItem("profile")),l=Qw(Object(r.k)({medInfoMovie:null}),2),u=l[0],d=l[1],p=function(){c.isKid=!1,localStorage.setItem("profile",JSON.stringify(c))};return Object(r.d)((function(){return window.sessionStorage.getItem("loginFromApp")?e.theme("hideHeader"):1==c.isKid?(a.setNotification({status:!0,type:"setPassProfile",titleHead:"Bạn đang dùng kho phim trẻ em. Vui lòng nhập mật khẩu để xác nhận bạn có quyền thanh toán",confirmPass:p,backHome:!0}),e.theme(void 0)):e.theme(!0),window.scrollTo(0,0),z.getDetailMovie({id:n},(function(e,t){t&&!e&&d(Yw(Yw({},u),{},{medInfoMovie:t.data}))})),function(){"true"==localStorage.getItem("profileKidMode")&&(c.isKid=!0,localStorage.setItem("profile",JSON.stringify(c)))}}),[]),Object(o.h)("div",null,u.medInfoMovie&&!0!==c.isKid&&Object(o.h)($w,{titleId:n,infoMovie:u.medInfoMovie,method:i}))},tj=function(e){return e/16+"rem"},nj=Pe.a.div.withConfig({displayName:"style__Plan",componentId:"sc-12pgg1b-0"})(["background:#fff;color:#333;min-height:calc(100vh - 70px - 74px);@media (max-width:1100px){min-height:calc(100vh - 70px - 56px);}"]),ij=Pe.a.div.withConfig({displayName:"style__Container",componentId:"sc-12pgg1b-1"})(["--main-width:1280px;max-width:1280px;margin:0 auto;padding:"," 0 ",";color:#1d1d1d;*{box-sizing:border-box;}@media (max-width:1270px){padding-left:4%;padding-right:4%;}.link{animation:fadeIn 1s;display:block;text-align:center;}@media (max-width:576px){padding:40px 16px 20px;.link{font-size:",";}}"],tj(40),tj(44),tj(12)),aj=function(e,t){return"mobile"==e?t?"#F29C05":"#fba50e":t?"#007afc":"#0077c8"},oj=Pe.a.div.withConfig({displayName:"style__Button",componentId:"sc-12pgg1b-2"})(["margin:"," 0 ",";height:",";width:",";transition:300ms ease-in-out;cursor:pointer;font-weight:600;border-radius:50px;display:flex;justify-content:center;align-items:center;color:#fff;background:",";text-transform:uppercase;font-size:1rem;&:hover{background:",";color:#fff;}@media (max-width:800px){width:112px;font-size:14px;height:36px;margin:20px 0;}@media (max-width:576px){width:66px;font-size:12px;margin:12px 0;}"],tj(28),tj(40),tj(48),tj(180),(function(e){return aj(e.type)}),(function(e){return aj(e.type,"hover")})),rj=Pe.a.div.withConfig({displayName:"style__PlanContent",componentId:"sc-12pgg1b-3"})(["font-size:1.125rem;margin:"," auto ",";background-color:#f9f9f9;border-radius:8px;box-shadow:0 2px 8px 0 rgba(0,0,0,0.1);animation:fadeIn 700ms;"," @media(max-width:1270px){width:100%;}@media (max-width:800px){font-size:14px;}@media (max-width:576px){font-size:12px;margin:20px auto 48px;}"],tj(20),tj(64),(function(e){return e.isFull?"width: 100%;":"width: calc(var(--main-width) - (var(--main-width) / (12 / 3)));"})),cj=Pe.a.div.withConfig({displayName:"style__PlanTitle",componentId:"sc-12pgg1b-4"})(["font-size:2rem;font-weight:bold;padding:1.25rem 0;text-align:center;color:",";@media (max-width:800px){font-size:20px;padding:20px 0;}@media (max-width:576px){font-size:18px;}"],(function(e){return aj(e.type)})),sj=Pe.a.div.withConfig({displayName:"style__Row",componentId:"sc-12pgg1b-5"})(["display:inline-flex;flex-wrap:wrap;&:not(:first-child){&:not(:last-child){border-top:1px solid #d8d8d8;}@media (max-width:576px){&:last-child{border-top:1px solid #d8d8d8;}}}@media (max-width:1270px){display:flex;justify-content:space-around;}"]),lj=Pe.a.div.withConfig({displayName:"style__Col6",componentId:"sc-12pgg1b-6"})(["width:calc(var(--main-width) / (12 / 6));min-height:",";display:flex;align-items:center;font-size:",";@media (max-width:1270px){width:calc(100% / (12 / 6));}@media (max-width:576px){min-height:40px;}"],tj(45),tj(16)),uj=Pe.a.div.withConfig({displayName:"style__Col3",componentId:"sc-12pgg1b-7"})(["width:calc(var(--main-width) / (12 / 3));min-height:",";display:flex;align-items:center;justify-content:center;text-align:center;font-size:",";img{width:24px;}&:nth-child(3){border-left:1px solid #d8d8d8;}@media (max-width:1270px){width:calc(100% / (12 / 3));}@media (max-width:800px){white-space:pre-wrap;}@media (max-width:576px){min-height:40px;font-size:",";}"],tj(45),tj(24),tj(16)),dj=Pe.a.div.withConfig({displayName:"style__PlanFeature",componentId:"sc-12pgg1b-8"})(["padding-left:2rem;@media (max-width:576px){padding-left:9px;}"]),pj=Pe.a.div.withConfig({displayName:"style__Redeem",componentId:"sc-12pgg1b-9"})(["border-radius:8px;box-shadow:0 2px 8px 0 rgba(0,0,0,0.1);background:#f9f9f9;padding:"," 0;margin:"," 0 ",";@media (max-width:576px){padding:20px 0;margin:20px 0;}"],tj(24),tj(32),tj(16)),hj=Pe.a.div.withConfig({displayName:"style__WrapRedeem",componentId:"sc-12pgg1b-10"})(["display:flex;align-items:center;flex-wrap:wrap;"]),fj=Pe.a.div.withConfig({displayName:"style__WrapPlan",componentId:"sc-12pgg1b-11"})(["min-height:683px;display:flex;align-items:center;justify-content:center;flex-wrap:wrap;@media (max-width:1100px){min-height:673px;}@media (max-width:800px){min-height:618px;}@media (max-width:576px){min-height:525px;}.loader{margin-bottom:5rem;}"]),mj=Pe.a.div.withConfig({displayName:"style__GroupContent",componentId:"sc-12pgg1b-12"})(["width:calc(100% / (12 / 5));padding-left:",";@media (max-width:1100px){width:100%;padding-bottom:1rem;}@media (max-width:576px){padding:0 9px;}"],tj(32)),bj=Pe.a.div.withConfig({displayName:"style__RedeemTitle",componentId:"sc-12pgg1b-13"})(["font-size:",";font-weight:bold;padding-bottom:",";@media (max-width:576px){font-size:16px;padding-bottom:8px;}"],tj(18),tj(4)),gj=Pe.a.div.withConfig({displayName:"style__RedeemDes",componentId:"sc-12pgg1b-14"})(["font-size:",";@media (max-width:576px){font-size:12px;padding-bottom:16px;}"],tj(18)),yj=Pe.a.div.withConfig({displayName:"style__Col1",componentId:"sc-12pgg1b-15"})(["width:calc(100% / 12);"]),vj=Pe.a.form.withConfig({displayName:"style__GroupInput",componentId:"sc-12pgg1b-16"})(["margin:0;display:flex;align-items:center;justify-content:center;width:calc(100% / (12 / 5));position:relative;.form-control{flex-grow:1;.input-control{height:",";border-right:none;border-radius:50px 0 0 50px;border:solid 1px #d0d4d9;border-right:none;background:transparent;text-transform:uppercase;&:focus{border:1px solid rgba(17,17,17,0.3);border-right:none;}@media (max-width:576px){height:",";}}.label-name{pointer-events:none;}}@media (max-width:1100px){width:50%;}@media (max-width:768px){width:80%;}@media (max-width:576px){width:100%;padding:0 9px;}"],tj(47),tj(50)),Oj=(Pe.a.input.withConfig({displayName:"style__Input",componentId:"sc-12pgg1b-17"})(["font-size:1rem;color:rgba(51,51,51,1);height:",";padding:0 ",";border-radius:50px 0 0 50px;box-shadow:none;border:1px solid #d0d4d9;outline:none;text-transform:uppercase;width:100%;&::placeholder{font-size:1rem;color:rgba(51,51,51,0.5);font-weight:initial;text-transform:initial;}"],tj(50),tj(24)),Pe.a.button.withConfig({displayName:"style__ButtonSubmit",componentId:"sc-12pgg1b-18"})(["height:",";background:#dde2e5;color:#a9aaad;display:flex;justify-content:center;align-items:center;border-radius:0 50px 50px 0;width:",";cursor:pointer;border:none;font-size:1rem;transition-duration:500ms;&:hover{background:#0077c8;color:#fff;}@media (max-width:576px){height:",";width:",";}"],tj(47),tj(180),tj(50),tj(95))),wj=Pe.a.div.withConfig({displayName:"style__Description",componentId:"sc-12pgg1b-19"})(["font-size:1rem;color:#a9aaad;width:calc(100% / (12 / 6));padding:0 ",";@media (max-width:576px){width:100%;font-size:",";order:2;&:last-child{margin-bottom:",";order:1;}}"],tj(10),tj(12),tj(12)),jj=Pe.a.div.withConfig({displayName:"style__Empty",componentId:"sc-12pgg1b-20"})(["color:#333;margin-bottom:5rem;"]),xj=Pe.a.img.withConfig({displayName:"style__ImgEmpty",componentId:"sc-12pgg1b-21"})(["width:",";display:block;margin:0 auto ",";"],tj(63),tj(16)),kj=Pe.a.div.withConfig({displayName:"style__DescEmpty",componentId:"sc-12pgg1b-22"})(["font-size:",";text-align:center;"],tj(16)),_j=Pe.a.div.withConfig({displayName:"style__WrapDescription",componentId:"sc-12pgg1b-23"})(["display:flex;flex-wrap:wrap;margin:0 "," ",";@media (max-width:576px){margin-bottom:",";}"],tj(-10),tj(44),tj(20)),Sj=n(421),Ij=n.n(Sj),Nj=n(422),Tj=n.n(Nj),Cj=n(260),Pj=n.n(Cj),Aj=Pe.a.div.withConfig({displayName:"style__HeaderTitle",componentId:"xucoi-0"})(["text-align:center;font-size:2rem;font-weight:600;position:relative;width:100%;color:#000000;@media (max-width:1100px){font-size:1.5rem;}@media (max-width:576px){font-size:18px;}"]),Mj=Pe.a.div.withConfig({displayName:"style__HeaderSubtitle",componentId:"xucoi-1"})(["text-align:center;font-size:1rem;padding-top:.5rem;width:100%;@media(max-width:576px){font-size:14px;}"]);Pe.a.div.withConfig({displayName:"style__Step",componentId:"xucoi-2"})(["font-size:14px;text-align:center;padding-bottom:5px;span{font-weight:600;}"]),Pe.a.button.withConfig({displayName:"style__Button",componentId:"xucoi-3"})(["width:210px;height:55px;display:flex;justify-content:center;align-items:center;background-color:#007aff;border:none;border-radius:100px;font-size:16px;font-weight:normal;color:#ffff;cursor:pointer;margin:40px auto 0;transition:0.3s all;&:focus{outline:none;}&:hover{background:#3aaaff;}"]);function Ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Dj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ej(Object(n),!0).forEach((function(t){Lj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Uj=function(e){var t=e.isLogin,n=e.type,i=Object(r.b)(Oc).hasMobile,a=Rj(Object(r.k)({data:null,loaded:!1}),2),l=a[0],u=a[1],d=q(),p=Object(s.h)().state;Object(r.d)((function(){var e,t,a=null;localStorage.partner&&"affiliate"==localStorage.partner&&(a={partners:localStorage.partner}),z.getPackageDisplay(a,(function(a,o){if(a)u({data:null,loaded:!0});else{var r=o.data.data.packageDisplay.svod,c={};r.map((function(a){if(a.displayConfig&&a.displayConfig.firstDisplay){var o=a.displayConfig.newestData;2!==a.plan||n&&"premium"!==n||(t=o,c.titlePremium=o.title),3!==a.plan||n&&"mobile"!==n||i||(e=o,c.titleMobile=o.title)}})),c.data=h(t,e),c.data?u({data:c,loaded:!0}):u({data:null,loaded:!0})}}))}),[]);var h=function(e,t){try{var i={},a={},o={},r={},c={},s={},l={};return(e&&!n||"premium"===n)&&(i={feature:e.price.label,type:"text",premium:{value:e.price.value}},a={feature:e.videoQuality.label,type:"text",premium:{value:e.videoQuality.value}},o={feature:e.resolution.label,type:"text",premium:{value:e.resolution.value}},r={feature:e.download.label,type:"boolean",premium:{value:e.download.value}},c={feature:e.devicePlayQuantity.label,type:"text",premium:{value:e.devicePlayQuantity.value}},s={feature:e.computerTvPlay.label,type:"boolean",premium:{value:e.computerTvPlay.value}},l={feature:e.mobileTablePlay.label,type:"boolean",premium:{value:e.mobileTablePlay.value}}),(t&&!n||"mobile"===n)&&(i=Dj(Dj({},i),{},{feature:t.price.label,type:"text",mobile:{value:t.price.value}}),a=Dj(Dj({},a),{},{feature:t.videoQuality.label,type:"text",mobile:{value:t.videoQuality.value}}),o=Dj(Dj({},o),{},{feature:t.resolution.label,type:"text",mobile:{value:t.resolution.value}}),r=Dj(Dj({},r),{},{feature:t.download.label,type:"boolean",mobile:{value:t.download.value}}),c=Dj(Dj({},c),{},{feature:t.devicePlayQuantity.label,type:"text",mobile:{value:t.devicePlayQuantity.value}}),s=Dj(Dj({},s),{},{feature:t.computerTvPlay.label,type:"boolean",mobile:{value:t.computerTvPlay.value}}),l=Dj(Dj({},l),{},{feature:t.mobileTablePlay.label,type:"boolean",mobile:{value:t.mobileTablePlay.value}})),[i,a,o,r,c,s,l]}catch(e){return null}};return Object(o.h)(fj,null,l.loaded?l.data?Object(o.h)(o.b,null,Object(o.h)(Aj,null,"Chọn gói Galaxy Play"),Object(o.h)(Mj,null,"Không bao gồm phim thuê. Huỷ bất cứ lúc nào"),Object(o.h)(rj,{isFull:l.data.titleMobile&&l.data.titlePremium||!n},Object(o.h)(sj,null,Object(o.h)(lj,null),l.data.titleMobile&&Object(o.h)(uj,null,Object(o.h)(cj,{type:"mobile"},l.data.titleMobile)),l.data.titlePremium&&Object(o.h)(uj,null,Object(o.h)(cj,null,l.data.titlePremium))),l.data.data.map((function(e){return Object(o.h)(sj,{key:e.feature},Object(o.h)(lj,null,Object(o.h)(dj,null,e.feature)),l.data.titleMobile&&Object(o.h)(uj,null,"boolean"===e.type?e.mobile.value?Object(o.h)("img",{src:Ij.a}):Object(o.h)("img",{src:Pj.a}):e.mobile.value),l.data.titlePremium&&Object(o.h)(uj,null,"boolean"===e.type?e.premium.value?Object(o.h)("img",{src:Tj.a}):Object(o.h)("img",{src:Pj.a}):e.premium.value))})),t&&Object(o.h)(sj,null,Object(o.h)(lj,null),l.data.titleMobile&&Object(o.h)(uj,null,Object(o.h)(c.b,{className:"link",to:""!==d.nextPage.next?{pathname:"/subs/pay",search:"?type=mobile",state:Dj({type:"register",infoMovie:{slug:d.nextPage.slugMovie},location:"/browse"},p)}:{pathname:"/subs/pay",search:"?type=mobile",state:Dj({type:"register"},p)}},Object(o.h)(oj,{type:"mobile"},"Chọn"))),l.data.titlePremium&&Object(o.h)(uj,null,Object(o.h)(c.b,{className:"link",to:""!==d.nextPage.next?{pathname:"/subs/pay",search:"?type=premium",state:Dj({type:"register",infoMovie:{slug:d.nextPage.slugMovie},location:"/browse"},p)}:{pathname:"/subs/pay",search:"?type=premium",state:Dj({type:"register"},p)}},Object(o.h)(oj,null,"Chọn")))))):Object(o.h)(jj,null,Object(o.h)(xj,{src:Fm.a}),Object(o.h)(kj,null,"Không tìm thấy gói")):Object(o.h)("div",{className:"loader"}))},Vj=function(e){return e/16+"rem"},Bj=Pe.a.div.withConfig({displayName:"style__Overlay",componentId:"sc-9nqlw4-0"})(["width:100%;height:100%;background-color:rgba(0,0,0,0.5);position:fixed;top:0;left:0;z-index:10;display:flex;justify-content:center;align-items:center;padding:0 1rem;"]),Hj=Pe.a.div.withConfig({displayName:"style__Card",componentId:"sc-9nqlw4-1"})(["width:",";max-width:100%;margin:0 auto;padding:"," "," ",";position:relative;background:#000;text-align:center;@media (max-width:576px){padding:"," "," ",";}"],Vj(453),Vj(56),Vj(20),Vj(32),Vj(56),Vj(16),Vj(32)),Fj=Pe.a.div.withConfig({displayName:"style__Title",componentId:"sc-9nqlw4-2"})(["font-weight:bold;font-size:",";color:#f1f6f9;margin-bottom:",";@media (max-width:576px){font-size:",";}"],Vj(24),Vj(12),Vj(20)),qj=Pe.a.div.withConfig({displayName:"style__Description",componentId:"sc-9nqlw4-3"})(["font-size:",";color:#f1f6f9;margin-bottom:",";span{white-space:nowrap;}@media (max-width:576px){font-size:",";margin-bottom:",";}"],Vj(18),Vj(40),Vj(16),Vj(16)),Wj=Pe.a.div.withConfig({displayName:"style__GroupButton",componentId:"sc-9nqlw4-4"})(["display:flex;justify-content:center;align-items:center;margin:0 ",";"],Vj(-16)),Kj=Pe.a.div.withConfig({displayName:"style__Button",componentId:"sc-9nqlw4-5"})(["width:",";height:",";display:flex;justify-content:center;align-items:center;color:#ebebeb;margin:0 ",";font-size:",";border-radius:50px;cursor:pointer;border:1px solid #ebebeb;transition-duration:500ms;&:hover{background:#ebebeb;color:#1d1d1d;}&.primary{font-weight:bold;background:#fff;color:#1d1d1d;}@media (max-width:576px){font-size:",";height:",";width:",";}"],Vj(180),Vj(56),Vj(16),Vj(18),Vj(16),Vj(48),Vj(110)),Gj=Pe.a.div.withConfig({displayName:"style__Close",componentId:"sc-9nqlw4-6"})(["cursor:pointer;position:absolute;top:",";right:",";svg{width:",";height:",";path{fill:#f1f6f9;}}"],Vj(16),Vj(16),Vj(24),Vj(24)),$j=Pe.a.div.withConfig({displayName:"style__MessageError",componentId:"sc-9nqlw4-7"})(["font-size:",";color:#ff5151;padding-left:",";"," @media(max-width:576px){font-size:",";}"],Vj(12),Vj(24),(function(e){return e.special?"\n          height: 0;\n          padding-top: 0;\n          padding-bottom: 0;\n        ":"\n          position: absolute;\n          top: calc(100% + ".concat(Vj(4),");\n          left: 0;\n        ")}),Vj(12));function Xj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Yj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xj(Object(n),!0).forEach((function(t){Zj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ex=function(e){var t=Object(Ve.useTracking)().trackEvent,n=Object(s.g)(),i=Qj(Object(r.k)(""),2),a=i[0],c=i[1],l=Qj(Object(r.k)({status:!1,content:""}),2),u=l[0],d=l[1],p=Object(r.b)(Eo),h=Object(r.b)(Oc),f=Qj(Object(r.k)({status:!1,message:""}),2),m=f[0],b=f[1],g=function(){var e=localStorage.getItem("__glxp_r_token");e&&z.refreshAccessToken((function(e,t){if(!e){var n=t.headers["x-fim-atoken"];localStorage.setItem("__glxp_token",n);var i=new Date;i.setTime(i.getTime()+2592e6);var a="expires="+i.toUTCString();document.cookie="__glxp_token=".concat(n,"; ").concat(a,"; path=/")}}))},y=function(){b(Yj(Yj({},m),{},{status:!1}))};return Object(o.h)(o.b,null,Object(o.h)(Aj,null,"Sử dụng mã thẻ Galaxy Play"),Object(o.h)(pj,null,Object(o.h)(hj,null,Object(o.h)(mj,null,Object(o.h)(bj,null,"Mã thẻ Galaxy Play"),Object(o.h)(gj,null,"Dành cho khách hàng có mã thẻ cào hoặc mã ưu đãi tặng gói.")),Object(o.h)(yj,null),Object(o.h)(vj,{onSubmit:function(e){e.preventDefault(),t({on_screen:window.localStorage.on_screen&&window.localStorage.on_screen,direct_object_type:"promotion_input",direct_object_id:a,event_action:"click",event_category:"browse"}),a.length>0&&z.activeCode({code:a,force:"false"},(function(e,t){e?d({status:!0,content:t.data.message}):t.data&&b({status:!0,message:t.data.data[0]})}))}},Object(o.h)(Sa,{type:"text",label:"Nhập mã",onInputValue:function(e){c(e.target.value),d(Yj(Yj({},u),{},{status:!1}))},id:"input-code-pay"}),Object(o.h)(Oj,{type:"submit"},"SỬ DỤNG"),Object(o.h)(Ct.a,{in:u.status,appear:!0,classNames:"fadeInDown",timeout:300},Object(o.h)($j,null,u.content)))),Object(o.h)(Ct.a,{appear:!0,classNames:"zoom-fadein",timeout:300,in:m.status,unmountOnExit:!0},Object(o.h)(Bj,null,Object(o.h)(Hj,null,Object(o.h)(Gj,{onClick:y},Object(o.h)(Ue,null)),Object(o.h)(Fj,null,"Áp dụng mã"),Object(o.h)(qj,null,m.message.description),Object(o.h)(Wj,null,Object(o.h)(Kj,{onClick:y},"Huỷ"),Object(o.h)(Kj,{className:"primary",onClick:function(){t({on_screen:"home",event_action:"click",direct_object_type:"promotion_input",direct_object_id:a}),z.activeCode({code:a,force:"true"},(function(e,t){e?p.setNotification({status:!0,description:t.data&&t.data.message,type:"error"}):(g(),p.setNotification({status:!0,description:t.data&&t.data.message?t.data.message:"Bạn đã nhận được mã khuyến mãi!",type:"success"}),n.push({pathname:"/subs/redeem",state:m.message}),setTimeout((function(){h.updateHasPackage()}),3e3))}))}},"Tiếp tục")))))))},tx=function(e){var t=Object(s.g)();return Object(r.d)((function(){sessionStorage.getItem("loginFromApp")&&sessionStorage.setItem("historyPage",t.location.pathname),sessionStorage.getItem("loginFromApp")?e.theme("hideHeader"):e.theme(!0)}),[]),Object(o.h)(nj,null,Object(o.h)(ij,null,Object(o.h)(Uj,e),e.isLogin&&Object(o.h)(o.b,null,Object(o.h)(ex,null),Object(o.h)(_j,null,Object(o.h)(wj,null,"Phí thuê bao sẽ trả bằng tài khoản Apple ID của bạn khi xác nhận mua gói. Thuê bao tự động gia hạn trừ phi bạn hủy thuê bao ít nhất 24 giờ trước khi hết hạn. Tài khoản của bạn sẽ bị tính phí gia hạn trong vòng 24 giờ trước khi hết hạn. Bạn có thể quản lý và hủy thuê bao tại mục Cài đặt tài khoản trên App Store."),Object(o.h)(wj,null,"Chất lượng hình ảnh phụ thuộc vào dịch vụ internet và khả năng thiết bị của bạn. Không phải nội dung nào cũng xem được ở chế độ HD (720p), Full HD (1080p), Ultra HD (4K).")),Object(o.h)(c.b,{className:"link",to:"/browse"},"Xem kho phim và đăng kí gói sau"))))},nx=(Pe.a.div.withConfig({displayName:"style__Intro",componentId:"sc-1vakqlu-0"})(["background:#fff;color:#333;min-height:calc(100vh - 70px - 74px);@media (max-width:1100px){min-height:calc(100vh - 70px - 56px);}"]),Pe.a.div.withConfig({displayName:"style__Container",componentId:"sc-1vakqlu-1"})(["max-width:700px;margin:0 auto;padding-top:4rem;@media (max-width:700px){padding:4rem 4%;}"]),Pe.a.ul.withConfig({displayName:"style__ListIntroduce",componentId:"sc-1vakqlu-2"})(["margin:0;padding:0;"]),Pe.a.li.withConfig({displayName:"style__ListItem",componentId:"sc-1vakqlu-3"})(["list-style-type:none;font-size:18px;line-height:37px;display:flex;align-items:center;padding:0 0 10px;#icon-tick{width:20px;padding-right:1.5rem;fill:#333;flex:0 0 20px;}"]),Pe.a.div.withConfig({displayName:"style__Redeem",componentId:"sc-1csslqh-0"})(["background:#fff;color:#333;min-height:calc(100vh - 70px - 74px);display:flex;justify-content:center;align-items:center;@media (max-width:1100px){min-height:calc(100vh - 70px - 56px);}@media (max-width:576px){min-height:calc(100vh - 130px - 56px);}"])),ix=Pe.a.div.withConfig({displayName:"style__Container",componentId:"sc-1csslqh-1"})(["max-width:511px;margin:-3rem auto 0;box-sizing:border-box;text-align:center;@media (max-width:576px){padding:0 1rem;margin:-5rem auto 0;}"]),ax=Pe.a.h1.withConfig({displayName:"style__Title",componentId:"sc-1csslqh-2"})(["margin:0 0 0.5rem 0;font-size:2.125rem;line-height:2.25rem;font-weight:bold;color:#0077c8;@media (max-width:576px){font-size:1.5rem;line-height:initial;}"]),ox=Pe.a.div.withConfig({displayName:"style__Description",componentId:"sc-1csslqh-3"})(["color:#333333;width:90%;margin:0 auto 1.5rem;"]),rx=Pe.a.h2.withConfig({displayName:"style__Subtitle",componentId:"sc-1csslqh-4"})(["color:#000;margin:0 0 0.75rem 0;font-weight:500;@media (max-width:576px){font-size:1.125rem;line-height:initial;margin:0 0 0.5rem 0;}"]),cx=Pe.a.img.withConfig({displayName:"style__QRcode",componentId:"sc-1csslqh-5"})(["width:145px;margin:0 auto;display:block;padding-bottom:1.25rem;"]),sx=Pe.a.img.withConfig({displayName:"style__ButtonDownload",componentId:"sc-1csslqh-6"})(["cursor:pointer;width:205px;margin:0 6px 0.5rem;@media (max-width:576px){width:144px;}"]),lx=function(e){var t=Object(s.g)(),n=t.location.state;return Object(r.d)((function(){return e.theme(!0),function(){t.replace({pathname:"/subs/redeem",state:null})}}),[]),n?Object(o.h)(nx,null,Object(o.h)(ix,null,Object(o.h)(ax,null,"Chúc mừng quý khách đăng ký thành công ",n.addonName),Object(o.h)(ox,null,n.description),!b.isMobile&&Object(o.h)(o.b,null,Object(o.h)(rx,null,"Quét QR tải ứng dụng"),Object(o.h)(cx,{src:vn.a})),Object(o.h)(rx,null,b.isMobile?"Tải ngay ứng dụng tại":"Hoặc tải ngay ứng dụng tại"),b.isIOS||b.isBrowser?Object(o.h)("a",{href:"https://apps.apple.com/vn/app/fim/id1064825671?l=vi"},Object(o.h)(sx,{src:"//assets.glxplay.io/web/responsive/w250/ios-app-download-button.png"})):"",b.isAndroid||b.isBrowser?Object(o.h)("a",{href:"https://play.google.com/store/apps/details?id=vn.fimplus.app.and&hl=vi"},Object(o.h)(sx,{src:"//assets.glxplay.io/web/responsive/w250/android-app-download-button.png"})):"",Object(o.h)(rx,null,'"Galaxy Play"'))):Object(o.h)(s.a,{to:"/browse"})},ux=n(176),dx=n.n(ux),px=n(177),hx=n.n(px),fx=Pe.a.div.withConfig({displayName:"style__Wrap",componentId:"sc-1pumxzt-0"})(["background-color:white;color:black;min-height:92vh;"]),mx=Pe.a.div.withConfig({displayName:"style__ResultContent",componentId:"sc-1pumxzt-1"})(["padding:10% 30%;text-align:center;@media (max-width:768px){padding:5% 20%;}@media (max-width:480px){padding:20% 7%;}"]),bx=Pe.a.div.withConfig({displayName:"style__SuccessIcon",componentId:"sc-1pumxzt-2"})(["margin:auto;align-items:center;justify-content:center;img{@media (max-width:480px){width:80px;}}"]),gx=Pe.a.div.withConfig({displayName:"style__TitleResult",componentId:"sc-1pumxzt-3"})(["margin:20px 0px;font-size:24px;@media (max-width:480px){font-size:20px;}"]),yx=Pe.a.div.withConfig({displayName:"style__TitleHead",componentId:"sc-1pumxzt-4"})(["font-weight:bold;"]),vx=Pe.a.div.withConfig({displayName:"style__TitleBottom",componentId:"sc-1pumxzt-5"})(["font-size:16px;margin-top:8px;@media (max-width:480px){font-size:13px;}"]),Ox=Pe.a.div.withConfig({displayName:"style__BtnGroup",componentId:"sc-1pumxzt-6"})(["margin-bottom:20px;button{font-weight:bold;width:298px;height:48px;background:#0077c8;max-width:100%;padding:0;}"]),wx=Pe.a.div.withConfig({displayName:"style__BackLink",componentId:"sc-1pumxzt-7"})(["a{color:#0077c8;text-decoration:none;}"]);function jx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function xx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jx(Object(n),!0).forEach((function(t){kx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Sx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ix=function(e){var t=Object(s.g)(),n=(Object(r.b)(Oc),Object(Ve.useTracking)().trackEvent),i=_x(Object(r.k)(!1),2),a=i[0],l=i[1],u=_x(Object(r.k)({medInfoMovie:null,showPopup:!1,showPopupWatch:null,timeOutStatus:!1}),2),d=u[0],p=u[1],h=_x(Object(r.k)({orderInfo:"",history:"/subs/pay",slug:"undefined"}),2),f=h[0],m=h[1],g=_x(Object(r.k)({statusSuccess:!1}),2),y=g[0],v=g[1],O=_x(Object(r.k)({timeOutStatus:!1}),2),w=O[0],j=O[1],x=function(e){e&&window.criteo_q.push({event:"trackTransaction",id:k.generateSessionId(),item:[{id:t.location.state.package.titleId,price:t.location.state.package.totalPriceOffer,quantity:1}]}),sessionStorage.getItem("loginFromApp")&&e&&Android.paymentSuccess(e?"success":"fail")},_=function(e,t,i,a){n({on_screen:"payment_result",from_screen:"payment_confirm",event_category:"payment",event_action:"buy",direct_object_type:"item",direct_object_id:t,direct_object_property:e,indirect_object_type:"result",indirect_object_id:a,indirect_object_property:i})},S=function(e){if(b.isMobile){var t=!1;$(window).blur((function(){t=!0})),window.location.replace(e),b.isIOS?setTimeout((function(){t||window.location.replace("https://apps.apple.com/vn/app/fim/id1064825671?l=vi")}),1e3):b.isAndroid&&setTimeout((function(){t||window.location.replace("https://play.google.com/store/apps/details?id=vn.fimplus.app.and&hl=vi")}),1e3)}};return Object(r.d)((function(){window.sessionStorage.getItem("loginFromApp")?e.theme("hideHeader"):e.theme(!0),window.scrollTo(0,0),function(){var e=new URL(window.location.origin+"/"+t.location.pathname+"/"+t.location.search),n=e.searchParams.get("errorCode");if(n){var i={productNameKnownAs:e.searchParams.get("orderInfo"),titleId:e.searchParams.get("idPackage"),totalPriceOffer:e.searchParams.get("amount"),channelType:"MOMO",productType:"TVOD"};if("0"==n){v(xx(xx({},y),{},{statusSuccess:!0})),m(xx(xx({},f),{},{orderInfo:i.productNameKnownAs+" !"}));var a=e.searchParams.get("transId");k.gaPurchase(a,i),_(i.productNameKnownAs,i.titleId,"momo","success"),x(!0)}"0"!==n&&(p(xx(xx({},d),{},{statusFail:!0})),_(i.productName,i.productId,"momo","fail"),x(!1))}}(),function(){var e=new URL(window.location.origin+"/"+t.location.pathname+"/"+t.location.search),n=e.searchParams.get("vnp_ResponseCode");if(n){var i=e.searchParams.get("vnp_OrderInfo");"00"==n&&(v(xx(xx({},y),{},{statusSuccess:!0})),m(xx(xx({},f),{},{orderInfo:i.split("?")[0]+" !",history:i.split("?")[1],slug:i.split("?")[2]})),_("",f.orderInfo,"vnpay","success")),"00"!==n&&(m(xx(xx({},f),{},{statusFail:!0,orderInfo:i.split("?")[0]+" !",history:i.split("?")[1],slug:i.split("?")[2]})),_("",f.orderInfo,"vnpay","success"))}}(),function(){var e=new URL(window.location.href),n=e.searchParams.get("state"),i=e.searchParams.get("code");if(n&&i){t.push(window.location.pathname),l(!0);var a={code:i,state:n,userId:localStorage.id_user,returnUrl:window.location.origin+window.location.pathname};z.mocaConfirmPayment(a,(function(e,t){!e&&t?(v(xx(xx({},y),{},{statusSuccess:!0})),m(xx(xx({},f),{},{orderInfo:t.data&&t.data.data&&t.data.data.productName}))):m(xx(xx({},f),{},{stastusFail:!0,orderInfo:t.data&&t.data.message})),l(!1)}))}else"access_denied"!=e.searchParams.get("error")&&"user_canceled"!=e.searchParams.get("error")||m(xx(xx({},f),{},{history:localStorage.getItem("linkCancelMoca")}))}(),setTimeout((function(){j(xx(xx({},w),{},{timeOutStatus:!0}))}),200),t.location.state&&"success"==t.location.state.status?x(!0):t.location.state&&"fail"==t.location.state.status&&x(!1)}),[]),Object(o.h)(fx,null,a?Object(o.h)(Gp,null):t.location.state&&"success"==t.location.state.status||y.statusSuccess?Object(o.h)(o.b,null,d.showPopupWatch&&Object(o.h)(ma,{location:t.location.state&&t.location.state.location,watch:t.location.state&&t.location.state.infoMovie?t.location.state.infoMovie:f.slug,closePopup:function(e){p(xx(xx({},d),{},{isValidEmail:!1,showPopupWatch:e}))}}),Object(o.h)(mx,null,Object(o.h)(bx,null,Object(o.h)("img",{src:dx.a})),Object(o.h)(gx,null,Object(o.h)(yx,null,"Quý khách đã thuê thành công phim "),Object(o.h)(yx,null,f.orderInfo,t.location.state&&t.location.state.package&&"TVOD"==t.location.state.package.productType&&t.location.state.package.productNameKnownAs)),Object(o.h)(Ox,null,Object(o.h)(me,{onClick:function(){p(xx(xx({},d),{},{showPopup:!0})),(t.location.state&&t.location.state.infoMovie&&"undefined"!==t.location.state.infoMovie||f.slug&&"undefined"!==f.slug)&&!b.isMobile?p(xx(xx({},d),{},{showPopupWatch:!0})):t.location.state&&t.location.state.infoMovie&&"undefined"!==t.location.state.infoMovie?S("glxplays://watch/".concat(t.location.state.infoMovie)):t.push("/browse")},type:"button",className:"btn btn-confirm",content:"Xem phim ngay"})))):w.timeOutStatus&&Object(o.h)(fx,null,Object(o.h)(mx,null,Object(o.h)(bx,null,Object(o.h)("img",{src:hx.a})),Object(o.h)(gx,null,Object(o.h)(yx,null,t.location.state&&t.location.state.message?t.location.state.message+"!":"Đã xảy ra lỗi trong quá trình thanh toán!"),Object(o.h)(vx,null,"Quý khách vui lòng thử lại hoặc lựa chọn phương thức thanh toán khác.")),Object(o.h)(Ox,null,Object(o.h)(c.b,{to:{pathname:t.location.state&&t.location.state.locationPayment?t.location.state.locationPayment:f.history,state:{location:t.location.state?t.location.state.location:""}}},Object(o.h)(me,{onClick:function(){n({on_screen:"payment_result",event_category:"payment",event_action:"click",direct_object_type:"button",direct_object_property:"chon-phuong-thuc-thanh-toan",direct_object_id:"chọn phương thức thanh toán"})},content:"Chọn phương thức thanh toán"}))),Object(o.h)(wx,null,Object(o.h)(c.b,{to:"/browse"},"Về Thư viện phim")))))},Nx=(n(948),function(e){return Object(o.h)("svg",{version:"1.1",id:"Capa_1",fill:"white",width:"16",xmlns:"http://www.w3.org/2000/svg",link:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",style:"enable-background:new 0 0 512 512;",space:"preserve"},Object(o.h)("g",null,Object(o.h)("g",null,Object(o.h)("path",{d:"M492,236H20c-11.046,0-20,8.954-20,20c0,11.046,8.954,20,20,20h472c11.046,0,20-8.954,20-20S503.046,236,492,236z"}))),Object(o.h)("g",null,Object(o.h)("g",null,Object(o.h)("path",{d:"M492,76H20C8.954,76,0,84.954,0,96s8.954,20,20,20h472c11.046,0,20-8.954,20-20S503.046,76,492,76z"}))),Object(o.h)("g",null,Object(o.h)("g",null,Object(o.h)("path",{d:"M492,396H20c-11.046,0-20,8.954-20,20c0,11.046,8.954,20,20,20h472c11.046,0,20-8.954,20-20 C512,404.954,503.046,396,492,396z"}))),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null))});function Tx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cx=function(){var e;return Object(o.h)("svg",(Tx(e={version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",fill:"white"},"id","close-icon"),Tx(e,"link","http://www.w3.org/1999/xlink"),Tx(e,"x","0px"),Tx(e,"y","0px"),Tx(e,"viewBox","0 0 47.971 47.971"),Tx(e,"style","enable-background:new 0 0 47.971 47.971;"),Tx(e,"space","preserve"),e),Object(o.h)("g",null,Object(o.h)("path",{d:"M28.228,23.986L47.092,5.122c1.172-1.171,1.172-3.071,0-4.242c-1.172-1.172-3.07-1.172-4.242,0L23.986,19.744L5.121,0.88 c-1.172-1.172-3.07-1.172-4.242,0c-1.172,1.171-1.172,3.071,0,4.242l18.865,18.864L0.879,42.85c-1.172,1.171-1.172,3.071,0,4.242 C1.465,47.677,2.233,47.97,3,47.97s1.535-0.293,2.121-0.879l18.865-18.864L42.85,47.091c0.586,0.586,1.354,0.879,2.121,0.879 s1.535-0.293,2.121-0.879c1.172-1.171,1.172-3.071,0-4.242L28.228,23.986z"})),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null),Object(o.h)("g",null))},Px=n(178),Ax=n.n(Px),Mx=n(113),Ex=n.n(Mx);function Dx(){return(Dx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var Lx=function(e){return Object(o.h)("svg",Dx({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),Object(o.h)("path",{d:"M11 2a9 9 0 017.032 14.617l3.675 3.676a1 1 0 01-1.32 1.497l-.094-.083-3.676-3.675A9 9 0 1111 2zm0 2a7 7 0 104.865 12.033.732.732 0 01.078-.09l.09-.078A7 7 0 0011 4z",fill:"#FFF",fillRule:"evenodd"}))},Rx=function(e){return e/16+"rem"},zx=Pe.a.div.withConfig({displayName:"style__Wrap",componentId:"sc-3krgvz-0"})(["position:absolute;top:100%;right:0;padding-top:",";"],Rx(12)),Ux=Pe.a.div.withConfig({displayName:"style__Container",componentId:"sc-3krgvz-1"})(["background:#101010;padding:",";position:relative;border-radius:",";width:",";max-width:100vw;"],Rx(12),Rx(4),Rx(493)),Vx=Pe.a.div.withConfig({displayName:"style__WrapListGenre",componentId:"sc-3krgvz-2"})(["padding-bottom:",";margin-bottom:",";border-bottom:1px solid #404446;"],Rx(24),Rx(16)),Bx=Pe.a.div.withConfig({displayName:"style__WrapGenre",componentId:"sc-3krgvz-3"})(["display:flex;flex-wrap:wrap;align-items:center;margin:0 "," ",";"],Rx(-6),Rx(-10)),Hx=Pe.a.div.withConfig({displayName:"style__WrapGenreShowMore",componentId:"sc-3krgvz-4"})(["display:flex;flex-wrap:wrap;align-items:center;margin:"," "," ",";"],Rx(10),Rx(-6),Rx(-10)),Fx=Pe.a.div.withConfig({displayName:"style__GenreItem",componentId:"sc-3krgvz-5"})(["width:calc(100% / 3);padding:0 "," ",";"],Rx(6),Rx(10)),qx=Pe.a.img.withConfig({displayName:"style__GenreImage",componentId:"sc-3krgvz-6"})(["position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;transition:0.3s ease;"]),Wx=Pe.a.div.withConfig({displayName:"style__Genre",componentId:"sc-3krgvz-7"})(["position:relative;background:#333333;border-radius:",";padding-top:56.25%;cursor:pointer;overflow:hidden;&:hover{","{transform:scale(1.2);}}"],Rx(4),qx),Kx=Pe.a.div.withConfig({displayName:"style__GenreTitle",componentId:"sc-3krgvz-8"})(["font-size:",";font-weight:bold;color:#ffffff;position:absolute;left:",";bottom:",";white-space:pre-wrap;"],Rx(18),Rx(12),Rx(8)),Gx=Pe.a.div.withConfig({displayName:"style__WrapShowMore",componentId:"sc-3krgvz-9"})(["display:flex;justify-content:center;align-items:center;margin:"," auto 0;cursor:pointer;svg{width:",";height:",";margin-right:",";}"],Rx(24),Rx(24),Rx(24),Rx(8)),$x=Pe.a.div.withConfig({displayName:"style__TextShowMore",componentId:"sc-3krgvz-10"})(["font-size:",";color:#fff;"],Rx(16)),Xx=Pe.a.div.withConfig({displayName:"style__WrapSuggest",componentId:"sc-3krgvz-11"})([""]),Yx=Pe.a.div.withConfig({displayName:"style__TitleSuggest",componentId:"sc-3krgvz-12"})(["font-size:",";color:#a9aaad;margin-bottom:",";"],Rx(14),Rx(16)),Zx=Pe.a.div.withConfig({displayName:"style__RowSuggest",componentId:"sc-3krgvz-13"})(["display:flex;justify-content:center;align-items:flex-start;margin:0 "," ",";"],Rx(-20),Rx(-12)),Qx=Pe.a.div.withConfig({displayName:"style__ColSuggest",componentId:"sc-3krgvz-14"})(["width:50%;box-sizing:border-box;padding:0 ",";"],Rx(20)),Jx=Pe.a.div.withConfig({displayName:"style__TextSuggest",componentId:"sc-3krgvz-15"})(["color:#ffffff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:0.3s ease;"]),ek=Pe.a.div.withConfig({displayName:"style__WrapItemSuggest",componentId:"sc-3krgvz-16"})(["display:flex;align-items:center;font-weight:bold;font-size:",";margin-bottom:",";cursor:pointer;&:hover{","{color:#b0d6ff;}}"],Rx(16),Rx(12),Jx),tk=Pe.a.div.withConfig({displayName:"style__Number",componentId:"sc-3krgvz-17"})(["min-width:",";margin-right:",";color:#a9aaad;"],Rx(20),Rx(4));function nk(){return(nk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var ik=function(e){return Object(o.h)("svg",nk({width:24,height:24,xmlns:"http://www.w3.org/2000/svg"},e),Object(o.h)("path",{d:"M5.293 15.707a1 1 0 001.32.083l.094-.083L12 10.415l5.293 5.292a1 1 0 001.32.083l.094-.083a1 1 0 00.083-1.32l-.083-.094-6-6a1 1 0 00-1.32-.083l-.094.083-6 6a1 1 0 000 1.414z",fill:"#FFF",fillRule:"evenodd"}))};function ak(){return(ak=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var ok=function(e){return Object(o.h)("svg",ak({width:24,height:24,xmlns:"http://www.w3.org/2000/svg"},e),Object(o.h)("path",{d:"M18.707 8.293a1 1 0 00-1.32-.083l-.094.083L12 13.585 6.707 8.293a1 1 0 00-1.32-.083l-.094.083a1 1 0 00-.083 1.32l.083.094 6 6a1 1 0 001.32.083l.094-.083 6-6a1 1 0 000-1.414z",fill:"#FFF",fillRule:"evenodd"}))};function rk(e){return function(e){if(Array.isArray(e))return lk(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||sk(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ck(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||sk(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sk(e,t){if(e){if("string"==typeof e)return lk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lk(e,t):void 0}}function lk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var uk=function(e){var t,n=e.isActive,i=e.setActive,a=Object(s.g)(),c=ck(Object(r.k)({isLoaded:!1,genres:[],titleSuggest:"",genresShowMore:[],suggests:[]}),2),l=c[0],u=c[1],d=ck(Object(r.k)(!1),2),p=d[0],h=d[1],f=ck(Object(r.k)(!1),2),m=f[0],b=f[1],g=function(e){return function(){a.push(e),i(!1)}};return Object(r.d)((function(){if(n)return function(){if(window.localStorage.profileKidMode&&"true"===window.localStorage.profileKidMode){z.getInitSearch({size:20},(function(e,t){if(!e&&t&&t.data&&t.data.docs){var n=t.data.docs.slice(0,10);u({isLoaded:!0,titleSuggest:t.data.message,suggests:n})}}))}else z.getInitSuggestSearch((function(e,t){if(!e&&t&&t.data&&t.data.terms){var n=t.data.terms;z.getInitSearch({size:20},(function(e,t){if(!e&&t&&t.data&&t.data.docs){var i=t.data.docs.slice(0,10);u({isLoaded:!0,titleSuggest:t.data.message,genres:rk(n).splice(0,6),genresShowMore:rk(n).splice(6),suggests:i})}}))}}))}(),void setTimeout((function(){b(!0)}),200);m&&b(!1)}),[n]),Object(o.h)(Ct.a,{classNames:"fadeInDown",timeout:500,in:m&&l.isLoaded,unmountOnExit:!0},Object(o.h)(zx,null,Object(o.h)(Ux,null,(null==l||null===(t=l.genres)||void 0===t?void 0:t.length)>0&&Object(o.h)(Vx,null,Object(o.h)(Bx,null,l.genres.map((function(e){return Object(o.h)(Fx,null,Object(o.h)(Wx,{onClick:g("/search/genre"+e.payload)},Object(o.h)(qx,{src:e.image}),Object(o.h)(Kx,null,e.display)))}))),Object(o.h)(Ct.a,{appear:!0,classNames:"dropdowntab",timeout:500,in:p,unmountOnExit:!0},Object(o.h)(Hx,{className:"dropdowntab"},l&&l.genresShowMore&&l.genresShowMore.length>0&&l.genresShowMore.map((function(e){return Object(o.h)(Fx,null,Object(o.h)(Wx,{onClick:g("/search/genre"+e.payload)},Object(o.h)(qx,{src:e.image}),Object(o.h)(Kx,null,e.display)))})))),Object(o.h)(Gx,{onClick:function(){return h(!p)}},p?Object(o.h)(o.b,null,Object(o.h)(ik,null),Object(o.h)($x,null,"Thu gọn")):Object(o.h)(o.b,null,Object(o.h)(ok,null),Object(o.h)($x,null,"Xem thêm")))),Object(o.h)(Xx,null,Object(o.h)(Yx,null,l.titleSuggest),Object(o.h)(Zx,null,Object(o.h)(Qx,null,rk(l.suggests).splice(0,5).map((function(e,t){return Object(o.h)(ek,{onClick:g("/title/"+e.slug)},Object(o.h)(tk,null,t+1),Object(o.h)(Jx,null,e.alternateName))}))),Object(o.h)(Qx,null,rk(l.suggests).splice(5).map((function(e,t){return Object(o.h)(ek,{onClick:g("/title/"+e.slug)},Object(o.h)(tk,null,t+6),Object(o.h)(Jx,null,e.alternateName))}))))))))};function dk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pk(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var hk=Pe.a.input.withConfig({displayName:"search__Input",componentId:"sc-3ylcj4-0"})(["background:transparent;transition:.4s ease-in-out;width:0px;color:#fff;font-weight:400;font-size:1rem;border:0;padding:0;pointer-events:none;&:focus{outline:none;}&::placeholder{color:rgba(255,255,255,.6);font-size:14px;}"]),fk=Pe.a.div.withConfig({displayName:"search__BoxIconSearch",componentId:"sc-3ylcj4-1"})(["svg{fill:#fff;","}transition:.3s ease-in-out;position:absolute;cursor:pointer;",":12px;top:50%;transform:translate(0,-50%);"],(function(e){return"small"===e.size?"width: 16px; height: 16px;":"width: 24px; height: 24px;"}),(function(e){return"left"===e.align?"left":"right"})),mk=Pe.a.div.withConfig({displayName:"search__Control",componentId:"sc-3ylcj4-2"})(["border:solid 1px transparent;position:relative;padding:10px 11px;transition:.3s .2s ease-in-out;right:0;margin-right:2.25rem;"," .close-icon-enter{opacity:0;}.close-icon-enter-active{opacity:1;transition:opacity 200ms;}.close-icon-exit{opacity:1;}.close-icon-exit-active{opacity:0;transition:opacity 200ms;}"],(function(e){if(e.acitve)return"\n        background-color: rgba(0, 0, 0, 0.5);\n        border-radius : 4px;\n        transition: .4s ease-in-out;\n        border: solid 1px #ffffff;\n        padding: 10px 44px;\n        input{\n          width: ".concat(e.widthActive,";\n          pointer-events: initial;\n        }")}));var bk=Object(Jy.memo)((function(e){var t=Object(r.j)(),n=Object(r.j)(),i=(Object(r.j)(),dk(Object(r.k)(!1),2)),a=i[0],c=i[1],l=dk(Object(r.k)(!1),2),u=l[0],d=l[1],p=dk(Object(r.k)("/"),2),h=p[0],f=p[1],m=Object(s.g)(),b=Object(s.h)(),g=e.mobile?"calc( 100vw - 124px )":"200px";return Object(r.d)((function(){var e=function(e){t.current&&!t.current.contains(e.target)&&(n.current.value="",d(!1),c(!1))};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[]),Object(r.d)((function(){a?n.current.focus():e.openMobile&&e.openMobile()}),[a]),Object(o.h)(mk,{acitve:a,ref:t,widthActive:g},Object(o.h)(hk,{placeholder:"Tên phim, diễn viên, thể loại",type:"text",onChange:function(t){t.target.value.length>0?d(!0):d(!1),e.onKeyUp(t,h)},ref:n}),Object(o.h)(fk,{onClick:function(t){c(!0),e.clearMobile&&e.clearMobile(),"/search"!==b.pathname&&"/search/genre"!==b.pathname&&f(b.pathname)},align:"left"},Object(o.h)("div",{className:"icon-search"},Object(o.h)(Lx,null))),Object(o.h)(Ct.a,{timeout:200,unmountOnExit:!0,in:a&&u,className:"close-icon"},Object(o.h)(fk,{align:"right",size:"small",onClick:function(){n.current.value="",c(!1),d(!1),e.openMobile&&e.openMobile(),m.push(h)}},Object(o.h)(Cx,null))),Object(o.h)(uk,{isActive:a,setActive:c}))}),(function(){return!0})),gk=function(e){return e/16+"rem"},yk=Pe.a.div.withConfig({displayName:"style__Wrap",componentId:"zvc70c-0"})(["position:absolute;top:100%;right:0;text-align:left;"]),vk=Pe.a.div.withConfig({displayName:"style__Container",componentId:"zvc70c-1"})(["background:#101010;padding:"," 4%;position:relative;border-radius:",";width:100vw;min-height:100vh;overflow:hidden;"],gk(24),gk(4)),Ok=Pe.a.div.withConfig({displayName:"style__WrapGenre",componentId:"zvc70c-2"})(["overflow-x:scroll;white-space:nowrap;padding-right:4%;margin:0 -4% "," ",";-ms-overflow-style:none;scrollbar-width:none;padding-bottom:",";border-top:1px solid #404446;&::-webkit-scrollbar{display:none;}"],gk(16),gk(-4),gk(24)),wk=Pe.a.div.withConfig({displayName:"style__GenreItem",componentId:"zvc70c-3"})(["width:50%;display:inline-block;padding:0 ",";@media (min-width:687px){width:25%;}"],gk(4)),jk=Pe.a.div.withConfig({displayName:"style__Genre",componentId:"zvc70c-4"})(["position:relative;background:#333333;border-radius:",";padding-top:56.25%;cursor:pointer;"],gk(4)),xk=Pe.a.img.withConfig({displayName:"style__GenreImage",componentId:"zvc70c-5"})(["position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;"]),kk=Pe.a.div.withConfig({displayName:"style__GenreTitle",componentId:"zvc70c-6"})(["font-size:",";font-weight:bold;color:#ffffff;position:absolute;left:",";bottom:",";white-space:pre-wrap;"],gk(18),gk(10),gk(8)),_k=(Pe.a.div.withConfig({displayName:"style__WrapShowMore",componentId:"zvc70c-7"})(["display:flex;justify-content:center;align-items:center;margin:"," auto 0;cursor:pointer;svg{width:",";height:",";margin-right:",";}"],gk(24),gk(24),gk(24),gk(8)),Pe.a.div.withConfig({displayName:"style__TextShowMore",componentId:"zvc70c-8"})(["font-size:",";color:#fff;"],gk(16)),Pe.a.div.withConfig({displayName:"style__WrapSuggest",componentId:"zvc70c-9"})([""])),Sk=Pe.a.div.withConfig({displayName:"style__TitleSuggest",componentId:"zvc70c-10"})(["font-size:",";color:#a9aaad;margin-bottom:",";"],gk(14),gk(16)),Ik=Pe.a.div.withConfig({displayName:"style__RowSuggest",componentId:"zvc70c-11"})(["display:flex;justify-content:center;align-items:flex-start;margin:0 "," ",";"],gk(-20),gk(-12)),Nk=Pe.a.div.withConfig({displayName:"style__ColSuggest",componentId:"zvc70c-12"})(["width:100%;box-sizing:border-box;padding:0 ",";"],gk(20)),Tk=Pe.a.div.withConfig({displayName:"style__WrapItemSuggest",componentId:"zvc70c-13"})(["display:flex;align-items:center;font-weight:bold;font-size:",";margin-bottom:",";cursor:pointer;"],gk(16),gk(12)),Ck=Pe.a.div.withConfig({displayName:"style__Number",componentId:"zvc70c-14"})(["min-width:",";margin-right:",";color:#a9aaad;"],gk(20),gk(4)),Pk=Pe.a.div.withConfig({displayName:"style__TextSuggest",componentId:"zvc70c-15"})(["color:#ffffff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]);function Ak(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mk(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ek=function(e){var t,n=e.isActive,i=e.setActive,a=e.setSuggestActive,c=Object(s.g)(),l=Ak(Object(r.k)({isLoaded:!1,genres:[],titleSuggest:"",suggests:[]}),2),u=l[0],d=l[1],p=Ak(Object(r.k)(!1),2),h=p[0],f=p[1];return Object(r.d)((function(){if(n)return function(){if(window.localStorage.profileKidMode&&"true"===window.localStorage.profileKidMode){z.getInitSearch({size:20},(function(e,t){if(!e&&t&&t.data&&t.data.docs){var n=t.data.docs.slice(0,10);d({isLoaded:!0,titleSuggest:t.data.message,suggests:n})}}))}else z.getInitSuggestSearch((function(e,t){if(!e&&t&&t.data&&t.data.terms){var n=t.data.terms;z.getInitSearch({size:20},(function(e,t){if(!e&&t&&t.data&&t.data.docs){var i=t.data.docs.slice(0,10);d({isLoaded:!0,titleSuggest:t.data.message,genres:n,suggests:i})}}))}}))}(),void f(!0);h&&f(!1)}),[n]),Object(o.h)(Ct.a,{classNames:"fadeInDown",timeout:500,in:h&&u.isLoaded,unmountOnExit:!0},Object(o.h)(yk,null,Object(o.h)(vk,null,(null==u||null===(t=u.genres)||void 0===t?void 0:t.length)>0&&Object(o.h)(Ok,null,u.genres.map((function(e){return Object(o.h)(wk,null,Object(o.h)(jk,{onClick:(t="/search/genre"+e.payload,function(){c.push(t),a(!1)})},Object(o.h)(xk,{src:e.image}),Object(o.h)(kk,null,e.display)));var t}))),Object(o.h)(_k,null,Object(o.h)(Sk,null,u.titleSuggest),Object(o.h)(Ik,null,Object(o.h)(Nk,null,u.suggests.map((function(e,t){return Object(o.h)(Tk,{onClick:(n="/title/"+e.slug,function(){c.push(n),i(!1)})},Object(o.h)(Ck,null,t+1),Object(o.h)(Pk,null,e.alternateName));var n}))))))))};function Dk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Lk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lk(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Rk=Pe.a.div.withConfig({displayName:"searchMobile__SearchBox",componentId:"sc-4f5kkx-0"})(["display:flex;align-items:center;position:absolute;width:100%;left:0;top:50%;transform:translateY(-50%);padding:0 4%;transition:300ms ease;z-index:1;background:#101010;"]),zk=Pe.a.div.withConfig({displayName:"searchMobile__Closer",componentId:"sc-4f5kkx-1"})(["font-size:14px;font-size:#ffffff;margin-left:20px;"]),Uk=Pe.a.div.withConfig({displayName:"searchMobile__WrapInput",componentId:"sc-4f5kkx-2"})(["position:relative;display:flex;flex-grow:1;"]),Vk=Pe.a.input.withConfig({displayName:"searchMobile__Input",componentId:"sc-4f5kkx-3"})(["border-radius:8px;background-color:rgba(255,255,255,0.1875);color:#ffffff;font-size:16px;padding:9px 40px 9px 51px;border:1px solid transparent;outline:none;width:100%;transition:300ms ease;&:focus,&:valid{border-color:#fff;background:#101010;}&:placeholder{color:rgba(255,255,255,0.55);}"]),Bk=Pe.a.div.withConfig({displayName:"searchMobile__SearchIconInput",componentId:"sc-4f5kkx-4"})(["position:absolute;left:14px;top:50%;transform:translateY(-50%);svg{width:20px;fill:#fff;}"]),Hk=Pe.a.div.withConfig({displayName:"searchMobile__SearchIcon",componentId:"sc-4f5kkx-5"})(["svg{width:20px;fill:#fff;}"]),Fk=Pe.a.div.withConfig({displayName:"searchMobile__ClearText",componentId:"sc-4f5kkx-6"})(["position:absolute;width:24px;height:24px;top:50%;right:12px;transform:translateY(-50%);svg{width:24px;fill:#fff;}"]),qk=function(e){var t=Object(s.g)(),n=q(),i=Object(Ve.useTracking)().trackEvent,a=Object(r.j)(),c=Object(r.j)(),l=Dk(Object(r.k)(!1),2),u=l[0],d=l[1],p=Dk(Object(r.k)(!1),2),h=p[0],f=p[1],m=Dk(Object(r.k)(!1),2),b=m[0],g=m[1],y=Dk(Object(r.k)("/"),2),v=y[0],O=y[1];return Object(r.d)((function(){"/search"!==location.pathname&&"/search/genre"!==location.pathname||d(!0)}),[location.pathname]),Object(o.h)(o.b,null,Object(o.h)(Hk,{onClick:function(){document.body.style.overflow="hidden",document.body.style.height="100%",d(!0),g(!0),"/search"!==location.pathname&&"/search/genre"!==location.pathname&&O(location.pathname)}},Object(o.h)(Lx,null)),Object(o.h)(Ct.a,{appear:!0,classNames:"fadeIn",timeout:300,in:u,unmountOnExit:!0},Object(o.h)(Rk,null,Object(o.h)(Uk,null,Object(o.h)(Bk,null,Object(o.h)(Lx,null)),Object(o.h)(Vk,{placeholder:"Tên phim, diễn viên, thể loại",onChange:function(e){c.current&&clearTimeout(c.current);var a=e.target.value;c.current=setTimeout((function(){a=a.toString().replace(/%/g,""),""!==(a=encodeURI(a))&&(t.push("/search?q="+a),g(!1),e.target.blur()),i({from_screen:n.lastpage||"",event_category:"browse",event_action:"search",direct_object_type:"keyword",direct_object_id:a})}),500),a.length>0?f(!0):f(!1)},ref:a}),h&&Object(o.h)(Fk,{onClick:function(){f(!1),a.current.value="",a.current.focus()}},Object(o.h)(Ue,null))),Object(o.h)(zk,{onClick:function(){document.body.removeAttribute("style"),a.current.value="",d(!1),f(!1),g(!1),t.push(v)}},"Đóng"),Object(o.h)(Ek,{isActive:u&&b,setActive:d,setSuggestActive:g}))))};function Wk(){return(Wk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var Kk=function(e){return Object(o.h)("svg",Wk({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),Object(o.h)("path",{d:"M12.036 2h-.071c-3.37 0-6.458 2.445-6.758 5.681-.02.231-.034.468-.043.723L5.152 9l-.002.534.015-.06a3.85 3.85 0 01-.928 1.82l-.068.086a4.08 4.08 0 00-.667 2.044l-.001.238a4.07 4.07 0 00.926 2.66 4.874 4.874 0 003.086 1.525c2.977.323 5.989.323 8.974-.001a4.799 4.799 0 003.047-1.488 4.076 4.076 0 00.965-2.496l.001-.403a4.013 4.013 0 00-.671-2.074l-.062-.08-.15-.177a3.93 3.93 0 01-.727-1.431l-.045-.187-.01-.196a11.22 11.22 0 01-.004-.309v-.673a7.874 7.874 0 00-.028-.647C18.493 4.443 15.403 2 12.036 2zm-.071 1.395h.071c2.698 0 5.158 1.946 5.395 4.418.014.163.02.317.022.548l.003.904c.003.145.008.265.018.4l.013.093.065.276c.192.73.537 1.41 1.013 1.997l.138.162-.016-.026c.264.394.414.852.435 1.323v.164a2.653 2.653 0 01-.614 1.773 3.418 3.418 0 01-2.157 1.03 40.271 40.271 0 01-8.7.001 3.485 3.485 0 01-2.197-1.065 2.656 2.656 0 01-.575-1.716v-.218l.018-.19a2.67 2.67 0 01.313-.94l.084-.139a5.25 5.25 0 001.22-2.433l.015-.142.006-.92.016-.466c.008-.147.017-.287.029-.422.228-2.466 2.687-4.412 5.385-4.412zm2.643 16.296a.684.684 0 00-.97.106c-.102.13-.222.247-.355.347a2.138 2.138 0 01-1.577.446 2.117 2.117 0 01-1.413-.79.684.684 0 00-.969-.111.703.703 0 00-.11.98 3.495 3.495 0 004.902.586c.217-.163.42-.362.597-.584a.704.704 0 00-.105-.98z",fill:"#FFF",fillRule:"evenodd"}))},Gk=Pe.a.div.withConfig({displayName:"style__WrapNotification",componentId:"sc-1xpz3uy-0"})(["margin-right:",";position:relative;text-align:left;@media (max-width:1100px){margin-right:0;margin-left:",";}"],C(32),C(16)),$k=Pe.a.div.withConfig({displayName:"style__Icon",componentId:"sc-1xpz3uy-1"})(["position:relative;cursor:pointer;svg{width:",";height:",";path{fill:",";}}"],C(24),C(24),(function(e){return e.showList?"#87B6F4":"#ffffff"})),Xk=Pe.a.div.withConfig({displayName:"style__Badge",componentId:"sc-1xpz3uy-2"})(["padding:0 ",";position:absolute;top:0;left:calc(100% - ",");display:flex;align-items:center;justify-content:center;background:#e6281d;border-radius:",";color:#ffffff;font-size:",";"],C(4),C(12),C(4),C(10)),Yk=Pe.a.div.withConfig({displayName:"style__ListNotification",componentId:"sc-1xpz3uy-3"})(["position:absolute;padding-top:",";right:0;top:100%;@media (max-width:1100px){padding-top:0;position:fixed;width:100vw;height:100vh;top:0;}"],C(14)),Zk=Pe.a.div.withConfig({displayName:"style__Card",componentId:"sc-1xpz3uy-4"})(["border-radius:4px;background-color:#101010;width:",";max-width:100vw;height:",";@media (max-width:1100px){width:100%;height:100vh;}"],C(488),C(650)),Qk=Pe.a.div.withConfig({displayName:"style__CardHeader",componentId:"sc-1xpz3uy-5"})(["padding:0 ",";"],C(16)),Jk=Pe.a.div.withConfig({displayName:"style__WrapHeader",componentId:"sc-1xpz3uy-6"})(["padding:"," 0;border-bottom:1px solid #404446;display:flex;justify-content:space-between;align-items:center;@media (max-width:1100px){padding:"," 0;border:none;}"],C(16),C(16)),e_=Pe.a.div.withConfig({displayName:"style__Title",componentId:"sc-1xpz3uy-7"})(["font-weight:bold;font-size:",";color:#ffffff;display:flex;align-items:center;@media (max-width:1100px){font-size:",";}svg{width:",";margin-right:",";display:none;@media (max-width:1100px){display:block;}}"],C(24),C(16),C(24),C(10)),t_=Pe.a.div.withConfig({displayName:"style__MarkReadAll",componentId:"sc-1xpz3uy-8"})(["cursor:pointer;font-size:",";color:#d3e4fe;"],C(16)),n_=Pe.a.div.withConfig({displayName:"style__CardBody",componentId:"sc-1xpz3uy-9"})(["height:",";padding-top:",";overflow:auto;@media (max-width:1100px){padding-top:0;height:calc(100vh - 56px);}::-webkit-scrollbar{width:8px;}::-webkit-scrollbar-track{background:none;}::-webkit-scrollbar-thumb{background:rgba(39,39,39,0.8);border-radius:4px;}::-webkit-scrollbar-thumb:hover{background:#555;width:8px;}"],C(589),C(8)),i_=Pe.a.div.withConfig({displayName:"style__CardItem",componentId:"sc-1xpz3uy-10"})(["position:relative;padding:",";background-color:#101010;transition:300ms ease;display:flex;cursor:pointer;align-items:flex-start;animation:fadeIn 1s;&:not(:last-child){margin-bottom:",";}&:hover{background-color:#1f2325;}"],C(16),C(4)),a_=Pe.a.div.withConfig({displayName:"style__CardImage",componentId:"sc-1xpz3uy-11"})(["min-width:",";margin-right:",";@media (max-width:1100px){min-width:",";margin-right:",";}"],C(150),C(16),C(128),C(12)),o_=Pe.a.div.withConfig({displayName:"style__WrapImage",componentId:"sc-1xpz3uy-12"})(["padding-top:56.25%;background-color:#333333;position:relative;border-radius:",";@media (max-width:1100px){border-radius:",";}"],C(8),C(4)),r_=Pe.a.img.withConfig({displayName:"style__Image",componentId:"sc-1xpz3uy-13"})(["position:absolute;width:100%;height:100%;top:0;left:0;border-radius:",";@media (max-width:1100px){border-radius:",";}"],C(8),C(4)),c_=Pe.a.div.withConfig({displayName:"style__CardContent",componentId:"sc-1xpz3uy-14"})(["width:",";@media (max-width:1100px){width:calc(100% - 130px);padding-right:",";}"],C(258),C(16)),s_=Pe.a.div.withConfig({displayName:"style__CardTitle",componentId:"sc-1xpz3uy-15"})(["font-size:",";font-weight:bold;color:#ffffff;margin-bottom:",";white-space:nowrap;overflow:hidden;text-overflow:ellipsis;@media (max-width:1100px){margin-bottom:",";}"],C(16),C(8),C(4)),l_=Pe.a.div.withConfig({displayName:"style__CardDescription",componentId:"sc-1xpz3uy-16"})(["font-size:",";color:#a9aaad;margin-bottom:",";display:-webkit-box;overflow:hidden;-moz-line-clamp:2;-o-box-orient:vertical;-o-line-clamp:2;-webkit-box-orient:vertical;-webkit-line-clamp:2;box-orient:vertical;line-clamp:2;line-height:",";max-height:",";@media (max-width:1100px){margin-bottom:",";font-size:",";}"],C(14),C(8),C(16),C(32),C(4),C(12)),u_=Pe.a.div.withConfig({displayName:"style__Time",componentId:"sc-1xpz3uy-17"})(["font-size:",";color:#a9aaad;@media (max-width:1100px){font-size:",";}"],C(14),C(12)),d_=Pe.a.div.withConfig({displayName:"style__DotUnread",componentId:"sc-1xpz3uy-18"})(["width:",";height:",";border-radius:50%;background-color:#f4341b;position:absolute;top:50%;right:",";transform:translateY(-50%);@media (max-width:1100px){right:",";}"],C(12),C(12),C(22),C(10)),p_=Object(Pe.b)(["0%{background-position:-100px;}40%,100%{background-position:150px;}"]),h_=Object(Pe.b)(["0%{background-position:-100px;}40%,100%{background-position:240px;}"]),f_="\n  background-image: linear-gradient(90deg, #333333 0px, #4a4a4a 90px, #333333 180px);\n  background-size: 600px;\n",m_=Pe.a.div.withConfig({displayName:"style__ImageSkeleton",componentId:"sc-1xpz3uy-19"})(["padding-top:56%;border-radius:",";background-color:#333333;"," animation:"," 1.3s infinite linear;"],C(8),f_,p_),b_=Pe.a.div.withConfig({displayName:"style__TitleSkeleton",componentId:"sc-1xpz3uy-20"})(["height:",";width:",";background-color:#333333;margin-bottom:",";"," animation:"," 1.3s infinite linear;"],C(21),C(124),C(8),f_,h_),g_=Pe.a.div.withConfig({displayName:"style__DescriptionSkeleton",componentId:"sc-1xpz3uy-21"})(["height:",";background-color:#333333;margin-bottom:",";"," animation:"," 1.3s infinite linear;"],C(20),C(8),f_,h_),y_=Pe.a.div.withConfig({displayName:"style__TimeSkeleton",componentId:"sc-1xpz3uy-22"})(["height:",";background-color:#333333;width:",";"," animation:"," 1.3s infinite linear;"],C(20),C(104),f_,h_),v_=Pe.a.div.withConfig({displayName:"style__Message",componentId:"sc-1xpz3uy-23"})(["display:flex;height:calc(100% - ",");justify-content:center;align-items:center;flex-direction:column;"],C(150)),O_=Pe.a.img.withConfig({displayName:"style__ImgError",componentId:"sc-1xpz3uy-24"})(["width:",";margin-bottom:",";"],C(240),C(8)),w_=Pe.a.div.withConfig({displayName:"style__TitleMessage",componentId:"sc-1xpz3uy-25"})(["font-weight:bold;font-size:",";text-align:center;"],C(18)),j_=Pe.a.img.withConfig({displayName:"style__ImgNotFould",componentId:"sc-1xpz3uy-26"})(["width:",";margin-bottom:",";"],C(80),C(16)),x_=function(e){var t=e.setShowList,n=e.showList,i=e.countMessageUnread,a=e.setCountMessageUnread;Object(r.d)((function(){z.getCountNotifyMessageUnread((function(e,t){!e&&t&&t.data&&t.data.total&&a(t.data.total)}))}),[]);return Object(o.h)($k,{showList:n,onClick:function(){!n&&i>0&&(a(0),z.quickViewNotification((function(e,t){}))),t(!n)}},Object(o.h)(Kk,null),i>0&&Object(o.h)(Xk,{id:"noti-badge"},i>99?"99+":i))};function k_(e){return function(e){if(Array.isArray(e))return __(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return __(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return __(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function __(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var S_=function(e){return Object(o.h)(i_,e,Object(o.h)(a_,null,Object(o.h)(m_,null)),Object(o.h)(c_,null,Object(o.h)(b_,null),Object(o.h)(g_,null),Object(o.h)(y_,null)))},I_=function(){return k_(Array(5)).map((function(e,t){return Object(o.h)(S_,{key:"skeleton-"+t})}))};function N_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var C_=function(e,t){var n=N_(Object(r.k)(!1),2),i=n[0],a=n[1];return Object(r.d)((function(){var n=new IntersectionObserver((function(e){var t=N_(e,1)[0];a(t.isIntersecting)}),{rootMargin:t});if(e)return n.observe(e),function(){return n.unobserve(e)}}),[e]),i},P_=n(423),A_=n.n(P_),M_=n(424),E_=n.n(M_);function D_(){return(D_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var L_=function(e){return Object(o.h)("svg",D_({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),Object(o.h)("path",{d:"M14.293 5.293a1 1 0 011.497 1.32l-.083.094L10.415 12l5.292 5.293a1 1 0 01.083 1.32l-.083.094a1 1 0 01-1.32.083l-.094-.083-6-6a1 1 0 01-.083-1.32l.083-.094 6-6z",fill:"#FFF",fillRule:"evenodd"}))};function R_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function z_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R_(Object(n),!0).forEach((function(t){U_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V_(e){return function(e){if(Array.isArray(e))return F_(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||H_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||H_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H_(e,t){if(e){if("string"==typeof e)return F_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F_(e,t):void 0}}function F_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var q_=function(e){var t=e.cardBody,n=e.setShowList,i=B_(Object(r.k)({currentPage:0,nextPage:1,data:[],isLoading:!0,enableLoadMore:!0}),2),a=i[0],c=i[1],s=B_(Object(r.k)({status:!1,message:"Đã có lỗi xảy ra, bạn vui lòng thử lại sau."}),2),l=s[0],u=s[1],d=Object(r.j)(),p=C_(d.current,"0px"),h=function(){var e={page:a.nextPage,per_page:10};z.getAllNotification(e,(function(e,t){if(!e&&t&&t.data){var n=a.data;t.data.data&&(n=[].concat(V_(a.data),V_(t.data.data))),t.data.next_page?c({currentPage:t.data.current_page,nextPage:t.data.next_page,data:n,enableLoadMore:!0,isLoading:!1}):c(z_(z_({},a),{},{data:n,enableLoadMore:!1,isLoading:!1}))}else u(z_(z_({},e),{},{status:!0}))}))};Object(r.d)((function(){h()}),[]),Object(r.d)((function(){p&&h()}),[p]);var f=function(e,t){z.markNotificationAsRead(e,(function(e,t){}));var n=V_(a.data);n[t].status=2,c(z_(z_({},a),{},{data:n}))},m=function(e,t){return function(n){n.preventDefault(),f(e,t)}},b=function(e,t){return function(){e.link&&(window.location.href=e.link),f(e.id,t)}};return Object(o.h)(Yk,null,Object(o.h)(Zk,null,Object(o.h)(Qk,null,Object(o.h)(Jk,null,Object(o.h)(e_,null,Object(o.h)(L_,{onClick:function(){return n(!1)}}),"Thông báo"),Object(o.h)(t_,{onClick:function(){if(0!==a.data.length){z.markAllNotificationAsRead((function(e,t){}));for(var e=V_(a.data),t=0;t<e.length;t++)e[t].status=2;c(z_(z_({},a),{},{data:e}))}}},"Đánh dấu đã đọc tất cả"))),Object(o.h)(n_,{ref:t},a.isLoading?Object(o.h)(I_,null):l.status?Object(o.h)(v_,null,Object(o.h)(O_,{src:A_.a}),Object(o.h)(w_,null,"Đã có lỗi xảy ra, bạn vui lòng thử lại sau.")):a.data.length>0?a.data.map((function(e,t){return Object(o.h)(i_,{key:e.id},Object(o.h)(a_,{onClick:b(e,t)},Object(o.h)(o_,null,Object(o.h)(r_,{src:e.image_url}))),Object(o.h)(c_,{onClick:b(e,t)},Object(o.h)(s_,null,e.title),Object(o.h)(l_,null,e.description),Object(o.h)(u_,null,function(e){var t=Date.parse(new Date)/1e3+25200-e;if(t<60)return"".concat(Math.floor(t)," giây trước");var n=t/60;if(n<60)return"".concat(Math.floor(n)," phút trước");var i=n/60;if(i<24)return"".concat(Math.floor(i)," giờ trước");var a=i/24;if(a<8)return"".concat(Math.floor(a)," ngày trước");var o=new Date(1e3*e),r=String(o.getDate()).padStart(2,"0"),c=String(o.getMonth()+1).padStart(2,"0"),s=o.getFullYear();return"".concat(r,"/").concat(c,"/").concat(s)}(e.created_at))),2!==e.status&&Object(o.h)(d_,{className:"dot-unread",onClick:m(e.id,t)}))})):Object(o.h)(v_,null,Object(o.h)(j_,{src:E_.a}),Object(o.h)(w_,null,"Hiện tại bạn không có thông báo nào!")),a.enableLoadMore&&!l.status&&Object(o.h)("div",{ref:d},Object(o.h)(S_,null),Object(o.h)(S_,null)))))};function W_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var G_=function(e){var t=W_(Object(r.k)(!1),2),n=t[0],i=t[1],a=W_(Object(r.k)(0),2),c=a[0],s=a[1],l=Object(r.j)(),u=Object(r.j)();return Object(r.d)((function(){var e=function(e){!l.current||l.current.contains(e.target)||"noti-badge"==e.target.id||e.target.classList.contains("dot-unread")||i(!1)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[]),Object(r.d)((function(){n&&u.current&&u.current.scrollTo(0,0)}),[n]),Object(o.h)(Gk,{ref:l},Object(o.h)(x_,{countMessageUnread:c,setCountMessageUnread:s,showList:n,setShowList:i}),Object(o.h)(Ct.a,{classNames:"fadeInDown",timeout:500,in:n,mountOnEnter:!0,unmountOnExit:!1},Object(o.h)(q_,{setShowList:i,cardBody:u})))},$_=n(134),X_=n.n($_),Y_=n(425),Z_=n.n(Y_),Q_=n(426),J_=n.n(Q_),eS=n(427),tS=n.n(eS),nS=[{slug:"/browse",text:"Trang chủ",name:"home"},{slug:"/browse/movie",text:"Phim điện ảnh",name:"movie"},{slug:"/browse/tvseries",text:"Phim bộ",name:"tvseries"},{slug:"/browse/rental",text:"Phim thuê",name:"tvod"},{slug:"/browse/mylist",text:"Danh sách của tôi",name:"mylist"},{slug:"/account",text:"Cá nhân",name:"account"}],iS=[{slug:"/browse",text:"Trang chủ",name:"home"},{slug:"/browse/movie",text:"Phim điện ảnh",name:"movie"},{slug:"/browse/tvseries",text:"Phim bộ",name:"tvseries"},{slug:"/browse/rental",text:"Phim thuê",name:"tvod"},{slug:"/browse/mylist",text:"Danh sách của tôi",name:"mylist"}],aS=[{slug:"/browse",text:"Trang chủ",name:"home"},{slug:"/browse/mylist",text:"Danh sách của tôi",name:"mylist"}],oS=[{slug:"/",text:"Trang chủ",name:"langding-page"},{slug:"/browse",text:"Kho phim",name:"home"},{slug:"/browse/movie",text:"Phim điện ảnh",name:"movie"},{slug:"/browse/tvseries",text:"Phim bộ",name:"tvseries"},{slug:"/browse/rental",text:"Phim thuê",name:"tvod"},{slug:"/khuyen-mai",text:"Khuyến mãi",name:"news"},{slug:"/help",text:"Hỗ trợ",name:"help"}],rS=n(428),cS=n.n(rS),sS=function(e){var t=e.action,n=e.params,i=e.children;return Object(o.h)("li",{onClick:function(){t(n.name,n.text)}},i)};n(949);function lS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function uS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lS(Object(n),!0).forEach((function(t){dS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function fS(){return(fS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var mS=Object(Jy.memo)((function(e){var t,i=JSON.parse(localStorage.getItem("profile"))||{},a=i&&i.isKid,l=a?aS:iS,u=a?aS:nS,d=e.userContext,p=e.myListContext,h=e.Notifi,f=e.configApp,m=Object(r.j)(),g=Object(r.j)(),y=Object(r.j)(),v=Object(s.g)(),O=q(),w=Object(Ve.useTracking)().trackEvent,x=i&&i.profileId,_=i&&i.profileName,S=n(111),I=function(){var e=JSON.parse(localStorage.getItem("profile")),t=e&&e.profileId,n="sha1$"+localStorage.__pfid;return j.a.verify(t,n)}(),N=Object(r.j)(!0),T=pS(Object(r.k)({keySearch:"",message:"",messErrorCode:"",code:"",resultSearch:null,statusSearch:!1,changeContent:!1,resultSuggest:null,showIcon:!1,status:!1,statusPopup:!1,showPopupInputCode:!1}),2),C=T[0],P=T[1],A=pS(Object(r.k)(null),2),M=A[0],E=A[1],D="//assets.glxplay.io/web/images/logoglx.svg",L=function(){P({status:!C.status})},R=function(){P({status:!1})},U=function(e,n){clearTimeout(t),t=setTimeout((function(){if(""==e.target.value)v.push(n);else{var t=e.target.value;t=t.toString().replace(/%/g,""),""!==(t=encodeURI(t))&&v.push("/search?q="+t),w({from_screen:O.lastpage||"",event_category:"browse",event_action:"search",direct_object_type:"keyword",direct_object_id:t})}}),500)},V=function(e,t){b.isMobile&&R(),w({on_screen:O.lastpage,direct_object_type:"menu",direct_object_id:e,direct_object_property:t,event_action:"click",event_category:"browse"})},B=function(e){var t=document.getElementById("profileMobile");t&&(e.length<2?t.style.display="none":t.style.display="flex")},H=function e(t){h.setNotification({status:!0,type:"PINProfile",typeUI:"inputProfile",submitPIN:F,forgotPIN:W,resetInput:!0,onCloseForgot:e,itemProfile:t})},F=function(e){i.isKid=e.is_kid,i.profileId=e.short_id,i.profileName=e.name;var t=S.generate(e.short_id);t&&localStorage.setItem("__pfid",t.substr(5)),localStorage.setItem("profile",JSON.stringify(i)),localStorage.setItem("profileKidMode",!!e.is_kid),p.getDataMyList(),v.push({pathname:"/browse",state:{idProfile:e.short_id}}),R(),N.current=!1,setTimeout((function(){N.current=!0}),500)},W=function(e){h.setNotification({status:!0,type:"setPassProfile",titleHead:"Nhập mật khẩu để thay đổi mã PIN",forgotPIN:"forgotPIN",backHome:!1,confirmPass:G,getItemProfile:K,onCloseForgot:H,itemProfile:e})},K=function(e){h.setNotification({status:!0,type:"PINProfile",typeUI:"setProfile",setPINAgain:"setPINAgain",submitPINAgain:X,onCloseForgot:H,itemProfile:e})},G=function(){},X=function(e,t){if(e&&t){e.pin_code=t||"";var n={shortId:e.short_id,model:e};z.editAccountViewer(n,(function(e,t){var n;!e&&t&&(h.setNotification({status:!1}),n="success",setTimeout((function(){h.setNotification({status:!0,description:n,type:"success"})}),0))}))}},Y=function(e){e.short_id!==x&&(w({on_screen:O.lastpage,from_screen:O.history.length>1&&O.history[O.history.length-2]||"",event_category:"account",event_action:"click",direct_object_type:"user_profile",direct_object_id:e.name,direct_object_property:e.is_kid?"kid_mode":"none_kid_mod",context_value:{profile_id:e.short_id,kid_mode:e.is_kid?1:0,lock_profile:e.is_pin_code_enforced?1:0}}),e.is_pin_code_enforced?h.setNotification({status:!0,type:"PINProfile",typeUI:"inputProfile",submitPIN:F,forgotPIN:W,itemProfile:e}):"true"!=localStorage.profileKidMode||e.short_id===x||e.is_kid?F(e):h.setNotification(uS(uS({},h.notification),{},{status:!0,type:"confirm",title:"Chuyển kho phim",description:"Kho phim người lớn có chứa những phim không phù hợp cho trẻ em. Vui lòng xác nhận bạn trên 13 tuổi để tiếp tục.",confirmed:function(){return F(e)}})))},Z=function(e,t){w({on_screen:O.lastpage,from_screen:O.history.length>1&&O.history[O.history.length-2]||"",direct_object_type:"menu",direct_object_id:e,direct_object_property:t,event_action:"click",event_category:"browse"})};return Object(r.d)((function(){!d.isLogin||0!=e.theme&&1!=e.theme||z.getAccountViewer((function(e,t){!e&&t&&E(t.data)}))}),[e.theme]),Object(o.h)("div",{className:v.location.pathname.includes("lobby")?"nav-all hidden":"nav-all"},"hideHeader"!==e.theme&&Object(o.h)("div",{className:"navbar-main",id:"navbar"},Object(o.h)("div",{className:"container-nav"},Object(o.h)("div",{className:"nav-left"},Object(o.h)("div",{className:"logo-nav"},d.isLogin?Object(o.h)(c.c,{exact:!0,activeClassName:"active",onClick:function(){$("html, body").stop().animate({scrollTop:0},700,"swing",(function(){}))},className:"nav-link",to:I?"/browse":"/lobby"},Object(o.h)("img",{id:"logo",src:D,width:"100"})):Object(o.h)("a",{className:"nav-link",href:"/"},Object(o.h)("img",{id:"logo",src:D,width:"100"}))),Object(o.h)("div",{className:"navigation"},d.isLogin?Object(o.h)("ul",null,l.map((function(e,t){return Object(o.h)(sS,{key:t,class:"nav-item",action:V,params:e},Object(o.h)(c.c,{exact:!0,activeClassName:"active",className:"nav-link",to:I?e.slug:"/lobby"},e.text))}))):Object(o.h)("ul",null,oS.map((function(e,t){return Object(o.h)(sS,{class:"nav-item",key:t,action:V,params:e},Object(o.h)("a",{className:"nav-link",href:e.slug},e.text))}))))),Object(o.h)("div",{className:"nav-right"},d.isLogin&&Object(o.h)(o.b,null,Object(o.h)(bk,{key:"search",onKeyUp:U}),1===f.notification&&"true"!==localStorage.getItem("profileKidMode")&&Object(o.h)(G_,null)),d.isLogin?d.data&&d.data.infoUser&&Object(o.h)("div",{class:"dropdown-nav hover"},Object(o.h)("div",{className:"icon-user"},M&&-1===M.findIndex((function(e){return e.short_id===x}))&&Object(o.h)("img",{src:cS.a,className:"icon-anonymous"}),M&&M.map((function(e){if(e.short_id==x)return Object(o.h)("img",{key:e.avatar_image_url,width:"40",src:e.avatar_image_url})}))),Object(o.h)(_c,null),Object(o.h)("ul",null,M&&M.map((function(e,t){if(e.short_id!=x)return Object(o.h)("li",{onClick:function(){return Y(e)},className:"link-info item-profile"},Object(o.h)("a",null,Object(o.h)("img",{className:"".concat(e.is_pin_code_enforced?"isPIN-img":"icon"),src:e.avatar_image_url}),Object(o.h)("span",{className:"".concat(x==e.short_id?"active":"")},k.checkLenghtSTrings(e.name,8)),Object(o.h)("div",{className:"wrap-icon"},e.is_pin_code_enforced&&Object(o.h)("img",{className:"icon-type",src:Ax.a}),e.is_kid&&Object(o.h)("img",{className:"icon-type",src:Ex.a}))))})),M&&Object(o.h)("li",null,Object(o.h)(c.b,{to:{pathname:"/lobby",state:{isEdit:!0}}},Object(o.h)("img",{src:X_.a}),Object(o.h)("span",null,"Quản lý kho phim"))),Object(o.h)("li",{className:"link-info"},Object(o.h)(c.b,{className:"hr-tag",to:"/account"},Object(o.h)("img",{src:Z_.a}),Object(o.h)("span",null,"Tài khoản"))),1==f.signupsigninQuickLogin&&Object(o.h)("li",{className:"link-info"},Object(o.h)("a",{href:"#",onClick:function(e){w({on_screen:window.localStorage.on_screen&&window.localStorage.on_screen,from_screen:O.history.length>1&&O.history[O.history.length-2]||"",event_action:"click",direct_object_type:"quick_login",profile_id:x,profile_name:_,profile_kid_mode:"true"==localStorage.getItem("profileKidMode")?"1":"0"}),h.setNotification({status:!0,type:"quickLogin"})}},Object(o.h)("img",{src:J_.a}),Object(o.h)("span",null,"Đăng nhập nhanh"))),Object(o.h)("li",{className:"logout"},Object(o.h)("a",{href:"#",onClick:d.logout},Object(o.h)("img",{src:tS.a}),Object(o.h)("span",null,"Đăng xuất"))))):Object(o.h)("div",{className:"login-nav"},Object(o.h)(c.b,{to:"/auth/login"},Object(o.h)(me,{className:"btn btn-login",content:"Đăng nhập"}))))),Object(o.h)("div",{className:"nav-mb"},Object(o.h)("div",{className:"container-nav-mb"},Object(o.h)("div",{className:"icon-navbar-mb",onClick:L,ref:g},C.status?Object(o.h)(Cx,null):Object(o.h)(Nx,null)),Object(o.h)("div",{className:"nav-logo-mb",onClick:R,ref:m},Object(o.h)(c.b,{className:"nav-link a-link",to:"/"},Object(o.h)("img",{id:"logo",src:D,width:"70"}))),d.isLogin?Object(o.h)("div",{className:"nav-login-mb",onClick:R,ref:y},Object(o.h)("div",{className:"search-nav-mb"},Object(o.h)(qk,{onKeyUp:U}),1===f.notification&&"true"!==localStorage.getItem("profileKidMode")&&Object(o.h)(G_,null))):Object(o.h)("div",{className:"login-nav",onClick:R},Object(o.h)(c.b,{to:"/auth/login",id:"login",className:"nav-link"},"Đăng nhập"))),Object(o.h)("div",{className:C.status?"menu-roll-mb show":N.current?"menu-roll-mb":"menu-roll-mb no-animate"},d.isLogin?Object(o.h)("ul",null,Object(o.h)("li",{className:"profile",id:"profileMobile"},M&&M.map((function(e,t){return x==e.short_id?void B(M):(B(M),Object(o.h)("a",{onClick:function(){return Y(e)},className:"icon-profile"},Object(o.h)("img",{width:"50",src:e.avatar_image_url}),Object(o.h)("p",{className:"name-profile ".concat(x==e.short_id?"active":"")},k.checkLenghtSTrings(e.name,15))))}))),Object(o.h)("li",{className:"profile-manager"},Object(o.h)(c.b,{onClick:L,to:{pathname:"/lobby",state:{isEdit:!0}}},Object(o.h)("img",{className:"icon-edit",width:"16",src:X_.a}),"Quản lý kho phim")),u.map((function(e,t){return Object(o.h)("li",{key:t,className:"nav-item",action:V,onClick:L},Object(o.h)(c.c,{exact:!0,activeStyle:{fontWeight:"600"},to:e.slug},e.text))})),1==f.signupsigninQuickLogin&&Object(o.h)("li",{className:"link-info"},Object(o.h)("a",{href:"#",onClick:function(e){w({on_screen:window.localStorage.on_screen&&window.localStorage.on_screen,event_action:"click",direct_object_type:"quick_login",profile_id:x,profile_name:_,profile_kid_mode:"true"==localStorage.getItem("profileKidMode")?"1":"0"}),h.setNotification({status:!0,type:"quickLogin"})}},Object(o.h)("span",null,"Đăng nhập nhanh")))):Object(o.h)("ul",null,oS.map((function(e,t){return Object(o.h)("li",{key:t,action:Z,onClick:L},Object(o.h)("a",{href:e.slug},e.text))})))))))}),(function(e,t){return e.theme===t.theme&&(e.userContext.isLogin===t.userContext.isLogin||void 0)})),bS=function(e){var t=Object(r.b)(Oc),n=Object(r.b)(Lc),i=Object(r.b)(Eo),a=Object(r.b)(Nr);return Object(o.h)(mS,fS({myListContext:n,Notifi:i,userContext:t,configApp:a},e))};function gS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var vS=function(e){var t=gS(Object(r.k)([]),2),n=t[0],i=t[1],a=e.page;return Object(r.d)((function(){var t;a.current!==e.index||e.isStop||(t={size:20,page:e.index-1,output:"med_info"},z.getSearchPath(e.search,t,(function(t,n){if(!t)if(n.data&&n.data.docs&&n.data.docs.length>0){if(b.isMobile)i(n.data.docs);else{var o=_.chunk(n.data.docs,5);if(o&&o.length>0&&n.data.docs.length%5!=0){var r=o[o.length-1];e.setDataResidual(r),o.splice(o.length-1,1)}i(o)}e.setPage({total:a.total+1,current:a.current+1})}else e.setStop(!0)})))}),[e.page]),e.page.total>1&&n.length>0&&n.map((function(t,n){return Object(o.h)(qu.a,{key:t.slug,offset:300,placeholder:!b.isMobile&&Object(o.h)(Ed,null),once:!0},b.isMobile?Object(o.h)("div",{className:"card"},Object(o.h)("div",{className:"card-body"},Object(o.h)("img",{className:"card-img",src:"//assets.glxplay.io/images/w400/".concat(t.image.posterLandscape)}),e.renderTagPoster(t),Object(o.h)("div",{className:"link-redirect"},Object(o.h)(c.b,{to:"/title/"+t.slug,onClick:e.trackingMovie(t)})))):Object(o.h)(cu,{data:t,slug:"search",index:n,ribbonType:"Search",displayNameVi:"search"}))}))},OS=Pe.a.div.withConfig({displayName:"style__DownloadApp",componentId:"sc-15vgcka-0"})(["position:fixed;bottom:20px;left:50%;transform:translateX(-50%);width:92%;border-radius:50px;padding:1rem 0;background:#0077c8;text-align:center;cursor:pointer;color:#fff;z-index:999;"]);function wS(){return(wS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var jS=function(e){return Object(o.h)("svg",wS({width:96,height:96,xmlns:"http://www.w3.org/2000/svg"},e),Object(o.h)("defs",null,Object(o.h)("linearGradient",{x1:"50%",y1:"100%",x2:"50%",y2:"0%",id:"prefix__a"},Object(o.h)("stop",{stopColor:"#595959",offset:"0%"}),Object(o.h)("stop",{stopColor:"#B5B5B5",offset:"100%"})),Object(o.h)("linearGradient",{x1:"50%",y1:"100%",x2:"50%",y2:"1.543%",id:"prefix__b"},Object(o.h)("stop",{stopColor:"#A5A5A5",offset:"0%"}),Object(o.h)("stop",{stopColor:"#E0E0E0",offset:"100%"}))),Object(o.h)("g",{fill:"none"},Object(o.h)("path",{d:"M80.537 36.711l-.147-10.554c3.087-2.917 2.997-7.864.147-10.548-2.917-3.078-7.837-3.012-10.62-.08l-10.629.073H48.734c-2.945-3.092-7.887-2.964-10.547-.139-3.097 2.933-3.003 7.857-.08 10.617l-.133 10.631.213 10.555c-3.114 2.942-2.95 7.922-.213 10.474 2.636 2.935 7.496 3.329 10.686.154l9.304.066 11.952-.066c3.228 3.211 8.16 2.677 10.474.066 3.097-2.933 3.003-7.857.08-10.617l.067-10.632zM33.587 58.44l-7.696 7.693a2.812 2.812 0 103.977 3.977l7.696-7.693a2.812 2.812 0 10-3.977-3.977z",fill:"url(#prefix__a)"}),Object(o.h)("path",{d:"M59.437 0C39.3 0 22.875 16.425 22.875 36.563c0 20.137 16.425 36.562 36.562 36.562C79.575 73.125 96 56.7 96 36.563 96 16.425 79.575 0 59.437 0zM21.914 62.155a2.812 2.812 0 013.977 0l7.954 7.954a2.812 2.812 0 010 3.977l-21.09 21.09a2.812 2.812 0 01-3.977 0L.824 87.222a2.812 2.812 0 010-3.977zm37.414-16.934a2.812 2.812 0 012.812 2.812l-.002.082a2.811 2.811 0 11-5.624 0l.002-.082a2.811 2.811 0 012.812-2.812zm0-22.8a2.812 2.812 0 012.812 2.812l-.002 14.482a2.811 2.811 0 11-5.624 0l.002-14.482a2.811 2.811 0 012.812-2.812z",fill:"url(#prefix__b)"})))};function xS(){return(xS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var kS=function(e){return Object(o.h)("svg",xS({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},e),Object(o.h)("defs",null,Object(o.h)("linearGradient",{x1:"50%",y1:"100%",x2:"50%",y2:"0%",id:"prefix__a"},Object(o.h)("stop",{stopColor:"#595959",offset:"0%"}),Object(o.h)("stop",{stopColor:"#B5B5B5",offset:"100%"})),Object(o.h)("linearGradient",{x1:"50%",y1:"100%",x2:"50%",y2:"1.543%",id:"prefix__b"},Object(o.h)("stop",{stopColor:"#A5A5A5",offset:"0%"}),Object(o.h)("stop",{stopColor:"#E0E0E0",offset:"100%"}))),Object(o.h)("g",{fill:"none"},Object(o.h)("path",{d:"M53.691 24.474l-.098-7.036c2.058-1.945 1.999-5.243.098-7.032-1.944-2.052-5.224-2.008-7.08-.053l-7.086.049H32.49c-1.963-2.062-5.258-1.977-7.031-.093-2.065 1.955-2.002 5.238-.054 7.078l-.088 7.087.142 7.037c-2.076 1.96-1.967 5.281-.142 6.982 1.757 1.957 4.997 2.22 7.124.103l6.203.044 7.968-.044c2.151 2.14 5.44 1.785 6.983.044 2.064-1.956 2.001-5.238.053-7.078l.044-7.088zm-31.3 14.485l-5.13 5.13a1.874 1.874 0 102.65 2.65l5.131-5.128a1.874 1.874 0 10-2.65-2.652z",fill:"url(#prefix__a)"}),Object(o.h)("path",{d:"M39.625 0C26.2 0 15.25 10.95 15.25 24.375S26.2 48.75 39.625 48.75 64 37.8 64 24.375 53.05 0 39.625 0zM14.609 41.437a1.874 1.874 0 012.651 0l5.303 5.303a1.874 1.874 0 010 2.65L8.503 63.45a1.874 1.874 0 01-2.651 0L.549 58.149a1.874 1.874 0 010-2.651zm24.943-11.29c1.036 0 1.875.84 1.875 1.875l-.001.055a1.874 1.874 0 11-3.75 0l.001-.055c0-1.036.84-1.875 1.875-1.875zm0-15.2c1.036 0 1.875.84 1.875 1.875l-.001 9.655a1.874 1.874 0 11-3.75 0l.001-9.655c0-1.036.84-1.875 1.875-1.875z",fill:"url(#prefix__b)"})))};n(950);function _S(e){return function(e){if(Array.isArray(e))return NS(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||IS(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||IS(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IS(e,t){if(e){if("string"==typeof e)return NS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?NS(e,t):void 0}}function NS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var TS=function(e){var t,n=SS(Object(r.k)(null),2),i=n[0],a=n[1],l=SS(Object(r.k)({data:null}),2),u=l[0],d=l[1],p=SS(Object(r.k)({listItem:[],listRibbon:[]}),2),h=p[0],f=p[1],g=SS(Object(r.k)({total:2,current:2}),2),y=g[0],v=g[1],O=Object(r.b)(F),w=xs(),j=Object(s.h)(),x=Object(r.j)(j.search),k=SS(Object(r.k)(-1),2),_=k[0],S=k[1],I=SS(Object(r.k)(null),2),N=I[0],T=I[1],C=SS(Object(r.k)(null),2),P=C[0],A=C[1],E=SS(Object(r.k)(null),2),D=E[0],L=E[1],R=Object(Ve.useTracking)().trackEvent,U=SS(Object(r.k)(!0),2),V=U[0],B=U[1],H=SS(Object(r.k)(null),2),q=H[0],W=H[1],K=SS(Object(r.k)(!0),2),G=K[0],$=K[1],X=function(e){z.getSearchPath(e,{size:20,page:0,output:"med_info"},(function(e,t){if(!e){var n,i;if(window.criteo_q.push({event:"viewList",item:[t.data.docs[0]?t.data.docs[0].titleId:"",t.data.docs[1]?t.data.docs[1].titleId:"",t.data.docs[2]?t.data.docs[2].titleId:""]}),t.data.docs.length>0){if((n=m.a.chunk(t.data.docs,5))&&n.length>1&&t.data.docs.length%5!=0){var a=n[n.length-1];f({listItem:a,listRibbon:[a]}),n.splice(n.length-1,1)}$(!1)}t.data.recDocs&&t.data.recDocs.length>0?(i=m.a.chunk(t.data.recDocs,5),A(t.data.recMessage)):A(null),b.isMobile?(d({data:t.data.docs}),L(t.data.recDocs&&t.data.recDocs)):(d({data:n}),L(i)),v({current:2,total:2});var o=t.data.message;(o=o.replace('"','<b>"')).includes('"')&&(o=o.replace(/.$/,'"</b>')),T(o)}B(!1)}))},Y=b.isIOS?"https://apps.apple.com/vn/app/fim/id1064825671?l=vi":"https://play.google.com/store/apps/details?id=vn.fimplus.app.and&hl=en",Z=function(e){var t={movie_type:e.type,price_type:e.priceType};return e.comingSoon&&(t.comingSoon={message:e.comingSoon.message,hasSource:!!e.comingSoon.hasSource}),t},Q=function(e){return function(){R({from_screen:O.lastpage||"",context_value:Z(e),direct_object_type:"film",direct_object_property:e.alternateName,direct_object_id:e._id,event_action:"click",indirect_object_type:"ribbon",indirect_object_id:"search",indirect_object_property:"search"})}},J=function(e,t){return function(){S(t),v({total:0,current:0}),W(null),B(!0);e.display;var n=e.payload;x.current=n,X(n)}};Object(r.d)((function(){W(null),B(!0),S(-1),function(e){z.getSuggestWithPath(e,(function(e,t){var n=t.data.terms;a(n)}))}(j.search),X(j.search),x.current=j.search,window.scrollTo(0,0)}),[j.search]),Object(r.d)((function(){y.total>1&&function(){var e,t=[];for(e=2;e<=y.total;e++)t.push(e);W(t)}()}),[y.total,j.search]);var ee=function(e){var t=[].concat(_S(h.listItem),_S(e)),n=m.a.chunk(t,5);f({listItem:t,listRibbon:n})},te=function(t){var n=M(t.posterTag,w);if(n){var i=n.posterTagTop,a=n.posterTagBottom;return Object(o.h)(o.b,null,i.map((function(e){return Object(o.h)(ll,{key:e.type,src:e.image})})),Object(o.h)(cl,null,a.map((function(t){if("tvod_paid"!==t.type||!("Rentals"===e.typeRibbon||"movie_rental"===O.lastpage||localStorage.lastpage.indexOf("tvod-rental")>=0))return Object(o.h)(sl,{key:t.type,src:t.image})}))))}};return Object(o.h)("div",{className:"search-page"},i&&i.length>0&&Object(o.h)("div",{className:"search-suggest"},Object(o.h)("div",{className:"title-suggest"},"Từ khoá liên quan:"),Object(o.h)("div",{className:"list-suggest"},i.map((function(e,t){return Object(o.h)("div",{onClick:J(e,t),className:_===t?"suggest active":"suggest"},e.display)})))),Object(o.h)("div",{className:"search-result"},Object(o.h)("div",{className:"title-result",dangerouslySetInnerHTML:{__html:N}}),!V&&u.data&&u.data.length>0?b.isMobile?Object(o.h)($d,null,u&&u.data?Object(o.h)("div",{className:"row-mobile"},u.data.map((function(e,t){return Object(o.h)(qu.a,{key:e.slug,offset:100,once:!0},Object(o.h)("div",{className:"card"},Object(o.h)("div",{className:"card-body"},Object(o.h)("img",{className:"card-img",src:"//assets.glxplay.io/images/w400/".concat(e.image.posterLandscape)}),te(e),Object(o.h)("div",{className:"link-redirect"},Object(o.h)(c.b,{to:"/title/"+e.slug,onClick:Q(e)})))))})),y.total>1&&q&&q.length>0?q.map((function(e,t){return Object(o.h)(qu.a,{scrollContainer:document.querySelector(".search-page"),key:t+"search-result",offset:100,once:!0},Object(o.h)(vS,{key:t,index:e,search:x.current,page:y,setPage:v,isStop:G,setStop:$,trackingMovie:Q,setDataResidual:ee,renderTagPoster:te}))})):""):b.isMobile?Object(o.h)("div",{className:"not-founded-mobile"},!V&&Object(o.h)(kS,null)):Object(o.h)("div",{className:"not-founded"},!V&&Object(o.h)(jS,null))):Object(o.h)("div",null,u.data.map((function(e,t){return Object(o.h)(qu.a,{key:t+"search-result",offset:100,placeholder:Object(o.h)(tp,null),once:!0},Object(o.h)(cu,{data:e,slug:"search",index:t,ribbonType:"Search",displayNameVi:"search"}))})),y.total>1&&q&&q.length>0?q.map((function(e,t){return Object(o.h)(qu.a,{scrollContainer:document.querySelector(".search-page"),key:t+"search-result-lazy",offset:100,placeholder:Object(o.h)(tp,null),once:!0},Object(o.h)(vS,{key:t,index:e,search:x.current,page:y,setPage:v,isStop:G,setStop:$,displayNameVi:"search",setDataResidual:ee,renderTagPoster:te}))})):"",(null==h||null===(t=h.listRibbon)||void 0===t?void 0:t.length)>0&&h.listRibbon.map((function(e,t){return Object(o.h)(qu.a,{key:t+"search-result",offset:100,placeholder:Object(o.h)(tp,null),once:!0},Object(o.h)(cu,{data:e,slug:"search",index:t,ribbonType:"Search",displayNameVi:"search"}))}))):b.isMobile?Object(o.h)("div",{className:"not-founded-mobile"},!V&&Object(o.h)(kS,null)):Object(o.h)("div",{className:"not-founded"},!V&&Object(o.h)(jS,null))),P&&Object(o.h)("div",{className:"rec-message"},P),!V&&D?b.isMobile?Object(o.h)($d,null,D.map((function(e,t){return Object(o.h)("div",{className:"card",key:e.slug},Object(o.h)("div",{className:"card-body"},Object(o.h)("img",{className:"card-img",src:"//assets.glxplay.io/images/w400/".concat(e.image.posterLandscape)}),te(e),Object(o.h)("div",{className:"link-redirect"},Object(o.h)(c.b,{to:"/title/"+e.slug,onClick:Q(e)}))))}))):D.map((function(e,t){return Object(o.h)(qu.a,{key:t+"rec-message",offset:100,placeholder:Object(o.h)(tp,null),once:!0},Object(o.h)(cu,{data:e,slug:"search",index:t,ribbonType:"Search"}))})):Object(o.h)("div",null),b.isMobile&&Object(o.h)("a",{href:Y},Object(o.h)(OS,null,"Tải ứng dụng để xem phim")))},CS=(n(951),function(e){return document.body.removeAttribute("style"),window.scrollTo(0,0),Object(o.h)(Rc,null,Object(o.h)("div",{id:"search-page"},Object(o.h)(TS,null)))});n(952);function PS(){return(PS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function AS(e){return(AS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ES(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return DS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DS(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){c=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(c)throw o}}}}function DS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function LS(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function RS(e,t){return(RS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=BS(e);if(t){var a=BS(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return US(this,n)}}function US(e,t){return!t||"object"!==AS(t)&&"function"!=typeof t?VS(e):t}function VS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BS(e){return(BS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var HS=[{slug:"/help",name:"Hỗ trợ"},{slug:"/about-us/chinh-sach-bao-mat",name:"Chính sách bảo mật"}],FS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RS(e,t)}(r,e);var t,n,i,a=zS(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=a.call(this,e)).state={value:null,menu1:!1,menu2:!1},t.refMenu1=Object(o.g)(),t.refMenu2=Object(o.g)(),t.showMenuDropDown=t.showMenuDropDown.bind(VS(t)),t.hideMenuDropDown=t.hideMenuDropDown.bind(VS(t)),t.trackingButton=t.trackingButton.bind(VS(t)),t}return t=r,(n=[{key:"showMenuDropDown",value:function(e,t){var n=this;return function(i){var a,o=0,r=ES(t.current.children);try{for(r.s();!(a=r.n()).done;)o+=a.value.clientHeight+1}catch(e){r.e(e)}finally{r.f()}t.current.style.height=o+"px",n.setState(MS({},e,!0))}}},{key:"trackingButton",value:function(e,t){var n=this;return function(i){var a=n.props.historyPage.history,o=a[a.length-1],r=["payment","payment_result","choose_price","choose_method","choose_package","payment_confirm"].includes(o)?"payment":"browse";"browse"===r&&(r=["payment","user_profile"].includes(o)?"payment":"browse");var c=e.match(/\/(?:[a-zA-Z1-9-]){1,30}$/);n.props.tracking.trackEvent({event_action:"click",direct_object_type:"button",direct_object_id:c[0].replace("/",""),direct_object_property:t,on_screen:a[a.length-1],event_category:r})}}},{key:"hideMenuDropDown",value:function(e,t){var n=this;return function(i){t.current.style.height="0px",n.setState(MS({},e,!1))}}},{key:"render",value:function(){var e=this;if(Object(Ve.useTracking)().trackEvent,!this.props.location.pathname.includes("lobby"))return Object(o.h)("div",{className:"footer-all"},1==this.props.theme&&"hideFooter"!==this.props.theme&&Object(o.h)("div",{className:"footer-body-onb"},HS.map((function(t){return Object(o.h)("div",{className:"link-derect",onClick:e.trackingButton(t.slug,t.name)},Object(o.h)("a",{href:t.slug},t.name))}))),0==this.props.theme&&"hideFooter"!==this.props.theme&&Object(o.h)("footer",{id:"footer",class:"footer"},Object(o.h)("div",{class:"container"},Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12 d-flex justify-content-center align-items-center justify-content-lg-start"},Object(o.h)("img",{src:"//assets.glxplay.io/web/images/logoglx.svg",alt:"logo glxplay",class:"footer__logo"})),Object(o.h)("div",{class:"col-12 col-md-6 col-xl-4 order-1 order-md-1 order-xl-1 mb-4 mb-xl-0"},Object(o.h)("address",null,Object(o.h)("span",null,"Galaxy Play là dịch vụ được cung cấp bởi Công ty Cổ phần Galaxy Play, thành viên của Công ty Cổ phần Galaxy M&E"),Object(o.h)("span",null,"Địa chỉ: 59 Xa Lộ Hà Nội, Phường Thảo Điền, Quận 2, Thành Phố Hồ Chí Minh, Việt Nam."),Object(o.h)("span",null,"Mã số doanh nghiệp: 0106539659."),Object(o.h)("span",null,"Ngày cấp mã số doanh nghiệp: 15/5/2014."),Object(o.h)("span",null,"Nơi cấp: Sở kế hoạch và đầu tư thành phố Hà Nội.")),Object(o.h)("a",{href:"http://www.online.gov.vn/Home/WebDetails/66725"},Object(o.h)("img",{class:"footer__informed",src:"//assets.glxplay.io/web/responsive/w200/informed.png",alt:"informed"}))),Object(o.h)("div",{class:"col-6 col-xl-2 order-2 order-md-4 order-xl-2 mb-4 mb-md-0"},Object(o.h)("h4",{class:"footer__title"},"GIỚI THIỆU"),Object(o.h)("ul",{class:"footer__nav"},Object(o.h)("li",{class:"footer__nav__item"},Object(o.h)("a",{href:"/about-us/quy-che-su-dung-dich-vu",class:"footer__nav__link"},"Quy chế sử dụng Dịch vụ")),Object(o.h)("li",{class:"footer__nav__item"},Object(o.h)("a",{href:"/about-us/chinh-sach-bao-mat",class:"footer__nav__link"},"Chính sách bảo mật")),Object(o.h)("li",{class:"footer__nav__item"},Object(o.h)("a",{href:"/khuyen-mai",class:"footer__nav__link"},"Khuyến mãi")))),Object(o.h)("div",{class:"col-6 col-xl-2 order-3 order-md-3 order-xl-3"},Object(o.h)("h4",{class:"footer__title"},"HỖ TRỢ"),Object(o.h)("ul",{class:"footer__nav"},Object(o.h)("li",{class:"footer__nav__item"},Object(o.h)("a",{href:"tel:18009090",class:"footer__nav__link"},"1800 9090 (24/7)")),Object(o.h)("li",{class:"footer__nav__item"},Object(o.h)("a",{href:"mailto:play@galaxy.com.vn",class:"footer__nav__link"},"play@galaxy.com.vn")),Object(o.h)("li",{class:"footer__nav__item"},Object(o.h)("a",{href:"/help",class:"footer__nav__link"},"https://galaxyplay.vn/help")))),Object(o.h)("div",{class:"col-12 col-md-6 col-xl-4 order-4 order-md-2 order-xl-4"},Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12"},Object(o.h)("h4",{class:"footer__title"},"TẢI ỨNG DỤNG"),Object(o.h)("div",{class:"footer__app"},!b.isIOS&&Object(o.h)("a",{id:"android",href:"https://play.google.com/store/apps/details?id=vn.fimplus.app.and&hl=vi"},Object(o.h)("img",{src:"//assets.glxplay.io/web/responsive/w200/android-app-download-button.png",alt:"chplay"})),Object(o.h)("a",{id:"iOS",href:"https://apps.apple.com/vn/app/fim/id1064825671?l=vi"},Object(o.h)("img",{src:"//assets.glxplay.io/web/responsive/w200/ios-app-download-button.png",alt:"appstore"})))),Object(o.h)("div",{class:"col-12"},Object(o.h)("h4",{class:"footer__title"},"KẾT NỐI VỚI CHÚNG TÔI"),Object(o.h)("div",{class:"footer__social"},Object(o.h)("a",{href:"https://www.facebook.com/galaxyplayvn"},Object(o.h)("img",{src:"//assets.glxplay.io/web/images/icon-social-facebook.svg",alt:"icon-fb"})),Object(o.h)("a",{href:"https://www.instagram.com/galaxyplayvn"},Object(o.h)("img",{src:"//assets.glxplay.io/web/images/icon-social-insta.svg",alt:"icon-instagram"})),Object(o.h)("a",{href:"https://www.youtube.com/channel/UCoOHTQr1k_9zBjh9D81RpsA"},Object(o.h)("img",{src:"//assets.glxplay.io/web/images/icon-social-youtube.svg",alt:"icon-youtube"})),Object(o.h)("a",{href:"https://www.tiktok.com/@galaxyplayofficial"},Object(o.h)("img",{src:"//assets.glxplay.io/web/images/icon-social-tiktok.svg",alt:"icon-tiktok"}))))))))))}}])&&LS(t.prototype,n),i&&LS(t,i),r}(o.a),qS=Be()(null)(Object(s.k)((function(e){return Object(o.h)(F.Consumer,null,(function(t){return Object(o.h)(FS,PS({},e,{tracking:e.tracking,historyPage:t}))}))})));function WS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function KS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WS(Object(n),!0).forEach((function(t){GS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return XS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var YS=function(e){var t=Object(s.g)(),n=Object(r.b)(Oc),i=Object(Ve.useTracking)().trackEvent,a=$S(Object(r.k)(!1),2),l=a[0],u=a[1],d=$S(Object(r.k)({medInfoMovie:null,showPopup:!1,showPopupWatch:null,statusFail:!1}),2),p=d[0],h=d[1],f=$S(Object(r.k)(!1),2),m=f[0],g=f[1],y=$S(Object(r.k)({orderInfo:"",history:"/subs/pay",slug:"undefined"}),2),v=y[0],O=y[1],w=$S(Object(r.k)({statusSuccess:!1}),2),j=w[0],x=w[1],_=$S(Object(r.k)({timeOutStatus:!1}),2),S=_[0],I=_[1],N=function(e,t,n,a,o){i(KS({on_screen:"payment_result",from_screen:"payment_confirm",event_category:"payment",event_action:"buy",direct_object_type:"package",direct_object_id:t,direct_object_property:e,indirect_object_type:"result",indirect_object_property:n,indirect_object_id:a},o?{context_value:{failed_reason:o}}:{}))},T=function(e){!function(){var e=localStorage.getItem("__glxp_r_token");e&&z.refreshAccessToken((function(e,t){if(!e){var n=t.headers["x-fim-atoken"];localStorage.setItem("__glxp_token",n);var i=new Date;i.setTime(i.getTime()+2592e6);var a="expires="+i.toUTCString();document.cookie="__glxp_token=".concat(n,"; ").concat(a,"; path=/")}}))}(),sessionStorage.getItem("loginFromApp")&&e&&Android.paymentSuccess(e?"success":"fail")},C=function(){var e=t.location.state,n=e.paramsOffer,i=(e.type,e.method,n.offer.productId);z.pullOfferByAtoken({eventPage:"payment",planId:i},(function(e,t){if(t&&!e){var a=t.data.data.nonPromotionOffers.svod,o=a.premium[n.offer.channelType].find((function(e){return e.productId===i}));3===n.offer.plan&&(o=a.mobile_premium[n.offer.channelType].find((function(e){return e.productId===i}))),o&&P(o)}}))},P=function(a){var o=t.location.state,r=o.type,c=o.method,s=KS(KS({},t.location.state.paramsOffer),{},{offer:a}),l=function(e){return e.offer.mkt_campaign=window.sessionStorage.getItem("mktCampaign"),e.offer.mkt_source=window.sessionStorage.getItem("mktSource"),e.offer.mkt_medium=window.sessionStorage.getItem("mktMedium"),e.offer.mkt_term=window.sessionStorage.getItem("mktTerm"),e.offer.mkt_content=window.sessionStorage.getItem("mktContent"),e.offer.addons.length>0&&(e.offer.addons[0].mkt_campaign=window.sessionStorage.getItem("mktCampaign"),e.offer.addons[0].mkt_source=window.sessionStorage.getItem("mktSource"),e.offer.addons[0].mkt_medium=window.sessionStorage.getItem("mktMedium"),e.offer.addons[0].mkt_term=window.sessionStorage.getItem("mktTerm"),e.offer.addons[0].mkt_content=window.sessionStorage.getItem("mktContent")),e}(s);z.buy(l,(function(a,o){o&&!a&&(k.gaPurchase(o.data.data.lastTransactionId,l.offer),n.updateInfo(),"vnpay"!=c||e.activeTrial?(i({on_screen:"payment_confirm",from_screen:"SVOD"==r?"choose_package":"choose_price",event_category:"payment",event_action:"buy",direct_object_type:"SVOD"==r?"package":"item",direct_object_id:"SVOD"==r?l.offer.productId:l.offer.titleId,direct_object_property:"SVOD"==r?A(l.offer.length):"",indirect_object_type:"method",indirect_object_id:c}),N(r,s,c,"success"),t.push({pathname:"SVOD"==r?"/subs/confirm":"/rent/confirm",state:{status:"success",package:l.offer}})):window.location.href=o.data.data.url,u(!1)),a&&(N(r,l,c,"fail",o.data),t.push({pathname:"SVOD"==r?"/subs/confirm":"/rent/confirm",state:KS(KS({},t.location.state),{},{paramsOffer:l})}),u(!1))}))};return Object(r.d)((function(){window.sessionStorage.getItem("loginFromApp")?e.theme("hideHeader"):e.theme(!0),window.scrollTo(0,0),function(){var e=new URL(window.location.origin+"/"+t.location.pathname+"/"+t.location.search),n=e.searchParams.get("errorCode");if(n){var i={productName:e.searchParams.get("orderInfo"),productId:e.searchParams.get("idPackage"),totalPriceOffer:e.searchParams.get("amount"),channelType:"MOMO",productType:"SVOD"};if("0"==n){x(KS(KS({},j),{},{statusSuccess:!0})),O(KS(KS({},v),{},{orderInfo:e.searchParams.get("orderInfo")+" !"}));var a=e.searchParams.get("transId");k.gaPurchase(a,i),N(i.productName,i.productId,"momo","success"),T(!0)}"0"!==n&&(h(KS(KS({},p),{},{statusFail:!0})),N(i.productName,i.productId,"momo","fail"),T(!1))}}(),function(){var e=new URL(window.location.origin+"/"+t.location.pathname+"/"+t.location.search),n=e.searchParams.get("vnp_ResponseCode");if(n){var i=e.searchParams.get("vnp_OrderInfo");"00"==n&&(x(KS(KS({},j),{},{statusSuccess:!0})),O(KS(KS({},v),{},{orderInfo:i.split("?")[0]+" !",history:i.split("?")[1],slug:i.split("?")[2]})),N("",v.orderInfo,"vnpay","success")),"00"!==n&&(O(KS(KS({},v),{},{statusFail:!0,orderInfo:i.split("?")[0]+" !",history:i.split("?")[1],slug:i.split("?")[2]})),N("",v.orderInfo,"vnpay","fail"))}}(),function(){var e=new URL(window.location.href),n=e.searchParams.get("state"),i=e.searchParams.get("code");if(n&&i){t.push(window.location.pathname),u(!0);var a={code:i,state:n,userId:localStorage.id_user,returnUrl:window.location.origin+window.location.pathname};z.mocaConfirmPayment(a,(function(e,t){!e&&t?(x(KS(KS({},j),{},{statusSuccess:!0})),O(KS(KS({},v),{},{orderInfo:t.data&&t.data.data&&t.data.data.productName}))):O(KS(KS({},v),{},{statusFail:!0,orderInfo:t.data&&t.data.message})),u(!1)}))}}(),setTimeout((function(){I(KS(KS({},S),{},{timeOutStatus:!0}))}),200),setTimeout((function(){n.updateHasPackage(null,null,(function(e){e.hasPremium&&g(!0)}))}),500),(t.location.state&&"success"==t.location.state.status||j.statusSuccess)&&(window.criteo_q.push({event:"trackTransaction",id:k.generateSessionId(),item:[{id:t.location.state.package.productId,price:t.location.state.package.totalPriceOffer,quantity:1}]}),setTimeout((function(){n.updateHasPackage()}),2e3)),t.location.state&&"success"==t.location.state.status?T(!0):t.location.state&&"fail"==t.location.state.status&&T(!1)}),[t.location]),Object(o.h)(fx,null,l?Object(o.h)(Gp,null):t.location.state&&"success"==t.location.state.status||j.statusSuccess?Object(o.h)(o.b,null,p.showPopupWatch&&Object(o.h)(ma,{location:t.location.state&&t.location.state.location,watch:t.location.state&&t.location.state.infoMovie?t.location.state.infoMovie:v.slug,closePopup:function(e){h(KS(KS({},p),{},{isValidEmail:!1,showPopupWatch:e}))}}),Object(o.h)(mx,null,Object(o.h)(bx,null,Object(o.h)("img",{src:dx.a})),Object(o.h)(gx,null,Object(o.h)(yx,null,"Quý khách đã mua thành công"),Object(o.h)(yx,null,v.orderInfo,t.location.state&&t.location.state.package&&"SVOD"==t.location.state.package.productType&&t.location.state.package.productName),t.location.state.package&&t.location.state.package.trial&&Object(o.h)(vx,null,"Và được xem ",t.location.state.package.trial.length," ngày miễn phí",Object(o.h)("br",null),"Hệ thống sẽ bắt đầu tính phí từ ",k.parseDate("",k.plusDay(new Date,t.location.state.package.trial.length)),Object(o.h)("br",null),"Chúc bạn xem phim vui vẻ")),Object(o.h)(Ox,null,Object(o.h)(me,{onClick:function(){if(h(KS(KS({},p),{},{showPopup:!0})),(t.location.state&&t.location.state.infoMovie&&"undefined"!==t.location.state.infoMovie||v.slug&&"undefined"!==v.slug)&&!b.isMobile){var e=t.location.state&&t.location.state.infoMovie?t.location.state.infoMovie:v.slug;e&&(t.push("/title/"+e),t.push("/watch/"+e))}else t.location.state&&t.location.state.linkWatching&&m?t.push(t.location.state.linkWatching):t.push("/browse")},type:"button",className:"btn btn-confirm",content:"Xem phim ngay"})))):S.timeOutStatus&&Object(o.h)(fx,null,Object(o.h)(mx,null,Object(o.h)(bx,null,Object(o.h)("img",{src:hx.a})),Object(o.h)(gx,null,Object(o.h)(yx,null,t.location.state&&t.location.state.message?t.location.state.message:"Đã xảy ra lỗi trong quá trình thanh toán!"),Object(o.h)(vx,null,t.location.state&&t.location.state.paramsOffer?"Quý khách vui lòng thử lại hoặc lựa chọn phương thức thanh toán khác.":"Thanh toán hiện tại không thành công, vui lòng kiểm tra lại.")),t.location.state&&t.location.state.paramsOffer&&Object(o.h)(Ox,null,Object(o.h)(me,{onClick:function(){u(!0),C()},content:"Thử lại"})),Object(o.h)(Ox,null,Object(o.h)(me,{className:t.location.state&&t.location.state.paramsOffer?"gray":"",onClick:function(){t.push({pathname:t.location.state&&t.location.state.locationPayment?t.location.state.locationPayment:v.history,search:t.location.state&&t.location.state.search?t.location.state.search:"",state:{location:location.pathname,linkWatching:t.location.state&&t.location.state.linkWatching}}),i({on_screen:"payment_result",event_category:"payment",event_action:"click",direct_object_type:"button",direct_object_property:"chon-phuong-thuc-thanh-toan",direct_object_id:"chọn phương thức thanh toán"})},content:t.location.state&&t.location.state.paramsOffer?"Chọn phương thức thanh toán":"Kiểm tra lại"})),Object(o.h)(c.b,{to:"/browse"},Object(o.h)(Ox,null,Object(o.h)(me,{className:"gray",content:"Về kho phim của bạn"}))))))},ZS=function(e){return e/16+"rem"},QS=Pe.a.div.withConfig({displayName:"style__Onboarding",componentId:"sc-1ck3z2v-0"})(["min-height:100vh;display:flex;justify-content:center;align-items:center;position:relative;background:url('https://assets.glxplay.io/web/images/bg-onboarding.jpg') center center no-repeat;background-size:cover;background-attachment:fixed;color:#fff;flex-direction:column;*{box-sizing:border-box;}@media (max-height:550px){min-height:550px;}@media (max-width:576px){justify-content:flex-start;}.fadeInUp{width:100%;}input:-webkit-autofill,input:-webkit-autofill:hover,input:-webkit-autofill:focus{-webkit-text-fill-color:#fff;-webkit-box-shadow:none;transition:background-color 50000s ease-in-out 0s;}"]),JS=Pe.a.img.withConfig({displayName:"style__Logo",componentId:"sc-1ck3z2v-1"})(["width:",";@media (max-width:576px){width:",";}"],ZS(84),ZS(100)),eI=Pe.a.div.withConfig({displayName:"style__Header",componentId:"sc-1ck3z2v-2"})(["position:fixed;top:0;left:0;width:100%;backdrop-filter:blur(4px);background-color:rgba(16,16,16,0.4);padding:"," 6%;@media (max-width:576px){position:relative;display:flex;justify-content:center;align-items:center;background-color:#0b0b0b;height:",";padding:0;}"],ZS(20),ZS(65)),tI=Pe.a.div.withConfig({displayName:"style__Title",componentId:"sc-1ck3z2v-3"})(["font-size:",";text-align:center;margin-bottom:",";position:relative;width:100%;font-weight:bold;@media (max-width:576px){font-size:",";margin-bottom:",";padding:0 1rem;}"],ZS(32),ZS(44),ZS(24),ZS(32)),nI=Pe.a.div.withConfig({displayName:"style__Subtitle",componentId:"sc-1ck3z2v-4"})(["font-size:",";text-align:center;font-weight:normal;"," "," span{font-weight:bold;color:#fff;display:block;text-align:center;margin-top:",";}@media (max-width:576px){font-size:",";","}"],ZS(18),(function(e){return e.isGray?"color: #a9aaad;":"color: #fff;"}),(function(e){return e.isSpecial?"margin-top: ".concat(ZS(6),";"):"margin-bottom: ".concat(ZS(24),";")}),ZS(4),ZS(16),(function(e){return e.isSpecial?"margin-bottom: 0px;":"margin-bottom: ".concat(ZS(32),";")})),iI=Pe.a.form.withConfig({displayName:"style__Wrap",componentId:"sc-1ck3z2v-5"})(["margin:0;padding-bottom:5rem;@media (max-width:576px){padding-bottom:0;margin-top:",";}"],ZS(32)),aI=Pe.a.div.withConfig({displayName:"style__Container",componentId:"sc-1ck3z2v-6"})(["width:413px;margin:0 auto;max-width:100%;display:flex;flex-direction:column;align-items:center;a.action{cursor:pointer;color:#fff;font-size:",";text-decoration:none;margin-top:",";transition:300ms ease;&.disabled{pointer-events:none;opacity:0.5;}}@media (max-width:576px){width:100%;padding:0 1rem;a.action{margin-top:",";}}"],ZS(14),ZS(16),ZS(20)),oI=Pe.a.div.withConfig({displayName:"style__Description",componentId:"sc-1ck3z2v-7"})(["font-size:",";color:#fff;text-align:center;"," .link{font-size:",";color:#007afc;}@media (max-width:576px){margin-top:",";}"],ZS(16),(function(e){var t=e.isSpecial;return"margin-top: ".concat(ZS(t?24:44),";")}),ZS(16),ZS(32)),rI=(Pe.a.div.withConfig({displayName:"style__GroupLinkLogin",componentId:"sc-1ck3z2v-8"})(["display:flex;justify-content:space-between;padding-top:",";"],ZS(8)),Pe.a.div.withConfig({displayName:"style__GroupButton",componentId:"sc-1ck3z2v-9"})([""," width:100%;@media (max-width:576px){","}"],(function(e){var t=e.isSpecial;return"margin-top: ".concat(ZS(t?24:44),";")}),(function(e){var t=e.isSpecial;return"margin-top: ".concat(ZS(t?16:32),";")}))),cI=Pe.a.button.withConfig({displayName:"style__Button",componentId:"sc-1ck3z2v-10"})(["border:none;box-shadow:none;color:#1d1d1d;background:#fff;border-radius:50px;width:100%;height:",";display:flex;align-items:center;justify-content:center;font-size:",";font-weight:bold;cursor:pointer;transition-duration:300ms;&:disabled{background:rgba(255,255,255,0.6);pointer-events:none;}@media (max-width:576px){height:",";font-size:",";}.sk-chase{&-dot{&:before{background-color:#1d1d1d;}}}"],ZS(56),ZS(18),ZS(48),ZS(16)),sI=Pe.a.button.withConfig({displayName:"style__ButtonChooseOption",componentId:"sc-1ck3z2v-11"})(["margin:0 auto;border:none;box-shadow:none;background:#fff;border-radius:50px;font-weight:bold;display:flex;align-items:center;justify-content:center;font-size:",";cursor:pointer;transition-duration:300ms;color:#1d1d1d;width:",";max-width:100%;height:",";@media (max-width:576px){width:",";height:",";font-size:",";}"],ZS(18),ZS(280),ZS(56),ZS(240),ZS(48),ZS(16)),lI=(Pe.a.div.withConfig({displayName:"style__SocialNetwork",componentId:"sc-1ck3z2v-12"})(["font-size:",";color:#a9aaad;padding-top:",";text-align:center;@media (max-width:576px){font-size:",";padding-top:",";}@media (max-width:350px){padding-top:",";}"],ZS(18),ZS(40),ZS(14),ZS(28),ZS(16)),Pe.a.div.withConfig({displayName:"style__GroupIconSocialNetwork",componentId:"sc-1ck3z2v-13"})(["display:flex;justify-content:center;align-items:center;padding-top:",";"],ZS(12)),Pe.a.img.withConfig({displayName:"style__IconSocialNetwork",componentId:"sc-1ck3z2v-14"})(["width:",";height:",";margin-right:",";@media (max-width:576px){width:",";height:",";}"],ZS(32),ZS(32),ZS(8),ZS(24),ZS(24))),uI=Pe.a.div.withConfig({displayName:"style__Footer",componentId:"sc-1ck3z2v-15"})(["border-top:1px solid rgba(0,0,0,0.12);display:flex;justify-content:center;width:100%;position:absolute;bottom:0;left:0;padding:"," 0;flex-wrap:wrap;@media (max-width:576px){padding:"," 0;}a{margin:0 ",";color:#a9aaad;transition-duration:300ms;font-size:",";text-decoration:none;&:hover{color:#fff;}@media (max-width:576px){font-size:",";margin:0 ",";}}"],ZS(32),ZS(28),ZS(10),16,12,ZS(16)),dI=Pe.a.div.withConfig({displayName:"style__MessageError",componentId:"sc-1ck3z2v-16"})(["font-size:",";color:#ff5151;width:100%;text-align:center;"," @media(max-width:576px){font-size:",";}"],ZS(14),(function(e){return e.special?"\n          height: 0;\n          padding-top: 0;\n          padding-bottom: 0;\n        ":"\n          position: absolute;\n          top: calc(100% + ".concat(ZS(8),");\n          left: 0;\n        ")}),ZS(12)),pI=Pe.a.div.withConfig({displayName:"style__HorizontalLine",componentId:"sc-1ck3z2v-17"})(["margin:0 auto;display:inline-block;position:relative;font-size:",";color:#a9aaad;margin:"," 0;font-weight:bold;&:before{content:'';position:absolute;right:calc(100% + ",");top:50%;transform:translateY(-50%);height:1px;width:",";border-radius:0.5px;background:#a9aaad;}&:after{content:'';position:absolute;left:calc(100% + ",");top:50%;transform:translateY(-50%);height:1px;width:",";border-radius:0.5px;background:#a9aaad;}@media (max-width:576px){margin:"," 0;&:before{width:",";}&:after{width:",";}}"],ZS(16),ZS(24),ZS(20),ZS(98),ZS(20),ZS(98),ZS(32),ZS(72),ZS(72)),hI=function(e){return e/16+"rem"},fI=Pe.a.div.withConfig({displayName:"style__Overlay",componentId:"sc-1ezd1a8-0"})(["width:100%;height:100%;background-color:rgba(0,0,0,0.5);position:absolute;top:0;left:0;z-index:10;display:flex;justify-content:center;align-items:center;padding:0 1rem;"]),mI=Pe.a.div.withConfig({displayName:"style__Card",componentId:"sc-1ezd1a8-1"})(["width:",";max-width:100%;margin:0 auto;padding:"," "," ",";position:relative;background:#000;text-align:center;@media (max-width:576px){padding:"," "," ",";margin-bottom:4rem;}"],hI(453),hI(64),hI(20),hI(40),hI(40),hI(16),hI(34)),bI=Pe.a.div.withConfig({displayName:"style__Title",componentId:"sc-1ezd1a8-2"})(["font-weight:bold;font-size:",";color:#f1f6f9;margin-bottom:",";@media (max-width:576px){font-size:",";margin-bottom:",";}"],hI(24),hI(24),hI(18),hI(16)),gI=Pe.a.div.withConfig({displayName:"style__Description",componentId:"sc-1ezd1a8-3"})(["font-size:",";color:#f1f6f9;margin-bottom:",";span{white-space:nowrap;font-weight:bold;}@media (max-width:576px){font-size:",";margin-bottom:",";}"],hI(18),hI(24),hI(16),hI(20)),yI=Pe.a.div.withConfig({displayName:"style__Button",componentId:"sc-1ezd1a8-4"})(["width:",";height:",";display:flex;justify-content:center;align-items:center;font-weight:bold;color:#1d1d1d;margin:0 auto;font-size:",";background:#fff;border-radius:50px;cursor:pointer;@media (max-width:576px){font-size:",";height:",";width:",";}"],hI(240),hI(56),hI(18),hI(16),hI(48),hI(200)),vI=Pe.a.div.withConfig({displayName:"style__ButtonLink",componentId:"sc-1ezd1a8-5"})(["color:#a9aaad;font-size:",";margin:"," auto 0;cursor:pointer;transition-duration:300ms;display:inline-block;&:hover{color:#fff;}@media (max-width:576px){font-size:",";}"],hI(18),hI(22),hI(16)),OI=Pe.a.div.withConfig({displayName:"style__Close",componentId:"sc-1ezd1a8-6"})(["cursor:pointer;position:absolute;top:",";right:",";svg{width:",";height:",";path{fill:#f1f6f9;}}@media (max-width:576px){top:",";right:",";}"],hI(16),hI(16),hI(24),hI(24),hI(12),hI(12));function wI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function jI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wI(Object(n),!0).forEach((function(t){xI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kI=function(e){var t=Object(s.g)(),n=Object(r.b)(Nr),i=e.showPopupVerify,a=i.phone,c=i.type,l=i.sso,u=i.profile,d=i.telco,p=i.voiceOTP,h=Object(Ve.useTracking)().trackEvent,f=function(){e.setPopupVerify(jI(jI({},e.showPopupVerify),{},{status:!1}))},m=function(n){return function(){"forgot"===c&&h({event_action:"click",direct_object_type:"button",direct_object_id:"submit_account_forgot",direct_object_property:a});var i={type:c,phone:a,sso:l,typeVerify:n,profile:u,telco:d,voiceOTP:p};t.push({pathname:e.matchUrl+"/verify",state:i}),f()}};return Object(o.h)(fI,null,Object(o.h)(mI,null,Object(o.h)(OI,{onClick:f},Object(o.h)(Ue,null)),Object(o.h)(bI,null,"Phương thức nhận OTP"),Object(o.h)(gI,null,"Galaxy Play sẽ gọi vào số điện thoại ",Object(o.h)("span",null,T(a))," để đọc mã xác thực. Bạn có muốn tiếp tục?"),n&&n.signupsigninVoiceOTP&&1==n.signupsigninVoiceOTP?Object(o.h)(yI,{onClick:m("call")},"Tiếp tục"):"",n&&n.signupsigninSMSOTP&&1==n.signupsigninSMSOTP?Object(o.h)(vI,{onClick:m("sms")},"Gửi qua SMS"):""))},_I=function(e){return e/16+"rem"},SI=Pe.a.div.withConfig({displayName:"style__Overlay",componentId:"sc-12itj6y-0"})(["width:100%;height:100%;background-color:rgba(0,0,0,0.5);position:absolute;top:0;left:0;z-index:10;display:flex;justify-content:center;align-items:center;padding:0 1rem;"]),II=Pe.a.div.withConfig({displayName:"style__Card",componentId:"sc-12itj6y-1"})(["width:",";max-width:100%;margin:0 auto;padding:"," "," ",";position:relative;background:#000;text-align:center;@media (max-width:576px){padding:"," "," ",";margin-bottom:4rem;}"],_I(453),_I(64),_I(20),_I(40),_I(40),_I(16),_I(34)),NI=Pe.a.div.withConfig({displayName:"style__Title",componentId:"sc-12itj6y-2"})(["font-weight:bold;font-size:",";color:#f1f6f9;margin-bottom:",";@media (max-width:576px){font-size:",";margin-bottom:",";}"],_I(24),_I(24),_I(18),_I(16)),TI=Pe.a.div.withConfig({displayName:"style__Description",componentId:"sc-12itj6y-3"})(["font-size:",";color:#f1f6f9;margin-bottom:",";span{white-space:nowrap;font-weight:bold;}@media (max-width:576px){font-size:",";margin-bottom:",";}"],_I(18),_I(24),_I(16),_I(20)),CI=Pe.a.div.withConfig({displayName:"style__Button",componentId:"sc-12itj6y-4"})(["width:",";height:",";display:flex;justify-content:center;align-items:center;font-weight:bold;color:#1d1d1d;margin:0 auto;font-size:",";background:#fff;border-radius:50px;cursor:pointer;@media (max-width:576px){font-size:",";height:",";width:",";}"],_I(240),_I(56),_I(18),_I(16),_I(48),_I(200)),PI=Pe.a.div.withConfig({displayName:"style__ButtonLink",componentId:"sc-12itj6y-5"})(["color:#a9aaad;font-size:",";margin:"," auto 0;cursor:pointer;transition-duration:300ms;display:inline-block;&:hover{color:#fff;}@media (max-width:576px){font-size:",";}"],_I(18),_I(22),_I(16)),AI=Pe.a.div.withConfig({displayName:"style__Close",componentId:"sc-12itj6y-6"})(["cursor:pointer;position:absolute;top:",";right:",";svg{width:",";height:",";path{fill:#f1f6f9;}}@media (max-width:576px){top:",";right:",";}"],_I(16),_I(16),_I(24),_I(24),_I(12),_I(12));function MI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function EI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MI(Object(n),!0).forEach((function(t){DI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function DI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LI=function(e){var t=function(){e.setPopupConfirm(EI(EI({},e.showPopupConfirm),{},{status:!1}))},n=e.showPopupConfirm,i=n.title,a=n.description;return Object(o.h)(SI,null,Object(o.h)(II,null,Object(o.h)(AI,{onClick:t},Object(o.h)(Ue,null)),Object(o.h)(NI,null,i),Object(o.h)(TI,null,a),Object(o.h)(CI,{onClick:function(){e.showPopupConfirm.confirmed(),t()}},"Xác nhận"),Object(o.h)(PI,{onClick:t},"Huỷ")))},RI=n(955);function zI(e){return(zI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VI(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function BI(e,t){return(BI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function HI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=qI(e);if(t){var a=qI(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return FI(this,n)}}function FI(e,t){return!t||"object"!==zI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qI(e){return(qI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var WI=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BI(e,t)}(r,e);var t,n,i,a=HI(r);function r(){return UI(this,r),a.apply(this,arguments)}return t=r,(n=[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this.props.routes;return Object(o.h)(s.b,{render:function(t){var n=t.location;return Object(o.h)(RI.a,null,Object(o.h)(Ct.a,{key:n.pathname,appear:!0,classNames:"fadeInUp",timeout:300},Object(o.h)(s.d,{location:n},e.map((function(e){var t=e.path,n=e.Component,i=e.exact,a=e.state;return Object(o.h)(s.b,{path:t,key:t,exact:i,render:function(){return Object(o.h)("div",{className:"fadeInUp"},Object(o.h)(n,a))}})})))))}})}}])&&VI(t.prototype,n),i&&VI(t,i),r}(o.a);function KI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function GI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KI(Object(n),!0).forEach((function(t){$I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return YI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ZI=Object(s.k)((function(e){var t=XI(Object(r.k)(""),2),n=t[0],i=t[1],a=Object(s.g)(),l=Object(Ve.useTracking)().trackEvent,u=Object(r.b)(Oc),d=Object(r.b)(Eo),p=e.location.state,h=e.isRedeem,f=e.linkReferral,m=e.type,b=e.slug,g=e.matchUrl,y=XI(Object(r.k)({status:!1,content:""}),2),v=y[0],O=y[1],w=XI(Object(r.k)(!1),2),j=w[0],x=w[1];Object(r.d)((function(){O(GI(GI({},v),{},{status:!1}))}),[n]);var k=function(e,t){var n=e["x-fim-atoken"],i=e["x-fim-rtoken"];window.localStorage.__glxp_token=n,i&&(window.localStorage.__glxp_r_token=i);var a=new Date;a.setTime(a.getTime()+2592e6);var o="expires="+a.toUTCString();document.cookie="__glxp_token=".concat(n,"; ").concat(o,"; path=/");var r=function(e){e.email&&(t.context_value.email=e.email),l(t)};h?u.setLogin(!0,"redeem",null,null,r):("rent"===m?u.setLogin(!0,"rent",b,null,r):u.setLogin(!0,"login",f,null,r),d.setNotification({status:!0,description:"Đăng nhập thành công",type:"success"}))},_=/.{6,20}/;return p&&p.phone?Object(o.h)(iI,{onSubmit:function(e){var t;e.preventDefault(),x(!0),l({event_action:"click",direct_object_type:"button",direct_object_id:"submit_password",direct_object_property:(null==p?void 0:p.phone)||"",indirect_object_type:(null==p||null===(t=p.sso)||void 0===t?void 0:t.type)||""});var i={phone:p.phone,password:n};p.sso&&(i=GI(GI({},i),p.sso)),z.login(i,(function(e,t){var n,i,a={event_action:"view",direct_object_type:"message",direct_object_id:"login_result",indirect_object_type:(null==p||null===(n=p.sso)||void 0===n?void 0:n.type)||"",context_value:{phone:(null==p?void 0:p.phone)||""}};(null==p||null===(i=p.profile)||void 0===i?void 0:i.googleId)&&(a.indirect_object_id=p.profile.googleId),e?(a.context_value.failed_reason=t.data,a.direct_object_property="fail",l(a),t&&t.data&&t.data.message?"Sai thông tin"===t.data.message?O({status:!0,content:"Mật khẩu không đúng, xin vui lòng thử lại"}):O({status:!0,content:t.data.message}):O({status:!0,content:"Đã có lỗi xảy ra, xin vui lòng thử lại sau ít phút"}),x(!1)):(a.direct_object_property="success",k(t.headers,a))}))},autoComplete:"off"},Object(o.h)(aI,null,Object(o.h)(tI,null,"Chào mừng bạn trở lại với Galaxy Play"),Object(o.h)(ao,{type:"password",id:"password",value:n,setValue:i,label:"Mật khẩu",placeholder:"Nhập mật khẩu để đăng nhập",name:"glx-password",autoComplete:"off",onBlur:function(){""!==n?_.test(n)||O({status:!0,content:"Mật khẩu phải từ 6 đến 20 ký tự"}):O({status:!0,content:"Vui lòng nhập mật khẩu"})},error:v.status},Object(o.h)(Ct.a,{in:v.status,appear:!0,classNames:"fadeInDown",timeout:300},Object(o.h)(dI,null,v.content))),Object(o.h)(rI,null,Object(o.h)(cI,{type:"submit",disabled:!_.test(n)||j},j?Object(o.h)(re,null):"Đăng nhập")),Object(o.h)(c.b,{className:"action",to:{pathname:g,state:{isFromLogin:!0,sso:p.sso,profile:p.profile}}},"Đổi số điện thoại"),!p.sso&&Object(o.h)("a",{className:"action",onClick:function(t){t.preventDefault(),l({event_action:"click",direct_object_type:"button",direct_object_id:"forgot"}),1===p.voiceOTP?e.setPopupVerify({status:!0,phone:p.phone,type:"forgot",sso:p.sso,profile:p.profile,telco:p.telco,voiceOTP:p.voiceOTP}):a.push({pathname:g+"/verify",state:{type:"forgot",phone:p.phone,typeVerify:"sms",sso:p.sso,profile:p.profile,telco:p.telco,voiceOTP:p.voiceOTP}})}},"Quên mật khẩu"))):Object(o.h)(s.a,{to:g})})),QI=n(429),JI=n.n(QI);function eN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function tN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eN(Object(n),!0).forEach((function(t){nN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return aN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var oN=Object(Jy.memo)((function(e){var t=Object(s.g)(),n=t.location.state,i=Object(r.b)(Oc),a=Object(r.b)(Eo),c=Object(r.b)(Nr),l=iN(Object(r.k)(""),2),u=l[0],p=l[1],h=Object(Ve.useTracking)().trackEvent,f=null,m=null;e.showPopupConfirm&&e.showPopupConfirm.sso&&(f=e.showPopupConfirm.sso),n&&n.sso&&(f=n.sso),e.showPopupConfirm&&e.showPopupConfirm.profile&&(m=e.showPopupConfirm.profile),n&&n.profile&&(m=n.profile);var b=iN(Object(r.k)({sso:f,profile:m}),2),g=b[0],y=b[1],v=iN(Object(r.k)(!1),2),O=v[0],w=v[1],j=iN(Object(r.k)({status:!1,content:""}),2),x=j[0],k=j[1],_=iN(Object(r.k)(!(!n||!n.isFromLogin)),2),S=_[0],I=_[1],N=/^(09|03|05|07|08)[0-9]{8}$\b/;Object(r.d)((function(){k(tN(tN({},x),{},{status:!1}))}),[u]);var T=function(e,t){z.login(e,(function(n,o){var r={event_action:"view",direct_object_type:"message",direct_object_id:"login_result",indirect_object_type:e.type,context_value:{}};t.googleId&&(r.indirect_object_id=t.googleId),t.phone&&(r.context_value.phone=t.phone),n?(r.context_value.failed_reason=o.data,h(tN(tN({},r),{},{direct_object_property:"fail"}))):o.data&&0===o.data.Status?(y({sso:tN(tN({},e),{},{linkSocial:1}),profile:t}),I(!0)):(r.direct_object_property="success",function(e,t){var n=e["x-fim-atoken"],o=e["x-fim-rtoken"];window.localStorage.__glxp_token=n,o&&(window.localStorage.__glxp_r_token=o);var r=new Date;r.setTime(r.getTime()+2592e6);var c="expires="+r.toUTCString();document.cookie="__glxp_token=".concat(n,"; ").concat(c,"; path=/");i.setLogin(!0,"login",null,null,(function(e){e.email&&(t.context_value.email=e.email),e.phone&&(t.context_value.phone=e.phone),h(t)})),a.setNotification({status:!0,description:"Đăng nhập thành công",type:"success"})}(o.headers,r)),w(!1)}))},C=Object(rm.useGoogleLogin)({onSuccess:function(e){w(!0);var t={token:e.tokenObj.token_type+" "+e.tokenObj.access_token,type:"google"};T(t,null==e?void 0:e.profileObj)},onFailure:function(e){},clientId:d.clientIdGoogle}).signIn,P=function(e){return function(){switch(h({event_action:"click",direct_object_type:"button",direct_object_id:"choose_login_method",direct_object_property:e}),e){case"google":C();break;default:I(!0)}}};return Object(o.h)(iI,{onSubmit:function(n){var i;n.preventDefault(),w(!0),i={phone:u},g.sso&&(i=tN({phone:u},g.sso)),z.checkPhoneOnly(i,(function(n,a){var o,r,c={event_action:"click",direct_object_type:"button",direct_object_id:"submit_phone_number",direct_object_property:u||"",indirect_object_type:(null===(o=i)||void 0===o?void 0:o.type)||""};n?a&&a.data&&1003===a.data.errorCode?(h(tN(tN({},c),{},{context_value:{is_new_user:0}})),t.push({pathname:e.matchUrl+"/login",state:{phone:u,profile:g.profile,telco:a.data.telco,voiceOTP:a.data.voiceOTP}})):a&&a.data&&a.data.errorSocial&&1===a.data.errorSocial?(h(tN(tN({},c),{},{context_value:{is_new_user:0}})),e.setPopupConfirm({status:!0,title:"Liên kết số điện thoại",description:a.data.message,sso:g.sso,confirmed:function(){t.push({pathname:e.matchUrl+"/login",state:{phone:u,sso:g.sso,profile:g.profile,telco:a.data.telco,voiceOTP:a.data.voiceOTP}})}}),w(!1)):(a&&a.data&&a.data.message?k({status:!0,content:a.data.message}):k({status:!0,content:"Đã có lỗi xảy ra, xin vui lòng thử lại sau ít phút"}),w(!1)):(h(tN(tN({},c),{},{context_value:{is_new_user:1}})),(null===(r=a.data)||void 0===r?void 0:r.voiceOTP)&&1===a.data.voiceOTP?e.setPopupVerify({status:!0,phone:u,type:"register",sso:g.sso,profile:g.profile,telco:a.data.telco,voiceOTP:a.data.voiceOTP}):t.push({pathname:e.matchUrl+"/verify",state:{type:"register",phone:u,typeVerify:"sms",sso:g.sso,profile:g.profile,telco:a.data.telco,voiceOTP:a.data.voiceOTP}}),w(!1))}))}},Object(o.h)(aI,null,Object(o.h)(Ct.a,{in:S,appear:!0,classNames:"fadeInUp",timeout:300,unmountOnExit:!0},Object(o.h)("div",null,Object(o.h)(tI,null,g.sso?"Bổ sung số điện thoại để đăng nhập":"Đăng ký/Đăng nhập"),Object(o.h)(ao,{type:"phone",id:"input-check-phone",value:u,setValue:p,placeholder:"Số điện thoại",label:"Nhập số điện thoại",name:"numberPhone",autoComplete:"numberPhone",onBlur:function(){""!==u?N.test(u)||k({status:!0,content:"Sai định dạng số điện thoại"}):k({status:!0,content:"Vui lòng nhập số điện thoại"})},error:x.status},Object(o.h)(Ct.a,{in:x.status,appear:!0,classNames:"fadeInDown",timeout:300},Object(o.h)(dI,null,x.content))),Object(o.h)(oI,null,"Khi tiếp tục, bạn đã đồng ý"," ",Object(o.h)("a",{className:"link",href:"/about-us/quy-che-su-dung-dich-vu"},"Quy chế sử dụng dịch vụ")," ","của Galaxy Play."),Object(o.h)(rI,{isSpecial:!0},Object(o.h)(cI,{type:"submit",disabled:!N.test(u)||O},O?Object(o.h)(re,null):"Tiếp tục")))),!S&&Object(o.h)(o.b,null,Object(o.h)(tI,null,g.sso?"Bổ sung số điện thoại để đăng nhập":"Đăng ký/Đăng nhập"),c&&c.signupsigninGmailSSO&&1==c.signupsigninGmailSSO?Object(o.h)(o.b,null,Object(o.h)(sI,{type:"button",onClick:P("google")},Object(o.h)(lI,{src:JI.a}),"Tài khoản Google"),Object(o.h)(pI,null,"HOẶC")):"",Object(o.h)(sI,{type:"button",onClick:P("phone")},"Dùng số điện thoại của bạn"),Object(o.h)(oI,{isSpecial:!0},"Khi tiếp tục, bạn đã đồng ý"," ",Object(o.h)("a",{className:"link",href:"/about-us/quy-che-su-dung-dich-vu"},"Quy chế sử dụng dịch vụ")," ","của Galaxy Play."))))}));function rN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function cN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rN(Object(n),!0).forEach((function(t){sN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return uN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var dN=function(e){var t=Object(s.g)(),n=t.location.state,i=Object(Ve.useTracking)().trackEvent,a=e.isRedeem,c=e.linkReferral,l=e.type,u=e.slug,d=e.matchUrl,p=Object(r.b)(Oc),h=Object(r.b)(Eo),f=/[0-9]{6}/,m=lN(Object(r.k)(""),2),b=m[0],g=m[1],y=lN(Object(r.k)(""),2),v=y[0],O=y[1],w=lN(Object(r.k)({status:!1,content:""}),2),j=w[0],x=w[1],k=lN(Object(r.k)({status:!1,content:""}),2),_=k[0],S=k[1],I=lN(Object(r.k)(!1),2),N=I[0],T=I[1];Object(r.d)((function(){x(cN(cN({},j),{},{status:!1}))}),[b]),Object(r.d)((function(){S(cN(cN({},_),{},{status:!1}))}),[v]);return n?Object(o.h)(iI,{onSubmit:function(e){var o;(e.preventDefault(),T(!0),"forgot"===n.type)?i({on_screen:"login",event_action:"click",direct_object_type:"button",direct_object_id:"submit_forgot",direct_object_property:(null==n?void 0:n.phone)||"",context_value:{telco_brand:null==n?void 0:n.telco}}):i({on_screen:"register",event_action:"click",direct_object_type:"button",direct_object_id:"submit_create_password",direct_object_property:(null==n?void 0:n.phone)||"",indirect_object_type:(null==n||null===(o=n.sso)||void 0===o?void 0:o.type)||"",context_value:{telco_brand:null==n?void 0:n.telco}});if(f.test(b)&&b===v){window.localStorage.__glxp_token=n.aToken,window.localStorage.__glxp_r_token=n.rToken;var r=new Date;r.setTime(r.getTime()+2592e6);var s="expires="+r.toUTCString();document.cookie="__glxp_token=".concat(n.aToken,"; ").concat(s,"; path=/");var m={newPassword:b};z.updateUserInfo(m,(function(e,o){if(e)T(!1);else if("register"==n.type)if(localStorage.setItem("justRegistered",!0),n.sso&&n.sso.type&&"google"===n.sso.type){var r,s,f={on_screen:"register",event_action:"view",direct_object_type:"message",direct_object_id:"register_result",direct_object_property:"success",indirect_object_type:(null==n||null===(r=n.sso)||void 0===r?void 0:r.type)||"",context_value:{phone:(null==n?void 0:n.phone)||"",telco_brand:null==n?void 0:n.telco}};if((null==n||null===(s=n.profile)||void 0===s?void 0:s.googleId)&&(f.indirect_object_id=n.profile.googleId),i(f),a)return void p.setLogin(!0,"redeem");if(c)return void p.setLogin(!0,"referral",c.from.pathname);"rent"===l?p.setLogin(!0,"rent",u):p.setLogin(!0,"register"),h.setNotification({status:!0,description:"Đăng ký thành công",type:"success"})}else t.push({pathname:d+"/email",state:n});else{var m,b;if(a)return void p.setLogin(!0,"redeem");var g={event_action:"view",direct_object_type:"message",direct_object_id:"login_result",direct_object_property:"success",indirect_object_type:(null==n||null===(m=n.sso)||void 0===m?void 0:m.type)||"",context_value:{phone:(null==n?void 0:n.phone)||"",telco_brand:null==n?void 0:n.telco}};(null==n||null===(b=n.profile)||void 0===b?void 0:b.googleId)&&(g.indirect_object_id=n.profile.googleId),p.setLogin(!0,"login",c,(function(e){e.email&&(g.context_value.email=e.email),i(g)})),h.setNotification({status:!0,description:"Đăng nhập thành công",type:"success"})}}))}}},Object(o.h)(aI,null,Object(o.h)(tI,null,"register"===n.type?"Chào mừng bạn đến với Galaxy Play":"Đặt lại mật khẩu"),Object(o.h)(ao,{type:"password",id:"password",value:b,setValue:g,placeholder:"Nhập mật khẩu mới",label:"Mật khẩu gồm 6 số",name:"password",size:6,error:j.status,onBlur:function(){""!==b?f.test(b)||x({status:!0,content:"Mật khẩu mới gồm 6 số"}):x({status:!0,content:"Vui lòng nhập mật khẩu"})}},Object(o.h)(Ct.a,{in:j.status,appear:!0,classNames:"fadeInDown",timeout:300},Object(o.h)(dI,null,j.content))),Object(o.h)(ao,{type:"password",id:"confirm-password",value:v,setValue:O,placeholder:"Nhập lại mật khẩu",label:"Nhắc lại mật khẩu",name:"confirm-password",size:6,error:_.status,onBlur:function(){v!==b&&S({status:!0,content:"Nhập lại mật khẩu không đúng"})}},Object(o.h)(Ct.a,{in:_.status,appear:!0,classNames:"fadeInDown",timeout:300},Object(o.h)(dI,null,_.content))),Object(o.h)(rI,null,Object(o.h)(cI,{type:"submit",disabled:!f.test(b)||b!==v||N},N?Object(o.h)(re,null):"Hoàn tất")))):Object(o.h)(s.a,{to:d})};function pN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function hN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pN(Object(n),!0).forEach((function(t){fN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var gN=function(e){var t=Object(s.g)(),n=Object(Ve.useTracking)().trackEvent,i=t.location.state,a=Object(r.b)(Nr),l=e.matchUrl,u=mN(Object(r.k)(""),2),d=u[0],p=u[1],h=mN(Object(r.k)(i&&i.typeVerify&&"call"===i.typeVerify),2),f=h[0],m=h[1],b=mN(Object(r.k)({count:60,initDone:!1}),2),g=b[0],y=b[1],v=mN(Object(r.k)({status:!1,content:""}),2),O=v[0],w=v[1],j=mN(Object(r.k)(!1),2),x=j[0],k=j[1],_=null;i&&Object(r.d)((function(){return I(),function(){_&&clearInterval(_)}}),[]),Object(r.d)((function(){w(hN(hN({},O),{},{status:!1})),4!==d.length||x||S()}),[d]);var S=function(){var e;k(!0);var a={on_screen:"register",event_action:"auto_submit",direct_object_id:"submit_phone_otp",direct_object_property:(null==i?void 0:i.phone)||"",indirect_object_type:(null==i||null===(e=i.sso)||void 0===e?void 0:e.type)||"",indirect_object_id:f?"otp_calling":"otp_sms"};"forgot"===i.type&&(a.direct_object_id="submit_otp_forgot",a.on_screen="login",a.indirect_object_id="otp",a.indirect_object_property=f?"otp_calling":"otp_sms");var o="register"===i.type?z.register:z.loginWithOTP,r={phone:i.phone,code:d};i.sso&&(r=hN(hN({},r),i.sso)),o(r,(function(e,o){if(e){if("forgot"===i.type)n(hN(hN({},a),{},{indirect_object_type:"fail",context_value:{failed_reason:o.data,telco_brand:i.telco}}));else{var r,c;n(hN(hN({},a),{},{indirect_object_property:"fail",context_value:{failed_reason:o.data,telco_brand:i.telco}}));var s={on_screen:"register",event_action:"view",direct_object_type:"message",direct_object_id:"register_result",direct_object_property:"fail",indirect_object_type:(null==i||null===(r=i.sso)||void 0===r?void 0:r.type)||"",context_value:{phone:(null==i?void 0:i.phone)||"",failed_reason:o.data,telco_brand:i.telco}};(null==i||null===(c=i.profile)||void 0===c?void 0:c.googleId)&&(s.indirect_object_id=i.profile.googleId),n(s)}o&&o.data&&o.data.message?w({status:!0,content:o.data.message}):w({status:!0,content:"Đã có lỗi xảy ra, xin vui lòng thử lại sau ít phút"}),k(!1)}else{"forgot"===i.type?n(hN(hN({},a),{},{indirect_object_type:"success",context_value:{telco_brand:i.telco}})):n(hN(hN({},a),{},{indirect_object_property:"success",context_value:{telco_brand:i.telco}}));var u=o.headers["x-fim-atoken"],d=o.headers["x-fim-rtoken"];t.push({pathname:l+"/complete",state:{aToken:u,rToken:d,type:i.type,sso:i.sso,profile:i.profile,phone:i.phone,telco:i.telco}})}}))},I=function(e){if(e&&e.preventDefault(),0===g.count||!g.init){O.status&&w(hN(hN({},O),{},{status:!1}));var t={phone:i.phone};i.sso&&(t=hN(hN({},t),i.sso)),f&&(t.typeOtp="voice"),("register"===i.type?z.phoneVerify:z.forgotPassword)(t,(function(e,t){if(e){var n=t&&t.data;n&&n.errorCode&&1033===n.errorCode&&N(n.ttlResend),n&&n.message?w({status:!0,content:n.message}):w({status:!0,content:"Đã có lỗi xảy ra, xin vui lòng thử lại sau ít phút"})}else N()}))}},N=function(e){var t=e||60;y({count:t,initDone:!0}),_=setInterval((function(){t--,y({count:t,initDone:!0}),0===t&&clearInterval(_)}),1e3)};return Object(r.d)((function(){g.initDone&&I()}),[f]),i?Object(o.h)(iI,null,Object(o.h)(tI,null),Object(o.h)(tI,null,"Xác thực tài khoản"),Object(o.h)(aI,null,Object(o.h)(nI,{isGray:!0},"Nhập mã xác thực được cung cấp đến số",Object(o.h)("span",null,i.phone&&T(i.phone))),Object(o.h)(ao,{type:"otp",id:"input-otp",value:d,setValue:p,error:O.status},Object(o.h)(Ct.a,{in:O.status,appear:!0,classNames:"fadeInDown",timeout:300},Object(o.h)(dI,null,O.content))),Object(o.h)(rI,null,Object(o.h)(cI,{onClick:I,disabled:g.count||!g.initDone},x?Object(o.h)(re,null):Object(o.h)(o.b,null,f?"Gọi lại":"Gửi lại",g.count&&g.initDone?" (".concat(g.count,"s)"):""))),a&&a.signupsigninSMSOTP&&a.signupsigninVoiceOTP&&1===i.voiceOTP?Object(o.h)("a",{className:g.count||!g.initDone?"action disabled":"action",onClick:function(e){e.preventDefault(),m(!f)}},f?"Gửi qua SMS":"Gọi điện thoại"):Object(o.h)("div",null),Object(o.h)(c.b,{className:"action",to:{pathname:l,state:{isFromLogin:!0,sso:i.sso,profile:i.profile}}},"Đổi số điện thoại"))):Object(o.h)(s.a,{to:l})};function yN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function vN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yN(Object(n),!0).forEach((function(t){ON(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ON(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var xN=function(e){var t=Object(Ve.useTracking)().trackEvent,n=Object(s.g)(),i=Object(r.b)(Oc),a=Object(r.b)(Eo),c=n.location.state,l=e.isRedeem,u=e.linkReferral,d=e.type,p=e.slug,h=e.matchUrl,f=wN(Object(r.k)(""),2),m=f[0],b=f[1],g=wN(Object(r.k)({status:!1,content:""}),2),y=g[0],v=g[1],O=wN(Object(r.k)(!1),2),w=O[0],j=O[1];Object(r.d)((function(){v(vN(vN({},y),{},{status:!1}))}),[m]);return c?Object(o.h)(iI,{onSubmit:function(e){var i;if(e.preventDefault(),t({on_screen:"register",event_action:"click",direct_object_type:"button",direct_object_id:"submit_email",direct_object_property:(null==c?void 0:c.phone)||"",indirect_object_type:(null==c||null===(i=c.sso)||void 0===i?void 0:i.type)||"",context_value:{email:m,telco_brand:null==c?void 0:c.telco}}),k.validateEmail(m)){j(!0);var a={email:m};z.verifyEmail(a,(function(e,t){if(e){var i=t.data;if(i&&i.errorCode&&1033===i.errorCode)return void n.push({pathname:h+"/verifyEmail",state:vN({email:m,error:i},c)});i&&i.message?v({status:!0,content:t.data.message}):v({status:!0,content:"Đã có lỗi xảy ra, xin vui lòng thử lại sau ít phút"}),j(!1)}else n.push({pathname:h+"/verifyEmail",state:vN({email:m},c)})}))}}},Object(o.h)(tI,null),Object(o.h)(aI,null,Object(o.h)(tI,null,"Chúc mừng bạn đã là thành viên Galaxy Play",Object(o.h)(nI,{isGray:!0,isSpecial:!0},"Hãy nhập Email để nhận QUÀ TẶNG HẤP DẪN từ Galaxy Play nhé!")),Object(o.h)(ao,{type:"text",placeholder:"Nhập email",label:"Nhập tài khoản email (Không bắt buộc)",id:"email",value:m,setValue:b,onBlur:function(){""!==m?k.validateEmail(m)||v({status:!0,content:"Sai định dạng email"}):v({status:!0,content:"Vui lòng nhập email"})},error:y.status},Object(o.h)(Ct.a,{in:y.status,appear:!0,classNames:"fadeInDown",timeout:300},Object(o.h)(dI,null,y.content))),Object(o.h)(rI,null,Object(o.h)(cI,{type:"submit",disabled:!k.validateEmail(m)},w?Object(o.h)(re,null):"Tiếp tục")),Object(o.h)("a",{className:"action",to:h+"/forgot",onClick:function(e){var n,o,r;e.preventDefault(),t({on_screen:"register",event_action:"click",direct_object_type:"button",direct_object_id:"skip_email",direct_object_property:(null==c?void 0:c.phone)||"",indirect_object_type:(null==c||null===(n=c.sso)||void 0===n?void 0:n.type)||"",context_value:{telco_brand:null==c?void 0:c.telco}});var s={on_screen:"register",event_action:"view",direct_object_type:"message",direct_object_id:"register_result",direct_object_property:"success",indirect_object_type:(null==c||null===(o=c.sso)||void 0===o?void 0:o.type)||"",context_value:{phone:(null==c?void 0:c.phone)||"",telco_brand:null==c?void 0:c.telco}};(null==c||null===(r=c.profile)||void 0===r?void 0:r.googleId)&&(events.indirect_object_id=c.profile.googleId),t(s),l?i.setLogin(!0,"redeem"):u?i.setLogin(!0,"referral",u.from.pathname):("rent"===d?i.setLogin(!0,"rent",p):i.setLogin(!0,"register"),a.setNotification({status:!0,description:"Đăng ký thành công",type:"success"}))}},"Bỏ qua"))):Object(o.h)(s.a,{to:h})};function kN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kN(Object(n),!0).forEach((function(t){SN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function SN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return NN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var TN=function(e){var t=Object(Ve.useTracking)().trackEvent,n=Object(s.g)(),i=Object(r.b)(Oc),a=Object(r.b)(Eo),l=Object(r.j)(!1),u=n.location.state,d=e.isRedeem,p=e.linkReferral,h=e.type,f=e.slug,m=e.matchUrl,b=IN(Object(r.k)(""),2),g=b[0],y=b[1],v=IN(Object(r.k)(u&&u.error&&u.error.ttlResend?u.error.ttlResend:60),2),O=v[0],w=v[1],j=IN(Object(r.k)({status:!(!u||!u.error),content:u&&u.error&&u.error.message?u.error.message:""}),2),x=j[0],k=j[1],_=IN(Object(r.k)(!1),2),S=_[0],I=_[1],N=null;Object(r.d)((function(){l.current?k(_N(_N({},x),{},{status:!1})):l.current=!0,4===g.length&&T()}),[g]),u&&Object(r.d)((function(){var e=u&&u.error&&u.error.ttlResend?u.error.ttlResend:null;return C(e),function(){N&&clearInterval(N)}}),[]);var T=function(){var e;I(!0);var n={on_screen:"register",event_action:"auto_submit",direct_object_id:"submit_email_otp",direct_object_property:(null==u?void 0:u.phone)||"",indirect_object_type:(null==u||null===(e=u.sso)||void 0===e?void 0:e.type)||""},o={email:u.email,otp:g};z.registerEmail(o,(function(e,o){if(e)t(_N(_N({},n),{},{indirect_object_property:"fail",context_value:{email:(null==u?void 0:u.email)||"",failed_reason:o.data,telco_brand:null==u?void 0:u.telco}})),o&&o.data&&o.data.message?k({status:!0,content:o.data.message}):k({status:!0,content:"Đã có lỗi xảy ra, xin vui lòng thử lại sau ít phút"}),I(!1);else{var r,c;t(_N(_N({},n),{},{indirect_object_property:"success",context_value:{email:(null==u?void 0:u.email)||"",telco_brand:null==u?void 0:u.telco}}));var s={on_screen:"register",event_action:"view",direct_object_type:"message",direct_object_id:"register_result",direct_object_property:"success",indirect_object_type:(null==u||null===(r=u.sso)||void 0===r?void 0:r.type)||"",context_value:{email:(null==u?void 0:u.email)||"",phone:(null==u?void 0:u.phone)||"",telco_brand:null==u?void 0:u.telco}};if((null==u||null===(c=u.profile)||void 0===c?void 0:c.googleId)&&(events.indirect_object_id=u.profile.googleId),t(s),d)return void i.setLogin(!0,"redeem");if(p)return void i.setLogin(!0,"referral",p.from.pathname);"rent"===h?i.setLogin(!0,"rent",f):i.setLogin(!0,"register"),a.setNotification({status:!0,description:"Đăng ký thành công",type:"success"})}}))},C=function(e){var t=e||60;N=setInterval((function(){t--,w(t),0===t&&clearInterval(N)}),1e3)};return u?Object(o.h)(iI,null,Object(o.h)(tI,null),Object(o.h)(tI,null,"Xác thực tài khoản"),Object(o.h)(aI,null,Object(o.h)(nI,{isGray:!0},"Nhập mã xác thực được cung cấp tới tài khoản",Object(o.h)("span",null,u.email)),Object(o.h)(ao,{type:"otp",id:"input-otp",value:g,setValue:y,error:x.status},Object(o.h)(Ct.a,{in:x.status,appear:!0,classNames:"fadeInDown",timeout:300},Object(o.h)(dI,null,x.content))),Object(o.h)(rI,null,Object(o.h)(cI,{onClick:function(e){if(e&&e.preventDefault(),0==O){x.status&&k(_N(_N({},x),{},{status:!1})),C();var t={email:u.email};z.verifyEmail(t,(function(e,t){}))}},disabled:O>0},S?Object(o.h)(re,null):Object(o.h)(o.b,null,"Gửi lại",O>0&&" (".concat(O,"s)")))),Object(o.h)(c.b,{className:"action",to:{pathname:m+"/email",state:u}},"Đổi tài khoản email"))):Object(o.h)(s.a,{to:m})};function CN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function PN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CN(Object(n),!0).forEach((function(t){AN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function AN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return EN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var DN=function(e){var t=Object(s.g)(),n=Object(s.j)(),i=Object(s.i)().slug,a=t.location,c=e.type,l=window.location.search;window.location.search.includes("redeem")&&window.location.search.includes("accessKey")&&(l=l.replace("?subs=redeem",""),l+="&subs=redeem");var u=new URLSearchParams(l).get("subs"),d=a.state&&a.state.from&&a.state.from.pathname.includes("/account/referral/")&&a.state,p=MN(Object(r.k)({status:!1,phone:"",type:null}),2),h=p[0],f=p[1],m=MN(Object(r.k)({status:!1,title:"",description:"",confirmed:null}),2),b=m[0],g=m[1];Object(r.d)((function(){sessionStorage.getItem("loginFromApp")&&sessionStorage.setItem("historyPage",t.location.state&&t.location.state.from&&t.location.state.from.pathname),t.replace(PN(PN({},a),{},{pathname:n.url,state:null})),e.theme("hideHeader")}),[]);var y=[{path:"".concat(n.url,"/login"),Component:ZI,state:{showPopupVerify:h,setPopupVerify:f,isRedeem:u&&"redeem"===u,linkReferral:d,type:c,slug:i,matchUrl:n.url}},{path:"".concat(n.url,"/verify"),Component:gN,state:{matchUrl:n.url}},{path:"".concat(n.url,"/email"),Component:xN,state:{isRedeem:u&&"redeem"===u,linkReferral:d,type:c,slug:i,matchUrl:n.url}},{path:"".concat(n.url,"/verifyEmail"),Component:TN,state:{isRedeem:u&&"redeem"===u,linkReferral:d,type:c,slug:i,matchUrl:n.url}},{path:"".concat(n.url,"/complete"),Component:dN,state:{isRedeem:u&&"redeem"===u,linkReferral:d,type:c,slug:i,matchUrl:n.url}},{path:"".concat(n.url),Component:oN,state:{showPopupVerify:h,setPopupVerify:f,showPopupConfirm:b,setPopupConfirm:g,matchUrl:n.url}}];return Object(o.h)(QS,null,Object(o.h)(eI,null,Object(o.h)("a",{href:"/"},Object(o.h)(JS,{src:"//assets.glxplay.io/web/images/logoglx.svg"}))),Object(o.h)(Ct.a,{appear:!0,classNames:"zoom-fadein",timeout:300,in:h.status,unmountOnExit:!0},Object(o.h)(kI,{showPopupVerify:h,setPopupVerify:f,matchUrl:n.url})),Object(o.h)(Ct.a,{appear:!0,classNames:"zoom-fadein",timeout:300,in:b.status,unmountOnExit:!0},Object(o.h)(LI,{showPopupConfirm:b,setPopupConfirm:g})),Object(o.h)(WI,{routes:y}),Object(o.h)(uI,null,[{slug:"/help",name:"Hỗ trợ"},{slug:"/about-us/chinh-sach-bao-mat",name:"Chính sách bảo mật"}].map((function(e){return Object(o.h)("a",{href:e.slug},e.name)}))))},LN=function(e){return e/16+"rem"},RN=Pe.a.div.withConfig({displayName:"style__Title",componentId:"sc-1cs5pv4-0"})(["font-size:2rem;padding-bottom:2.5rem;font-weight:bold;text-align:center;@media (max-width:576px){font-size:20px;}"]),zN=Pe.a.div.withConfig({displayName:"style__Profile",componentId:"sc-1cs5pv4-1"})(["position:relative;height:calc(100% - ",");box-sizing:border-box;padding-bottom:15rem;@media (max-height:600px){position:relative;padding-bottom:3rem;}@media (max-width:576px){margin:0 20px;height:calc(100% - ",");padding-bottom:0;}@media (max-width:320px){padding-top:0;}"],LN(90.56),LN(80.45)),UN=Pe.a.div.withConfig({displayName:"style__WrapperProfile",componentId:"sc-1cs5pv4-2"})(["animation:fadeIn 1s;"]),VN=Pe.a.div.withConfig({displayName:"style__ItemProfile",componentId:"sc-1cs5pv4-3"})(["max-width:",";margin:auto;text-align:center;display:flex;flex-wrap:wrap;justify-content:center;padding-bottom:2.5rem;@media (max-width:576px){padding-bottom:0;}.icon-profile{transition:all 0.5s;width:",";border-radius:50%;transition:all 0.5s;display:block;opacity:",";&:not(img[src]){display:none;}@media (max-width:576px){width:80px;}}.item{margin:0px ",";cursor:pointer;@media (max-width:768px){margin:0 12px 15px 12px;}.group-icon{position:relative;display:flex;align-items:center;justify-content:center;width:",";height:",";border:"," solid transparent;background:#1f2325;border-radius:50%;&.border{border:"," solid rgba(242,242,242,0.3);}@media (max-width:576px){width:80px;height:80px;}@media (max-width:370px){width:63px;height:63px;}}.icon-edit{width:",";position:absolute;@media (max-width:576px){width:20px;}}&:hover{.name{opacity:1;transition:all 0.5s;}.group-icon{border:"," solid #f2f2f2;transition:0.3s;}}&.focus-item{.group-icon{border:"," solid #f2f2f2;}.name{opacity:",";font-weight:bold;}}}.locker-icon{svg{width:",";height:",";@media (max-width:576px){width:20px;height:20px;}}}.name{opacity:0.4;margin-top:0.75rem;transition:all 0.5s;@media (max-width:576px){font-size:14px;}}"],LN(850),LN(112),(function(e){return e.statusEdit?.5:1}),LN(20),LN(112),LN(112),LN(3),LN(3),LN(40),LN(3),LN(3),(function(e){return e.statusEdit?.5:1}),LN(24),LN(24)),BN=Pe.a.div.withConfig({displayName:"style__Container",componentId:"sc-1cs5pv4-4"})(["position:relative;min-height:calc(100vh - 90.56px);padding-top:90.56px;display:flex;justify-content:center;align-items:center;flex-wrap:wrap;@media (max-width:576px){align-items:flex-start;}"]),HN=Pe.a.div.withConfig({displayName:"style__Button",componentId:"sc-1cs5pv4-5"})(["width:10.625rem;padding:0.75rem 0;display:flex;align-items:center;justify-content:center;font-weight:bold;cursor:pointer;border-radius:50px;transition:0.5s all;margin:0 auto;"," &:hover{background:#f2f2f2;color:#1d1d1d;}"],(function(e){return e.light?"background: #f2f2f2; color: #1d1d1d;":"background: #393939; color: rgba(235, 235, 235, 0.7);"})),FN=Pe.a.div.withConfig({displayName:"style__MessageBottom",componentId:"sc-1cs5pv4-6"})(["position:fixed;bottom:0;left:50%;transform:translateX(-50%);width:100%;text-align:center;display:flex;align-items:center;justify-content:center;flex-wrap:wrap;animation:fadeIn 1s;"," .group-content{max-width:343px;text-align:center;padding-right:",";display:flex;align-items:center;justify-content:center;flex-wrap:wrap;@media (max-width:970px){width:40%;box-sizing:border-box;padding:0 ",";}@media (max-width:576px){width:100%;max-width:100%;box-sizing:border-box;padding:0 "," ",";}.title-message{color:#ebebeb;font-size:",";text-align:center;width:100%;@media (max-width:576px){","}}}","{margin-top:",";@media (max-width:970px){margin-top:",";width:",";padding:0.5rem 0;}@media (max-width:576px){width:",";padding:0.5rem 0;margin:0;}}"],(function(e){return!e.isMessageAbsolute&&"position: relative;\n    bottom: initial;\n    left: initial;\n    transform: initial;\n    padding-top: ".concat(LN(32),";")}),LN(25),LN(8),LN(8),LN(8),LN(14),(function(e){return e.hasButton?"width: calc(100% - ".concat(LN(112),");\n              padding-right: ").concat(LN(8),";\n              box-sizing: border-box;"):"width: 100%;"}),HN,LN(16),LN(8),LN(150),LN(112)),qN=Pe.a.img.withConfig({displayName:"style__ImgMessage",componentId:"sc-1cs5pv4-7"})(["width:",";@media (max-width:970px){width:60%;}@media (max-width:576px){width:100%;}"],LN(551)),WN=Pe.a.img.withConfig({displayName:"style__ImgMessageDefault",componentId:"sc-1cs5pv4-8"})(["width:100%;"]),KN=(Pe.a.div.withConfig({displayName:"style__CircleAdd",componentId:"sc-1cs5pv4-9"})([""]),Pe.a.div.withConfig({displayName:"style__Background",componentId:"sc-1cs5pv4-10"})(["animation:fadeIn 0.5s;background-image:url('//assets.glxplay.io/web/responsive/w450/bg-lobby-mobile-1.jpg');width:100%;background-position:center;background-repeat:no-repeat;background-size:cover;min-height:100vh;position:absolute;@media (min-width:687px){background-image:url('//assets.glxplay.io/web/responsive/w1024/bg-lobby-ipad-portrait-1.jpg');@media (orientation:landscape){background-image:url('//assets.glxplay.io/web/responsive/w1366/bg-lobby-ipad-landscape-1.jpg');}}",""],b.isDesktop&&"@media (min-width: 1200px) {\n      background-image: url('//assets.glxplay.io/web/responsive/w1920/bg-lobby-pc-1.jpg');\n    }")),GN=Pe.a.div.withConfig({displayName:"style__HeaderLobby",componentId:"sc-1cs5pv4-11"})(["display:flex;justify-content:space-between;padding:"," 6%;align-items:center;position:absolute;top:0;left:0;"],LN(20)),$N=Pe.a.div.withConfig({displayName:"style__LogoLobby",componentId:"sc-1cs5pv4-12"})(["img{width:",";@media (max-width:576px){width:80px;}}"],LN(100)),XN=Pe.a.div.withConfig({displayName:"style__WrapSubIcon",componentId:"sc-1cs5pv4-13"})(["display:flex;justify-content:center;align-items:center;margin-top:",";img{width:",";}"],LN(10),LN(24)),YN=n(430),ZN=n.n(YN),QN=Pe.a.div.withConfig({displayName:"style__Title",componentId:"sc-1adbkls-0"})(["font-size:32px;font-weight:bold;text-align:center;@media (max-width:480px){font-size:25px;}"]),JN=(Pe.a.div.withConfig({displayName:"style__GroupButton",componentId:"sc-1adbkls-1"})([".btn-save{background-color:#f2f2f2 !important;color:#1d1d1d !important;}.btn-edit{width:120px;background-color:rgba(255,255,255,0.25);margin-right:10px;&:hover{background-color:rgba(255,255,255,0.4);}}margin-top:20px;@media (max-width:480px){margin:20px 0;}"]),Pe.a.div.withConfig({displayName:"style__GroupIcon",componentId:"sc-1adbkls-2"})(["max-width:592px;margin:0 auto;"])),eT=Pe.a.div.withConfig({displayName:"style__WrapIcon",componentId:"sc-1adbkls-3"})(['display:flex;justify-content:center;flex-wrap:wrap;margin:0 -1.25rem;.item{position:relative;.icon-tick{position:absolute;bottom:0;right:0;width:30px;}&:hover{&:before{content:"";position:absolute;top:50%;left:50%;width:100%;height:100%;transform:translate(-50%,-50%);border:3px solid #f2f2f2;border-radius:50%;}}}.icon-avatar{-webkit-tap-highlight-color:none;cursor:pointer;border-radius:50%;position:relative;display:block;}']),tT=Pe.a.div.withConfig({displayName:"style__Icon",componentId:"sc-1adbkls-4"})(["flex:0 0 25%;max-width:25%;padding:0 1.25rem 1.25rem;box-sizing:border-box;@media (max-width:576px){flex:0 0 33.333333%;max-width:33.333333%;}"]),nT=Pe.a.div.withConfig({displayName:"style__ItemProfile",componentId:"sc-1adbkls-5"})(["animation:fadeIn 1s;max-width:850px;margin:auto;text-align:center;margin-top:3rem;justify-content:center;.br{padding:10px 0;@media (max-width:480px){padding:0;}}.focus{}.group-input{input{padding:20px 25px;border-radius:4px;border:solid 1px #f2f2f2;width:330px;height:30px;text-align:center;font-size:18px;margin-top:20px;color:white;background-color:transparent;}}.group-radio{align-items:center;margin:20px 0;display:flex;justify-content:center;input{margin-right:10px;width:30px;height:30px;}}"]);function iT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function aT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iT(Object(n),!0).forEach((function(t){oT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var sT=function(e){var t=rT(Object(r.k)({arrImages:null,itemImage:null,focusIndex:e.infoProfile&&e.infoProfile.id?e.infoProfile.id:e.infoProfile&&e.infoProfile.avatar_image_id}),2),n=t[0],i=t[1];Object(r.d)((function(){return e.hideBtnBack&&e.hideBtnBack(!0),z.getAccountImages((function(e,t){!e&&t&&i(aT(aT({},n),{},{arrImages:t.data}))})),function(){e.hideBtnBack(!1)}}),[]);return Object(o.h)("div",null,Object(o.h)(QN,null,"Chọn ảnh đại diện"),Object(o.h)(nT,null,Object(o.h)(JN,null,Object(o.h)(eT,null,n.arrImages&&n.arrImages.map((function(t,i){return Object(o.h)(tT,{key:i},Object(o.h)("div",{className:"item"},Object(o.h)("img",{onClick:function(){return function(t){e.idImage(t),e.setShowBtn(!1)}(t)},className:"icon-avatar ".concat(t.id==n.focusIndex?"focus":""),src:t.location}),t.id==n.focusIndex&&Object(o.h)("img",{className:"icon-tick",src:ZN.a})))}))))))},lT=Pe.a.div.withConfig({displayName:"style__Title",componentId:"xc54yt-0"})(["font-size:32px;font-weight:bold;text-align:center;@media (max-width:480px){font-size:25px;}"]),uT=Pe.a.div.withConfig({displayName:"style__GroupButton",componentId:"xc54yt-1"})(["display:flex;justify-content:space-between;align-items:center;.btn-save{background-color:#f2f2f2;color:#1d1d1d;width:120px;}.btn-disable{width:120px;opacity:0.2;background-color:#f2f2f2;color:#1d1d1d;pointer-events:none;}.btn-edit{width:120px;background-color:rgba(255,255,255,0.25);&:hover{background-color:rgba(255,255,255,0.4);}}.btn-primary{font-weight:bold;font-size:1rem;box-sizing:border-box;&:nth-child(2){@media (min-width:360px) and (max-width:576px){margin:0 1rem;}}}margin-top:46px;@media (max-width:480px){margin-top:2rem;.btn-primary{width:100px;}}"]),dT=Pe.a.div.withConfig({displayName:"style__ItemProfile",componentId:"xc54yt-2"})([".checkbox-PIN{margin:2rem 0;.disable-input{pointer-events:none;*{opacity:0.4;}}}.title-isKid{color:#9b9b9b;text-align:left;margin-left:34px;font-size:14px;@media (max-width:480px){font-size:12px;}}.group-radio{display:flex;position:relative;box-sizing:initial;.container-checkbox{cursor:pointer;}.container-checkbox .checkbox-lock{position:absolute;opacity:0;cursor:pointer;height:0;width:0;}.checkmark-checkbox{cursor:pointer;position:absolute;height:20px;width:20px;border-radius:2px;border:1px solid #fff;}.title-checkbox{margin-left:34px;font-weight:bold;color:rgba(255,255,255,0.8);}.container-checkbox:hover input ~ .checkmark-checkbox{}.container-checkbox input:checked ~ .checkmark-checkbox{background-color:#2196f3;box-shadow:none;height:21px;width:21px;border:1px solid #2196f3;}.checkmark-checkbox:after{content:'';position:absolute;display:none;}.container-checkbox input:checked ~ .checkmark-checkbox:after{display:block;}.container-checkbox .checkmark-checkbox:after{left:7px;top:2.5px;width:4px;height:10px;border:solid black;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);}}.container{-webkit-tap-highlight-color:rgba(255,255,255,0);display:block;position:relative;padding-left:35px;margin:0 20px;cursor:pointer;font-size:22px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;@media (max-width:480px){font-size:15px;padding-left:30px;}}.container input{position:absolute;opacity:0;cursor:pointer;}.checkmark{position:absolute;top:0;left:0;height:25px;width:25px;background-color:rgba(242,242,242,0.2);border-radius:50%;@media (max-width:480px){height:20px;width:20px;}}.container:hover input ~ .checkmark{background-color:#7d7d7d;}.container input:checked ~ .checkmark{background-color:rgba(242,242,242,0.2);}.checkmark:after{content:'';position:absolute;display:none;}.container input:checked ~ .checkmark:after{display:block;}.container .checkmark:after{top:6px;left:6px;width:13px;height:13px;border-radius:50%;background:white;@media (max-width:480px){height:10px;width:10px;top:5px;left:5px;}}animation:fadeIn 1s;max-width:400px;margin:auto;text-align:center;padding-top:2rem;padding-bottom:3rem;justify-content:center;.group-icon{display:flex;align-items:center;justify-content:center;position:relative;.group-icon-edit{position:relative;border-radius:50%;overflow:hidden;}.circle-add{width:112px;height:112px;border-radius:50%;object-fit:contain;border:4px solid #353434;background-color:#1f2325;display:flex;align-items:center;justify-content:center;margin:auto;cursor:pointer;transition:all 0.5s;cursor:pointer;@media (max-width:480px){width:90px;height:90px;}&:hover{border:4px solid #565555;transition:all 0.5s;}img{border-radius:50%;}.profile-icon{width:100%;}.add-icon{width:32px;}}.circle-icon{align-items:center;justify-content:center;display:flex;border-radius:50%;position:absolute;bottom:0;cursor:pointer;}.icon-profile{width:112px;border-radius:50%;cursor:pointer;transition:all 0.5s;@media (max-width:480px){width:90px;}&:hover{box-shadow:#fff 0px 0px 0px 4px;transition:all 0.5s;}}}.overlay-profile{position:absolute;pointer-events:none;width:100%;height:56px;bottom:0;left:50%;transform:translateX(-50%);background-image:linear-gradient(to bottom,rgba(0,0,0,0) 18%,rgba(0,0,0,0.6) 61%);span{position:absolute;pointer-events:none;left:50%;width:100%;transform:translateX(-50%);bottom:11px;color:#ebebeb;font-size:1.25rem;}}.icon-change{cursor:pointer;bottom:0;right:0;position:absolute;width:24px;}.group-input{input:-webkit-autofill,input:-webkit-autofill:hover,input:-webkit-autofill:focus{-webkit-text-fill-color:#fff;-webkit-box-shadow:none;transition:background-color 5000s ease-in-out 0s;}input{padding:21px 30px;border-radius:4px;border:solid 1px #f2f2f2;width:400px;height:30px;font-size:16px;margin-top:20px;color:#ebebeb;background-color:transparent;@media (max-width:480px){width:100%;font-size:15px;}&:focus{outline:none;border:solid 1px #0077c8;}}.err-input{border:solid 1px #e02020;}}.mess-error{margin:10px 0px;color:#e02020;}.group-radio{-webkit-tap-highlight-color:rgba(255,255,255,0);margin:25px 0;input{margin-right:10px;width:30px;height:30px;}}.group-radio-kid{margin:25px 0 4px 0px;}"]),pT=n(114),hT=n.n(pT);function fT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function mT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fT(Object(n),!0).forEach((function(t){bT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var vT=function(e){var t=Object(r.b)(Eo),n=Object(r.b)(F),i=Object(Ve.useTracking)().trackEvent,a=gT(Object(r.k)(!1),2),c=a[0],s=a[1],l=gT(Object(r.k)(e.infoProfile&&e.infoProfile.has_pin_code||!1),2),u=l[0],d=l[1],p=gT(Object(r.k)(!1),2),h=p[0],f=p[1],m=gT(Object(r.k)(null),2),b=m[0],g=m[1],y=gT(Object(r.k)(null),2),v=y[0],O=y[1],w=Object(r.j)(!e.infoProfile||!e.infoProfile.has_pin_code),j=Object(r.j)(!e.infoProfile||!e.infoProfile.is_kid),x=gT(Object(r.k)({infoProfile:null,lockProfile:!1,name:e.infoProfile&&e.infoProfile.name,isKid:e.infoProfile&&e.infoProfile.is_kid,checkKidRadio:!1}),2),k=x[0],_=x[1];Object(r.d)((function(){null!==k.name&&k.name.length>1&&k.name.length>15&&_(mT(mT({},k),{},{name:k.name.substring(0,k.name.length-1)}))}),[k.name]),Object(r.d)((function(){e.infoProfile||S()}),[]),Object(r.d)((function(){document.getElementById("checkbox-lock")&&(k.isKid?document.getElementById("checkbox-lock").disabled=!0:document.getElementById("checkbox-lock").disabled=!1)}),[k.isKid,c]);var S=function(){new Promise((function(e,t){z.getAccountImages((function(t,n){e(n.data)}))})).then((function(e){N(e)}))},I=function(e,t,a,o,r,c,s,l){i(mT({on_screen:"lobby",from_screen:n.history.length>1&&n.history[n.history.length-2]||"",event_category:"account",event_action:e,direct_object_type:t,direct_object_property:a,direct_object_id:o,indirect_object_type:r,indirect_object_id:c,indirect_object_property:s},l?{context_value:l}:{}))},N=function t(n){var i=[];e.modelProfile.map((function(e){i.push(e.avatar_image_id)}));var a=T(n);i.some((function(e){return new RegExp("\\b"+e+"\\b").test(a)}))?t(n):n.map((function(e,t){e.id==a&&U(e)}))},T=function(e){return Math.floor(Math.random()*e.length+1)},C=function(e){var n={name:k.name.trim(),avatar_image_id:e,is_kid:k.isKid,pin_code:v,is_pin_code_enforced:k.lockProfile};z.addAccountViewer(n,(function(e,i){if(!e&&i){P(),t.setNotification(mT(mT({},t.notification),{},{status:!0,description:"Thêm kho phim thành công",type:"success"}));var a={profile_id:i.data.short_id,kid_mode:n.is_kid?1:0,lock_profile:n.is_pin_code_enforced?1:0};I("click","button","","submit_add_profile","user_profile",n.name,n.is_kid?"kid_mode":"non_kid_mode",a),I("view","screen","success","add_profile_result","user_profile",n.name,n.is_kid?"kid_mode":"non_kid_mode",a)}else i.data&&i.data.message&&t.setNotification(mT(mT({},t.notification),{},{status:!0,description:i.data.message,type:"error"})),1002===i.data.error_code&&P(),I("click","button","","submit_add_profile","user_profile",n.name,n.is_kid?"kid_mode":"non_kid_mode"),I("view","screen","fail","add_profile_result","user_profile",n.name,n.is_kid?"kid_mode":"non_kid_mode")}))},P=function(){e.editProfile(),e.setHideBtn(!0),e.getDataProfile()},A=function(){_(mT(mT({},k),{},{checkKidRadio:!0,isKid:!1})),j.current=!0,w.current=!0},M=function(){_(mT(mT({},k),{},{lockProfile:!1})),d(!u),w.current=!0,j.current=!0},E=function(){s(!0),f(!0)},D=function(n,i){if(f(!0),"name"==n){var a=i.target.value;g(""),_(mT(mT({},k),{},{name:a}))}"isKid"==n&&(e.infoProfile?i?k.checkKidRadio||w.current&&j.current?_(mT(mT({},k),{},{isKid:!k.isKid})):t.setNotification(mT(mT({},t.notification),{},{status:!0,type:"setPassProfile",backHome:!1,forgotPIN:!1,titleHead:"Nhập mật khẩu để bỏ giới hạn độ tuổi xem phim",confirmPass:A})):_(mT(mT({},k),{},{checkKidRadio:!0,isKid:!k.isKid})):_(mT(mT({},k),{},{isKid:!k.isKid}))),"lockProfile"==n&&(1==i.target.checked?(_(mT(mT({},k),{},{lockProfile:!0})),t.setNotification({status:!0,type:"PINProfile",typeUI:"setProfile",submitPIN:R,getPIN:L})):w.current?(_(mT(mT({},k),{},{lockProfile:!1})),d(!u)):t.setNotification(mT(mT({},t.notification),{},{status:!0,type:"setPassProfile",backHome:!1,titleHead:"Nhập mật khẩu để bỏ khoá kho phim",confirmPass:M})))},L=function(e){O(e)},R=function(){d(!u),t.setNotification(mT(mT({},t.notification),{},{status:!1}))},U=function(e){_(mT(mT({},k),{},{infoProfile:e}))};return c?Object(o.h)(sT,{hideBtnBack:e.hideBtnBack,idImage:U,infoProfile:k.infoProfile?k.infoProfile:e.infoProfile,setShowBtn:s}):Object(o.h)(o.b,null,Object(o.h)(lT,null,e.infoProfile?"Chỉnh sửa kho phim":"Thêm kho phim"),Object(o.h)(dT,null,Object(o.h)("div",{className:"group-icon"},Object(o.h)("div",{className:"group-icon-edit"},e.infoProfile&&Object(o.h)("img",{onClick:E,className:"icon-profile",src:k.infoProfile&&k.infoProfile.location?k.infoProfile.location:e.infoProfile&&e.infoProfile.avatar_image_url&&e.infoProfile.avatar_image_url})||Object(o.h)("span",{className:"circle-add",onClick:E},k.infoProfile&&k.infoProfile.location&&Object(o.h)("img",{className:"profile-icon",src:k.infoProfile.location})||Object(o.h)("img",{className:"add-icon",src:hT.a})),Object(o.h)("div",{className:"overlay-profile"},Object(o.h)("span",null,"Thay đổi")))),Object(o.h)("div",{className:"group-input"},Object(o.h)("input",{className:"".concat(b?"err-input":"input-name-profile"),id:"input-name-profile",onInput:function(e){return D("name",e)},value:k.name,type:"text",maxLength:15,name:"input-name-profile",placeholder:"Tên kho phim tối đa 15 ký tự."})),Object(o.h)("p",{className:"mess-error"},b),Object(o.h)("div",{className:"group-radio group-radio-kid checkbox-PIN"},Object(o.h)("label",{class:"container-checkbox"},Object(o.h)("input",{checked:k.isKid,onChange:function(e){return D("isKid",k.isKid)},type:"checkbox",name:"checkbox-lock",className:"checkbox-lock"}),Object(o.h)("span",{class:"checkmark-checkbox"}),Object(o.h)("span",{className:"title-checkbox"},"Dành cho Trẻ Em"),Object(o.h)("br",null))),Object(o.h)("p",{className:"title-isKid"},"Giới hạn phim từ 13 tuổi trở xuống với kho phim này."),Object(o.h)("div",{className:"group-radio checkbox-PIN"},Object(o.h)("label",bT({className:"container-checkbox",title:"".concat(k.isKid?"disable":"")},"className","".concat(k.isKid?"disable-input container-checkbox":"container-checkbox")),Object(o.h)("input",{checked:u,onChange:function(e){return D("lockProfile",e)},type:"checkbox",name:"checkbox-lock",id:"checkbox-lock",className:"checkbox-lock"}),Object(o.h)("span",{class:"checkmark-checkbox"}),Object(o.h)("span",{className:"title-checkbox"},"Khoá kho phim"))),Object(o.h)(uT,null,Object(o.h)(me,{onClick:function(){if(h){if(k.name&&k.name.length>0)if(k.name.trim().length>0){if(k.name.trim().length>1&&k.name.trim().length<17){var n=[];e.modelProfile.map((function(t,i){e.infoProfile&&e.infoProfile.name==t.name||n.push(t.name)})),e.infoProfile?e.modelProfile.map((function(n,i){if(n.short_id==e.infoProfile.short_id){n.name=k.name.trim(),n.is_kid=k.isKid,n.is_pin_code_enforced=u,n.pin_code=v||"",n.avatar_image_id=k.infoProfile&&k.infoProfile.id?k.infoProfile.id:n.avatar_image_id;var a={shortId:n.short_id,model:n};z.editAccountViewer(a,(function(i,o){if(!i&&o){var r={profile_id:o.data.short_id,kid_mode:a.is_kid?1:0,lock_profile:a.is_pin_code_enforced?1:0};I("click","button","","submit_update_profile","user_profile",n.name,n.is_kid?"kid_mode":"non_kid_mode",r),I("view","screen","success","update_profile_result","user_profile",n.name,n.is_kid?"kid_mode":"non_kid_mode",r),e.infoProfile.isCurrentProfile&&(n.is_kid?localStorage.profileKidMode=!0:localStorage.profileKidMode=!1),t.setNotification(mT(mT({},t.notification),{},{status:!0,description:"Đã cập nhật kho phim",type:"success"})),P()}else o.data.error_code&&1001==o.data.error_code&&(t.setNotification(mT(mT({},t.notification),{},{status:!0,description:"Kho phim này đã bị xóa",type:"error"})),P()),I("click","button","","submit_update_profile","user_profile",n.name,n.is_kid?"kid_mode":"non_kid_mode"),I("view","screen","fail","update_profile_result","user_profile",n.name,n.is_kid?"kid_mode":"non_kid_mode")}))}})):k.infoProfile&&k.infoProfile.id?C(k.infoProfile&&k.infoProfile.id):z.getAccountImages((function(e,t){resolve(t.data),N(res)}))}}else g("Tên kho phim không hợp lệ")}else k.name&&P()},className:"".concat(k.name&&k.name.length&&k.name.trim().length>1&&k.name.trim().length<17?"btn-save":"btn-disable"),content:"Lưu"}),Object(o.h)(me,{onClick:P,className:"btn-edit",content:"Huỷ"}),e.infoProfile&&!e.infoProfile.is_primary?Object(o.h)(me,{onClick:function(){t.setNotification(mT(mT({},t.notification),{},{status:!0,type:"confirm",title:"Xoá kho phim",description:"Bạn có chắc chắn muốn xoá kho phim này không?",confirmed:function(){z.deleteAccountViewer(e.infoProfile&&e.infoProfile.short_id,(function(n,i){if(!n&&i){JSON.parse(localStorage.getItem("profile")).profileId===e.infoProfile.short_id&&(localStorage.removeItem("profile"),localStorage.removeItem("__pfid")),P(),t.setNotification(mT(mT({},t.notification),{},{status:!0,description:"Xoá kho phim thành công",type:"success"}));var a={profile_id:e.infoProfile.short_id,kid_mode:e.infoProfile.is_kid?1:0,lock_profile:e.infoProfile.is_pin_code_enforced?1:0};I("click","button","","delete_profile","user_profile",e.infoProfile.name,"",a),I("view","screen","success","delete_profile_result","user_profile",e.infoProfile.name,e.infoProfile.is_kid?"kid_mode":"non_kid_mode",a)}else i.data.error_code&&1001==i.data.error_code&&(t.setNotification(mT(mT({},t.notification),{},{status:!0,description:"Kho phim này đã bị xóa",type:"error"})),P()),I("click","button","","delete_profile","user_profile",e.infoProfile.name,""),I("view","screen","fail","delete_profile_result","user_profile",e.infoProfile.name,e.infoProfile.is_kid?"kid_mode":"non_kid_mode")}))}}))},className:"btn-edit",content:"Xoá"}):Object(o.h)(me,{className:"btn-edit hidden",content:"Xoá"}))))},OT=function(e){return e/16+"rem"},wT=Pe.a.img.withConfig({displayName:"style__TutorialMobile",componentId:"hp9gts-0"})(["position:absolute;width:100%;height:100%;top:0;object-fit:contain;left:0;animation:fadeIn 1s;"]),jT=Pe.a.div.withConfig({displayName:"style__Tutorial",componentId:"hp9gts-1"})(["width:100vw;height:100%;position:fixed;top:0;left:0;background-color:#000;","{padding-bottom:5rem;width:100%;pointer-events:none;","{padding-bottom:8rem;}@media (max-width:1100px){padding-bottom:0rem;","{padding-bottom:4rem;}}}","{position:relative;color:#000;&:before{position:absolute;content:'Kho phim của bạn';width:100%;height:100%;left:0;top:0;color:rgba(255,255,255,0.2);}}","{position:relative;&:before{position:absolute;width:100%;height:100%;border-radius:50px;content:'';background-color:rgba(0,0,0,0.8);top:0;left:0;transition:500ms;}}","{.item{.group-icon{position:relative;&:before{content:'';width:calc(100% + 6px);height:calc(100% + 6px);background:rgba(0,0,0,0.8);position:absolute;top:50%;left:50%;border-radius:50%;transform:translate(-50%,-50%);transition:500ms;}&.border{box-sizing:border-box;}}.name{color:rgba(255,255,255,0.5);opacity:0.1;transition:500ms;&.relative{position:relative;}}}}","{.icon{width:1.5rem;height:1.5rem;background:#000;position:relative;.icon-kid{position:absolute;top:0;left:0;opacity:0.2;transition:500ms;}}}.arrow-kid{position:absolute;left:calc(100% + 12.5px);width:100px;top:-5px;z-index:1;opacity:0;transition:500ms;.arrow-tutorial{width:100px;}.content-kid{position:absolute;top:calc(100% + 12.5px);left:20px;width:322px;img{width:322px;}}@media (max-width:1024px){width:90px;top:-5px;left:calc(100% + 10px);.arrow-tutorial{width:90px;}.content-kid{position:absolute;bottom:calc(100% + 4px);left:-4px;width:302px;img{width:302px;}}}}.arrow{position:absolute;top:calc(50% + 12px);left:calc(50% - 10px);transform:translateX(-50%);z-index:1;width:110.8px;opacity:0;transition:500ms;.arrow-tutorial{width:110.8px;}.content{position:absolute;top:calc(100% + 13px);right:0;width:322px;img{width:322px;}}@media (max-width:1024px){width:114px;.arrow-tutorial{width:114px;}.content{top:calc(100% + 8px);right:-45px;width:302px;img{width:302px;}}}}.arrow-button{position:absolute;top:calc(50% + 28px);right:calc(100% + 8px);transform:translateY(-50%);z-index:1;width:78px;opacity:0;transition:500ms;.arrow-tutorial{width:78px;}.content-button{position:absolute;top:calc(100% + 13px);left:-173px;width:342px;img{width:342px;}}}.arrow-add{position:absolute;top:-4px;left:calc(100% + 2.7px);z-index:1;width:172.5px;opacity:0;transition:500ms;.arrow-tutorial{width:172.5px;}.content-add{position:absolute;top:calc(100% - 30px);left:-44px;width:380px;img{width:380px;}}@media (max-width:1100px){top:calc(-50% + 35px);right:calc(100% - 25px);left:initial;bottom:initial;transform:translateY(-50%);.arrow-tutorial{transform:rotate(218deg);}.content-add{bottom:100%;left:-111px;top:initial;width:380px;img{width:380px;}}}}&.step-1{","{.item.st-1{.group-icon{&:before{background:transparent;}}.name{opacity:1;}","{.icon{.icon-kid{opacity:1;}}}}}.arrow-kid,.arrow{opacity:1;}}&.step-2{","{.item.st-2{.group-icon{&:before{background:transparent;}}.name{opacity:1;}}}.arrow-button,.arrow-add{opacity:1;}","{&:before{background-color:transparent;}}}"],zN,UN,UN,RN,HN,UN,XN,UN,XN,UN,HN),xT=Pe.a.div.withConfig({displayName:"style__Overlay",componentId:"hp9gts-2"})(["position:absolute;width:100%;height:100vh;top:0;opacity:0.8;left:0;background-image:radial-gradient(circle at 50% 50%,rgba(1,1,1,0.8),#000000 72%);"]),kT=(Pe.a.div.withConfig({displayName:"style__ButtonTutorial",componentId:"hp9gts-3"})(["width:156px;height:44px;border-radius:22px;border:solid 1px #f2f2f2;display:flex;justify-content:center;align-items:center;font-weight:bold;margin:0 auto;color:#ebebeb;@media (max-width:576px){position:absolute;bottom:7.882vh;width:140px;left:50%;transform:translateX(-50%);}"]),Pe.a.div.withConfig({displayName:"style__TextContinue",componentId:"hp9gts-4"})(["font-size:1.125rem;position:absolute;bottom:3.5rem;left:50%;transform:translateX(-50%);color:#9b9b9b;text-align:center;font-style:italic;width:100%;@media (max-width:576px){bottom:24px;}"])),_T=Pe.a.div.withConfig({displayName:"style__Close",componentId:"hp9gts-5"})(["position:absolute;top:",";right:",";width:",";height:",";background-color:rgba(255,255,255,0.2);border-radius:50%;display:flex;justify-content:center;align-items:center;transition:300ms ease-in-out;cursor:pointer;@media (max-width:576px){width:",";height:",";top:",";right:",";}svg{width:",";height:",";color:#ffffff;fill:currentColor;}&:hover{background-color:#ffffff;svg{color:#1d1d1d;}}"],OT(48),OT(48),OT(48),OT(48),OT(40),OT(40),OT(24),OT(16),OT(32),OT(32)),ST=n(431),IT=n.n(ST),NT=n(432),TT=n.n(NT),CT=n(433),PT=n.n(CT),AT=n(434),MT=n.n(AT),ET=n(435),DT=n.n(ET),LT=n(436),RT=n.n(LT),zT=n(437),UT=n.n(zT),VT=n(438),BT=n.n(VT),HT=n(439),FT=n.n(HT),qT=n(440),WT=n.n(qT),KT=n(179),GT=n.n(KT);function $T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return XT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var YT=function(e){var t=Object(r.b)(Xc).state.isMobileOnly,n=$T(Object(r.k)(0),2),i=n[0],a=n[1];Object(r.d)((function(){setTimeout((function(){a(1)}),500)}),[]);var c=function(){localStorage.removeItem("justRegistered"),e.setTutorial(!1)};return Object(o.h)(jT,{className:1===i?"step-1":2===i?"step-2":"",onClick:function(){2===i&&(localStorage.removeItem("justRegistered"),e.setTutorial(!1)),1===i&&a(2)}},t?Object(o.h)("div",null,2===i?Object(o.h)(wT,{src:DT.a}):Object(o.h)(wT,{src:MT.a}),Object(o.h)(kT,null,"Click vào nơi bất kì để tiếp tục"),2!==i&&Object(o.h)(_T,{onClick:c},Object(o.h)(Ue,null))):Object(o.h)(KN,{background:GT.a},Object(o.h)((function(){return Object(o.h)(GN,null,Object(o.h)($N,null,Object(o.h)("img",{src:ne.a})))}),null),Object(o.h)(xT,null),Object(o.h)(BN,null,2!==i&&Object(o.h)(_T,{onClick:c},Object(o.h)(Ue,null)),Object(o.h)(zN,null,Object(o.h)(UN,null,Object(o.h)(RN,null,"Kho phim của bạn"),Object(o.h)(VN,{id:"item-profile",statusEdit:!1},Object(o.h)("div",{className:"item st-1"},Object(o.h)("div",{className:"group-icon"},Object(o.h)("img",{className:"icon-profile",src:"https://assets.glxplay.io/web/test/20200806/Avatar%20Profile-12.png",alt:""})),Object(o.h)("p",{className:"name relative"},"Mọt phim",Object(o.h)("div",{className:"arrow"},Object(o.h)("img",{className:"arrow-tutorial",src:WT.a}),Object(o.h)("div",{className:"content"},Object(o.h)("img",{src:FT.a}))))),Object(o.h)("div",{className:"item st-1"},Object(o.h)("div",{className:"group-icon"},Object(o.h)("img",{className:"icon-profile",src:"https://assets.glxplay.io/web/test/20200806/avatar%20gp%20grb-07.jpg",alt:""})),Object(o.h)("p",{className:"name"},"Trẻ em"),Object(o.h)(XN,null,Object(o.h)("div",{className:"icon"},Object(o.h)("div",{className:"arrow-kid"},Object(o.h)("img",{className:"arrow-tutorial",src:IT.a}),Object(o.h)("div",{className:"content-kid"},Object(o.h)("img",{src:BT.a}))),Object(o.h)("img",{className:"icon-kid",src:Ex.a,alt:""})))),Object(o.h)("div",{className:"item st-2"},Object(o.h)("div",{className:"group-icon"},Object(o.h)("div",{className:"arrow-add"},Object(o.h)("img",{className:"arrow-tutorial",src:PT.a}),Object(o.h)("div",{className:"content-add"},Object(o.h)("img",{src:UT.a}))),Object(o.h)("div",{className:"group-icon border"},Object(o.h)("img",{width:"32",className:"add-icon",src:hT.a,alt:""}))),Object(o.h)("p",{className:"name"},"Thêm mới"))),Object(o.h)(HN,null,Object(o.h)("div",{className:"arrow-button"},Object(o.h)("img",{className:"arrow-tutorial",src:TT.a}),Object(o.h)("div",{className:"content-button"},Object(o.h)("img",{src:RT.a}))),"Chỉnh sửa"))),Object(o.h)(kT,null,"Click vào nơi bất kì để tiếp tục"))))},ZT=n(441),QT=n.n(ZT),JT=n(442),eC=n.n(JT),tC=n(443),nC=n.n(tC);function iC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return aC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var oC=function(e){var t=Object(r.b)(Xc).state,n=t.isMobileOnly,i=t.isTablet,a=e.value,c=e.trackingClickLobbyMessage,s=e.wrapperProfile,l=e.header,u=Object(r.k)(!1),d=(u.loaded,u.setLoaded,iC(Object(r.k)(!0),2)),p=d[0],h=d[1],f=Object(r.j)();return Object(r.d)((function(){setTimeout((function(){f.current&&f.current.offsetHeight&&s.current&&l.current&&(f.current.offsetHeight+s.current.offsetHeight+l.current.offsetHeight>window.innerHeight?h(!1):h(!0))}),100)}),[f.current]),a?Object(o.h)(FN,{isMessageAbsolute:p,ref:f,hasValue:a,hasButton:a.button_label&&""!==a.button_label},Object(o.h)("div",{className:"group-content"},Object(o.h)("div",{className:"title-message"},a.message),a.button_label&&Object(o.h)(HN,{onClick:c,light:!0},a.button_label)),Object(o.h)(qN,{src:"//assets.glxplay.io/images/".concat(b.isMobile?"w400/".concat(a.background_img_mobile):"w700/".concat(a.background_img_web)),alt:""})):Object(o.h)(FN,{isMessageAbsolute:p,ref:f,hasValue:a},Object(o.h)(WN,{src:n?QT.a:i?eC.a:nC.a,alt:""}))};function rC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function cC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rC(Object(n),!0).forEach((function(t){sC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return uC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var dC=function(e){var t=Object(r.b)(Eo),i=Object(r.b)(Oc),a=Object(r.b)(F),c=Object(r.b)(Lc),l=Object(r.j)(),u=Object(r.j)(),d=lC(Object(r.k)(!0),2),p=d[0],h=d[1],f=Object(s.g)(),m=Object(Ve.useTracking)().trackEvent,g=lC(Object(r.k)({statusEdit:!1,infoProfile:null,isEdit:f.location.state&&f.location.state.isEdit}),2),y=g[0],v=g[1],O=lC(Object(r.k)({profile:null}),2),w=O[0],j=O[1],x=lC(Object(r.k)(!!localStorage.justRegistered),2),_=x[0],S=x[1],I=lC(Object(r.k)(null),2),N=I[0],T=I[1],C=lC(Object(r.k)(null),2),P=C[0],A=C[1],M=JSON.parse(localStorage.getItem("profile")),E=n(111),D=M&&M.profileId,L=lC(Object(r.k)(!0),2),R=L[0],U=L[1];Object(r.d)((function(){return e.theme("hideHeader"),H(),B(),function(){e.theme(!1)}}),[]);var V="",B=function(){z.getLobbyMessage((function(e,t){if(!e&&t&&t.data){t.data.code&&t.data.code>=5e3&&T(t.data.data),V=function(e){switch(e){case 5002:return"message_upgrade_package";case 5003:return"message_expiration_warning";case 5004:return"message_expired_package";case 5005:return"message_autorenew_failed";case 5006:return"message_payment_method_unlink";default:return""}}(t.data.code);var n=a.history.length;m({from_screen:a.history[n-1]||"",event_action:"view",direct_object_type:"notification",direct_object_id:V})}h(!1)}))},H=function(){z.getAccountViewer((function(e,t){!e&&t&&t.data&&j(cC(cC({},w),{},{profile:t.data}))}))},q=function(){v(cC(cC({},y),{},{statusEdit:!y.statusEdit,isEdit:!1}))},W=function e(n){document.getElementById("input-1")&&(document.getElementById("input-1").focus(),setTimeout((function(){document.getElementById("form-input-PIN").reset()}),0)),t.setNotification({status:!0,type:"PINProfile",typeUI:"inputProfile",submitPIN:J,forgotPIN:G,resetInput:!0,onCloseForgot:e,itemProfile:n})},K=function(e,n){"add"==n&&("true"==localStorage.profileKidMode?X("error","Bạn đang dùng kho phim trẻ em và không có quyền tạo kho phim mới"):(v(cC(cC({},y),{},{statusEdit:!0,isEdit:!0,infoProfile:null})),U(!1),ee("add_profile","user_profile","",""))),"edit"==n&&(e.is_pin_code_enforced?t.setNotification({status:!0,type:"PINProfile",typeUI:"editProfile",submitPIN:Q,forgotPIN:G,itemProfile:e,typeAction:"edit"}):"true"!=localStorage.profileKidMode||e.short_id===D||e.is_kid?Q(e):t.setNotification(cC(cC({},t.notification),{},{status:!0,type:"setPassProfile",backHome:!1,titleHead:"Nhập mật khẩu để chỉnh sửa kho phim",confirmPass:function(){return function(e,t){"edit"==t?Q(e):J(e)}(e,"edit")}})),ee("update_profile","user_profile",e.name,e.is_kid?"kid_mode":"non_kid_mode")),"submit"==n&&(m({on_screen:"lobby",from_screen:a.history.length>1&&a.history[a.history.length-2]||"",event_category:"account",event_action:"click",direct_object_type:"user_profile",direct_object_id:e.name,direct_object_property:e.is_kid?"kid_mode":"none_kid_mod",context_value:{profile_id:e.short_id,kid_mode:e.is_kid?1:0,lock_profile:e.is_pin_code_enforced?1:0}}),e.is_pin_code_enforced?t.setNotification({status:!0,type:"PINProfile",typeUI:"inputProfile",submitPIN:J,forgotPIN:G,itemProfile:e}):"true"!=localStorage.profileKidMode||e.short_id===D||e.is_kid?J(e):t.setNotification(cC(cC({},t.notification),{},{status:!0,type:"confirm",title:"Chuyển kho phim",description:"Kho phim người lớn có chứa những phim không phù hợp cho trẻ em. Vui lòng xác nhận bạn trên 13 tuổi để tiếp tục.",confirmed:function(){return J(e)}})))},G=function(e){t.setNotification(cC(cC({},t.notification),{},{status:!0,type:"setPassProfile",backHome:!1,titleHead:"Nhập mật khẩu để thay đổi mã PIN",confirmPass:Y,forgotPIN:"forgotPIN",onCloseForgot:W,getItemProfile:$,itemProfile:e}))},$=function(e){t.setNotification({status:!0,type:"PINProfile",typeUI:"setProfile",setPINAgain:"setPINAgain",onCloseForgot:W,submitPINAgain:Z,itemProfile:e})},X=function(e,n){t.setNotification(cC(cC({},t.notification),{},{status:!0,description:n,type:e}))},Y=function(){},Z=function(e,t){if(e&&t){e.pin_code=t||"";var n={shortId:e.short_id,model:e};z.editAccountViewer(n,(function(e,t){!e&&t&&X("success","Đã cập nhật mã PIN")}))}},Q=function(e){U(!1),v(cC(cC({},y),{},{isEdit:!0,infoProfile:cC(cC({},e),{},{isCurrentProfile:D==e.short_id})}))},J=function(e){if(e){var t={profileId:e.short_id,profileName:e.name,isKid:e.is_kid},n=E.generate(e.short_id);n&&localStorage.setItem("__pfid",n.substr(5)),localStorage.setItem("profile",JSON.stringify(t)),localStorage.setItem("profileKidMode",!!e.is_kid),c.getDataMyList(),localStorage.getItem("titleLandingPage")?(f.push({pathname:localStorage.getItem("titleLandingPage"),state:{idProfile:e.short_id}}),localStorage.removeItem("titleLandingPage")):f.location.state&&f.location.state.rent&&!e.is_kid?f.push(f.location.state.rent):f.push({pathname:"/browse",state:{idProfile:e.short_id}})}},ee=function(e,t,n,i){m({on_screen:"lobby",from_screen:a.history.length>1&&a.history[a.history.length-2]||"",event_category:"account",event_action:"click",direct_object_type:"button",direct_object_id:e,indirect_object_type:t,indirect_object_id:n,indirect_object_property:i})};return _?Object(o.h)(YT,{setTutorial:S}):Object(o.h)(KN,{background:GT.a},Object(o.h)(BN,{hasMessage:N},Object(o.h)((function(){return Object(o.h)(GN,{statusEdit:y.statusEdit,ref:u},Object(o.h)($N,null,Object(o.h)("img",{src:ne.a})))}),null),Object(o.h)(zN,{messageImage:N,isEdit:y.statusEdit&&y.isEdit},y.statusEdit&&y.isEdit?Object(o.h)(vT,{getDataProfile:H,setHideBtn:U,editProfile:q,infoProfile:y.infoProfile,lengthProfile:w.profile&&w.profile.length,modelProfile:w.profile,hideBtnBack:function(e){A(e)}}):w.profile&&Object(o.h)(o.b,null,Object(o.h)(UN,{ref:l},Object(o.h)(RN,null,"Kho phim của bạn"),Object(o.h)(VN,{id:"item-profile",statusEdit:y.statusEdit},w.profile.map((function(e,t){return Object(o.h)("div",{key:t,onClick:function(){return K(e,y.statusEdit?"edit":"submit")},className:D!=e.short_id||y.statusEdit?"item":"item focus-item"},Object(o.h)("div",{className:"group-icon"},y.statusEdit&&Object(o.h)("img",{className:"icon-edit",src:X_.a,alt:""}),Object(o.h)("img",{onError:function(e){return e.target.removeAttribute("src")},className:"icon-profile",src:e.avatar_image_url,alt:""})),Object(o.h)("p",{className:"name"},k.checkLenghtSTrings(e.name,b.isMobile?8:12)),Object(o.h)(XN,null,e.is_pin_code_enforced&&Object(o.h)("img",{src:Ax.a,alt:""}),e.is_kid&&Object(o.h)("img",{src:Ex.a,alt:""})))})),!y.statusEdit&&w.profile&&w.profile.length<5&&Object(o.h)("div",{className:"item"},Object(o.h)("div",{className:"group-icon border",onClick:function(){return K(null,"add")}},Object(o.h)("img",{width:"32",className:"add-icon",src:hT.a,alt:""})),Object(o.h)("p",{className:"name"},"Thêm mới"))),R?Object(o.h)(HN,{onClick:q},y.statusEdit?"Hoàn tất":"Chỉnh sửa"):b.isMobile&&!P&&Object(o.h)(HN,{onClick:function(){q(),U(!0),H()},content:"Huỷ"},"Huỷ")))),!p&&(!y.statusEdit||!y.isEdit)&&Object(o.h)(oC,{wrapperProfile:l,header:u,trackingClickLobbyMessage:function(){m({event_action:"click",direct_object_type:"notification",direct_object_id:V,from_screen:a.history.length>1&&a.history[a.history.length-2]||""}),i.updateHasPackage(null,null,(function(e){e.hasPremium?(X("success","Gói của bạn đã thanh toán thành công trên thiết bị khác."),T(null)):f.push("/subs/plan")}))},value:N})))};function pC(){var e=Object(s.h)().pathname;return Object(r.d)((function(){e.includes("/account/info/")||window.scrollTo(0,0)}),[e]),null}var hC=function(e){Object(s.g)();var t=Object(r.b)(Eo),n=Object(r.b)(Oc),i=function(e,i,a){if(e&&i){var o={type:i,token:e};z.loginWithPartner(o,(function(e,i){if(i&&!e){var o=i.headers["x-fim-atoken"];window.localStorage.__glxp_token=o,i.headers["x-fim-rtoken"]&&(window.localStorage.__glxp_r_token=i.headers["x-fim-rtoken"]);var r=new Date;r.setTime(r.getTime()+2592e6);var c="expires="+r.toUTCString();document.cookie="__glxp_token=".concat(o,"; ").concat(c,"; path=/"),"true"===window.sessionStorage.getItem("isLogout")&&window.sessionStorage.setItem("sessionId",k.generateSessionId()),n.setLogin(!0,"login-partner"),z.getMessagePartner(a,(function(e,n){!e&&n&&t.setNotification({status:!0,type:"partner-ship",message:n.data.data})}))}else t.setNotification({status:!0,description:"Đăng nhập thất bại",type:"error"}),setTimeout((function(){window.location.assign(window.location.origin)}),1e3)}))}};return Object(r.d)((function(){!function(){var e=new URLSearchParams(window.location.search),t=e.get("token"),n=e.get("partner"),a=e.get("messageId");n?i(t,n,a):window.location.assign(window.location.origin)}(),e.theme(void 0),window.scrollTo(0,0)}),[]),Object(o.h)("div",null)};function fC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var bC=function(e){var t=fC(Object(r.k)([]),2),n=t[0],i=t[1],a=e.page;return Object(r.d)((function(){var t;a.current!==e.index||e.isStop||(t={size:20,page:e.index-1,output:"med_info"},z.getSearchPath(e.search,t,(function(t,n){if(!t)if(n.data&&n.data.docs&&n.data.docs.length>0){if(b.isMobile)i(n.data.docs);else{var o=_.chunk(n.data.docs,5);if(o&&o.length>0&&n.data.docs.length%5!=0){var r=o[o.length-1];e.setDataResidual(r),o.splice(o.length-1,1)}i(o)}e.setPage({total:a.total+1,current:a.current+1})}else e.setStop(!0)})))}),[e.page]),e.page.total>1&&n.length>0&&n.map((function(t,n){return Object(o.h)(qu.a,{key:t.slug,offset:300,placeholder:!b.isMobile&&Object(o.h)(Ed,null),once:!0},b.isMobile?Object(o.h)("div",{className:"card"},Object(o.h)("div",{className:"card-body"},Object(o.h)("img",{className:"card-img",src:"//assets.glxplay.io/images/w400/".concat(t.image.posterLandscape)}),e.renderTagPoster(t),Object(o.h)("div",{className:"link-redirect"},Object(o.h)(c.b,{to:"/title/"+t.slug,onClick:e.trackingMovie(t)})))):Object(o.h)(cu,{data:t,slug:"search",index:n,ribbonType:"Search",displayNameVi:"search"}))}))},gC=Pe.a.div.withConfig({displayName:"style__DownloadApp",componentId:"sc-2y0gtr-0"})(["position:fixed;bottom:20px;left:50%;transform:translateX(-50%);width:92%;border-radius:50px;padding:1rem 0;background:#0077c8;text-align:center;cursor:pointer;color:#fff;z-index:999;"]);n(953);function yC(e){return function(e){if(Array.isArray(e))return wC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||OC(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||OC(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OC(e,t){if(e){if("string"==typeof e)return wC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wC(e,t):void 0}}function wC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var jC=function(e){var t,n=vC(Object(r.k)(null),2),i=n[0],a=n[1],l=vC(Object(r.k)({data:null}),2),u=l[0],d=l[1],p=vC(Object(r.k)({listItem:[],listRibbon:[]}),2),h=p[0],f=p[1],g=vC(Object(r.k)({total:2,current:2}),2),y=g[0],v=g[1],O=vC(Object(r.k)({title:"",slug:"",data:[]}),2),w=O[0],j=O[1],x=Object(r.b)(F),k=Object(s.h)(),_=xs(),S=Object(r.j)(k.search),I=vC(Object(r.k)(-1),2),N=I[0],T=I[1],C=vC(Object(r.k)(null),2),P=C[0],A=C[1],E=vC(Object(r.k)(null),2),D=E[0],L=E[1],R=Object(Ve.useTracking)().trackEvent,U=vC(Object(r.k)(!0),2),V=U[0],B=U[1],H=vC(Object(r.k)(null),2),q=H[0],W=H[1],K=vC(Object(r.k)(!0),2),G=K[0],$=K[1],X=function(e){z.getSearchPath(e,{size:20,page:0,output:"med_info"},(function(e,t){if(!e){var n,i;if(t.data.docs.length>0){if((n=m.a.chunk(t.data.docs,5))&&n.length>1&&t.data.docs.length%5!=0){var a=n[n.length-1];f({listItem:a,listRibbon:[a]}),n.splice(n.length-1,1)}$(!1)}t.data.recDocs&&t.data.recDocs.length>0?(i=m.a.chunk(t.data.recDocs,5),A(t.data.recMessage)):A(null),b.isMobile?(d({data:t.data.docs}),L(t.data.recDocs&&t.data.recDocs)):(d({data:n}),L(i)),v({current:2,total:2});var o=t.data.message;(o=o.replace('"','<b>"')).includes('"')&&(o=o.replace(/.$/,'"</b>')),setMessage(o)}B(!1)}))},Y=function(e){z.getRibbon(e,{output:"med_info",size:10},(function(t,n){if(!t){var i=n&&n.data&&n.data.docs&&n.data.docs.slice(0,5);j({title:n.data.ribbonName,data:i,slug:e})}}))},Z=b.isIOS?"https://apps.apple.com/vn/app/fim/id1064825671?l=vi":"https://play.google.com/store/apps/details?id=vn.fimplus.app.and&hl=en",Q=function(e){var t={movie_type:e.type,price_type:e.priceType};return e.comingSoon&&(t.comingSoon={message:e.comingSoon.message,hasSource:!!e.comingSoon.hasSource}),t},J=function(e){return function(){R({from_screen:x.lastpage||"",context_value:Q(e),direct_object_type:"film",direct_object_property:e.alternateName,direct_object_id:e._id,event_action:"click",indirect_object_type:"ribbon",indirect_object_id:"search",indirect_object_property:"search"})}},ee=function(e,t){return function(){T(t),v({total:0,current:0}),W(null),B(!0);e.display;var n=e.payload,i=e.ribbon;S.current=n,X(n),Y(i)}};Object(r.d)((function(){W(null),B(!0),T(-1),k.search,z.getInitSuggestSearch((function(e,t){var n=t.data.terms,i=n.findIndex((function(e){return e.payload===k.search}));i>-1&&Y(n[i].ribbon),a(n),T(i)})),X(k.search),S.current=k.search,window.scrollTo(0,0)}),[k.search]),Object(r.d)((function(){i&&i.length>0&&document.querySelector(".suggest-item .suggest.active").scrollIntoView({block:"end",inline:"center"})}),[i]),Object(r.d)((function(){y.total>1&&function(){var e,t=[];for(e=2;e<=y.total;e++)t.push(e);W(t)}()}),[y.total,k.search]);var te=function(e){var t=[].concat(yC(h.listItem),yC(e)),n=m.a.chunk(t,5);f({listItem:t,listRibbon:n})},ne=function(t){var n=M(t.posterTag,_);if(n){var i=n.posterTagTop,a=n.posterTagBottom;return Object(o.h)(o.b,null,i.map((function(e){return Object(o.h)(ll,{key:e.type,src:e.image})})),Object(o.h)(cl,null,a.map((function(t){if("tvod_paid"!==t.type||!("Rentals"===e.typeRibbon||"movie_rental"===x.lastpage||localStorage.lastpage.indexOf("tvod-rental")>=0))return Object(o.h)(sl,{key:t.type,src:t.image})}))))}};return window.localStorage.profileKidMode&&"true"==window.localStorage.profileKidMode?Object(o.h)(s.a,{to:"/browse"}):Object(o.h)("div",{className:"search-genre"},i&&i.length>0&&Object(o.h)("div",{className:"search-suggest"},Object(o.h)("div",{className:"list-suggest"},i.map((function(e,t){return Object(o.h)("div",{className:"suggest-item"},Object(o.h)("div",{className:N===t?"suggest active":"suggest",onClick:ee(e,t),s:!0},Object(o.h)("img",{className:"suggest-image",src:e.image}),Object(o.h)("div",{className:"suggest-title"},e.display)))})))),Object(o.h)("div",{className:"search-result"},w.data.length>0&&Object(o.h)("div",{className:"title-result"},w.title),w.data.length>0&&Object(o.h)(cu,{data:w.data,slug:w.slug,index:0,ribbonType:"TopTen",displayNameVi:w.title}),Object(o.h)("div",{className:"title-result"},"Có thể bạn quan tâm"),!V&&u.data?b.isMobile?Object(o.h)($d,null,u&&u.data?Object(o.h)("div",{className:"row-mobile"},u.data.map((function(e,t){return Object(o.h)(qu.a,{key:e.slug,offset:100,once:!0},Object(o.h)("div",{className:"card"},Object(o.h)("div",{className:"card-body"},Object(o.h)("img",{className:"card-img",src:"//assets.glxplay.io/images/w400/".concat(e.image.posterLandscape)}),ne(e),Object(o.h)("div",{className:"link-redirect"},Object(o.h)(c.b,{to:"/title/"+e.slug,onClick:J(e)})))))})),y.total>1&&q&&q.length>0?q.map((function(e,t){return Object(o.h)(qu.a,{scrollContainer:document.querySelector(".search-page"),key:t+"search-result",offset:100,once:!0},Object(o.h)(bC,{key:t,index:e,search:S.current,page:y,setPage:v,isStop:G,setStop:$,trackingMovie:J,setDataResidual:te,renderTagPoster:ne}))})):""):Object(o.h)("div",null)):Object(o.h)("div",null,u.data.map((function(e,t){return Object(o.h)(qu.a,{key:t+"search-result",offset:100,placeholder:Object(o.h)(tp,null),once:!0},Object(o.h)(cu,{data:e,slug:"search",index:t,ribbonType:"Search",displayNameVi:"search"}))})),y.total>1&&q&&q.length>0?q.map((function(e,t){return Object(o.h)(qu.a,{scrollContainer:document.querySelector(".search-page"),key:t+"search-result-lazy",offset:100,placeholder:Object(o.h)(tp,null),once:!0},Object(o.h)(bC,{key:t,index:e,search:S.current,page:y,setPage:v,isStop:G,setStop:$,displayNameVi:"search",setDataResidual:te,renderTagPoster:ne}))})):"",(null==h||null===(t=h.listRibbon)||void 0===t?void 0:t.length)>0&&h.listRibbon.map((function(e,t){return Object(o.h)(qu.a,{key:t+"search-result",offset:100,placeholder:Object(o.h)(tp,null),once:!0},Object(o.h)(cu,{data:e,slug:"search",index:t,ribbonType:"Search",displayNameVi:"search"}))}))):b.isMobile?Object(o.h)("div",{className:"not-founded-mobile"},!V&&Object(o.h)(kS,null)):Object(o.h)("div",{className:"not-founded"},!V&&Object(o.h)(jS,null))),P&&Object(o.h)("div",{className:"rec-message"},P),!V&&D?b.isMobile?Object(o.h)($d,null,D.map((function(e,t){return Object(o.h)("div",{className:"card",key:e.slug},Object(o.h)("div",{className:"card-body"},Object(o.h)("img",{className:"card-img",src:"//assets.glxplay.io/images/w400/".concat(e.image.posterLandscape)}),ne(e),Object(o.h)("div",{className:"link-redirect"},Object(o.h)(c.b,{to:"/title/"+e.slug,onClick:J(e)}))))}))):D.map((function(e,t){return Object(o.h)(qu.a,{key:t+"rec-message",offset:100,placeholder:Object(o.h)(tp,null),once:!0},Object(o.h)(cu,{data:e,slug:"search",index:t,ribbonType:"Search"}))})):Object(o.h)("div",null),b.isMobile&&Object(o.h)("a",{href:Z},Object(o.h)(gC,null,"Tải ứng dụng để xem phim")))},xC=function(e){return document.body.removeAttribute("style"),window.scrollTo(0,0),Object(o.h)(Rc,null,Object(o.h)("div",{id:"search-page"},Object(o.h)(jC,null)))},kC=n(444),_C=n.n(kC),SC=n(445),IC=n.n(SC),NC=function(e){return e/16+"rem"},TC=Pe.a.div.withConfig({displayName:"style__Onboarding",componentId:"sc-16c3pox-0"})(["min-height:100vh;display:flex;justify-content:center;align-items:center;position:relative;background:url('https://assets.glxplay.io/web/images/bg-onboarding.jpg') center center no-repeat;background-size:cover;background-attachment:fixed;color:#fff;flex-direction:column;*{box-sizing:border-box;}@media (max-height:550px){min-height:550px;}@media (max-width:576px){justify-content:flex-start;}.fadeInUp{width:100%;}input:-webkit-autofill,input:-webkit-autofill:hover,input:-webkit-autofill:focus{-webkit-text-fill-color:#fff;-webkit-box-shadow:none;transition:background-color 50000s ease-in-out 0s;}"]),CC=Pe.a.img.withConfig({displayName:"style__Logo",componentId:"sc-16c3pox-1"})(["width:",";@media (max-width:576px){width:",";}"],NC(84),NC(100)),PC=Pe.a.div.withConfig({displayName:"style__Header",componentId:"sc-16c3pox-2"})(["position:fixed;top:0;left:0;width:100%;backdrop-filter:blur(4px);background-color:rgba(16,16,16,0.4);padding:"," 6%;@media (max-width:576px){position:relative;display:flex;justify-content:center;align-items:center;background-color:#0b0b0b;height:",";padding:0;}"],NC(20),NC(65)),AC=Pe.a.div.withConfig({displayName:"style__Container",componentId:"sc-16c3pox-3"})(["width:629px;margin:0 auto;max-width:100%;display:flex;flex-direction:column;align-items:center;text-align:center;padding-bottom:10rem;@media (max-width:576px){width:100%;padding:8rem 1rem;a.action{margin-top:",";}}"],NC(20)),MC=Pe.a.div.withConfig({displayName:"style__Footer",componentId:"sc-16c3pox-4"})(["border-top:1px solid rgba(0,0,0,0.12);display:flex;justify-content:center;width:100%;position:absolute;bottom:0;left:0;padding:"," 0;flex-wrap:wrap;@media (max-width:576px){padding:"," 0;}a{margin:0 ",";color:#a9aaad;transition-duration:300ms;font-size:",";text-decoration:none;&:hover{color:#fff;}@media (max-width:576px){font-size:",";margin:0 ",";}}"],NC(32),NC(28),NC(10),16,12,NC(16)),EC=Pe.a.img.withConfig({displayName:"style__IconStatus",componentId:"sc-16c3pox-5"})(["width:",";margin:0 auto ",";@media (max-width:576px){margin:0 auto ",";width:",";}"],NC(64),NC(32),NC(28),NC(40)),DC=Pe.a.div.withConfig({displayName:"style__Title",componentId:"sc-16c3pox-6"})(["font-size:",";font-weight:bold;color:#d3e4fe;@media (max-width:576px){font-size:",";}"],NC(24),NC(18)),LC=Pe.a.div.withConfig({displayName:"style__Description",componentId:"sc-16c3pox-7"})(["margin-top:",";font-size:",";@media (max-width:576px){font-size:",";}"],NC(8),NC(18),NC(16)),RC=Pe.a.div.withConfig({displayName:"style__Button",componentId:"sc-16c3pox-8"})(["width:",";height:",";display:flex;align-items:center;justify-content:center;border-radius:50px;font-weight:bold;color:#1d1d1d;cursor:pointer;margin-top:",";background:#ffffff;font-size:",";@media (max-width:576px){width:",";height:",";font-size:",";}"],NC(306),NC(56),NC(32),NC(18),NC(240),NC(48),NC(16)),zC=Pe.a.a.withConfig({displayName:"style__LinkAction",componentId:"sc-16c3pox-9"})(["text-decoration:none;margin-top:",";font-size:",";color:#a9aaad;transition:0.3s ease;font-size:",";&:hover{color:#fff;}@media (max-width:576px){font-size:",";}"],NC(22),NC(16),NC(18),NC(16)),UC=function(e){var t=new URLSearchParams(window.location.search).get("status"),n=!1;return!t||"true"!==t&&"verified"!==t||(n=!0),Object(r.d)((function(){e.theme("hideHeader")}),[]),Object(o.h)(TC,null,Object(o.h)(PC,null,Object(o.h)("a",{href:"/"},Object(o.h)(CC,{src:"//assets.glxplay.io/web/images/logoglx.svg"}))),Object(o.h)(AC,null,n?Object(o.h)(o.b,null,Object(o.h)(EC,{src:_C.a}),Object(o.h)(DC,null,"Bạn đã xác thực Email thành công!"),e.isLogin?Object(o.h)(c.b,{to:"/lobby",className:"link"},Object(o.h)(RC,null,"Tiếp tục")):Object(o.h)(o.b,null,Object(o.h)(LC,null,"Vui lòng đăng nhập để tiếp tục trải nghiệm Galaxy Play."),Object(o.h)(c.b,{className:"link",to:"/auth"},Object(o.h)(RC,null,"Đăng nhập")),Object(o.h)(zC,{href:"/"},"Quay về Trang chủ"))):Object(o.h)(o.b,null,Object(o.h)(EC,{src:IC.a}),Object(o.h)(DC,null,"Email xác thực của bạn đã hết hạn."),Object(o.h)(LC,null,"Vui lòng gửi lại email xác thực mới để hoàn thành việc xác thực."),Object(o.h)(c.b,{className:"link",to:e.isLogin?"/account":"/auth"},Object(o.h)(RC,null,"Tiếp tục")))),Object(o.h)(MC,null,[{slug:"/help",name:"Hỗ trợ"},{slug:"/about-us/chinh-sach-bao-mat",name:"Chính sách bảo mật"}].map((function(e){return Object(o.h)("a",{href:e.slug},e.name)}))))};function VC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function BC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VC(Object(n),!0).forEach((function(t){HC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function HC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}window.$=window.jQuery=a.a;var WC=Be()({},{dispatch:function(e){var t=BC(BC({},S()),e);if(window.location.pathname.includes("/auth")){var n=BC({},t.context_value);n.new_lp=window.localStorage.newPage&&"1"===window.localStorage.newPage?1:0,t.context_value=n,!localStorage.unLoginPage||t.from_screen&&""===t.from_screen||(t.from_screen=window.localStorage.unLoginPage)}else localStorage.unLoginPage&&localStorage.removeItem("unLoginPage");window.dataLayer=window.dataLayer||[],window.dataLayer.push(t),z.trackingDataEvent(t,(function(e,t){}))}})((function(e){var t=FC(Object(r.k)({statusTheme:!1}),2),n=t[0],i=t[1],a=(JSON.parse(localStorage.getItem("profile")),function(e){i(BC(BC({},n),{},{statusTheme:e}))});return Object(r.d)((function(){localStorage.setItem("eventDebug",0);var e,t=new URLSearchParams(window.location.search);!function(e,t,n,i,a){sessionStorage.getItem("mktSource")||sessionStorage.getItem("mktCampaign")||sessionStorage.getItem("mktMedium")||sessionStorage.getItem("mktTerm")||sessionStorage.getItem("mktContent")||(sessionStorage.setItem("mktSource",e||""),sessionStorage.setItem("mktCampaign",t||""),sessionStorage.setItem("mktMedium",n||""),sessionStorage.setItem("mktTerm",i||""),sessionStorage.setItem("mktContent",a||""))}(t.get("source")?t.get("source"):"",t.get("campaign")?t.get("campaign"):"",t.get("medium")?t.get("medium"):"",t.get("term")?t.get("term"):"",t.get("content")?t.get("content"):""),function(e){e&&sessionStorage.setItem("isPartner",e)}(t.get("partner")?t.get("partner"):""),window.addEventListener("scroll",(function(){clearTimeout(e);var t=document.getElementById("home");t&&(t.setAttribute("class","disabled"),e=setTimeout((function(){t.removeAttribute("class")}),500))}))}),[]),Object(o.h)("div",{id:"main-app"},Object(o.h)(W,null,Object(o.h)(c.a,null,Object(o.h)(Do,null,Object(o.h)(Tr,null,Object(o.h)(jc,null,Object(o.h)(Rc,null,Object(o.h)(Qc,null,Object(o.h)(pC,null),!location.pathname.includes("lobby")&&Object(o.h)(bS,{theme:n.statusTheme}),Object(o.h)(Oc.Consumer,null,(function(e){return Object(o.h)(s.d,null,Object(o.h)(_y,{category:"browse",name:"home",path:"/browse"},Object(o.h)(Cp,{theme:a})),Object(o.h)(_y,{category:"browse",name:"search",path:"/search/genre",exact:!0},Object(o.h)(xC,null)),Object(o.h)(_y,{category:"browse",name:"search",path:"/search",exact:!0},Object(o.h)(CS,null)),e.isLogin?Object(o.h)(_y,{category:"browse",name:"watch_trailer",path:"/title/:slug/watch/trailer/:index",exact:!0,track:!0},Object(o.h)(Fy,{theme:a})):Object(o.h)(Tp,{category:"browse",name:"watch_trailer",path:"/title/:slug/watch/trailer/:index",exact:!0,track:!0},Object(o.h)(Fy,{theme:a})),Object(o.h)(_y,{category:"browse",name:"movie_detail",path:"/title/:slug",exact:!0,track:!0},Object(o.h)(Vv,{theme:a})),Object(o.h)(_y,{category:"watch",name:"watch",path:"/watch/:slug",exact:!0,track:!0},Object(o.h)(Vy,{theme:a})),Object(o.h)(Tp,{category:"browse",name:"browse",path:"/",exact:!0},Object(o.h)(s.a,{to:"/browse",theme:a})),Object(o.h)(_y,{category:"account",name:"account",path:"/account",track:!0},Object(o.h)(My,{theme:a})),Object(o.h)(_y,{category:"payment",name:"choose_method",path:"/rent/:titleId/pay/:method",track:!0},Object(o.h)(ej,{theme:a})),Object(o.h)(_y,{category:"payment",name:"choose_method",path:"/rent/:titleId/pay",track:!0},Object(o.h)(ej,{theme:a})),Object(o.h)(_y,{category:"payment",name:"rent",path:"/rent/confirm"},Object(o.h)(Ix,{theme:a})),Object(o.h)(Tp,{category:"account",name:"rent",path:"/rent/:slug",track:!0},Object(o.h)(DN,{type:"rent",theme:a})),Object(o.h)(Tp,{path:"/auth",name:"login",category:"account"},Object(o.h)(DN,{type:"subs",theme:a})),Object(o.h)(c.a,{path:"/partnership/home",name:""},Object(o.h)(hC,{theme:a})),Object(o.h)(_y,{category:"payment",name:"choose_package",path:"/subs/pay/:method/:planId",track:!0},Object(o.h)(Iw,{theme:a})),Object(o.h)(_y,{category:"payment",name:"choose_package",path:"/subs/pay",track:!0},Object(o.h)(Iw,{theme:a})),Object(o.h)(_y,{category:"payment",name:"redeem",path:"/subs/redeem"},Object(o.h)(lx,{theme:a})),e.isLogin?Object(o.h)(_y,{category:"account",name:"confirm_email",path:"/emailConfirm",track:!0},Object(o.h)(UC,{isLogin:e.isLogin,theme:a})):Object(o.h)(Tp,{category:"account",name:"confirm_email",path:"/emailConfirm",track:!0},Object(o.h)(UC,{isLogin:e.isLogin,theme:a})),e.isLogin?Object(o.h)(_y,{category:"payment",name:"choose_package",path:"/subs/plan/mobile",track:!0},Object(o.h)(tx,{isLogin:e.isLogin,type:"mobile",theme:a})):Object(o.h)(Tp,{category:"payment",name:"choose_package",path:"/subs/plan/mobile",track:!0},Object(o.h)(tx,{isLogin:e.isLogin,type:"mobile",theme:a})),e.isLogin?Object(o.h)(_y,{category:"payment",name:"choose_package",path:"/subs/plan/premium",track:!0},Object(o.h)(tx,{theme:a,type:"premium",isLogin:e.isLogin})):Object(o.h)(Tp,{category:"payment",name:"choose_package",path:"/subs/plan/premium",track:!0},Object(o.h)(tx,{theme:a,type:"premium",isLogin:e.isLogin})),Object(o.h)(_y,{category:"payment",name:"choose_package",path:"/subs/plan",track:!0},Object(o.h)(tx,{isLogin:e.isLogin,theme:a})),Object(o.h)(_y,{category:"account",name:"lobby",path:"/lobby",track:!0},Object(o.h)(dC,{isLogin:e.isLogin,theme:a})),Object(o.h)(_y,{category:"payment",name:"payment_confirm",path:"/subs/confirm",track:!0},Object(o.h)(YS,{theme:a})),Object(o.h)(s.b,{path:"*"},Object(o.h)(Sp,null)))})),!location.pathname.includes("lobby")&&Object(o.h)(qS,{theme:n.statusTheme})))))))))}));Object(o.k)(Object(o.h)(WC,null),document.body)}});